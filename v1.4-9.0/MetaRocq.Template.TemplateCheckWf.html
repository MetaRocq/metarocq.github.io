<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./index.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaRocq.Template.TemplateCheckWf</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">List</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Common</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Common.config.html#"><span class="id" title="library">config</span></a> <a class="idref" href="MetaRocq.Common.Transform.html#"><span class="id" title="library">Transform</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Template</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Template.TemplateProgram.html#"><span class="id" title="library">TemplateProgram</span></a> <a class="idref" href="MetaRocq.Template.Pretty.html#"><span class="id" title="library">Pretty</span></a> <a class="idref" href="MetaRocq.Template.EtaExpand.html#"><span class="id" title="library">EtaExpand</span></a> <a class="idref" href="MetaRocq.Template.All.html#"><span class="id" title="library">All</span></a> <a class="idref" href="MetaRocq.Template.Loader.html#"><span class="id" title="library">Loader</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="module">ListNotations</span>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#MRMonadNotation"><span class="id" title="module">MRMonadNotation</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Utils.bytestring.html#"><span class="id" title="module">bytestring</span></a>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">bs_scope</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <a class="idref" href="MetaRocq.Common.config.html#default_checker_flags"><span class="id" title="instance">config.default_checker_flags</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="eta_expand" class="idref" href="#eta_expand"><span class="id" title="definition">eta_expand</span></a> <a id="p:1" class="idref" href="#p:1"><span class="id" title="binder">p</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.EtaExpand.html#eta_expand_program"><span class="id" title="definition">EtaExpand.eta_expand_program</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#p:1"><span class="id" title="variable">p</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="check_def" class="idref" href="#check_def"><span class="id" title="definition">check_def</span></a> (<a id="d:2" class="idref" href="#d:2"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_decl"><span class="id" title="inductive">global_decl</span></a>) : <a class="idref" href="MetaRocq.Template.TemplateMonad.Core.html#TemplateMonad"><span class="id" title="inductive">TemplateMonad</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#d:2"><span class="id" title="variable">d</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Template.Ast.html#Env.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">cb</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">cb</span>.(<a class="idref" href="MetaRocq.Template.Ast.html#Env.cst_body"><span class="id" title="projection">cst_body</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">body</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.TemplateMonad.Core.html#tmMsg"><span class="id" title="constructor">tmMsg</span></a> ("Unquoting eta-expanded " <a class="idref" href="MetaRocq.Utils.bytestring.html#da3fc5e689cedcb9491dd6dad17e0422"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#string_of_kername"><span class="id" title="definition">string_of_kername</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#d:2"><span class="id" title="variable">d</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>)%<span class="id" title="var">bs</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#3d31a9d36591ef0fb917aef4149126dc"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.TemplateMonad.Core.html#tmUnquote"><span class="id" title="constructor">tmUnquote</span></a> <span class="id" title="var">body</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#3d31a9d36591ef0fb917aef4149126dc"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.TemplateMonad.Core.html#tmMsg"><span class="id" title="constructor">tmMsg</span></a> ("Succeeded")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Template.Ast.html#Env.InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">idecl</span> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_nil" class="idref" href="#is_nil"><span class="id" title="definition">is_nil</span></a> {<a id="A:3" class="idref" href="#A:3"><span class="id" title="binder">A</span></a>} (<a id="l:4" class="idref" href="#l:4"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#A:3"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#l:4"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="notation">[]</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="wfterm" class="idref" href="#wfterm"><span class="id" title="definition">wfterm</span></a> (<a id="t:6" class="idref" href="#t:6"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#t:6"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Template.Ast.html#tRel"><span class="id" title="constructor">tRel</span></a> <span class="id" title="var">i</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Template.Ast.html#tEvar"><span class="id" title="constructor">tEvar</span></a> <span class="id" title="var">ev</span> <span class="id" title="var">args</span> ⇒ <span class="id" title="definition">List.forallb</span> (<a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wfterm:7"><span class="id" title="definition">wfterm</span></a>) <span class="id" title="var">args</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Template.Ast.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">_</span> <span class="id" title="var">T</span> <span class="id" title="var">M</span> | <a class="idref" href="MetaRocq.Template.Ast.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">_</span> <span class="id" title="var">T</span> <span class="id" title="var">M</span> ⇒ <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wfterm:7"><span class="id" title="definition">wfterm</span></a> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wfterm:7"><span class="id" title="definition">wfterm</span></a> <span class="id" title="var">M</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Template.Ast.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">u</span> <span class="id" title="var">v</span> ⇒ <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wfterm:7"><span class="id" title="definition">wfterm</span></a> <span class="id" title="var">u</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="definition">List.forallb</span> (<a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wfterm:7"><span class="id" title="definition">wfterm</span></a>) <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#isApp"><span class="id" title="definition">isApp</span></a> <span class="id" title="var">u</span>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#is_nil"><span class="id" title="definition">is_nil</span></a> <span class="id" title="var">v</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Template.Ast.html#tCast"><span class="id" title="constructor">tCast</span></a> <span class="id" title="var">c</span> <span class="id" title="var">kind</span> <span class="id" title="var">t</span> ⇒ <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wfterm:7"><span class="id" title="definition">wfterm</span></a> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wfterm:7"><span class="id" title="definition">wfterm</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#t:6"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Template.Ast.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <span class="id" title="var">t</span> <span class="id" title="var">b'</span> ⇒ <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wfterm:7"><span class="id" title="definition">wfterm</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wfterm:7"><span class="id" title="definition">wfterm</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#t:6"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wfterm:7"><span class="id" title="definition">wfterm</span></a> <span class="id" title="var">b'</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Template.Ast.html#tCase"><span class="id" title="constructor">tCase</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">p</span> <span class="id" title="var">c</span> <span class="id" title="var">brs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':9" class="idref" href="#p':9"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaRocq.Template.Ast.html#test_predicate"><span class="id" title="definition">test_predicate</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wfterm:7"><span class="id" title="definition">wfterm</span></a>) (<a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wfterm:7"><span class="id" title="definition">wfterm</span></a>) <span class="id" title="var">p</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="brs':10" class="idref" href="#brs':10"><span class="id" title="binder">brs'</span></a> := <span class="id" title="definition">forallb</span> (<a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wfterm:7"><span class="id" title="definition">wfterm</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#bbody"><span class="id" title="projection">bbody</span></a>) <span class="id" title="var">brs</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#p':9"><span class="id" title="variable">p'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wfterm:7"><span class="id" title="definition">wfterm</span></a> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#brs':10"><span class="id" title="variable">brs'</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Template.Ast.html#tProj"><span class="id" title="constructor">tProj</span></a> <span class="id" title="var">p</span> <span class="id" title="var">c</span> ⇒ <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wfterm:7"><span class="id" title="definition">wfterm</span></a> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Template.Ast.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">List.forallb</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wfterm:7"><span class="id" title="definition">wfterm</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wfterm:7"><span class="id" title="definition">wfterm</span></a>) <span class="id" title="var">mfix</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Template.Ast.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">List.forallb</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wfterm:7"><span class="id" title="definition">wfterm</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wfterm:7"><span class="id" title="definition">wfterm</span></a>) <span class="id" title="var">mfix</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">ssrbool</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="wf_global_decl" class="idref" href="#wf_global_decl"><span class="id" title="definition">wf_global_decl</span></a> <a id="d:11" class="idref" href="#d:11"><span class="id" title="binder">d</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#d:11"><span class="id" title="variable">d</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Template.Ast.html#Env.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">cb</span> ⇒ <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wfterm"><span class="id" title="definition">wfterm</span></a> <span class="id" title="var">cb</span>.(<a class="idref" href="MetaRocq.Template.Ast.html#Env.cst_type"><span class="id" title="projection">cst_type</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Utils.MROption.html#option_default"><span class="id" title="definition">option_default</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wfterm"><span class="id" title="definition">wfterm</span></a> <span class="id" title="var">cb</span>.(<a class="idref" href="MetaRocq.Template.Ast.html#Env.cst_body"><span class="id" title="projection">cst_body</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Template.Ast.html#Env.InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">idecl</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Definition</span> <a id="wf_global_declarations" class="idref" href="#wf_global_declarations"><span class="id" title="definition">wf_global_declarations</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_declarations"><span class="id" title="definition">global_declarations</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> := <span class="id" title="definition">forallb</span> (<a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wf_global_decl"><span class="id" title="definition">wf_global_decl</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="wf_global_env" class="idref" href="#wf_global_env"><span class="id" title="definition">wf_global_env</span></a> (<a id="g:13" class="idref" href="#g:13"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env"><span class="id" title="record">global_env</span></a>) := <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wf_global_declarations"><span class="id" title="definition">wf_global_declarations</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#g:13"><span class="id" title="variable">g</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#Env.declarations"><span class="id" title="projection">declarations</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="wf_program" class="idref" href="#wf_program"><span class="id" title="definition">wf_program</span></a> <a id="p:14" class="idref" href="#p:14"><span class="id" title="binder">p</span></a> := <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wf_global_env"><span class="id" title="definition">wf_global_env</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#p:14"><span class="id" title="variable">p</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#wfterm"><span class="id" title="definition">wfterm</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#p:14"><span class="id" title="variable">p</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="check_wf" class="idref" href="#check_wf"><span class="id" title="definition">check_wf</span></a> (<a id="g:15" class="idref" href="#g:15"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.program"><span class="id" title="definition">Ast.Env.program</span></a>) : <a class="idref" href="MetaRocq.Template.TemplateMonad.Core.html#TemplateMonad"><span class="id" title="inductive">TemplateMonad</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#monad_map"><span class="id" title="definition">monad_map</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#check_def"><span class="id" title="definition">check_def</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#g:15"><span class="id" title="variable">g</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#Env.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="MetaRocq.Utils.monad_utils.html#3d31a9d36591ef0fb917aef4149126dc"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.TemplateMonad.Core.html#tmMsg"><span class="id" title="constructor">tmMsg</span></a> "Wellformed global environment" <a class="idref" href="MetaRocq.Utils.monad_utils.html#3d31a9d36591ef0fb917aef4149126dc"><span class="id" title="notation">;;</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>.<br/>

<br/>
<span class="id" title="keyword">Axiom</span> <a id="assume_wt_template_program" class="idref" href="#assume_wt_template_program"><span class="id" title="axiom">assume_wt_template_program</span></a> : <span class="id" title="keyword">∀</span> <a id="p:16" class="idref" href="#p:16"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.program"><span class="id" title="definition">Ast.Env.program</span></a>, <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Template.TemplateProgram.html#wt_template_program"><span class="id" title="definition">wt_template_program</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#p:16"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="check_wf_eta" class="idref" href="#check_wf_eta"><span class="id" title="definition">check_wf_eta</span></a> (<a id="p:19" class="idref" href="#p:19"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.program"><span class="id" title="definition">Ast.Env.program</span></a>) : <a class="idref" href="MetaRocq.Template.TemplateMonad.Core.html#TemplateMonad"><span class="id" title="inductive">TemplateMonad</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#monad_map"><span class="id" title="definition">monad_map</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#check_def"><span class="id" title="definition">check_def</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#eta_expand"><span class="id" title="definition">eta_expand</span></a> (<a class="idref" href="MetaRocq.Template.TemplateProgram.html#make_template_program_env"><span class="id" title="definition">make_template_program_env</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#p:19"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#assume_wt_template_program"><span class="id" title="axiom">assume_wt_template_program</span></a> <a class="idref" href="MetaRocq.Template.TemplateCheckWf.html#p:19"><span class="id" title="variable">p</span></a>))<a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#Env.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="MetaRocq.Utils.monad_utils.html#3d31a9d36591ef0fb917aef4149126dc"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.TemplateMonad.Core.html#tmMsg"><span class="id" title="constructor">tmMsg</span></a> "Wellformed eta-expanded global environment" <a class="idref" href="MetaRocq.Utils.monad_utils.html#3d31a9d36591ef0fb917aef4149126dc"><span class="id" title="notation">;;</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;To&nbsp;test&nbsp;that&nbsp;a&nbsp;program's&nbsp;eta-expansion&nbsp;is&nbsp;indeed&nbsp;well-typed&nbsp;according&nbsp;to&nbsp;Rocq's&nbsp;kernel&nbsp;use:<br/>
<br/>
&nbsp;&nbsp;MetaRocq&nbsp;Run&nbsp;(tmQuoteRec&nbsp;wf_program&nbsp;&gt;&gt;=&nbsp;check_wf_eta).&nbsp;*)</span><br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
