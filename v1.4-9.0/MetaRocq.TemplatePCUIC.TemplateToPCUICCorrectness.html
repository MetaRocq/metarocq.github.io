<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./index.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Utils.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Common</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Common.config.html#"><span class="id" title="library">config</span></a> <a class="idref" href="MetaRocq.Common.EnvMap.html#"><span class="id" title="library">EnvMap</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Template</span> <span class="id" title="keyword">Require</span> <a class="idref" href="MetaRocq.Template.Ast.html#"><span class="id" title="library">Ast</span></a> <a class="idref" href="MetaRocq.Template.TypingWf.html#"><span class="id" title="library">TypingWf</span></a> <a class="idref" href="MetaRocq.Template.WfAst.html#"><span class="id" title="library">WfAst</span></a> <a class="idref" href="MetaRocq.Template.TermEquality.html#"><span class="id" title="library">TermEquality</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#"><span class="id" title="library">PCUICAst</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#"><span class="id" title="library">PCUICAstUtils</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#"><span class="id" title="library">PCUICCumulativity</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#"><span class="id" title="library">PCUICLiftSubst</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#"><span class="id" title="library">PCUICEquality</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#"><span class="id" title="library">PCUICReduction</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#"><span class="id" title="library">PCUICUnivSubst</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#"><span class="id" title="library">PCUICTyping</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICGlobalEnv.html#"><span class="id" title="library">PCUICGlobalEnv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICWeakeningConv.html#"><span class="id" title="library">PCUICWeakeningConv</span></a> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningTyp.html#"><span class="id" title="library">PCUICWeakeningTyp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#"><span class="id" title="library">PCUICWeakeningEnv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICSubstitution.html#"><span class="id" title="library">PCUICSubstitution</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICGeneration.html#"><span class="id" title="library">PCUICGeneration</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCasesContexts.html#"><span class="id" title="library">PCUICCasesContexts</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#"><span class="id" title="library">PCUICProgram</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.TemplatePCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#"><span class="id" title="library">TemplateToPCUIC</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Equations.Prop</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">DepElim</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">cf</span> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>).<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type*".<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="MetaRocq.Template.Ast.html#Env.fst_ctx"><span class="id" title="definition">Ast.Env.fst_ctx</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.fst_ctx"><span class="id" title="definition">:</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.fst_ctx"><span class="id" title="definition">Ast.Env.global_env_ext</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.fst_ctx"><span class="id" title="definition">&gt;-&gt;</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.fst_ctx"><span class="id" title="definition">Ast.Env.global_env</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lengths" class="idref" href="#lengths"><span class="id" title="definition">lengths</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>@<a class="idref" href="MetaRocq.Template.Ast.html#Env.context_assumptions_subst_context"><span class="id" title="lemma">Ast.Env.context_assumptions_subst_context</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Ast.html#Env.context_assumptions_app"><span class="id" title="lemma">Ast.Env.context_assumptions_app</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Template.Ast.html#Env.context_assumptions_subst_instance"><span class="id" title="lemma">Ast.Env.context_assumptions_subst_instance</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.Template.Ast.html#Env.context_assumptions_lift_context"><span class="id" title="lemma">Ast.Env.context_assumptions_lift_context</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Template.Ast.html#Env.expand_lets_ctx_length"><span class="id" title="lemma">Ast.Env.expand_lets_ctx_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.Template.Ast.html#Env.subst_context_length"><span class="id" title="lemma">Ast.Env.subst_context_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Template.Ast.html#Env.subst_instance_length"><span class="id" title="lemma">Ast.Env.subst_instance_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Template.Ast.html#Env.expand_lets_k_ctx_length"><span class="id" title="lemma">Ast.Env.expand_lets_k_ctx_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Template.Ast.html#inds_length"><span class="id" title="lemma">Ast.inds_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.Template.Ast.html#Env.lift_context_length"><span class="id" title="lemma">Ast.Env.lift_context_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_app"><span class="id" title="lemma">length_app</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_rev"><span class="id" title="lemma">List.length_rev</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.Template.Ast.html#Env.extended_subst_length"><span class="id" title="lemma">Ast.Env.extended_subst_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#reln_length"><span class="id" title="lemma">reln_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.Utils.MRList.html#mapi_length"><span class="id" title="lemma">mapi_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.Utils.MRList.html#mapi_rec_length"><span class="id" title="lemma">mapi_rec_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k_length"><span class="id" title="lemma">fold_context_k_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.Template.Typing.html#cofix_subst_length"><span class="id" title="lemma">Typing.cofix_subst_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.Template.Typing.html#fix_subst_length"><span class="id" title="lemma">Typing.fix_subst_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Template.Ast.html#Env.smash_context_length"><span class="id" title="lemma">Ast.Env.smash_context_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.Template.Ast.html#Env.arities_context_length"><span class="id" title="lemma">Ast.Env.arities_context_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="plengths" class="idref" href="#plengths"><span class="id" title="definition">plengths</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>@<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions_subst_context"><span class="id" title="lemma">context_assumptions_subst_context</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions_app"><span class="id" title="lemma">context_assumptions_app</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions_subst_instance"><span class="id" title="lemma">context_assumptions_subst_instance</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions_lift_context"><span class="id" title="lemma">context_assumptions_lift_context</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx_length"><span class="id" title="lemma">expand_lets_ctx_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context_length"><span class="id" title="lemma">subst_context_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_instance_length"><span class="id" title="lemma">subst_instance_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx_length"><span class="id" title="lemma">expand_lets_k_ctx_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inds_length"><span class="id" title="lemma">inds_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#lift_context_length"><span class="id" title="lemma">lift_context_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_app"><span class="id" title="lemma">length_app</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_rev"><span class="id" title="lemma">List.length_rev</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst_length"><span class="id" title="lemma">extended_subst_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#reln_length"><span class="id" title="lemma">reln_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.Utils.MRList.html#mapi_length"><span class="id" title="lemma">mapi_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.Utils.MRList.html#mapi_rec_length"><span class="id" title="lemma">mapi_rec_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k_length"><span class="id" title="lemma">fold_context_k_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#cofix_subst_length"><span class="id" title="lemma">cofix_subst_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#fix_subst_length"><span class="id" title="lemma">fix_subst_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context_length"><span class="id" title="lemma">smash_context_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#context_assumptions_smash_context"><span class="id" title="lemma">context_assumptions_smash_context</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.arities_context_length"><span class="id" title="lemma">arities_context_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ind_predicate_context_length" class="idref" href="#ind_predicate_context_length"><span class="id" title="lemma">ind_predicate_context_length</span></a> <a id="ind:1" class="idref" href="#ind:1"><span class="id" title="binder">ind</span></a> <a id="mdecl:2" class="idref" href="#mdecl:2"><span class="id" title="binder">mdecl</span></a> <a id="idecl:3" class="idref" href="#idecl:3"><span class="id" title="binder">idecl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Template.Ast.html#ind_predicate_context"><span class="id" title="definition">Ast.ind_predicate_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:1"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:2"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:3"><span class="id" title="variable">idecl</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:3"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_indices"><span class="id" title="projection">Ast.Env.ind_indices</span></a>)<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#ind_predicate_context"><span class="id" title="definition">Ast.ind_predicate_context</span></a> /=. <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="pclengths" class="idref" href="#pclengths"><span class="id" title="definition">pclengths</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>@<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context_length"><span class="id" title="lemma">PCUICCases.ind_predicate_context_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context_length"><span class="id" title="lemma">PCUICCases.cstr_branch_context_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context_length"><span class="id" title="lemma">PCUICCases.inst_case_branch_context_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_predicate_context_length"><span class="id" title="lemma">PCUICCases.inst_case_predicate_context_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_predicate_context_length"><span class="id" title="lemma">ind_predicate_context_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">len</span> ::=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#lengths"><span class="id" title="definition">lengths</span></a> /= // || <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#plengths"><span class="id" title="definition">plengths</span></a> /= // || <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pclengths"><span class="id" title="definition">pclengths</span></a> /= //);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "len" "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">id</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#lengths"><span class="id" title="definition">lengths</span></a> /= // <span class="id" title="tactic">in</span> <span class="id" title="var">id</span> || <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#plengths"><span class="id" title="definition">plengths</span></a> /= // <span class="id" title="tactic">in</span> <span class="id" title="var">id</span> ||<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pclengths"><span class="id" title="definition">pclengths</span></a> /= // <span class="id" title="tactic">in</span> <span class="id" title="var">id</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="S" class="idref" href="#S"><span class="id" title="module">S</span></a> :=<a class="idref" href="MetaRocq.Template.Ast.html#"><span class="id" title="module">Template.Ast</span></a>.<br/>
<span class="id" title="keyword">Module</span> <a id="SEq" class="idref" href="#SEq"><span class="id" title="module">SEq</span></a> :=<a class="idref" href="MetaRocq.Template.TermEquality.html#"><span class="id" title="module">Template.TermEquality</span></a>.<br/>
<span class="id" title="keyword">Module</span> <a id="ST" class="idref" href="#ST"><span class="id" title="module">ST</span></a> :=<a class="idref" href="MetaRocq.Template.Typing.html#"><span class="id" title="module">Template.Typing</span></a>.<br/>
<span class="id" title="keyword">Module</span> <a id="SL" class="idref" href="#SL"><span class="id" title="module">SL</span></a> :=<a class="idref" href="MetaRocq.Template.LiftSubst.html#"><span class="id" title="module">Template.LiftSubst</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_fresh_globals" class="idref" href="#wf_fresh_globals"><span class="id" title="lemma">wf_fresh_globals</span></a> {<a id="cf:4" class="idref" href="#cf:4"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="48bbc240c70629f9166b6605559525f0" class="idref" href="#48bbc240c70629f9166b6605559525f0"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#48bbc240c70629f9166b6605559525f0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.EnvMap.html#EnvMap.fresh_globals"><span class="id" title="inductive">EnvMap.fresh_globals</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#48bbc240c70629f9166b6605559525f0"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs</span> <span class="id" title="var">Σ</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [] <span class="id" title="var">onu</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="of_global_env_cons" class="idref" href="#of_global_env_cons"><span class="id" title="lemma">of_global_env_cons</span></a> {<a id="cf:6" class="idref" href="#cf:6"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="d:7" class="idref" href="#d:7"><span class="id" title="binder">d</span></a> <a id="g:8" class="idref" href="#g:8"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaRocq.Common.EnvMap.html#EnvMap.fresh_globals"><span class="id" title="inductive">EnvMap.fresh_globals</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:8"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:7"><span class="id" title="variable">d</span></a>).(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.EnvMap.html#EnvMap.of_global_env"><span class="id" title="definition">EnvMap.of_global_env</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:8"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:7"><span class="id" title="variable">d</span></a>).(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.EnvMap.html#EnvMap.add"><span class="id" title="definition">EnvMap.add</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:7"><span class="id" title="variable">d</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:7"><span class="id" title="variable">d</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> (<a class="idref" href="MetaRocq.Common.EnvMap.html#EnvMap.of_global_env"><span class="id" title="definition">EnvMap.of_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:8"><span class="id" title="variable">g</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.EnvMap.html#EnvMap.of_global_env"><span class="id" title="definition">EnvMap.of_global_env</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameMapFact.uncurry"><span class="id" title="definition">KernameMapFact.uncurry</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_lookup_minductive" class="idref" href="#trans_lookup_minductive"><span class="id" title="lemma">trans_lookup_minductive</span></a> {<a id="cf:9" class="idref" href="#cf:9"><span class="id" title="binder">cf</span></a>} {<a id="2ab75602e9b8af2ca6fd6dbdb1e68a19" class="idref" href="#2ab75602e9b8af2ca6fd6dbdb1e68a19"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#global_env_map"><span class="id" title="record">global_env_map</span></a>} <a id="mind:11" class="idref" href="#mind:11"><span class="id" title="binder">mind</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2ab75602e9b8af2ca6fd6dbdb1e68a19"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#TransLookup.lookup_minductive"><span class="id" title="definition">TransLookup.lookup_minductive</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2ab75602e9b8af2ca6fd6dbdb1e68a19"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mind:11"><span class="id" title="variable">mind</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_minductive"><span class="id" title="definition">PCUICAst.lookup_minductive</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2ab75602e9b8af2ca6fd6dbdb1e68a19"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mind:11"><span class="id" title="variable">mind</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#TransLookup.lookup_minductive"><span class="id" title="definition">TransLookup.lookup_minductive</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Common.EnvMap.html#EnvMap.lookup_spec"><span class="id" title="lemma">EnvMap.lookup_spec</span></a> <span class="id" title="var">Σ</span>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>)) //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_fresh_globals"><span class="id" title="lemma">wf_fresh_globals</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Σ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_lookup_inductive" class="idref" href="#trans_lookup_inductive"><span class="id" title="lemma">trans_lookup_inductive</span></a> {<a id="cf:12" class="idref" href="#cf:12"><span class="id" title="binder">cf</span></a>} {<a id="475f6c17bae93ed6b0d4829862030679" class="idref" href="#475f6c17bae93ed6b0d4829862030679"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#global_env_map"><span class="id" title="record">global_env_map</span></a>} <a id="mind:14" class="idref" href="#mind:14"><span class="id" title="binder">mind</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#475f6c17bae93ed6b0d4829862030679"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#TransLookup.lookup_inductive"><span class="id" title="definition">TransLookup.lookup_inductive</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#475f6c17bae93ed6b0d4829862030679"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mind:14"><span class="id" title="variable">mind</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_inductive"><span class="id" title="definition">PCUICAst.lookup_inductive</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#475f6c17bae93ed6b0d4829862030679"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mind:14"><span class="id" title="variable">mind</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#TransLookup.lookup_inductive"><span class="id" title="definition">TransLookup.lookup_inductive</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_minductive"><span class="id" title="lemma">trans_lookup_minductive</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mkApps_morphism" class="idref" href="#mkApps_morphism"><span class="id" title="lemma">mkApps_morphism</span></a> (<a id="f:15" class="idref" href="#f:15"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) <a id="u:16" class="idref" href="#u:16"><span class="id" title="binder">u</span></a> <a id="v:17" class="idref" href="#v:17"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:18" class="idref" href="#x:18"><span class="id" title="binder">x</span></a> <a id="y:19" class="idref" href="#y:19"><span class="id" title="binder">y</span></a>, <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:15"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:18"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:19"><span class="id" title="variable">y</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:15"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:18"><span class="id" title="variable">x</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:15"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:19"><span class="id" title="variable">y</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:15"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:16"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#v:17"><span class="id" title="variable">v</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:15"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:16"><span class="id" title="variable">u</span></a>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:15"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#v:17"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHv</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_list</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Utils.MRList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a> ?<a class="idref" href="MetaRocq.Utils.MRProd.html#compose_on_snd"><span class="id" title="lemma">compose_on_snd</span></a> ?<a class="idref" href="MetaRocq.Common.BasicAst.html#compose_map_def"><span class="id" title="lemma">compose_map_def</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mkApps_app" class="idref" href="#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> <a id="f:20" class="idref" href="#f:20"><span class="id" title="binder">f</span></a> <a id="l:21" class="idref" href="#l:21"><span class="id" title="binder">l</span></a> <a id="l':22" class="idref" href="#l':22"><span class="id" title="binder">l'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:20"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:21"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':22"><span class="id" title="variable">l'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:20"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:21"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':22"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">f</span> <span class="id" title="var">l'</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">maps</span> := <span class="id" title="var">rewrite_strat</span> (<span class="id" title="var">topdown</span> (<span class="id" title="var">old_hints</span> <span class="id" title="var">map</span>)).<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">lengths</span> := <span class="id" title="var">rewrite_strat</span> (<span class="id" title="var">topdown</span> (<span class="id" title="var">hints</span> <span class="id" title="var">len</span>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="destArity_mkApps" class="idref" href="#destArity_mkApps"><span class="id" title="lemma">destArity_mkApps</span></a> <a id="ctx:23" class="idref" href="#ctx:23"><span class="id" title="binder">ctx</span></a> <a id="t:24" class="idref" href="#t:24"><span class="id" title="binder">t</span></a> <a id="l:25" class="idref" href="#l:25"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:25"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">destArity</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:23"><span class="id" title="variable">ctx</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:24"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:25"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">l</span>]. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">t</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_global_decls_app" class="idref" href="#trans_global_decls_app"><span class="id" title="lemma">trans_global_decls_app</span></a> {<a id="e023703f3460855264e8fbe327a7ed6a" class="idref" href="#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#global_env_map"><span class="id" title="record">global_env_map</span></a>} (<a id="32ba903b126dc4105b691b1b9b7ae1b0" class="idref" href="#32ba903b126dc4105b691b1b9b7ae1b0"><span class="id" title="binder">Σ'</span></a> <a id="e47fe16a42aeb1c75ba4e00d30298590" class="idref" href="#e47fe16a42aeb1c75ba4e00d30298590"><span class="id" title="binder">Σ''</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_declarations"><span class="id" title="definition">Ast.Env.global_declarations</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decls"><span class="id" title="definition">trans_global_decls</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#32ba903b126dc4105b691b1b9b7ae1b0"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#e47fe16a42aeb1c75ba4e00d30298590"><span class="id" title="variable">Σ''</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decls"><span class="id" title="definition">trans_global_decls</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decls"><span class="id" title="definition">trans_global_decls</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#e47fe16a42aeb1c75ba4e00d30298590"><span class="id" title="variable">Σ''</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#32ba903b126dc4105b691b1b9b7ae1b0"><span class="id" title="variable">Σ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decls"><span class="id" title="definition">trans_global_decls</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#fold_right_app"><span class="id" title="lemma">fold_right_app</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="incl_cs_refl" class="idref" href="#incl_cs_refl"><span class="id" title="lemma">incl_cs_refl</span></a> <a id="cs:29" class="idref" href="#cs:29"><span class="id" title="binder">cs</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cs:29"><span class="id" title="variable">cs</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#fa53e7e2e4fd81994788c41fd8d89a68"><span class="id" title="notation">⊂</span></a><a class="idref" href="MetaRocq.Common.Universes.html#fa53e7e2e4fd81994788c41fd8d89a68"><span class="id" title="notation">_cs</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cs:29"><span class="id" title="variable">cs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">lsets</span>|<span class="id" title="var">csets</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="extends_trans_global_decls_acc" class="idref" href="#extends_trans_global_decls_acc"><span class="id" title="lemma">extends_trans_global_decls_acc</span></a> (<a id="add64c320d4044a36abffa68b5de3d64" class="idref" href="#add64c320d4044a36abffa68b5de3d64"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#global_env_map"><span class="id" title="record">global_env_map</span></a>) (<a id="7374d4818eab9c7e7a123322e5aab0bf" class="idref" href="#7374d4818eab9c7e7a123322e5aab0bf"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_declarations"><span class="id" title="definition">Ast.Env.global_declarations</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.strictly_extends_decls"><span class="id" title="class">strictly_extends_decls</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#add64c320d4044a36abffa68b5de3d64"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decls"><span class="id" title="definition">trans_global_decls</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#add64c320d4044a36abffa68b5de3d64"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7374d4818eab9c7e7a123322e5aab0bf"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">try</span> <span class="id" title="tactic">∃</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHΣ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs</span> [<span class="id" title="var">Σ''</span> <span class="id" title="var">eq</span>]]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> (<span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Σ''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_comm_cons"><span class="id" title="lemma">app_comm_cons</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="wf_global_decl" class="idref" href="#wf_global_decl"><span class="id" title="definition">wf_global_decl</span></a> {<a id="cf:32" class="idref" href="#cf:32"><span class="id" title="binder">cf</span></a>} (<a id="4a3db5069015eacb9ec70510dc094686" class="idref" href="#4a3db5069015eacb9ec70510dc094686"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>) <a id="kn:34" class="idref" href="#kn:34"><span class="id" title="binder">kn</span></a> <a id="decl:35" class="idref" href="#decl:35"><span class="id" title="binder">decl</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#on_global_decl"><span class="id" title="definition">Typing.on_global_decl</span></a> <a class="idref" href="MetaRocq.Template.Typing.html#cumul_gen"><span class="id" title="inductive">Typing.cumul_gen</span></a> (<span class="id" title="keyword">fun</span> (<a id="06f02a2e1ae1dbc558fdd78ca814765d" class="idref" href="#06f02a2e1ae1dbc558fdd78ca814765d"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>) ⇒ <a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl_pred"><span class="id" title="definition">WfAst.wf_decl_pred</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#06f02a2e1ae1dbc558fdd78ca814765d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4a3db5069015eacb9ec70510dc094686"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#kn:34"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#decl:35"><span class="id" title="variable">decl</span></a>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_lookup_env" class="idref" href="#trans_lookup_env"><span class="id" title="lemma">trans_lookup_env</span></a> {<a id="cf:37" class="idref" href="#cf:37"><span class="id" title="binder">cf</span></a>} {<a id="4419af43eee85446dd7b19942c9f830b" class="idref" href="#4419af43eee85446dd7b19942c9f830b"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env"><span class="id" title="record">Ast.Env.global_env</span></a>} <a id="cst:39" class="idref" href="#cst:39"><span class="id" title="binder">cst</span></a> {<a id="67c3e2b12787cef1ddc5fda5ba2b8c07" class="idref" href="#67c3e2b12787cef1ddc5fda5ba2b8c07"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4419af43eee85446dd7b19942c9f830b"><span class="id" title="variable">Σ</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Template.Ast.html#Env.lookup_env"><span class="id" title="definition">Ast.Env.lookup_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4419af43eee85446dd7b19942c9f830b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:39"><span class="id" title="variable">cst</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4419af43eee85446dd7b19942c9f830b"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:39"><span class="id" title="variable">cst</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="f7ddf502e84bf8c656bf4f40aab5a78d" class="idref" href="#f7ddf502e84bf8c656bf4f40aab5a78d"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env"><span class="id" title="record">Ast.Env.global_env</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">[×</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.strictly_extends_decls"><span class="id" title="class">Ast.Env.strictly_extends_decls</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f7ddf502e84bf8c656bf4f40aab5a78d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4419af43eee85446dd7b19942c9f830b"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f7ddf502e84bf8c656bf4f40aab5a78d"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_global_decl"><span class="id" title="definition">wf_global_decl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f7ddf502e84bf8c656bf4f40aab5a78d"><span class="id" title="variable">Σ'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#universes_decl_of_decl"><span class="id" title="definition">Ast.universes_decl_of_decl</span></a> <span class="id" title="var">d</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:39"><span class="id" title="variable">cst</span></a> <span class="id" title="var">d</span><a class="idref" href="MetaRocq.Utils.MRProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.strictly_extends_decls"><span class="id" title="class">strictly_extends_decls</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f7ddf502e84bf8c656bf4f40aab5a78d"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4419af43eee85446dd7b19942c9f830b"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.Utils.MRProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4419af43eee85446dd7b19942c9f830b"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:39"><span class="id" title="variable">cst</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decl"><span class="id" title="definition">trans_global_decl</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f7ddf502e84bf8c656bf4f40aab5a78d"><span class="id" title="variable">Σ'</span></a>) <span class="id" title="var">d</span>)<a class="idref" href="MetaRocq.Utils.MRProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs</span> <span class="id" title="var">Σ</span> <span class="id" title="var">retro</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Template.Ast.html#Env.lookup_env"><span class="id" title="definition">Ast.Env.lookup_env</span></a>. <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.Kernames.html#eq_kername"><span class="id" title="abbreviation">eq_kername</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">eqk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#eq_kername"><span class="id" title="abbreviation">eq_kername</span></a> <span class="id" title="var">cst</span> <span class="id" title="var">a</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> <span class="id" title="var">cst</span> <span class="id" title="var">a</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">eqk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqk</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> {| <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#universes"><span class="id" title="projection">S.Env.universes</span></a> := <span class="id" title="var">univs</span>; <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declarations"><span class="id" title="projection">S.Env.declarations</span></a> := <span class="id" title="var">Σ</span>; <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#retroknowledge"><span class="id" title="projection">S.Env.retroknowledge</span></a> := <span class="id" title="var">retro</span> |}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">onu</span> <span class="id" title="var">ond</span>]. <span class="id" title="var">depelim</span> <span class="id" title="var">ond</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#typing_wf_sigma"><span class="id" title="lemma">TypingWf.typing_wf_sigma</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">onu</span> <span class="id" title="var">ond</span>]. <span class="id" title="var">depelim</span> <span class="id" title="var">ond</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decl"><span class="id" title="definition">trans_global_decl</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> {| <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#universes"><span class="id" title="projection">S.Env.universes</span></a> := <span class="id" title="var">univs</span>; <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declarations"><span class="id" title="projection">S.Env.declarations</span></a> := <span class="id" title="var">Σ</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#retroknowledge"><span class="id" title="projection">S.Env.retroknowledge</span></a> := <span class="id" title="var">retro</span> |}) <span class="id" title="var">a</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#eq_kername_refl"><span class="id" title="lemma">eq_kername_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">onu</span> <span class="id" title="var">ond</span>]. <span class="id" title="var">depelim</span> <span class="id" title="var">ond</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHΣ</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">onu</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ond</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Template.Ast.html#Env.lookup_env"><span class="id" title="definition">Ast.Env.lookup_env</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHΣ</span>. <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Template.Ast.html#Env.declarations"><span class="id" title="projection">Ast.Env.declarations</span></a>] <span class="id" title="tactic">in</span> <span class="id" title="var">IHΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.lookup_global"><span class="id" title="definition">Ast.Env.lookup_global</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">cst</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHΣ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ'</span> [<span class="id" title="var">ext</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">ext'</span> <span class="id" title="var">hl</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">Σ'</span>. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ext</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">equ</span> [? <span class="id" title="var">eq</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">∃</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">d</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">x</span>). <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">equ'</span> [? <span class="id" title="var">eq'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> /= /<a class="idref" href="MetaRocq.Utils.MRProd.html#on_snd"><span class="id" title="definition">on_snd</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">eq'</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eqk</span> /=. <span class="id" title="tactic">apply</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eqk</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_weakening" class="idref" href="#trans_weakening"><span class="id" title="lemma">trans_weakening</span></a> {<a id="cf:42" class="idref" href="#cf:42"><span class="id" title="binder">cf</span></a>} <a id="ea478fd00cb4a06cc640b1b27bf65159" class="idref" href="#ea478fd00cb4a06cc640b1b27bf65159"><span class="id" title="binder">Σ</span></a> {<a id="0b9492298a7db93fdab0f02cda7fd635" class="idref" href="#0b9492298a7db93fdab0f02cda7fd635"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#global_env_map"><span class="id" title="record">global_env_map</span></a>} <a id="t:45" class="idref" href="#t:45"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ea478fd00cb4a06cc640b1b27bf65159"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.extends"><span class="id" title="class">extends</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ea478fd00cb4a06cc640b1b27bf65159"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0b9492298a7db93fdab0f02cda7fd635"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ea478fd00cb4a06cc640b1b27bf65159"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0b9492298a7db93fdab0f02cda7fd635"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ea478fd00cb4a06cc640b1b27bf65159"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:45"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ea478fd00cb4a06cc640b1b27bf65159"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:45"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0b9492298a7db93fdab0f02cda7fd635"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:45"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">ext</span> <span class="id" title="var">wftΣ</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">wft</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">wft</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Template.WfAst.html#term_wf_forall_list_ind"><span class="id" title="lemma">WfAst.term_wf_forall_list_ind</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_inductive"><span class="id" title="lemma">trans_lookup_inductive</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> <span class="id" title="var">hnth</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.Typing.html#TemplateDeclarationTyping.declared_minductive_to_gen"><span class="id" title="lemma">Typing.TemplateDeclarationTyping.declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_env"><span class="id" title="lemma">trans_lookup_env</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <span class="id" title="var">ci</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_minductive"><span class="id" title="definition">lookup_minductive</span></a>. <span class="id" title="tactic">intros</span> →.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Σ''</span> [<span class="id" title="var">ext'</span> <span class="id" title="var">wfΣ''</span> <span class="id" title="var">_</span> <span class="id" title="var">ext''</span> <span class="id" title="var">hl</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_inductive_gen"><span class="id" title="definition">lookup_inductive_gen</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_minductive_gen"><span class="id" title="definition">lookup_minductive_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">hl</span> ⇒ /= //. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">hnth</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#extends_lookup"><span class="id" title="lemma">extends_lookup</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">ext</span> <span class="id" title="var">hl</span>) /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">hnth</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span> ⇒ //. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_decl_weakening" class="idref" href="#trans_decl_weakening"><span class="id" title="lemma">trans_decl_weakening</span></a> {<a id="cf:46" class="idref" href="#cf:46"><span class="id" title="binder">cf</span></a>} <a id="0f349382f796b4f2cbdf3887d61145a1" class="idref" href="#0f349382f796b4f2cbdf3887d61145a1"><span class="id" title="binder">Σ</span></a> {<a id="b2ef4c95a86a9794423206624260401e" class="idref" href="#b2ef4c95a86a9794423206624260401e"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#global_env_map"><span class="id" title="record">global_env_map</span></a>} <a id="t:49" class="idref" href="#t:49"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0f349382f796b4f2cbdf3887d61145a1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.extends"><span class="id" title="class">extends</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0f349382f796b4f2cbdf3887d61145a1"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b2ef4c95a86a9794423206624260401e"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0f349382f796b4f2cbdf3887d61145a1"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b2ef4c95a86a9794423206624260401e"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0f349382f796b4f2cbdf3887d61145a1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:49"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0f349382f796b4f2cbdf3887d61145a1"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:49"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b2ef4c95a86a9794423206624260401e"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:49"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">ext</span> <span class="id" title="var">wftΣ</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">wft</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] ⇒ /=; <span class="id" title="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_weakening"><span class="id" title="lemma">trans_weakening</span></a> ⇒ //; <span class="id" title="tactic">apply</span> <span class="id" title="var">wft</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_local_length" class="idref" href="#trans_local_length"><span class="id" title="lemma">trans_local_length</span></a> {<a id="4f3c8cf463ede8c1c75dc6e27df02d2d" class="idref" href="#4f3c8cf463ede8c1c75dc6e27df02d2d"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#global_env_map"><span class="id" title="record">global_env_map</span></a>} <a id="f82dd08e39371d88da60b669e12500e0" class="idref" href="#f82dd08e39371d88da60b669e12500e0"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4f3c8cf463ede8c1c75dc6e27df02d2d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f82dd08e39371d88da60b669e12500e0"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f82dd08e39371d88da60b669e12500e0"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_length"><span class="id" title="lemma">trans_local_length</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_local_weakening" class="idref" href="#trans_local_weakening"><span class="id" title="lemma">trans_local_weakening</span></a> {<a id="cf:52" class="idref" href="#cf:52"><span class="id" title="binder">cf</span></a>} <a id="20d7c0ecc86fe88fa924e57d0c585b54" class="idref" href="#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="binder">Σ</span></a> {<a id="ab34479d59c2a92a6beaa06081a88af4" class="idref" href="#ab34479d59c2a92a6beaa06081a88af4"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#global_env_map"><span class="id" title="record">global_env_map</span></a>} <a id="t:55" class="idref" href="#t:55"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.extends"><span class="id" title="class">extends</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ab34479d59c2a92a6beaa06081a88af4"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ab34479d59c2a92a6beaa06081a88af4"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:55"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:55"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ab34479d59c2a92a6beaa06081a88af4"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:55"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">ext</span> <span class="id" title="var">wftΣ</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">a</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. 2:<span class="id" title="tactic">apply</span> <span class="id" title="var">IHa</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] ⇒ /=; <span class="id" title="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_weakening"><span class="id" title="lemma">trans_weakening</span></a> ⇒ //; <span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_ind_body_weakening" class="idref" href="#trans_ind_body_weakening"><span class="id" title="lemma">trans_ind_body_weakening</span></a> {<a id="cf:56" class="idref" href="#cf:56"><span class="id" title="binder">cf</span></a>} <a id="cb0630687a5a3dec7d46ec6926ccb84b" class="idref" href="#cb0630687a5a3dec7d46ec6926ccb84b"><span class="id" title="binder">Σ</span></a> {<a id="1bc2b87c8708e710f021f32fd2012294" class="idref" href="#1bc2b87c8708e710f021f32fd2012294"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#global_env_map"><span class="id" title="record">global_env_map</span></a>} <a id="b:59" class="idref" href="#b:59"><span class="id" title="binder">b</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cb0630687a5a3dec7d46ec6926ccb84b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.extends"><span class="id" title="class">extends</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cb0630687a5a3dec7d46ec6926ccb84b"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#1bc2b87c8708e710f021f32fd2012294"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cb0630687a5a3dec7d46ec6926ccb84b"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#1bc2b87c8708e710f021f32fd2012294"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.TypingWf.html#wf_inductive_body"><span class="id" title="record">TypingWf.wf_inductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cb0630687a5a3dec7d46ec6926ccb84b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b:59"><span class="id" title="variable">b</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cb0630687a5a3dec7d46ec6926ccb84b"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b:59"><span class="id" title="variable">b</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#1bc2b87c8708e710f021f32fd2012294"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b:59"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">ext</span> <span class="id" title="var">wftΣ</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_weakening"><span class="id" title="lemma">trans_weakening</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_weakening"><span class="id" title="lemma">trans_weakening</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> [<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_weakening"><span class="id" title="lemma">trans_local_weakening</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_weakening"><span class="id" title="lemma">trans_weakening</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_weakening"><span class="id" title="lemma">trans_weakening</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_projection_body"><span class="id" title="definition">trans_projection_body</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_weakening"><span class="id" title="lemma">trans_weakening</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_global_decl_weaken" class="idref" href="#trans_global_decl_weaken"><span class="id" title="lemma">trans_global_decl_weaken</span></a> {<a id="cf:60" class="idref" href="#cf:60"><span class="id" title="binder">cf</span></a>} (<a id="77616297ab8389c2db18b8aa996822b8" class="idref" href="#77616297ab8389c2db18b8aa996822b8"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>) {<a id="36d7427a5938835553877784b7b139c4" class="idref" href="#36d7427a5938835553877784b7b139c4"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#global_env_map"><span class="id" title="record">global_env_map</span></a>} <a id="kn:63" class="idref" href="#kn:63"><span class="id" title="binder">kn</span></a> <a id="d:64" class="idref" href="#d:64"><span class="id" title="binder">d</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#77616297ab8389c2db18b8aa996822b8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.extends"><span class="id" title="class">extends</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#77616297ab8389c2db18b8aa996822b8"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#36d7427a5938835553877784b7b139c4"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#77616297ab8389c2db18b8aa996822b8"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#36d7427a5938835553877784b7b139c4"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_global_decl"><span class="id" title="definition">wf_global_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#77616297ab8389c2db18b8aa996822b8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#kn:63"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:64"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decl"><span class="id" title="definition">trans_global_decl</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#77616297ab8389c2db18b8aa996822b8"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:64"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decl"><span class="id" title="definition">trans_global_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#36d7427a5938835553877784b7b139c4"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:64"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">ext</span> <span class="id" title="var">wftΣ</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">wfd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_constant_body"><span class="id" title="definition">trans_constant_body</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.cst_body"><span class="id" title="projection">Ast.Env.cst_body</span></a> <span class="id" title="var">c</span>) ⇒ /=. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_weakening"><span class="id" title="lemma">trans_weakening</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">wfd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_weakening"><span class="id" title="lemma">trans_weakening</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">wfd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_weakening"><span class="id" title="lemma">trans_weakening</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">wfd</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_weakening"><span class="id" title="lemma">trans_local_weakening</span></a>; <span class="id" title="var">trea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#on_global_inductive_wf_params"><span class="id" title="lemma">TypingWf.on_global_inductive_wf_params</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfd</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#on_global_inductive_wf_bodies"><span class="id" title="lemma">TypingWf.on_global_inductive_wf_bodies</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfd</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_ind_body_weakening"><span class="id" title="lemma">trans_ind_body_weakening</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#"><span class="id" title="module">TypingWf</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="weaken_wf_decl_pred" class="idref" href="#weaken_wf_decl_pred"><span class="id" title="lemma">weaken_wf_decl_pred</span></a> {<a id="cf:65" class="idref" href="#cf:65"><span class="id" title="binder">cf</span></a>} (<a id="2c4bc88cf29784b11cf0422588c29192" class="idref" href="#2c4bc88cf29784b11cf0422588c29192"><span class="id" title="binder">Σ</span></a> <a id="f4df3c946f98e4520e2d91a23e123e72" class="idref" href="#f4df3c946f98e4520e2d91a23e123e72"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env"><span class="id" title="record">Ast.Env.global_env</span></a>) <a id="7414bf024cc8a6b3141a135f5f1ab24c" class="idref" href="#7414bf024cc8a6b3141a135f5f1ab24c"><span class="id" title="binder">Γ</span></a> <a id="j:69" class="idref" href="#j:69"><span class="id" title="binder">j</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2c4bc88cf29784b11cf0422588c29192"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.extends"><span class="id" title="class">Ast.Env.extends</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2c4bc88cf29784b11cf0422588c29192"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f4df3c946f98e4520e2d91a23e123e72"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f4df3c946f98e4520e2d91a23e123e72"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl_pred"><span class="id" title="definition">WfAst.wf_decl_pred</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2c4bc88cf29784b11cf0422588c29192"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7414bf024cc8a6b3141a135f5f1ab24c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#j:69"><span class="id" title="variable">j</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl_pred"><span class="id" title="definition">WfAst.wf_decl_pred</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f4df3c946f98e4520e2d91a23e123e72"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7414bf024cc8a6b3141a135f5f1ab24c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#j:69"><span class="id" title="variable">j</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">ext</span> <span class="id" title="var">wf'</span> <span class="id" title="var">ong</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ong</span> |- ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#j_term"><span class="id" title="projection">j_term</span></a>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_extends"><span class="id" title="lemma">wf_extends</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_lookup" class="idref" href="#trans_lookup"><span class="id" title="lemma">trans_lookup</span></a> {<a id="cf:70" class="idref" href="#cf:70"><span class="id" title="binder">cf</span></a>} <a id="71207c1fa4df2a6ffd92a3b175d4607f" class="idref" href="#71207c1fa4df2a6ffd92a3b175d4607f"><span class="id" title="binder">Σ</span></a> <a id="cst:72" class="idref" href="#cst:72"><span class="id" title="binder">cst</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#71207c1fa4df2a6ffd92a3b175d4607f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#71207c1fa4df2a6ffd92a3b175d4607f"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#71207c1fa4df2a6ffd92a3b175d4607f"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:72"><span class="id" title="variable">cst</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decl"><span class="id" title="definition">trans_global_decl</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#71207c1fa4df2a6ffd92a3b175d4607f"><span class="id" title="variable">Σ</span></a>)) (<a class="idref" href="MetaRocq.Template.Ast.html#Env.lookup_env"><span class="id" title="definition">Ast.Env.lookup_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#71207c1fa4df2a6ffd92a3b175d4607f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:72"><span class="id" title="variable">cst</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wf'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_env"><span class="id" title="lemma">trans_lookup_env</span></a> <span class="id" title="var">cst</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Template.Ast.html#Env.lookup_env"><span class="id" title="definition">Ast.Env.lookup_env</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">heq</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Σ'</span> [<span class="id" title="var">ext</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">wfdecl</span> <span class="id" title="var">ext'</span> <span class="id" title="var">hl</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">hl</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_global_decl_weaken"><span class="id" title="lemma">trans_global_decl_weaken</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#universes_decl_of_decl"><span class="id" title="definition">Ast.universes_decl_of_decl</span></a> <span class="id" title="var">g</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="var">tea</span>; <span class="id" title="var">tc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#strictly_extends_decls_wf"><span class="id" title="lemma">strictly_extends_decls_wf</span></a>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Translation" class="idref" href="#Translation"><span class="id" title="section">Translation</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="d6bb6912b0bb96afe8de920dfc1ec9d0" class="idref" href="#d6bb6912b0bb96afe8de920dfc1ec9d0"><span class="id" title="variable">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env"><span class="id" title="record">Ast.Env.global_env</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="trans" class="idref" href="#trans"><span class="id" title="abbreviation">trans</span></a> := (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6bb6912b0bb96afe8de920dfc1ec9d0"><span class="id" title="variable">Σ</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="trans_decl" class="idref" href="#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> := (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6bb6912b0bb96afe8de920dfc1ec9d0"><span class="id" title="variable">Σ</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="trans_local" class="idref" href="#trans_local"><span class="id" title="abbreviation">trans_local</span></a> := (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6bb6912b0bb96afe8de920dfc1ec9d0"><span class="id" title="variable">Σ</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">dest_lookup</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#TransLookup.lookup_inductive"><span class="id" title="definition">TransLookup.lookup_inductive</span></a> <span class="id" title="keyword">as</span> [[<span class="id" title="var">mdecl</span> <span class="id" title="var">idecl</span>]|].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map_map2" class="idref" href="#map_map2"><span class="id" title="lemma">map_map2</span></a> {<a id="A:74" class="idref" href="#A:74"><span class="id" title="binder">A</span></a> <a id="B:75" class="idref" href="#B:75"><span class="id" title="binder">B</span></a> <a id="C:76" class="idref" href="#C:76"><span class="id" title="binder">C</span></a> <a id="D:77" class="idref" href="#D:77"><span class="id" title="binder">D</span></a>} (<a id="f:78" class="idref" href="#f:78"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:74"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:75"><span class="id" title="variable">B</span></a>) (<a id="g:79" class="idref" href="#g:79"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:76"><span class="id" title="variable">C</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#D:77"><span class="id" title="variable">D</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:74"><span class="id" title="variable">A</span></a>) <a id="l:80" class="idref" href="#l:80"><span class="id" title="binder">l</span></a> <a id="l':81" class="idref" href="#l':81"><span class="id" title="binder">l'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:78"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:79"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:80"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':81"><span class="id" title="variable">l'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:82" class="idref" href="#x:82"><span class="id" title="binder">x</span></a> <a id="y:83" class="idref" href="#y:83"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:78"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:79"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:82"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:83"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:80"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':81"><span class="id" title="variable">l'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_lift" class="idref" href="#trans_lift"><span class="id" title="lemma">trans_lift</span></a> <a id="n:84" class="idref" href="#n:84"><span class="id" title="binder">n</span></a> <a id="k:85" class="idref" href="#k:85"><span class="id" title="binder">k</span></a> <a id="t:86" class="idref" href="#t:86"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#lift"><span class="id" title="definition">Template.Ast.lift</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:84"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:85"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:86"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:84"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:85"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:86"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Template.Induction.html#term_forall_list_ind"><span class="id" title="lemma">Template.Induction.term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Utils.MRList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#lift_mkApps"><span class="id" title="lemma">lift_mkApps</span></a> <span class="id" title="var">IHt</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>; <span class="id" title="var">solve_all</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">dest_lookup</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_predicate_k"><span class="id" title="definition">map_predicate_k</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">solve_list</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#map2_bias_left_length"><span class="id" title="lemma">map2_bias_left_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Utils.MRList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a> !<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map2_map_r"><span class="id" title="lemma">PCUICUnivSubstitutionConv.map2_map_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">X0</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a> <span class="id" title="var">idecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X0</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l0</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l0</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHX0</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_branch"><span class="id" title="definition">trans_branch</span></a> /= <span class="id" title="var">p</span> // /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_branch_k"><span class="id" title="definition">map_branch_k</span></a> /= /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#map2_bias_left_length"><span class="id" title="lemma">map2_bias_left_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_predicate_k"><span class="id" title="definition">map_predicate_k</span></a> /=. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Utils.MRList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">maps</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>; <span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.utils.PCUICPrimitive.html#map_array_model"><span class="id" title="abbreviation">map_array_model</span></a>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_mkApp" class="idref" href="#trans_mkApp"><span class="id" title="lemma">trans_mkApp</span></a> <a id="u:87" class="idref" href="#u:87"><span class="id" title="binder">u</span></a> <a id="a:88" class="idref" href="#a:88"><span class="id" title="binder">a</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#mkApp"><span class="id" title="definition">Template.Ast.mkApp</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:87"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a:88"><span class="id" title="variable">a</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:87"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a:88"><span class="id" title="variable">a</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <span class="id" title="var">u</span>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <span class="id" title="var">args</span>)) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <span class="id" title="var">a</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <span class="id" title="var">u</span>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <span class="id" title="var">args</span>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <span class="id" title="var">a</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_mkApps" class="idref" href="#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> <a id="u:89" class="idref" href="#u:89"><span class="id" title="binder">u</span></a> <a id="v:90" class="idref" href="#v:90"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#mkApps"><span class="id" title="definition">Template.Ast.mkApps</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:89"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#v:90"><span class="id" title="variable">v</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:89"><span class="id" title="variable">u</span></a>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#v:90"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="MetaRocq.Template.AstUtils.html#mkApps_mkApp"><span class="id" title="lemma">Template.AstUtils.mkApps_mkApp</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHv</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApp"><span class="id" title="lemma">trans_mkApp</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_subst" class="idref" href="#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <a id="t:91" class="idref" href="#t:91"><span class="id" title="binder">t</span></a> <a id="k:92" class="idref" href="#k:92"><span class="id" title="binder">k</span></a> <a id="u:93" class="idref" href="#u:93"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#subst"><span class="id" title="definition">Template.Ast.subst</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:91"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:92"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:93"><span class="id" title="variable">u</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:91"><span class="id" title="variable">t</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:92"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:93"><span class="id" title="variable">u</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">u</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Template.Induction.html#term_forall_list_ind"><span class="id" title="lemma">Template.Induction.term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="var">nth_leb_simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">e0</span>. <span class="id" title="tactic">congruence</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_list</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#subst_mkApps"><span class="id" title="lemma">subst_mkApps</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_list</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">dest_lookup</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">solve_list</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_predicate_k"><span class="id" title="definition">map_predicate_k</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">solve_list</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#map2_bias_left_length"><span class="id" title="lemma">map2_bias_left_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a> !<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map2_map_r"><span class="id" title="lemma">PCUICUnivSubstitutionConv.map2_map_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">X0</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a> <span class="id" title="var">idecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X0</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l0</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l0</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHX0</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_branch"><span class="id" title="definition">trans_branch</span></a> /= <span class="id" title="var">p</span> // /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_branch_k"><span class="id" title="definition">map_branch_k</span></a> /= /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#map2_bias_left_length"><span class="id" title="lemma">map2_bias_left_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_predicate_k"><span class="id" title="definition">subst_predicate</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> ⇒ /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">solve_list</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">solve_list</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.utils.PCUICPrimitive.html#map_array_model"><span class="id" title="abbreviation">map_array_model</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="Tterm" class="idref" href="#Tterm"><span class="id" title="abbreviation">Tterm</span></a> :=<a class="idref" href="MetaRocq.Template.Ast.html#term"><span class="id" title="inductive">Template.Ast.term</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="Tcontext" class="idref" href="#Tcontext"><span class="id" title="abbreviation">Tcontext</span></a> :=<a class="idref" href="MetaRocq.Template.Ast.html#Env.context"><span class="id" title="definition">Template.Ast.Env.context</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All_map2" class="idref" href="#All_map2"><span class="id" title="lemma">All_map2</span></a> {<a id="A:94" class="idref" href="#A:94"><span class="id" title="binder">A</span></a> <a id="B:95" class="idref" href="#B:95"><span class="id" title="binder">B</span></a> <a id="C:96" class="idref" href="#C:96"><span class="id" title="binder">C</span></a>} <a id="P:97" class="idref" href="#P:97"><span class="id" title="binder">P</span></a> (<a id="l:98" class="idref" href="#l:98"><span class="id" title="binder">l</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:94"><span class="id" title="variable">A</span></a>) (<a id="l':99" class="idref" href="#l':99"><span class="id" title="binder">l'</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:95"><span class="id" title="variable">B</span></a>) (<a id="f:100" class="idref" href="#f:100"><span class="id" title="binder">f</span></a> <a id="g:101" class="idref" href="#g:101"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:94"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:95"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:96"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:97"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':99"><span class="id" title="variable">l'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:102" class="idref" href="#x:102"><span class="id" title="binder">x</span></a> <a id="y:103" class="idref" href="#y:103"><span class="id" title="binder">y</span></a>, <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:97"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:103"><span class="id" title="variable">y</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:100"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:102"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:103"><span class="id" title="variable">y</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:101"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:102"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:103"><span class="id" title="variable">y</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:100"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:98"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':99"><span class="id" title="variable">l'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:101"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:98"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':99"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="tactic">in</span> <span class="id" title="var">l</span> |- × ⇒ <span class="id" title="var">Hfg</span> /=; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHX</span> //. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hfg</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_subst_instance" class="idref" href="#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a> <a id="u:104" class="idref" href="#u:104"><span class="id" title="binder">u</span></a> <a id="t:105" class="idref" href="#t:105"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:104"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:105"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:104"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:105"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Template.Induction.html#term_forall_list_ind"><span class="id" title="lemma">Template.Induction.term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Utils.MRList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>. <span class="id" title="var">solve_all</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mkApps_morphism"><span class="id" title="lemma">mkApps_morphism</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Utils.MRList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>. <span class="id" title="var">solve_all</span>. }<br/>
&nbsp;&nbsp;2-3:<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#tFixProp"><span class="id" title="definition">BasicAst.tFixProp</span></a>, <a class="idref" href="MetaRocq.Template.Ast.html#tCaseBrsProp"><span class="id" title="definition">Ast.tCaseBrsProp</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">toAll</span>; <span class="id" title="var">solve_list</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">dest_lookup</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">solve_list</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a> /= /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_predicate"><span class="id" title="definition">map_predicate</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map2_map_r"><span class="id" title="lemma">PCUICUnivSubstitutionConv.map2_map_r</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map2_map_r"><span class="id" title="lemma">PCUICUnivSubstitutionConv.map2_map_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All_map2"><span class="id" title="lemma">All_map2</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="var">cbn</span> ⇒ <span class="id" title="var">cdecl</span> <span class="id" title="var">br</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_branch"><span class="id" title="definition">trans_branch</span></a> /= /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_predicate"><span class="id" title="definition">map_predicate</span></a> /=. <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.utils.PCUICPrimitive.html#mapu_array_model"><span class="id" title="definition">mapu_array_model</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_destArity" class="idref" href="#trans_destArity"><span class="id" title="lemma">trans_destArity</span></a> {<a id="cf:106" class="idref" href="#cf:106"><span class="id" title="binder">cf</span></a>} {<a id="a6d311064048df265b9aa86182050d17" class="idref" href="#a6d311064048df265b9aa86182050d17"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6bb6912b0bb96afe8de920dfc1ec9d0"><span class="id" title="variable">Σ</span></a>} <a id="ctx:108" class="idref" href="#ctx:108"><span class="id" title="binder">ctx</span></a> <a id="t:109" class="idref" href="#t:109"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">Template.WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6bb6912b0bb96afe8de920dfc1ec9d0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:109"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6bb6912b0bb96afe8de920dfc1ec9d0"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Template.Ast.html#destArity"><span class="id" title="definition">Ast.destArity</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:108"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:109"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">args</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">s</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">destArity</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local"><span class="id" title="abbreviation">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:108"><span class="id" title="variable">ctx</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:109"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local"><span class="id" title="abbreviation">trans_local</span></a> <span class="id" title="var">args</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">s</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">destArity</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local"><span class="id" title="abbreviation">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:108"><span class="id" title="variable">ctx</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:109"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wf'</span>; <span class="id" title="var">revert</span> <span class="id" title="var">ctx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="keyword">wf</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Template.WfAst.html#term_wf_forall_list_ind"><span class="id" title="lemma">WfAst.term_wf_forall_list_ind</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">ctx</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IHwf0</span> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.vass"><span class="id" title="definition">Ast.Env.vass</span></a> <span class="id" title="var">n</span> <span class="id" title="var">t</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ctx</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IHwf1</span> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.vdef"><span class="id" title="definition">Ast.Env.vdef</span></a> <span class="id" title="var">n</span> <span class="id" title="var">t</span> <span class="id" title="var">t0</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ctx</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#destArity_mkApps"><span class="id" title="lemma">destArity_mkApps</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> []. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup"><span class="id" title="lemma">trans_lookup</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6bb6912b0bb96afe8de920dfc1ec9d0"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <span class="id" title="var">ci</span>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#ci_ind"><span class="id" title="projection">ci_ind</span></a>)) <span class="id" title="var">wfΣ</span> <span class="id" title="var">wf'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#TransLookup.lookup_inductive"><span class="id" title="definition">TransLookup.lookup_inductive</span></a> <span class="id" title="keyword">as</span> [[<span class="id" title="var">mdecl'</span> <span class="id" title="var">idecl'</span>]|] <span class="id" title="var">eqn</span>:<span class="id" title="var">hl</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Alli_map_option_out_mapi_Some_spec" class="idref" href="#Alli_map_option_out_mapi_Some_spec"><span class="id" title="lemma">Alli_map_option_out_mapi_Some_spec</span></a> {<a id="A:110" class="idref" href="#A:110"><span class="id" title="binder">A</span></a> <a id="B:111" class="idref" href="#B:111"><span class="id" title="binder">B</span></a> <a id="B':112" class="idref" href="#B':112"><span class="id" title="binder">B'</span></a>} (<a id="f:113" class="idref" href="#f:113"><span class="id" title="binder">f</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:110"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:111"><span class="id" title="variable">B</span></a>) (<a id="g':114" class="idref" href="#g':114"><span class="id" title="binder">g'</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:111"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B':112"><span class="id" title="variable">B'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="g:115" class="idref" href="#g:115"><span class="id" title="binder">g</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:110"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B':112"><span class="id" title="variable">B'</span></a>) <a id="P:116" class="idref" href="#P:116"><span class="id" title="binder">P</span></a> <a id="l:117" class="idref" href="#l:117"><span class="id" title="binder">l</span></a> <a id="t:118" class="idref" href="#t:118"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#Alli"><span class="id" title="inductive">Alli</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:116"><span class="id" title="variable">P</span></a> 0 <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:117"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:119" class="idref" href="#i:119"><span class="id" title="binder">i</span></a> <a id="x:120" class="idref" href="#x:120"><span class="id" title="binder">x</span></a> <a id="t:121" class="idref" href="#t:121"><span class="id" title="binder">t</span></a>, <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:116"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:119"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:120"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:113"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:119"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:120"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:121"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:115"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:119"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:120"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g':114"><span class="id" title="variable">g'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:121"><span class="id" title="variable">t</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MROption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:113"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:117"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:118"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MROption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:115"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:117"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g':114"><span class="id" title="variable">g'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:118"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Utils.MRList.html#mapi"><span class="id" title="definition">mapi</span></a>. <span class="id" title="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">n</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hfg</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">n</span> <span class="id" title="var">Hl</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">t</span> [= &lt;-] //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">E</span>: (<span class="id" title="var">f</span> <span class="id" title="var">n</span> <span class="id" title="var">hd</span>) ⇒ [<span class="id" title="var">b</span>|]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Hfg</span> <span class="id" title="var">n</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">E'</span> : <a class="idref" href="MetaRocq.Utils.MROption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> ⇒ [<span class="id" title="var">b'</span>|]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">t</span> [= &lt;-]. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IHHl</span> <span class="id" title="var">_</span> <span class="id" title="var">E'</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All2_map_option_out_mapi_Some_spec" class="idref" href="#All2_map_option_out_mapi_Some_spec"><span class="id" title="lemma">All2_map_option_out_mapi_Some_spec</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:122" class="idref" href="#A:122"><span class="id" title="binder">A</span></a> <a id="B:123" class="idref" href="#B:123"><span class="id" title="binder">B</span></a> <a id="B':124" class="idref" href="#B':124"><span class="id" title="binder">B'</span></a> <a id="S:125" class="idref" href="#S:125"><span class="id" title="binder">S</span></a>} (<a id="f:126" class="idref" href="#f:126"><span class="id" title="binder">f</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:122"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:123"><span class="id" title="variable">B</span></a>) (<a id="g':127" class="idref" href="#g':127"><span class="id" title="binder">g'</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:123"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B':124"><span class="id" title="variable">B'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="g:128" class="idref" href="#g:128"><span class="id" title="binder">g</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:122"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B':124"><span class="id" title="variable">B'</span></a>) <a id="P:129" class="idref" href="#P:129"><span class="id" title="binder">P</span></a> <a id="l:130" class="idref" href="#l:130"><span class="id" title="binder">l</span></a> (<a id="ls:131" class="idref" href="#ls:131"><span class="id" title="binder">ls</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#S:125"><span class="id" title="variable">S</span></a>) <a id="t:132" class="idref" href="#t:132"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:129"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:130"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ls:131"><span class="id" title="variable">ls</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:133" class="idref" href="#i:133"><span class="id" title="binder">i</span></a> <a id="x:134" class="idref" href="#x:134"><span class="id" title="binder">x</span></a> <a id="t:135" class="idref" href="#t:135"><span class="id" title="binder">t</span></a> <a id="s:136" class="idref" href="#s:136"><span class="id" title="binder">s</span></a>, <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:129"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:134"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#s:136"><span class="id" title="variable">s</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:126"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:133"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:134"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:135"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:128"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:133"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:134"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g':127"><span class="id" title="variable">g'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:135"><span class="id" title="variable">t</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MROption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:126"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:130"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:132"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MROption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:128"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:130"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g':127"><span class="id" title="variable">g'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:132"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span> <span class="id" title="var">S</span> <span class="id" title="var">f</span> <span class="id" title="var">g'</span> <span class="id" title="var">g</span> <span class="id" title="var">P</span> <span class="id" title="var">l</span> <span class="id" title="var">ls</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Utils.MRList.html#mapi"><span class="id" title="definition">mapi</span></a>. <span class="id" title="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">hall</span> <span class="id" title="var">h</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">hall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">t</span>, <span class="id" title="var">n</span>, <span class="id" title="var">h</span>, <span class="id" title="var">e</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MROption.html#some_inj"><span class="id" title="lemma">some_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">f</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">e'</span>. 2: <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">h</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span> <span class="id" title="keyword">as</span> <span class="id" title="var">h'</span>. 2: <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">h'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">e</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span> [ <a class="idref" href="MetaRocq.Utils.MROption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> ?<span class="id" title="var">t</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.MROption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">e''</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>. 2: <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHhall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e''</span> <span class="id" title="keyword">as</span> <span class="id" title="var">h''</span>. 2: <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">h''</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MROption.html#some_inj"><span class="id" title="lemma">some_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="on_pair" class="idref" href="#on_pair"><span class="id" title="definition">on_pair</span></a> {<a id="A:137" class="idref" href="#A:137"><span class="id" title="binder">A</span></a> <a id="B:138" class="idref" href="#B:138"><span class="id" title="binder">B</span></a> <a id="C:139" class="idref" href="#C:139"><span class="id" title="binder">C</span></a> <a id="D:140" class="idref" href="#D:140"><span class="id" title="binder">D</span></a>} (<a id="f:141" class="idref" href="#f:141"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:137"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:138"><span class="id" title="variable">B</span></a>) (<a id="g:142" class="idref" href="#g:142"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:139"><span class="id" title="variable">C</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#D:140"><span class="id" title="variable">D</span></a>) (<a id="x:143" class="idref" href="#x:143"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:137"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:139"><span class="id" title="variable">C</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:141"><span class="id" title="variable">f</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:143"><span class="id" title="variable">x</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:142"><span class="id" title="variable">g</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:143"><span class="id" title="variable">x</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_inds" class="idref" href="#trans_inds"><span class="id" title="lemma">trans_inds</span></a> <a id="kn:144" class="idref" href="#kn:144"><span class="id" title="binder">kn</span></a> <a id="u:145" class="idref" href="#u:145"><span class="id" title="binder">u</span></a> <a id="bodies:146" class="idref" href="#bodies:146"><span class="id" title="binder">bodies</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#inds"><span class="id" title="definition">Ast.inds</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#kn:144"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:145"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bodies:146"><span class="id" title="variable">bodies</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">inds</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#kn:144"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:145"><span class="id" title="variable">u</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6bb6912b0bb96afe8de920dfc1ec9d0"><span class="id" title="variable">Σ</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bodies:146"><span class="id" title="variable">bodies</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">inds</span></a>, <a class="idref" href="MetaRocq.Template.Ast.html#inds"><span class="id" title="definition">Ast.inds</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">bodies</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_it_mkProd_or_LetIn" class="idref" href="#trans_it_mkProd_or_LetIn"><span class="id" title="lemma">trans_it_mkProd_or_LetIn</span></a> <a id="ctx:147" class="idref" href="#ctx:147"><span class="id" title="binder">ctx</span></a> <a id="t:148" class="idref" href="#t:148"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.it_mkProd_or_LetIn"><span class="id" title="definition">Ast.Env.it_mkProd_or_LetIn</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:147"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:148"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:147"><span class="id" title="variable">ctx</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:148"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ctx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">t</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">body</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHctx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHctx</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_it_mkLambda_or_LetIn" class="idref" href="#trans_it_mkLambda_or_LetIn"><span class="id" title="lemma">trans_it_mkLambda_or_LetIn</span></a> <a id="ctx:149" class="idref" href="#ctx:149"><span class="id" title="binder">ctx</span></a> <a id="t:150" class="idref" href="#t:150"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.it_mkLambda_or_LetIn"><span class="id" title="definition">Ast.Env.it_mkLambda_or_LetIn</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:149"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:150"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkLambda_or_LetIn"><span class="id" title="definition">it_mkLambda_or_LetIn</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:149"><span class="id" title="variable">ctx</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:150"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ctx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">t</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">body</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHctx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHctx</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_local_subst_instance" class="idref" href="#trans_local_subst_instance"><span class="id" title="lemma">trans_local_subst_instance</span></a> <a id="u:151" class="idref" href="#u:151"><span class="id" title="binder">u</span></a> (<a id="2c94f62073996c52f8e49116de17c281" class="idref" href="#2c94f62073996c52f8e49116de17c281"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.context"><span class="id" title="definition">Ast.Env.context</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local"><span class="id" title="abbreviation">trans_local</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:151"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2c94f62073996c52f8e49116de17c281"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:151"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local"><span class="id" title="abbreviation">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2c94f62073996c52f8e49116de17c281"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [| [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">A</span>] <span class="id" title="var">Γ</span> <span class="id" title="var">ih</span> ] <span class="id" title="tactic">in</span> <span class="id" title="var">u</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. 2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">ih</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a>, <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. 2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">ih</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a>, <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="decompose_prod_assum_mkApps_nonnil" class="idref" href="#decompose_prod_assum_mkApps_nonnil"><span class="id" title="lemma">decompose_prod_assum_mkApps_nonnil</span></a> <a id="ctx:153" class="idref" href="#ctx:153"><span class="id" title="binder">ctx</span></a> <a id="f:154" class="idref" href="#f:154"><span class="id" title="binder">f</span></a> <a id="args:155" class="idref" href="#args:155"><span class="id" title="binder">args</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#args:155"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:153"><span class="id" title="variable">ctx</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:154"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#args:155"><span class="id" title="variable">args</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:153"><span class="id" title="variable">ctx</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:154"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#args:155"><span class="id" title="variable">args</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">args</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#mkApps_nonempty"><span class="id" title="lemma">mkApps_nonempty</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="78f5ffc03755375ae4b594444f90fb83" class="idref" href="#78f5ffc03755375ae4b594444f90fb83"><span class="id" title="abbreviation">trΣ</span></a> := (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6bb6912b0bb96afe8de920dfc1ec9d0"><span class="id" title="variable">Σ</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_ind_params" class="idref" href="#trans_ind_params"><span class="id" title="lemma">trans_ind_params</span></a> <a id="mdecl:156" class="idref" href="#mdecl:156"><span class="id" title="binder">mdecl</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local"><span class="id" title="abbreviation">trans_local</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:156"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#78f5ffc03755375ae4b594444f90fb83"><span class="id" title="abbreviation">trΣ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:156"><span class="id" title="variable">mdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_ind_bodies" class="idref" href="#trans_ind_bodies"><span class="id" title="lemma">trans_ind_bodies</span></a> <a id="mdecl:157" class="idref" href="#mdecl:157"><span class="id" title="binder">mdecl</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#78f5ffc03755375ae4b594444f90fb83"><span class="id" title="abbreviation">trΣ</span></a>) (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">Ast.Env.ind_bodies</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:157"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6bb6912b0bb96afe8de920dfc1ec9d0"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:157"><span class="id" title="variable">mdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_ind_bodies_length" class="idref" href="#trans_ind_bodies_length"><span class="id" title="lemma">trans_ind_bodies_length</span></a> <a id="mdecl:158" class="idref" href="#mdecl:158"><span class="id" title="binder">mdecl</span></a> : <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">Ast.Env.ind_bodies</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:158"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#78f5ffc03755375ae4b594444f90fb83"><span class="id" title="abbreviation">trΣ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:158"><span class="id" title="variable">mdecl</span></a>)<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_ind_params_length" class="idref" href="#trans_ind_params_length"><span class="id" title="lemma">trans_ind_params_length</span></a> <a id="mdecl:159" class="idref" href="#mdecl:159"><span class="id" title="binder">mdecl</span></a> : <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:159"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#78f5ffc03755375ae4b594444f90fb83"><span class="id" title="abbreviation">trΣ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:159"><span class="id" title="variable">mdecl</span></a>)<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_ind_npars" class="idref" href="#trans_ind_npars"><span class="id" title="lemma">trans_ind_npars</span></a> <a id="mdecl:160" class="idref" href="#mdecl:160"><span class="id" title="binder">mdecl</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_npars"><span class="id" title="projection">Ast.Env.ind_npars</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:160"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_npars"><span class="id" title="projection">ind_npars</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#78f5ffc03755375ae4b594444f90fb83"><span class="id" title="abbreviation">trΣ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:160"><span class="id" title="variable">mdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_reln" class="idref" href="#trans_reln"><span class="id" title="lemma">trans_reln</span></a> <a id="l:161" class="idref" href="#l:161"><span class="id" title="binder">l</span></a> <a id="p:162" class="idref" href="#p:162"><span class="id" title="binder">p</span></a> <a id="e13fd54a03223b3dca3e4ccd9cb6b4d8" class="idref" href="#e13fd54a03223b3dca3e4ccd9cb6b4d8"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.reln"><span class="id" title="definition">Ast.Env.reln</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:161"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:162"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#e13fd54a03223b3dca3e4ccd9cb6b4d8"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.reln"><span class="id" title="definition">reln</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:161"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:162"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local"><span class="id" title="abbreviation">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#e13fd54a03223b3dca3e4ccd9cb6b4d8"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">Γ</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>, <span class="id" title="var">p</span> |- *; <span class="id" title="tactic">simpl</span>; [<span class="id" title="tactic">auto</span>..|].<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_to_extended_list" class="idref" href="#trans_to_extended_list"><span class="id" title="lemma">trans_to_extended_list</span></a> <a id="2ad36155a1dcd609408bc407f39872c1" class="idref" href="#2ad36155a1dcd609408bc407f39872c1"><span class="id" title="binder">Γ</span></a> <a id="n:165" class="idref" href="#n:165"><span class="id" title="binder">n</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.to_extended_list_k"><span class="id" title="definition">Ast.Env.to_extended_list_k</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2ad36155a1dcd609408bc407f39872c1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:165"><span class="id" title="variable">n</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local"><span class="id" title="abbreviation">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2ad36155a1dcd609408bc407f39872c1"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:165"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_reln"><span class="id" title="lemma">trans_reln</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="context_assumptions_map" class="idref" href="#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a> <a id="ctx:166" class="idref" href="#ctx:166"><span class="id" title="binder">ctx</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:166"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:166"><span class="id" title="variable">ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ctx</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">ctx</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">Template.TypingWf.typing_wf</span> : <span class="id" title="keyword">wf</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mkApps_trans_wf" class="idref" href="#mkApps_trans_wf"><span class="id" title="lemma">mkApps_trans_wf</span></a> <a id="U:167" class="idref" href="#U:167"><span class="id" title="binder">U</span></a> <a id="l:168" class="idref" href="#l:168"><span class="id" title="binder">l</span></a> :<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">Template.WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6bb6912b0bb96afe8de920dfc1ec9d0"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#tApp"><span class="id" title="constructor">Template.Ast.tApp</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#U:167"><span class="id" title="variable">U</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:168"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="U':169" class="idref" href="#U':169"><span class="id" title="binder">U'</span></a> <a id="V':170" class="idref" href="#V':170"><span class="id" title="binder">V'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#tApp"><span class="id" title="constructor">Template.Ast.tApp</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#U:167"><span class="id" title="variable">U</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:168"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#U':169"><span class="id" title="variable">U'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#V':170"><span class="id" title="variable">V'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">∃</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <span class="id" title="var">U</span>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <span class="id" title="var">l</span>)), (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span>. <span class="id" title="var">revert</span> <span class="id" title="var">U</span> <span class="id" title="var">x</span> ; <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Derive</span> <span class="id" title="var">Signature</span> <span class="id" title="keyword">for</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#eq_term_upto_univ_napp"><span class="id" title="inductive">SEq.eq_term_upto_univ_napp</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Translation"><span class="id" title="section">Translation</span></a>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Trans_Global" class="idref" href="#Trans_Global"><span class="id" title="section">Trans_Global</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="Trans_Global.cf" class="idref" href="#Trans_Global.cf"><span class="id" title="variable">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="4473f27ac00902d98520fb57df7e978d" class="idref" href="#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env"><span class="id" title="record">Ast.Env.global_env</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="52b145392dfbad12f334141f4035e258" class="idref" href="#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> := (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="7cc76be42ca55806989f3575d3f1d4fa" class="idref" href="#7cc76be42ca55806989f3575d3f1d4fa"><span class="id" title="variable">wfΣ</span></a> : <a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="d6ae190eb0b8d8742aa8593c095cc94a" class="idref" href="#d6ae190eb0b8d8742aa8593c095cc94a"><span class="id" title="variable">wfΣ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="forall_decls_declared_constant" class="idref" href="#forall_decls_declared_constant"><span class="id" title="lemma">forall_decls_declared_constant</span></a> <a id="cst:175" class="idref" href="#cst:175"><span class="id" title="binder">cst</span></a> <a id="decl:176" class="idref" href="#decl:176"><span class="id" title="binder">decl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Ast.html#declared_constant"><span class="id" title="definition">Ast.declared_constant</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:175"><span class="id" title="variable">cst</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#decl:176"><span class="id" title="variable">decl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_constant"><span class="id" title="definition">declared_constant</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:175"><span class="id" title="variable">cst</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_constant_body"><span class="id" title="definition">trans_constant_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#decl:176"><span class="id" title="variable">decl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.Typing.html#TemplateDeclarationTyping.declared_constant_to_gen"><span class="id" title="lemma">Typing.TemplateDeclarationTyping.declared_constant_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_constant_from_gen"><span class="id" title="lemma">declared_constant_from_gen</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">move</span>:<span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_constant"><span class="id" title="definition">declared_constant</span></a>, <a class="idref" href="MetaRocq.Template.Ast.html#declared_constant"><span class="id" title="definition">Ast.declared_constant</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_constant_gen"><span class="id" title="definition">declared_constant_gen</span></a>, <a class="idref" href="MetaRocq.Template.Ast.html#declared_constant_gen"><span class="id" title="definition">Ast.declared_constant_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup"><span class="id" title="lemma">trans_lookup</span></a> ⇒ → /=.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="forall_decls_declared_minductive" class="idref" href="#forall_decls_declared_minductive"><span class="id" title="lemma">forall_decls_declared_minductive</span></a> <a id="cst:177" class="idref" href="#cst:177"><span class="id" title="binder">cst</span></a> <a id="decl:178" class="idref" href="#decl:178"><span class="id" title="binder">decl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Ast.html#declared_minductive"><span class="id" title="definition">Ast.declared_minductive</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:177"><span class="id" title="variable">cst</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#decl:178"><span class="id" title="variable">decl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_minductive"><span class="id" title="definition">declared_minductive</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:177"><span class="id" title="variable">cst</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#decl:178"><span class="id" title="variable">decl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.Typing.html#TemplateDeclarationTyping.declared_minductive_to_gen"><span class="id" title="lemma">Typing.TemplateDeclarationTyping.declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_minductive_from_gen"><span class="id" title="lemma">declared_minductive_from_gen</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">move</span>:<span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_minductive"><span class="id" title="definition">declared_minductive</span></a>, <a class="idref" href="MetaRocq.Template.Ast.html#declared_minductive"><span class="id" title="definition">Ast.declared_minductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_minductive_gen"><span class="id" title="definition">declared_minductive_gen</span></a>, <a class="idref" href="MetaRocq.Template.Ast.html#declared_minductive_gen"><span class="id" title="definition">Ast.declared_minductive_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup"><span class="id" title="lemma">trans_lookup</span></a> ⇒ → /=.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="forall_decls_declared_inductive" class="idref" href="#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <a id="ind:179" class="idref" href="#ind:179"><span class="id" title="binder">ind</span></a> <a id="mdecl:180" class="idref" href="#mdecl:180"><span class="id" title="binder">mdecl</span></a> <a id="idecl:181" class="idref" href="#idecl:181"><span class="id" title="binder">idecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Ast.html#declared_inductive"><span class="id" title="definition">Ast.declared_inductive</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:179"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:180"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:181"><span class="id" title="variable">idecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:179"><span class="id" title="variable">ind</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:180"><span class="id" title="variable">mdecl</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:181"><span class="id" title="variable">idecl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a>, <a class="idref" href="MetaRocq.Template.Ast.html#declared_inductive"><span class="id" title="definition">Ast.declared_inductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [<span class="id" title="var">decl'</span> <span class="id" title="var">Hnth</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_minductive"><span class="id" title="lemma">forall_decls_declared_minductive</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">decl'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">Hnth</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="forall_decls_declared_constructor" class="idref" href="#forall_decls_declared_constructor"><span class="id" title="lemma">forall_decls_declared_constructor</span></a> <a id="cst:182" class="idref" href="#cst:182"><span class="id" title="binder">cst</span></a> <a id="mdecl:183" class="idref" href="#mdecl:183"><span class="id" title="binder">mdecl</span></a> <a id="idecl:184" class="idref" href="#idecl:184"><span class="id" title="binder">idecl</span></a> <a id="cdecl:185" class="idref" href="#cdecl:185"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Ast.html#declared_constructor"><span class="id" title="definition">Ast.declared_constructor</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:182"><span class="id" title="variable">cst</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:183"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:184"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:185"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_constructor"><span class="id" title="definition">declared_constructor</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:182"><span class="id" title="variable">cst</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:183"><span class="id" title="variable">mdecl</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:184"><span class="id" title="variable">idecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:185"><span class="id" title="variable">cdecl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_constructor"><span class="id" title="definition">declared_constructor</span></a>, <a class="idref" href="MetaRocq.Template.Ast.html#declared_constructor"><span class="id" title="definition">Ast.declared_constructor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [<span class="id" title="var">decl'</span> <span class="id" title="var">Hnth</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">decl'</span>). <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">Hnth</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="forall_decls_declared_projection" class="idref" href="#forall_decls_declared_projection"><span class="id" title="lemma">forall_decls_declared_projection</span></a> <a id="cst:186" class="idref" href="#cst:186"><span class="id" title="binder">cst</span></a> <a id="mdecl:187" class="idref" href="#mdecl:187"><span class="id" title="binder">mdecl</span></a> <a id="idecl:188" class="idref" href="#idecl:188"><span class="id" title="binder">idecl</span></a> <a id="cdecl:189" class="idref" href="#cdecl:189"><span class="id" title="binder">cdecl</span></a> <a id="pdecl:190" class="idref" href="#pdecl:190"><span class="id" title="binder">pdecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Ast.html#declared_projection"><span class="id" title="definition">Ast.declared_projection</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:186"><span class="id" title="variable">cst</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:187"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:188"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:189"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pdecl:190"><span class="id" title="variable">pdecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_projection"><span class="id" title="definition">declared_projection</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:186"><span class="id" title="variable">cst</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:187"><span class="id" title="variable">mdecl</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:188"><span class="id" title="variable">idecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:189"><span class="id" title="variable">cdecl</span></a>)  (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_projection_body"><span class="id" title="definition">trans_projection_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pdecl:190"><span class="id" title="variable">pdecl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_constructor"><span class="id" title="definition">declared_constructor</span></a>, <a class="idref" href="MetaRocq.Template.Ast.html#declared_constructor"><span class="id" title="definition">Ast.declared_constructor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [<span class="id" title="var">decl'</span> [<span class="id" title="var">Hnth</span> <span class="id" title="var">Hnpar</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_constructor"><span class="id" title="lemma">forall_decls_declared_constructor</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">decl'</span>). <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">Hnth</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Trans_Global"><span class="id" title="section">Trans_Global</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_global_env_impl" class="idref" href="#on_global_env_impl"><span class="id" title="lemma">on_global_env_impl</span></a> `{<a id="H:191" class="idref" href="#H:191"><span class="id" title="binder">checker_flags</span></a>} {<a id="7a30855d6487ab608271d9196ba33291" class="idref" href="#7a30855d6487ab608271d9196ba33291"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env"><span class="id" title="record">Ast.Env.global_env</span></a>} <a id="P:193" class="idref" href="#P:193"><span class="id" title="binder">P</span></a> <a id="Q:194" class="idref" href="#Q:194"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="0fef1d1c69a57bd0642c6cbc6daf214e" class="idref" href="#0fef1d1c69a57bd0642c6cbc6daf214e"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>) <a id="0e542b5e41283602863de8f36ac43b3a" class="idref" href="#0e542b5e41283602863de8f36ac43b3a"><span class="id" title="binder">Γ</span></a> <a id="j:197" class="idref" href="#j:197"><span class="id" title="binder">j</span></a>, <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#on_global_env"><span class="id" title="definition">ST.on_global_env</span></a> <a class="idref" href="MetaRocq.Template.Typing.html#cumul_gen"><span class="id" title="inductive">Typing.cumul_gen</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:193"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0fef1d1c69a57bd0642c6cbc6daf214e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:193"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0fef1d1c69a57bd0642c6cbc6daf214e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0e542b5e41283602863de8f36ac43b3a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#j:197"><span class="id" title="variable">j</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Q:194"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0fef1d1c69a57bd0642c6cbc6daf214e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0e542b5e41283602863de8f36ac43b3a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#j:197"><span class="id" title="variable">j</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#on_global_env"><span class="id" title="definition">ST.on_global_env</span></a> <a class="idref" href="MetaRocq.Template.Typing.html#cumul_gen"><span class="id" title="inductive">Typing.cumul_gen</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:193"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7a30855d6487ab608271d9196ba33291"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#on_global_env"><span class="id" title="definition">ST.on_global_env</span></a> <a class="idref" href="MetaRocq.Template.Typing.html#cumul_gen"><span class="id" title="inductive">Typing.cumul_gen</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Q:194"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7a30855d6487ab608271d9196ba33291"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#on_global_env_impl"><span class="id" title="lemma">on_global_env_impl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typing_wf_wf" class="idref" href="#typing_wf_wf"><span class="id" title="lemma">typing_wf_wf</span></a> {<a id="cf:198" class="idref" href="#cf:198"><span class="id" title="binder">cf</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="ff6cd2995c6e7da506b579f1c569f20b" class="idref" href="#ff6cd2995c6e7da506b579f1c569f20b"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env"><span class="id" title="record">Ast.Env.global_env</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf"><span class="id" title="class">ST.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ff6cd2995c6e7da506b579f1c569f20b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#on_global_env"><span class="id" title="definition">ST.on_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cumul_gen"><span class="id" title="inductive">ST.cumul_gen</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="bc53737cf80752f15e39a2d7f2616823" class="idref" href="#bc53737cf80752f15e39a2d7f2616823"><span class="id" title="binder">Σ</span></a> <a id="494ee1ad18291cf26f6424432125caa8" class="idref" href="#494ee1ad18291cf26f6424432125caa8"><span class="id" title="binder">Γ</span></a> <a id="j:202" class="idref" href="#j:202"><span class="id" title="binder">j</span></a> ⇒ <a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl_pred"><span class="id" title="definition">WfAst.wf_decl_pred</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bc53737cf80752f15e39a2d7f2616823"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#494ee1ad18291cf26f6424432125caa8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#j:202"><span class="id" title="variable">j</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ff6cd2995c6e7da506b579f1c569f20b"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#on_global_env_impl"><span class="id" title="lemma">on_global_env_impl</span></a>. <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">Γ</span> <span class="id" title="var">j</span> ? <span class="id" title="var">Hj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#lift_typing_wf_pred"><span class="id" title="lemma">lift_typing_wf_pred</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Γ</span> := <span class="id" title="var">Γ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#lift_typing_impl"><span class="id" title="lemma">ST.lift_typing_impl</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">Hj</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">typing_wf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="declared_inductive_inj" class="idref" href="#declared_inductive_inj"><span class="id" title="lemma">declared_inductive_inj</span></a> {<a id="cf:203" class="idref" href="#cf:203"><span class="id" title="binder">cf</span></a> <a id="c27827c3cdb017ea2f080dc5adaf2a36" class="idref" href="#c27827c3cdb017ea2f080dc5adaf2a36"><span class="id" title="binder">Σ</span></a> <a id="mdecl:205" class="idref" href="#mdecl:205"><span class="id" title="binder">mdecl</span></a> <a id="mdecl':206" class="idref" href="#mdecl':206"><span class="id" title="binder">mdecl'</span></a> <a id="ind:207" class="idref" href="#ind:207"><span class="id" title="binder">ind</span></a> <a id="idecl:208" class="idref" href="#idecl:208"><span class="id" title="binder">idecl</span></a> <a id="idecl':209" class="idref" href="#idecl':209"><span class="id" title="binder">idecl'</span></a>}<br/>
&nbsp;&nbsp;{<a id="073badd6c2d35369269140d8c25a1001" class="idref" href="#073badd6c2d35369269140d8c25a1001"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c27827c3cdb017ea2f080dc5adaf2a36"><span class="id" title="variable">Σ</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Ast.html#declared_inductive"><span class="id" title="definition">Ast.declared_inductive</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c27827c3cdb017ea2f080dc5adaf2a36"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:207"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':206"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':209"><span class="id" title="variable">idecl'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Ast.html#declared_inductive"><span class="id" title="definition">Ast.declared_inductive</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c27827c3cdb017ea2f080dc5adaf2a36"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:207"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:205"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:208"><span class="id" title="variable">idecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:205"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':206"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:208"><span class="id" title="variable">idecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':209"><span class="id" title="variable">idecl'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] []. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Template.Ast.html#declared_minductive"><span class="id" title="definition">Ast.declared_minductive</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.Typing.html#TemplateDeclarationTyping.declared_minductive_to_gen"><span class="id" title="lemma">Typing.TemplateDeclarationTyping.declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>, <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Template.Ast.html#declared_minductive_gen"><span class="id" title="definition">Ast.declared_minductive_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_inductive_None" class="idref" href="#lookup_inductive_None"><span class="id" title="lemma">lookup_inductive_None</span></a> {<a id="cf:211" class="idref" href="#cf:211"><span class="id" title="binder">cf</span></a>} <a id="c872eda3916c9f2fc33ba60c8cc96c11" class="idref" href="#c872eda3916c9f2fc33ba60c8cc96c11"><span class="id" title="binder">Σ</span></a> {<a id="d449c9d642d033adbdcce4a165c876b4" class="idref" href="#d449c9d642d033adbdcce4a165c876b4"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c872eda3916c9f2fc33ba60c8cc96c11"><span class="id" title="variable">Σ</span></a>} <a id="ind:214" class="idref" href="#ind:214"><span class="id" title="binder">ind</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c872eda3916c9f2fc33ba60c8cc96c11"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:214"><span class="id" title="variable">ind</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="mdecl:215" class="idref" href="#mdecl:215"><span class="id" title="binder">mdecl</span></a> <a id="idecl:216" class="idref" href="#idecl:216"><span class="id" title="binder">idecl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c872eda3916c9f2fc33ba60c8cc96c11"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:214"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:215"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:216"><span class="id" title="variable">idecl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hl</span> [<span class="id" title="var">mdecl</span> [<span class="id" title="var">idecl</span> [<span class="id" title="var">decli</span> <span class="id" title="var">hnth</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decli</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_minductive"><span class="id" title="definition">declared_minductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decli</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_inductive_gen"><span class="id" title="definition">lookup_inductive_gen</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_minductive"><span class="id" title="definition">lookup_minductive</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_minductive_gen"><span class="id" title="definition">lookup_minductive_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_minductive_gen"><span class="id" title="definition">declared_minductive_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decli</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">decli</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="tactic">congruence</span>. <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Trans_Global" class="idref" href="#Trans_Global"><span class="id" title="section">Trans_Global</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="Trans_Global.cf" class="idref" href="#Trans_Global.cf"><span class="id" title="variable">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="4473f27ac00902d98520fb57df7e978d" class="idref" href="#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env"><span class="id" title="record">Ast.Env.global_env</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="52b145392dfbad12f334141f4035e258" class="idref" href="#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> := (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="7cc76be42ca55806989f3575d3f1d4fa" class="idref" href="#7cc76be42ca55806989f3575d3f1d4fa"><span class="id" title="variable">wfΣ</span></a> : <a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="d6ae190eb0b8d8742aa8593c095cc94a" class="idref" href="#d6ae190eb0b8d8742aa8593c095cc94a"><span class="id" title="variable">wfΣ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_cmp_global_instance" class="idref" href="#trans_cmp_global_instance"><span class="id" title="lemma">trans_cmp_global_instance</span></a> {<a id="cmp_universe:221" class="idref" href="#cmp_universe:221"><span class="id" title="binder">cmp_universe</span></a> <a id="pb:222" class="idref" href="#pb:222"><span class="id" title="binder">pb</span></a> <a id="gref:223" class="idref" href="#gref:223"><span class="id" title="binder">gref</span></a> <a id="napp:224" class="idref" href="#napp:224"><span class="id" title="binder">napp</span></a> <a id="u:225" class="idref" href="#u:225"><span class="id" title="binder">u</span></a> <a id="u':226" class="idref" href="#u':226"><span class="id" title="binder">u'</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cmp_global_instance"><span class="id" title="abbreviation">SEq.cmp_global_instance</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cmp_universe:221"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pb:222"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#gref:223"><span class="id" title="variable">gref</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#napp:224"><span class="id" title="variable">napp</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:225"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u':226"><span class="id" title="variable">u'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_global_instance"><span class="id" title="abbreviation">cmp_global_instance</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cmp_universe:221"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pb:222"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#gref:223"><span class="id" title="variable">gref</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#napp:224"><span class="id" title="variable">napp</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:225"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u':226"><span class="id" title="variable">u'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cmp_global_instance_gen"><span class="id" title="definition">SEq.cmp_global_instance</span></a>, <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#global_variance_gen"><span class="id" title="definition">SEq.global_variance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">gref</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_global_instance_gen"><span class="id" title="definition">cmp_global_instance_gen</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_opt_variance"><span class="id" title="definition">cmp_opt_variance</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Template.Ast.html#lookup_inductive_gen"><span class="id" title="definition">Ast.lookup_inductive_gen</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_inductive_gen"><span class="id" title="definition">lookup_inductive_gen</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Ast.html#lookup_minductive_gen"><span class="id" title="definition">Ast.lookup_minductive_gen</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_minductive_gen"><span class="id" title="definition">lookup_minductive_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup"><span class="id" title="lemma">trans_lookup</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Template.Ast.html#Env.lookup_env"><span class="id" title="definition">Ast.Env.lookup_env</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">look</span> ⇒ //; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">g</span> ⇒ /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">hnth</span> ⇒ /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">wfty</span> : <a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_type"><span class="id" title="projection">Ast.Env.ind_type</span></a> <span class="id" title="var">o</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#declared_inductive_wf"><span class="id" title="lemma">declared_inductive_wf</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#typing_wf_sigma"><span class="id" title="lemma">typing_wf_sigma</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.Typing.html#TemplateDeclarationTyping.declared_minductive_from_gen"><span class="id" title="lemma">Typing.TemplateDeclarationTyping.declared_minductive_from_gen</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_destArity"><span class="id" title="lemma">trans_destArity</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_type"><span class="id" title="projection">Ast.Env.ind_type</span></a> <span class="id" title="var">o</span>) <span class="id" title="var">wfty</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6ae190eb0b8d8742aa8593c095cc94a"><span class="id" title="variable">wfΣ'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Template.Ast.html#destArity"><span class="id" title="definition">Ast.destArity</span></a> <span class="id" title="keyword">as</span> [[<span class="id" title="var">ctx</span> <span class="id" title="var">ps</span>]|] <span class="id" title="var">eqn</span>:<span class="id" title="var">eq'</span> ⇒ /= // → //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_global_instance_gen"><span class="id" title="definition">cmp_global_instance_gen</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_opt_variance"><span class="id" title="definition">cmp_opt_variance</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_constructor"><span class="id" title="definition">lookup_constructor</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_minductive"><span class="id" title="definition">lookup_minductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Template.Ast.html#lookup_constructor"><span class="id" title="definition">Ast.lookup_constructor</span></a>, <a class="idref" href="MetaRocq.Template.Ast.html#lookup_inductive"><span class="id" title="definition">Ast.lookup_inductive</span></a>, <a class="idref" href="MetaRocq.Template.Ast.html#lookup_minductive"><span class="id" title="definition">Ast.lookup_minductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_constructor_gen"><span class="id" title="definition">lookup_constructor_gen</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_inductive_gen"><span class="id" title="definition">lookup_inductive_gen</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_minductive_gen"><span class="id" title="definition">lookup_minductive_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Template.Ast.html#lookup_constructor_gen"><span class="id" title="definition">Ast.lookup_constructor_gen</span></a>, <a class="idref" href="MetaRocq.Template.Ast.html#lookup_inductive_gen"><span class="id" title="definition">Ast.lookup_inductive_gen</span></a>, <a class="idref" href="MetaRocq.Template.Ast.html#lookup_minductive_gen"><span class="id" title="definition">Ast.lookup_minductive_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup"><span class="id" title="lemma">trans_lookup</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Template.Ast.html#Env.lookup_env"><span class="id" title="definition">Ast.Env.lookup_env</span></a> ⇒ //; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">g</span> ⇒ /= //. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> ⇒ /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> ⇒ /= //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eq_binder_annot_eq_context_gen_set_binder_name" class="idref" href="#eq_binder_annot_eq_context_gen_set_binder_name"><span class="id" title="lemma">eq_binder_annot_eq_context_gen_set_binder_name</span></a> <a id="e76c0df693b5ff09b04c2e20a4376a7f" class="idref" href="#e76c0df693b5ff09b04c2e20a4376a7f"><span class="id" title="binder">Γ</span></a> <a id="cea3a3fb7822f6f9bbc62e5e2468c90c" class="idref" href="#cea3a3fb7822f6f9bbc62e5e2468c90c"><span class="id" title="binder">Γ'</span></a> <a id="56bbc0f8156a118ea51d5697219c46c3" class="idref" href="#56bbc0f8156a118ea51d5697219c46c3"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#e76c0df693b5ff09b04c2e20a4376a7f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cea3a3fb7822f6f9bbc62e5e2468c90c"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_context_upto_names"><span class="id" title="abbreviation">eq_context_upto_names</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#e76c0df693b5ff09b04c2e20a4376a7f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#56bbc0f8156a118ea51d5697219c46c3"><span class="id" title="variable">Δ</span></a>) (<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cea3a3fb7822f6f9bbc62e5e2468c90c"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#56bbc0f8156a118ea51d5697219c46c3"><span class="id" title="variable">Δ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="tactic">in</span> <span class="id" title="var">Δ</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Δ</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map2_map_map" class="idref" href="#map2_map_map"><span class="id" title="lemma">map2_map_map</span></a> {<a id="A:230" class="idref" href="#A:230"><span class="id" title="binder">A</span></a> <a id="B:231" class="idref" href="#B:231"><span class="id" title="binder">B</span></a> <a id="C:232" class="idref" href="#C:232"><span class="id" title="binder">C</span></a> <a id="D:233" class="idref" href="#D:233"><span class="id" title="binder">D</span></a> <a id="E:234" class="idref" href="#E:234"><span class="id" title="binder">E</span></a>} (<a id="f:235" class="idref" href="#f:235"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:232"><span class="id" title="variable">C</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:230"><span class="id" title="variable">A</span></a>) (<a id="g:236" class="idref" href="#g:236"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#D:233"><span class="id" title="variable">D</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:231"><span class="id" title="variable">B</span></a>) (<a id="h:237" class="idref" href="#h:237"><span class="id" title="binder">h</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:230"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:231"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#E:234"><span class="id" title="variable">E</span></a>) <a id="l:238" class="idref" href="#l:238"><span class="id" title="binder">l</span></a> <a id="l':239" class="idref" href="#l':239"><span class="id" title="binder">l'</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#h:237"><span class="id" title="variable">h</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:235"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:238"><span class="id" title="variable">l</span></a>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:236"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':239"><span class="id" title="variable">l'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:240" class="idref" href="#x:240"><span class="id" title="binder">x</span></a> <a id="y:241" class="idref" href="#y:241"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#h:237"><span class="id" title="variable">h</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:235"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:240"><span class="id" title="variable">x</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:236"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:241"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:238"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':239"><span class="id" title="variable">l'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="All2_map2" class="idref" href="#All2_map2"><span class="id" title="lemma">All2_map2</span></a> {<a id="A:242" class="idref" href="#A:242"><span class="id" title="binder">A</span></a> <a id="B:243" class="idref" href="#B:243"><span class="id" title="binder">B</span></a> <a id="C:244" class="idref" href="#C:244"><span class="id" title="binder">C</span></a>} (<a id="P:245" class="idref" href="#P:245"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:242"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:242"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) (<a id="x:246" class="idref" href="#x:246"><span class="id" title="binder">x</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:244"><span class="id" title="variable">C</span></a>) (<a id="f:247" class="idref" href="#f:247"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:244"><span class="id" title="variable">C</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:243"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:242"><span class="id" title="variable">A</span></a>) (<a id="l:248" class="idref" href="#l:248"><span class="id" title="binder">l</span></a> <a id="l':249" class="idref" href="#l':249"><span class="id" title="binder">l'</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:243"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All3"><span class="id" title="inductive">All3</span></a> (<span class="id" title="keyword">fun</span> <a id="x:250" class="idref" href="#x:250"><span class="id" title="binder">x</span></a> <a id="y:251" class="idref" href="#y:251"><span class="id" title="binder">y</span></a> <a id="z:252" class="idref" href="#z:252"><span class="id" title="binder">z</span></a> ⇒ <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:245"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:247"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:250"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:251"><span class="id" title="variable">y</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:247"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:250"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#z:252"><span class="id" title="variable">z</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:246"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:248"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':249"><span class="id" title="variable">l'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:245"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:247"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:246"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:248"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:247"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:246"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':249"><span class="id" title="variable">l'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="All2_All2_All2_All3" class="idref" href="#All2_All2_All2_All3"><span class="id" title="lemma">All2_All2_All2_All3</span></a> {<a id="A:253" class="idref" href="#A:253"><span class="id" title="binder">A</span></a> <a id="B:254" class="idref" href="#B:254"><span class="id" title="binder">B</span></a> <a id="C:255" class="idref" href="#C:255"><span class="id" title="binder">C</span></a>} (<a id="P:256" class="idref" href="#P:256"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:253"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:254"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:255"><span class="id" title="variable">C</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) (<a id="Q:257" class="idref" href="#Q:257"><span class="id" title="binder">Q</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:253"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:254"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) (<a id="Q':258" class="idref" href="#Q':258"><span class="id" title="binder">Q'</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:253"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:255"><span class="id" title="variable">C</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="R:259" class="idref" href="#R:259"><span class="id" title="binder">R</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:254"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:255"><span class="id" title="variable">C</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="x:260" class="idref" href="#x:260"><span class="id" title="binder">x</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:253"><span class="id" title="variable">A</span></a>) (<a id="l:261" class="idref" href="#l:261"><span class="id" title="binder">l</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:254"><span class="id" title="variable">B</span></a>) (<a id="l':262" class="idref" href="#l':262"><span class="id" title="binder">l'</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:255"><span class="id" title="variable">C</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Q:257"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:260"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:261"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Q':258"><span class="id" title="variable">Q'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:260"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':262"><span class="id" title="variable">l'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#R:259"><span class="id" title="variable">R</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:261"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':262"><span class="id" title="variable">l'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:263" class="idref" href="#x:263"><span class="id" title="binder">x</span></a> <a id="y:264" class="idref" href="#y:264"><span class="id" title="binder">y</span></a> <a id="z:265" class="idref" href="#z:265"><span class="id" title="binder">z</span></a>, <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Q:257"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:263"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:264"><span class="id" title="variable">y</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Q':258"><span class="id" title="variable">Q'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:263"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#z:265"><span class="id" title="variable">z</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#R:259"><span class="id" title="variable">R</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:264"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#z:265"><span class="id" title="variable">z</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:256"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:263"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:264"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#z:265"><span class="id" title="variable">z</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All3"><span class="id" title="inductive">All3</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:256"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:260"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:261"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':262"><span class="id" title="variable">l'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H'</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">H'</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_eq_term_upto_univ" class="idref" href="#trans_eq_term_upto_univ"><span class="id" title="lemma">trans_eq_term_upto_univ</span></a> {<a id="cmp_universe:266" class="idref" href="#cmp_universe:266"><span class="id" title="binder">cmp_universe</span></a> <a id="cmp_sort:267" class="idref" href="#cmp_sort:267"><span class="id" title="binder">cmp_sort</span></a> <a id="pb:268" class="idref" href="#pb:268"><span class="id" title="binder">pb</span></a> <a id="napp:269" class="idref" href="#napp:269"><span class="id" title="binder">napp</span></a> <a id="t:270" class="idref" href="#t:270"><span class="id" title="binder">t</span></a> <a id="u:271" class="idref" href="#u:271"><span class="id" title="binder">u</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:270"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:271"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#eq_term_upto_univ_napp"><span class="id" title="inductive">SEq.eq_term_upto_univ_napp</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cmp_universe:266"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cmp_sort:267"><span class="id" title="variable">cmp_sort</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pb:268"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#napp:269"><span class="id" title="variable">napp</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:270"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:271"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_term_upto_univ_napp"><span class="id" title="inductive">eq_term_upto_univ_napp</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cmp_universe:266"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cmp_sort:267"><span class="id" title="variable">cmp_sort</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pb:268"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#napp:269"><span class="id" title="variable">napp</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:270"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:271"><span class="id" title="variable">u</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wt</span> <span class="id" title="var">wu</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Template.Induction.html#term_forall_list_rect"><span class="id" title="lemma">Induction.term_forall_list_rect</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">pb</span>, <span class="id" title="var">napp</span>, <span class="id" title="var">wt</span>, <span class="id" title="var">u</span>, <span class="id" title="var">wu</span>, <span class="id" title="var">e</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">invs</span> <span class="id" title="var">e</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">constructor</span> ; <span class="id" title="tactic">auto</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">repeat</span> (<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">_</span> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Template.WfAst.html#wf_inv"><span class="id" title="lemma">WfAst.wf_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span> ; <span class="id" title="tactic">auto</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">ih</span> : <span class="id" title="keyword">∀</span> <a id="pb:272" class="idref" href="#pb:272"><span class="id" title="binder"><span id="pb:275" class="id">pb</span></span></a> <a id="napp:273" class="idref" href="#napp:273"><span class="id" title="binder"><span id="napp:276" class="id">napp</span></span></a> (<a id="u:274" class="idref" href="#u:274"><span class="id" title="binder"><span id="u:277" class="id">u</span></span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a>), <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">ih</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_term_upto_univ_napp_mkApps"><span class="id" title="lemma">eq_term_upto_univ_napp_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">wt</span>, <span class="id" title="var">wu</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cmp_global_instance"><span class="id" title="lemma">trans_cmp_global_instance</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cmp_global_instance"><span class="id" title="lemma">trans_cmp_global_instance</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>, <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">mdecl'</span> [<span class="id" title="var">idecl'</span> [<span class="id" title="var">decli</span> <span class="id" title="var">hci</span> <span class="id" title="var">hpctx</span> <span class="id" title="var">lenpar</span> <span class="id" title="var">eqpars</span> <span class="id" title="var">eqret</span> <span class="id" title="var">eqc</span> <span class="id" title="var">eqbrs</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">mdecl''</span> [<span class="id" title="var">idecl''</span> [<span class="id" title="var">decli'</span> <span class="id" title="var">hci'</span> <span class="id" title="var">hpctx'</span> <span class="id" title="var">lenpars'</span> <span class="id" title="var">eqpars'</span> <span class="id" title="var">eqret'</span> <span class="id" title="var">eqc'</span> <span class="id" title="var">eqbrs'</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_inj"><span class="id" title="lemma">declared_inductive_inj</span></a> <span class="id" title="var">decli</span> <span class="id" title="var">decli'</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decli</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_inductive"><span class="id" title="lemma">trans_lookup_inductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a> <span class="id" title="keyword">as</span> [[<span class="id" title="var">mdecl</span> <span class="id" title="var">idecl</span>]|] <span class="id" title="var">eqn</span>:<span class="id" title="var">hl</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#lookup_inductive_None"><span class="id" title="lemma">lookup_inductive_None</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hl</span>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">elim</span> <span class="id" title="var">hl</span>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#lookup_inductive_declared"><span class="id" title="lemma">lookup_inductive_declared</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">decli''</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_inductive_to_gen"><span class="id" title="lemma">declared_inductive_to_gen</span></a> <span class="id" title="var">decli</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICGlobalEnv.html#declared_inductive_inj"><span class="id" title="lemma">PCUICGlobalEnv.declared_inductive_inj</span></a> <span class="id" title="var">decli''</span> <span class="id" title="var">hl</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">ih</span> : <span class="id" title="keyword">∀</span> <a id="pb:278" class="idref" href="#pb:278"><span class="id" title="binder"><span id="pb:281" class="id">pb</span></span></a> <a id="napp:279" class="idref" href="#napp:279"><span class="id" title="binder"><span id="napp:282" class="id">napp</span></span></a> <a id="u:280" class="idref" href="#u:280"><span class="id" title="binder"><span id="u:283" class="id">u</span></span></a>, <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">ih</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_predicate"><span class="id" title="definition">eq_predicate</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">typeclass_instances</span> <span class="id" title="var">core</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hpctx</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hpctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hpctx'</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hpctx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#eq_binder_annot_eq_context_gen_set_binder_name"><span class="id" title="lemma">eq_binder_annot_eq_context_gen_set_binder_name</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map2_map_map"><span class="id" title="lemma">map2_map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All2_map2"><span class="id" title="lemma">All2_map2</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_All_mix_right"><span class="id" title="lemma">All2_All_mix_right</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqbrs</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All2_All2_All2_All3"><span class="id" title="lemma">All2_All2_All2_All3</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">cdecl</span> <span class="id" title="var">br</span> <span class="id" title="var">br'</span> [[<span class="id" title="var">eq</span> <span class="id" title="var">wfb</span>] <span class="id" title="var">IH</span>] [<span class="id" title="var">eq'</span> <span class="id" title="var">wfb'</span>] [<span class="id" title="var">eqbs</span> <span class="id" title="var">eqbods</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_branch"><span class="id" title="definition">trans_branch</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq'</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#eq_binder_annot_eq_context_gen_set_binder_name"><span class="id" title="lemma">eq_binder_annot_eq_context_gen_set_binder_name</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">tc</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">w1</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="def:284" class="idref" href="#def:284"><span class="id" title="binder"><span id="def:285" class="id">def</span></span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:284"><span class="id" title="variable">def</span></a>) <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:284"><span class="id" title="variable">def</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <span class="id" title="var">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">solve_all</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">w2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="def:286" class="idref" href="#def:286"><span class="id" title="binder"><span id="def:287" class="id">def</span></span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:286"><span class="id" title="variable">def</span></a>) <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:286"><span class="id" title="variable">def</span></a>)) <span class="id" title="var">mfix'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">solve_all</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_All_mix_left"><span class="id" title="lemma">All2_All_mix_left</span></a> <span class="id" title="var">X</span> <span class="id" title="var">X0</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h1</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_All_mix_left"><span class="id" title="lemma">All2_All_mix_left</span></a> <span class="id" title="var">w1</span> <span class="id" title="var">h1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_All_mix_right"><span class="id" title="lemma">All2_All_mix_right</span></a> <span class="id" title="var">w2</span> <span class="id" title="var">h2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_impl"><span class="id" title="lemma">All2_impl</span></a>. 1: <span class="id" title="tactic">exact</span> <span class="id" title="var">h3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [? ? ? ?] [? ? ? ?] [[[? ?] [[<span class="id" title="var">ih1</span> <span class="id" title="var">ih2</span>] [? ?]]] [? ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">w1</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="def:288" class="idref" href="#def:288"><span class="id" title="binder"><span id="def:289" class="id">def</span></span></a> ⇒ <a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:288"><span class="id" title="variable">def</span></a>) <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:288"><span class="id" title="variable">def</span></a>)) <span class="id" title="var">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">solve_all</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">w2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="def:290" class="idref" href="#def:290"><span class="id" title="binder"><span id="def:291" class="id">def</span></span></a> ⇒ <a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:290"><span class="id" title="variable">def</span></a>) <a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:290"><span class="id" title="variable">def</span></a>)) <span class="id" title="var">mfix'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">solve_all</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_All_mix_left"><span class="id" title="lemma">All2_All_mix_left</span></a> <span class="id" title="var">X</span> <span class="id" title="var">X0</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h1</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_All_mix_left"><span class="id" title="lemma">All2_All_mix_left</span></a> <span class="id" title="var">w1</span> <span class="id" title="var">h1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_All_mix_right"><span class="id" title="lemma">All2_All_mix_right</span></a> <span class="id" title="var">w2</span> <span class="id" title="var">h2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_impl"><span class="id" title="lemma">All2_impl</span></a>. 1: <span class="id" title="tactic">exact</span> <span class="id" title="var">h3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [? ? ? ?] [? ? ? ?] [[[? ?] [[<span class="id" title="var">ih1</span> <span class="id" title="var">ih2</span>] [? ?]]] [? ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_leq_term" class="idref" href="#trans_leq_term"><span class="id" title="lemma">trans_leq_term</span></a> <a id="1cb510450c28c4c4f6b695df49f2b8f5" class="idref" href="#1cb510450c28c4c4f6b695df49f2b8f5"><span class="id" title="binder">ϕ</span></a> <a id="T:293" class="idref" href="#T:293"><span class="id" title="binder">T</span></a> <a id="U:294" class="idref" href="#U:294"><span class="id" title="binder">U</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:293"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#U:294"><span class="id" title="variable">U</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#leq_term"><span class="id" title="abbreviation">SEq.leq_term</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#1cb510450c28c4c4f6b695df49f2b8f5"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:293"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#U:294"><span class="id" title="variable">U</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#leq_term"><span class="id" title="abbreviation">leq_term</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#1cb510450c28c4c4f6b695df49f2b8f5"><span class="id" title="variable">ϕ</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:293"><span class="id" title="variable">T</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#U:294"><span class="id" title="variable">U</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HT</span> <span class="id" title="var">HU</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_eq_term_upto_univ"><span class="id" title="lemma">trans_eq_term_upto_univ</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_eq_term" class="idref" href="#trans_eq_term"><span class="id" title="lemma">trans_eq_term</span></a> <a id="19949a60266cbf480c1117cc9d7f27cd" class="idref" href="#19949a60266cbf480c1117cc9d7f27cd"><span class="id" title="binder">φ</span></a> <a id="t:296" class="idref" href="#t:296"><span class="id" title="binder">t</span></a> <a id="u:297" class="idref" href="#u:297"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:296"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:297"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#eq_term"><span class="id" title="abbreviation">SEq.eq_term</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#19949a60266cbf480c1117cc9d7f27cd"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:296"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:297"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_term"><span class="id" title="abbreviation">eq_term</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#19949a60266cbf480c1117cc9d7f27cd"><span class="id" title="variable">φ</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:296"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:297"><span class="id" title="variable">u</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HT</span> <span class="id" title="var">HU</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_eq_term_upto_univ"><span class="id" title="lemma">trans_eq_term_upto_univ</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_eq_term_list" class="idref" href="#trans_eq_term_list"><span class="id" title="lemma">trans_eq_term_list</span></a> {<a id="7e91bd093549c8594a2f205c861eac6a" class="idref" href="#7e91bd093549c8594a2f205c861eac6a"><span class="id" title="binder">φ</span></a> <a id="l:299" class="idref" href="#l:299"><span class="id" title="binder">l</span></a> <a id="l':300" class="idref" href="#l':300"><span class="id" title="binder">l'</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:299"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':300"><span class="id" title="variable">l'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#eq_term"><span class="id" title="abbreviation">SEq.eq_term</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7e91bd093549c8594a2f205c861eac6a"><span class="id" title="variable">φ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:299"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':300"><span class="id" title="variable">l'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_term"><span class="id" title="abbreviation">eq_term</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7e91bd093549c8594a2f205c861eac6a"><span class="id" title="variable">φ</span></a>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:299"><span class="id" title="variable">l</span></a>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':300"><span class="id" title="variable">l'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">w'</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_All_mix_left"><span class="id" title="lemma">All2_All_mix_left</span></a> <span class="id" title="var">w</span> <span class="id" title="var">h</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_All_mix_right"><span class="id" title="lemma">All2_All_mix_right</span></a> <span class="id" title="var">w'</span> <span class="id" title="var">h1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_impl"><span class="id" title="lemma">All2_impl</span></a> <span class="id" title="var">h2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_eq_term"><span class="id" title="lemma">trans_eq_term</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Trans_Global"><span class="id" title="section">Trans_Global</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Trans_Global" class="idref" href="#Trans_Global"><span class="id" title="section">Trans_Global</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="Trans_Global.cf" class="idref" href="#Trans_Global.cf"><span class="id" title="variable">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="4473f27ac00902d98520fb57df7e978d" class="idref" href="#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env"><span class="id" title="record">Ast.Env.global_env</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="52b145392dfbad12f334141f4035e258" class="idref" href="#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> := (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_nth" class="idref" href="#trans_nth"><span class="id" title="lemma">trans_nth</span></a> <a id="n:303" class="idref" href="#n:303"><span class="id" title="binder">n</span></a> <a id="l:304" class="idref" href="#l:304"><span class="id" title="binder">l</span></a> <a id="x:305" class="idref" href="#x:305"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:303"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:304"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:305"><span class="id" title="variable">x</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:303"><span class="id" title="variable">n</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:304"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:305"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_extended_subst" class="idref" href="#trans_extended_subst"><span class="id" title="lemma">trans_extended_subst</span></a> <a id="2e64a25ceddda6232798f9733e98907f" class="idref" href="#2e64a25ceddda6232798f9733e98907f"><span class="id" title="binder">Γ</span></a> <a id="k:307" class="idref" href="#k:307"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) (<a class="idref" href="MetaRocq.Template.Ast.html#Env.extended_subst"><span class="id" title="definition">Ast.Env.extended_subst</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2e64a25ceddda6232798f9733e98907f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:307"><span class="id" title="variable">k</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2e64a25ceddda6232798f9733e98907f"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:307"><span class="id" title="variable">k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">k</span> |- *; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] ⇒ /= //; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">f_equal</span> ⇒ //. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a> <span class="id" title="var">IHΓ</span>. <span class="id" title="tactic">f_equal</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_expand_lets_k" class="idref" href="#trans_expand_lets_k"><span class="id" title="lemma">trans_expand_lets_k</span></a> <a id="35ed7b8e5e569a2ea6ddb533e2f8445a" class="idref" href="#35ed7b8e5e569a2ea6ddb533e2f8445a"><span class="id" title="binder">Γ</span></a> <a id="k:309" class="idref" href="#k:309"><span class="id" title="binder">k</span></a> <a id="t:310" class="idref" href="#t:310"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.expand_lets_k"><span class="id" title="definition">Ast.Env.expand_lets_k</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#35ed7b8e5e569a2ea6ddb533e2f8445a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:309"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:310"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#35ed7b8e5e569a2ea6ddb533e2f8445a"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:309"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:310"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#Env.expand_lets"><span class="id" title="definition">Ast.Env.expand_lets</span></a> /<a class="idref" href="MetaRocq.Template.Ast.html#Env.expand_lets_k"><span class="id" title="definition">Ast.Env.expand_lets_k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_extended_subst"><span class="id" title="lemma">trans_extended_subst</span></a>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_expand_lets" class="idref" href="#trans_expand_lets"><span class="id" title="lemma">trans_expand_lets</span></a> <a id="774742fe3ebf7cba609be19ee5fc9af5" class="idref" href="#774742fe3ebf7cba609be19ee5fc9af5"><span class="id" title="binder">Γ</span></a> <a id="t:312" class="idref" href="#t:312"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.expand_lets"><span class="id" title="definition">Ast.Env.expand_lets</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#774742fe3ebf7cba609be19ee5fc9af5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:312"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#774742fe3ebf7cba609be19ee5fc9af5"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:312"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#Env.expand_lets"><span class="id" title="definition">Ast.Env.expand_lets</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_k"><span class="id" title="lemma">trans_expand_lets_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_subst_context" class="idref" href="#trans_subst_context"><span class="id" title="lemma">trans_subst_context</span></a> <a id="s:313" class="idref" href="#s:313"><span class="id" title="binder">s</span></a> <a id="k:314" class="idref" href="#k:314"><span class="id" title="binder">k</span></a> <a id="2d7a3e448b71da4bb4a7cde65a77d60e" class="idref" href="#2d7a3e448b71da4bb4a7cde65a77d60e"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.subst_context"><span class="id" title="definition">Ast.Env.subst_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#s:313"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:314"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2d7a3e448b71da4bb4a7cde65a77d60e"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#s:313"><span class="id" title="variable">s</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:314"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2d7a3e448b71da4bb4a7cde65a77d60e"><span class="id" title="variable">Γ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context_snoc"><span class="id" title="lemma">subst_context_snoc</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.subst_context_snoc"><span class="id" title="lemma">Ast.Env.subst_context_snoc</span></a> /= /<a class="idref" href="MetaRocq.Common.BasicAst.html#snoc"><span class="id" title="definition">snoc</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_decl"><span class="id" title="definition">subst_decl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>. <span class="id" title="tactic">f_equal</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_lift_context" class="idref" href="#trans_lift_context"><span class="id" title="lemma">trans_lift_context</span></a> <a id="n:316" class="idref" href="#n:316"><span class="id" title="binder">n</span></a> <a id="k:317" class="idref" href="#k:317"><span class="id" title="binder">k</span></a> <a id="410316a375a88c43022c5d65981d0378" class="idref" href="#410316a375a88c43022c5d65981d0378"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.lift_context"><span class="id" title="definition">Ast.Env.lift_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:316"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:317"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#410316a375a88c43022c5d65981d0378"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:316"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:317"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#410316a375a88c43022c5d65981d0378"><span class="id" title="variable">Γ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Template.TypingWf.html#lift_context_snoc"><span class="id" title="lemma">lift_context_snoc</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#lift_context_snoc"><span class="id" title="lemma">PCUICLiftSubst.lift_context_snoc</span></a> /= /<a class="idref" href="MetaRocq.Common.BasicAst.html#snoc"><span class="id" title="definition">snoc</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_decl"><span class="id" title="definition">subst_decl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_decl"><span class="id" title="definition">lift_decl</span></a> /<a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">all</span>:<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>; <span class="id" title="var">len</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_expand_lets_ctx" class="idref" href="#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a> <a id="3bc431e75147981d79d593ac2495617b" class="idref" href="#3bc431e75147981d79d593ac2495617b"><span class="id" title="binder">Γ</span></a> <a id="fca0508c7bc0f9173388e8c786ae1d74" class="idref" href="#fca0508c7bc0f9173388e8c786ae1d74"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.expand_lets_ctx"><span class="id" title="definition">Ast.Env.expand_lets_ctx</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#3bc431e75147981d79d593ac2495617b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fca0508c7bc0f9173388e8c786ae1d74"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#3bc431e75147981d79d593ac2495617b"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fca0508c7bc0f9173388e8c786ae1d74"><span class="id" title="variable">Δ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#Env.expand_lets_ctx"><span class="id" title="definition">Ast.Env.expand_lets_ctx</span></a> /<a class="idref" href="MetaRocq.Template.Ast.html#Env.expand_lets_k_ctx"><span class="id" title="definition">Ast.Env.expand_lets_k_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_context"><span class="id" title="lemma">trans_subst_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift_context"><span class="id" title="lemma">trans_lift_context</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_extended_subst"><span class="id" title="lemma">trans_extended_subst</span></a>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_smash_context" class="idref" href="#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> <a id="2978d5f05eb9cba3490080631fcc86b7" class="idref" href="#2978d5f05eb9cba3490080631fcc86b7"><span class="id" title="binder">Γ</span></a> <a id="9a35698f4e5be8c2e2bb857862c7d372" class="idref" href="#9a35698f4e5be8c2e2bb857862c7d372"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.smash_context"><span class="id" title="definition">Ast.Env.smash_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2978d5f05eb9cba3490080631fcc86b7"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#9a35698f4e5be8c2e2bb857862c7d372"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2978d5f05eb9cba3490080631fcc86b7"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#9a35698f4e5be8c2e2bb857862c7d372"><span class="id" title="variable">Δ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Δ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Γ</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] ⇒ /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΔ</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_context"><span class="id" title="lemma">trans_subst_context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΔ</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map_decl_subst_instance_set_binder_name" class="idref" href="#map_decl_subst_instance_set_binder_name"><span class="id" title="lemma">map_decl_subst_instance_set_binder_name</span></a> <a id="i:323" class="idref" href="#i:323"><span class="id" title="binder">i</span></a> <a id="x:324" class="idref" href="#x:324"><span class="id" title="binder">x</span></a> <a id="y:325" class="idref" href="#y:325"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:323"><span class="id" title="variable">i</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:324"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:325"><span class="id" title="variable">y</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:324"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:323"><span class="id" title="variable">i</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:325"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map2_trans" class="idref" href="#map2_trans"><span class="id" title="lemma">map2_trans</span></a> <a id="l:326" class="idref" href="#l:326"><span class="id" title="binder">l</span></a> <a id="l':327" class="idref" href="#l':327"><span class="id" title="binder">l'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="x:328" class="idref" href="#x:328"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="y:329" class="idref" href="#y:329"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#context_decl"><span class="id" title="record">BasicAst.context_decl</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.set_binder_name"><span class="id" title="definition">Ast.Env.set_binder_name</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:328"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:329"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:326"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':327"><span class="id" title="variable">l'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> (<span class="id" title="keyword">fun</span> (<a id="x:330" class="idref" href="#x:330"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="y:331" class="idref" href="#y:331"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#context_decl"><span class="id" title="record">BasicAst.context_decl</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:330"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:331"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:326"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':327"><span class="id" title="variable">l'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#map2_ext"><span class="id" title="lemma">map2_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map_map_comm" class="idref" href="#map_map_comm"><span class="id" title="lemma">map_map_comm</span></a> {<a id="A:332" class="idref" href="#A:332"><span class="id" title="binder">A</span></a> <a id="B:333" class="idref" href="#B:333"><span class="id" title="binder">B</span></a> <a id="B':334" class="idref" href="#B':334"><span class="id" title="binder">B'</span></a> <a id="C:335" class="idref" href="#C:335"><span class="id" title="binder">C</span></a>} (<a id="f:336" class="idref" href="#f:336"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:333"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:335"><span class="id" title="variable">C</span></a>) (<a id="g:337" class="idref" href="#g:337"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:332"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:333"><span class="id" title="variable">B</span></a>) (<a id="f':338" class="idref" href="#f':338"><span class="id" title="binder">f'</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B':334"><span class="id" title="variable">B'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:335"><span class="id" title="variable">C</span></a>) (<a id="g':339" class="idref" href="#g':339"><span class="id" title="binder">g'</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:332"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B':334"><span class="id" title="variable">B'</span></a>) (<a id="l:340" class="idref" href="#l:340"><span class="id" title="binder">l</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:332"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:341" class="idref" href="#x:341"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:336"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:337"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:341"><span class="id" title="variable">x</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f':338"><span class="id" title="variable">f'</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g':339"><span class="id" title="variable">g'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:341"><span class="id" title="variable">x</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:336"><span class="id" title="variable">f</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:337"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:340"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f':338"><span class="id" title="variable">f'</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g':339"><span class="id" title="variable">g'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:340"><span class="id" title="variable">l</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_cstr_branch_context" class="idref" href="#trans_cstr_branch_context"><span class="id" title="lemma">trans_cstr_branch_context</span></a> <a id="ind:342" class="idref" href="#ind:342"><span class="id" title="binder">ind</span></a> <a id="mdecl:343" class="idref" href="#mdecl:343"><span class="id" title="binder">mdecl</span></a> <a id="cdecl:344" class="idref" href="#cdecl:344"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':345" class="idref" href="#mdecl':345"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:343"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cdecl':346" class="idref" href="#cdecl':346"><span class="id" title="binder">cdecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:344"><span class="id" title="variable">cdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) (<a class="idref" href="MetaRocq.Template.Ast.html#cstr_branch_context"><span class="id" title="definition">Ast.cstr_branch_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:342"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:343"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:344"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:342"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':345"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl':346"><span class="id" title="variable">cdecl'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#cstr_branch_context"><span class="id" title="definition">Ast.cstr_branch_context</span></a> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_context"><span class="id" title="lemma">trans_subst_context</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="var">now</span> <span class="id" title="tactic">repeat</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_inds"><span class="id" title="lemma">trans_inds</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_iota_red" class="idref" href="#trans_iota_red"><span class="id" title="lemma">trans_iota_red</span></a> <a id="ind:347" class="idref" href="#ind:347"><span class="id" title="binder">ind</span></a> <a id="mdecl:348" class="idref" href="#mdecl:348"><span class="id" title="binder">mdecl</span></a> <a id="idecl:349" class="idref" href="#idecl:349"><span class="id" title="binder">idecl</span></a> <a id="cdecl:350" class="idref" href="#cdecl:350"><span class="id" title="binder">cdecl</span></a> <a id="pars:351" class="idref" href="#pars:351"><span class="id" title="binder">pars</span></a> <a id="p:352" class="idref" href="#p:352"><span class="id" title="binder">p</span></a> <a id="args:353" class="idref" href="#args:353"><span class="id" title="binder">args</span></a> <a id="br:354" class="idref" href="#br:354"><span class="id" title="binder">br</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="bctx:355" class="idref" href="#bctx:355"><span class="id" title="binder">bctx</span></a> := <a class="idref" href="MetaRocq.Template.Ast.html#case_branch_context"><span class="id" title="definition">Ast.case_branch_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:347"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:348"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:350"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:352"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:354"><span class="id" title="variable">br</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':356" class="idref" href="#p':356"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaRocq.Template.Ast.html#map_predicate"><span class="id" title="definition">Ast.map_predicate</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:352"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':357" class="idref" href="#mdecl':357"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:348"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="idecl':358" class="idref" href="#idecl':358"><span class="id" title="binder">idecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:349"><span class="id" title="variable">idecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cdecl':359" class="idref" href="#cdecl':359"><span class="id" title="binder">cdecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:350"><span class="id" title="variable">cdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':360" class="idref" href="#p':360"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:347"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':357"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':358"><span class="id" title="variable">idecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':356"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#pparams"><span class="id" title="projection">Ast.pparams</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':356"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#puinst"><span class="id" title="projection">Ast.puinst</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':356"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#pcontext"><span class="id" title="projection">Ast.pcontext</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':356"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#preturn"><span class="id" title="projection">Ast.preturn</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Template.Ast.html#bcontext"><span class="id" title="projection">Ast.bcontext</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:354"><span class="id" title="variable">br</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:350"><span class="id" title="variable">cdecl</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#iota_red"><span class="id" title="definition">ST.iota_red</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pars:351"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#args:353"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bctx:355"><span class="id" title="variable">bctx</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:354"><span class="id" title="variable">br</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#iota_red"><span class="id" title="definition">iota_red</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pars:351"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':360"><span class="id" title="variable">p'</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#args:353"><span class="id" title="variable">args</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">let</span> <a id="br':361" class="idref" href="#br':361"><span class="id" title="binder">br'</span></a> := <a class="idref" href="MetaRocq.Template.Ast.html#map_branch"><span class="id" title="definition">Ast.map_branch</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:354"><span class="id" title="variable">br</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_branch"><span class="id" title="definition">trans_branch</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:347"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':357"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl':359"><span class="id" title="variable">cdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br':361"><span class="id" title="variable">br'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#bcontext"><span class="id" title="projection">Ast.bcontext</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br':361"><span class="id" title="variable">br'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#bbody"><span class="id" title="projection">Ast.bbody</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#iota_red"><span class="id" title="definition">ST.iota_red</span></a>, <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#iota_red"><span class="id" title="definition">iota_red</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_predicate"><span class="id" title="definition">map_predicate</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#map_skipn"><span class="id" title="lemma">map_skipn</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets"><span class="id" title="lemma">trans_expand_lets</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">bctx</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#case_branch_context"><span class="id" title="definition">Ast.case_branch_context</span></a> /<a class="idref" href="MetaRocq.Template.Ast.html#case_branch_context_gen"><span class="id" title="definition">Ast.case_branch_context_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_instance_context"><span class="id" title="instance">subst_instance_context</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="MetaRocq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="x:362" class="idref" href="#x:362"><span class="id" title="binder"><span id="x:366" class="id">x</span></span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="y:363" class="idref" href="#y:363"><span class="id" title="binder"><span id="y:367" class="id">y</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_decl"><span class="id" title="abbreviation">context_decl</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#puinst"><span class="id" title="projection">Ast.puinst</span></a> <span class="id" title="var">p</span>)) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:362"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:363"><span class="id" title="variable">y</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="x:364" class="idref" href="#x:364"><span class="id" title="binder"><span id="x:368" class="id">x</span></span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="y:365" class="idref" href="#y:365"><span class="id" title="binder"><span id="y:369" class="id">y</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_decl"><span class="id" title="abbreviation">context_decl</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:364"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#puinst"><span class="id" title="projection">Ast.puinst</span></a> <span class="id" title="var">p</span>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:365"><span class="id" title="variable">y</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map2_map_r"><span class="id" title="lemma">PCUICUnivSubstitutionConv.map2_map_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -[<a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#map2_set_binder_name_fold"><span class="id" title="lemma">PCUICRenameConv.map2_set_binder_name_fold</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map2_trans"><span class="id" title="lemma">map2_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map2_map_r"><span class="id" title="lemma">PCUICUnivSubstitutionConv.map2_map_r</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_context"><span class="id" title="lemma">trans_subst_context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#Env.subst_instance_context"><span class="id" title="instance">Ast.Env.subst_instance_context</span></a> /<a class="idref" href="MetaRocq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map_comm"><span class="id" title="lemma">map_map_comm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#puinst"><span class="id" title="projection">Ast.puinst</span></a> <span class="id" title="var">p</span>))) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> <span class="id" title="var">x</span>) ⇒ /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cstr_branch_context"><span class="id" title="lemma">trans_cstr_branch_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_isLambda" class="idref" href="#trans_isLambda"><span class="id" title="lemma">trans_isLambda</span></a> <a id="t:370" class="idref" href="#t:370"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:370"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:370"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#isLambda"><span class="id" title="definition">Ast.isLambda</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:370"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> 1; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span>; [<span class="id" title="var">contradiction</span>|]. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <span class="id" title="var">u</span>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <span class="id" title="var">t</span>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <span class="id" title="var">t0</span>); <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbnr</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#TransLookup.lookup_inductive"><span class="id" title="definition">TransLookup.lookup_inductive</span></a> <span class="id" title="keyword">as</span> [[]|] ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_unfold_fix" class="idref" href="#trans_unfold_fix"><span class="id" title="lemma">trans_unfold_fix</span></a> <a id="mfix:371" class="idref" href="#mfix:371"><span class="id" title="binder">mfix</span></a> <a id="idx:372" class="idref" href="#idx:372"><span class="id" title="binder">idx</span></a> <a id="narg:373" class="idref" href="#narg:373"><span class="id" title="binder">narg</span></a> <a id="fn:374" class="idref" href="#fn:374"><span class="id" title="binder">fn</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="def:375" class="idref" href="#def:375"><span class="id" title="binder">def</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a> ⇒ <a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:375"><span class="id" title="variable">def</span></a>) <a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:375"><span class="id" title="variable">def</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:371"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#unfold_fix"><span class="id" title="definition">ST.unfold_fix</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:371"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idx:372"><span class="id" title="variable">idx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#narg:373"><span class="id" title="variable">narg</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fn:374"><span class="id" title="variable">fn</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:371"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idx:372"><span class="id" title="variable">idx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#narg:373"><span class="id" title="variable">narg</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fn:374"><span class="id" title="variable">fn</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#unfold_fix"><span class="id" title="definition">ST.unfold_fix</span></a>, <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">wffix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hdef</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [= &lt;- &lt;-]. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hdef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#fix_subst"><span class="id" title="definition">fix_subst</span></a>, <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fix_subst"><span class="id" title="definition">ST.fix_subst</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">mfix</span> <span class="id" title="tactic">at</span> 1 3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">wffix</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">mfix</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">IHwffix</span> <span class="id" title="var">mfix</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_unfold_cofix" class="idref" href="#trans_unfold_cofix"><span class="id" title="lemma">trans_unfold_cofix</span></a> <a id="mfix:376" class="idref" href="#mfix:376"><span class="id" title="binder">mfix</span></a> <a id="idx:377" class="idref" href="#idx:377"><span class="id" title="binder">idx</span></a> <a id="narg:378" class="idref" href="#narg:378"><span class="id" title="binder">narg</span></a> <a id="fn:379" class="idref" href="#fn:379"><span class="id" title="binder">fn</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="def:380" class="idref" href="#def:380"><span class="id" title="binder">def</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a> ⇒ <a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:380"><span class="id" title="variable">def</span></a>) <a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:380"><span class="id" title="variable">def</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:376"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#unfold_cofix"><span class="id" title="definition">ST.unfold_cofix</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:376"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idx:377"><span class="id" title="variable">idx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#narg:378"><span class="id" title="variable">narg</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fn:379"><span class="id" title="variable">fn</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#unfold_cofix"><span class="id" title="definition">unfold_cofix</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:376"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idx:377"><span class="id" title="variable">idx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#narg:378"><span class="id" title="variable">narg</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fn:379"><span class="id" title="variable">fn</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#unfold_cofix"><span class="id" title="definition">ST.unfold_cofix</span></a>, <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#unfold_cofix"><span class="id" title="definition">unfold_cofix</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">wffix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hdef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [= &lt;- &lt;-]. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hdef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#cofix_subst"><span class="id" title="definition">cofix_subst</span></a>, <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cofix_subst"><span class="id" title="definition">ST.cofix_subst</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">mfix</span> <span class="id" title="tactic">at</span> 1 3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">wffix</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">mfix</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">IHwffix</span> <span class="id" title="var">mfix</span>). <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="isApp" class="idref" href="#isApp"><span class="id" title="definition">isApp</span></a> <a id="t:381" class="idref" href="#t:381"><span class="id" title="binder">t</span></a> := <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:381"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_is_constructor" class="idref" href="#trans_is_constructor"><span class="id" title="lemma">trans_is_constructor</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="args:383" class="idref" href="#args:383"><span class="id" title="binder">args</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a>) (<a id="narg:384" class="idref" href="#narg:384"><span class="id" title="binder">narg</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#is_constructor"><span class="id" title="definition">ST.is_constructor</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#narg:384"><span class="id" title="variable">narg</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#args:383"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#is_constructor"><span class="id" title="definition">is_constructor</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#narg:384"><span class="id" title="variable">narg</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#args:383"><span class="id" title="variable">args</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">args</span> <span class="id" title="var">narg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#is_constructor"><span class="id" title="definition">ST.is_constructor</span></a>, <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#is_constructor"><span class="id" title="definition">is_constructor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span> || <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span> || <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#isConstruct_app"><span class="id" title="definition">isConstruct_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app_rec_mkApps"><span class="id" title="lemma">decompose_app_rec_mkApps</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="refine_red1_r" class="idref" href="#refine_red1_r"><span class="id" title="lemma">refine_red1_r</span></a> <a id="2eeb5e7f572c9af2663dc4d747895adf" class="idref" href="#2eeb5e7f572c9af2663dc4d747895adf"><span class="id" title="binder">Σg</span></a> <a id="f1cc27ceacb888f76260bb398392933d" class="idref" href="#f1cc27ceacb888f76260bb398392933d"><span class="id" title="binder">Γ</span></a> <a id="t:387" class="idref" href="#t:387"><span class="id" title="binder">t</span></a> <a id="u:388" class="idref" href="#u:388"><span class="id" title="binder">u</span></a> <a id="u':389" class="idref" href="#u':389"><span class="id" title="binder">u'</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:388"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u':389"><span class="id" title="variable">u'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red1"><span class="id" title="inductive">red1</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2eeb5e7f572c9af2663dc4d747895adf"><span class="id" title="variable">Σg</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f1cc27ceacb888f76260bb398392933d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:387"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:388"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red1"><span class="id" title="inductive">red1</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2eeb5e7f572c9af2663dc4d747895adf"><span class="id" title="variable">Σg</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f1cc27ceacb888f76260bb398392933d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:387"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u':389"><span class="id" title="variable">u'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> →. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="f1a9983fccb8f06779b2fc55ae6f41b0" class="idref" href="#f1a9983fccb8f06779b2fc55ae6f41b0"><span class="id" title="lemma">refine_red1_Γ</span></a> <a id="847de0f4325d1665e72e7f026b7d3dcd" class="idref" href="#847de0f4325d1665e72e7f026b7d3dcd"><span class="id" title="binder">Σg</span></a> <a id="d9b164df5865ea0d7f14621fc7a54b6d" class="idref" href="#d9b164df5865ea0d7f14621fc7a54b6d"><span class="id" title="binder">Γ</span></a> <a id="9c7a8caa2c3b0e4c90ba620dd2b4a6db" class="idref" href="#9c7a8caa2c3b0e4c90ba620dd2b4a6db"><span class="id" title="binder">Γ'</span></a> <a id="t:393" class="idref" href="#t:393"><span class="id" title="binder">t</span></a> <a id="u:394" class="idref" href="#u:394"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d9b164df5865ea0d7f14621fc7a54b6d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#9c7a8caa2c3b0e4c90ba620dd2b4a6db"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red1"><span class="id" title="inductive">red1</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#847de0f4325d1665e72e7f026b7d3dcd"><span class="id" title="variable">Σg</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d9b164df5865ea0d7f14621fc7a54b6d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:393"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:394"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red1"><span class="id" title="inductive">red1</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#847de0f4325d1665e72e7f026b7d3dcd"><span class="id" title="variable">Σg</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#9c7a8caa2c3b0e4c90ba620dd2b4a6db"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:393"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:394"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> →. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">wf_inv</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Template.WfAst.html#wf_inv"><span class="id" title="lemma">WfAst.wf_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">rdest</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="nth_error_map2" class="idref" href="#nth_error_map2"><span class="id" title="lemma">nth_error_map2</span></a> {<a id="A:395" class="idref" href="#A:395"><span class="id" title="binder">A</span></a> <a id="B:396" class="idref" href="#B:396"><span class="id" title="binder">B</span></a> <a id="C:397" class="idref" href="#C:397"><span class="id" title="binder">C</span></a>} (<a id="f:398" class="idref" href="#f:398"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:395"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:396"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:397"><span class="id" title="variable">C</span></a>) <a id="n:399" class="idref" href="#n:399"><span class="id" title="binder">n</span></a> <a id="l:400" class="idref" href="#l:400"><span class="id" title="binder">l</span></a> <a id="l':401" class="idref" href="#l':401"><span class="id" title="binder">l'</span></a> <a id="a:402" class="idref" href="#a:402"><span class="id" title="binder">a</span></a> <a id="b:403" class="idref" href="#b:403"><span class="id" title="binder">b</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:400"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:399"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a:402"><span class="id" title="variable">a</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':401"><span class="id" title="variable">l'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:399"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b:403"><span class="id" title="variable">b</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:398"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:400"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':401"><span class="id" title="variable">l'</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:399"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:398"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a:402"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b:403"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>, <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>, <span class="id" title="var">n</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cstr_branch_context_assumptions" class="idref" href="#cstr_branch_context_assumptions"><span class="id" title="lemma">cstr_branch_context_assumptions</span></a> <a id="ci:404" class="idref" href="#ci:404"><span class="id" title="binder">ci</span></a> <a id="mdecl:405" class="idref" href="#mdecl:405"><span class="id" title="binder">mdecl</span></a> <a id="cdecl:406" class="idref" href="#cdecl:406"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:404"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:405"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:406"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:406"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions_fold"><span class="id" title="lemma">context_assumptions_fold</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Ast_cstr_branch_context_assumptions" class="idref" href="#Ast_cstr_branch_context_assumptions"><span class="id" title="lemma">Ast_cstr_branch_context_assumptions</span></a> <a id="ci:407" class="idref" href="#ci:407"><span class="id" title="binder">ci</span></a> <a id="mdecl:408" class="idref" href="#mdecl:408"><span class="id" title="binder">mdecl</span></a> <a id="cdecl:409" class="idref" href="#cdecl:409"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#cstr_branch_context"><span class="id" title="definition">Ast.cstr_branch_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:407"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:408"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:409"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:409"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Template.Ast.html#Env.context_assumptions_fold"><span class="id" title="lemma">Ast.Env.context_assumptions_fold</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map2_set_binder_name_context_assumptions" class="idref" href="#map2_set_binder_name_context_assumptions"><span class="id" title="lemma">map2_set_binder_name_context_assumptions</span></a> (<a id="l:410" class="idref" href="#l:410"><span class="id" title="binder">l</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="l':411" class="idref" href="#l':411"><span class="id" title="binder">l'</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.context"><span class="id" title="definition">Ast.Env.context</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:410"><span class="id" title="variable">l</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':411"><span class="id" title="variable">l'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.set_binder_name"><span class="id" title="definition">Ast.Env.set_binder_name</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:410"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':411"><span class="id" title="variable">l'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':411"><span class="id" title="variable">l'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; <span class="id" title="var">cbn</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [=]. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> ⇒ //; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Ast_inst_case_context_length" class="idref" href="#Ast_inst_case_context_length"><span class="id" title="lemma">Ast_inst_case_context_length</span></a> <a id="pars:412" class="idref" href="#pars:412"><span class="id" title="binder">pars</span></a> <a id="puinst:413" class="idref" href="#puinst:413"><span class="id" title="binder">puinst</span></a> <a id="ctx:414" class="idref" href="#ctx:414"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Template.Ast.html#inst_case_context"><span class="id" title="definition">Ast.inst_case_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pars:412"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#puinst:413"><span class="id" title="variable">puinst</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:414"><span class="id" title="variable">ctx</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:414"><span class="id" title="variable">ctx</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#inst_case_context"><span class="id" title="definition">Ast.inst_case_context</span></a>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Ast_inst_case_context_length"><span class="id" title="lemma">Ast_inst_case_context_length</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Ast_inst_case_context_assumptions" class="idref" href="#Ast_inst_case_context_assumptions"><span class="id" title="lemma">Ast_inst_case_context_assumptions</span></a> <a id="pars:415" class="idref" href="#pars:415"><span class="id" title="binder">pars</span></a> <a id="puinst:416" class="idref" href="#puinst:416"><span class="id" title="binder">puinst</span></a> <a id="ctx:417" class="idref" href="#ctx:417"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#inst_case_context"><span class="id" title="definition">Ast.inst_case_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pars:415"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#puinst:416"><span class="id" title="variable">puinst</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:417"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:417"><span class="id" title="variable">ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#inst_case_context"><span class="id" title="definition">Ast.inst_case_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Template.Ast.html#Env.context_assumptions_fold"><span class="id" title="lemma">Ast.Env.context_assumptions_fold</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Template.Ast.html#Env.context_assumptions_map"><span class="id" title="lemma">Ast.Env.context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="case_branch_context_assumptions" class="idref" href="#case_branch_context_assumptions"><span class="id" title="lemma">case_branch_context_assumptions</span></a> <a id="ci:418" class="idref" href="#ci:418"><span class="id" title="binder">ci</span></a> <a id="mdecl:419" class="idref" href="#mdecl:419"><span class="id" title="binder">mdecl</span></a> <a id="cdecl:420" class="idref" href="#cdecl:420"><span class="id" title="binder">cdecl</span></a> <a id="p:421" class="idref" href="#p:421"><span class="id" title="binder">p</span></a> <a id="br:422" class="idref" href="#br:422"><span class="id" title="binder">br</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Template.Ast.html#bcontext"><span class="id" title="projection">Ast.bcontext</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:422"><span class="id" title="variable">br</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:420"><span class="id" title="variable">cdecl</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#case_branch_context"><span class="id" title="definition">Ast.case_branch_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:418"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:419"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:420"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:421"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:422"><span class="id" title="variable">br</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:420"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#case_branch_context"><span class="id" title="definition">Ast.case_branch_context</span></a> /<a class="idref" href="MetaRocq.Template.Ast.html#case_branch_context_gen"><span class="id" title="definition">Ast.case_branch_context_gen</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map2_set_binder_name_context_assumptions"><span class="id" title="lemma">map2_set_binder_name_context_assumptions</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="declared_inductive_lookup" class="idref" href="#declared_inductive_lookup"><span class="id" title="lemma">declared_inductive_lookup</span></a> {<a id="9b1e1d14dcd85f6761a8637bb0c663a3" class="idref" href="#9b1e1d14dcd85f6761a8637bb0c663a3"><span class="id" title="binder">wfΣ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>} {<a id="ind:424" class="idref" href="#ind:424"><span class="id" title="binder">ind</span></a> <a id="mdecl:425" class="idref" href="#mdecl:425"><span class="id" title="binder">mdecl</span></a> <a id="idecl:426" class="idref" href="#idecl:426"><span class="id" title="binder">idecl</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:424"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:425"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:426"><span class="id" title="variable">idecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:424"><span class="id" title="variable">ind</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:425"><span class="id" title="variable">mdecl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:426"><span class="id" title="variable">idecl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_minductive"><span class="id" title="definition">lookup_minductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_inductive_gen"><span class="id" title="definition">lookup_inductive_gen</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lookup_minductive_gen"><span class="id" title="definition">lookup_minductive_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map2_cst" class="idref" href="#map2_cst"><span class="id" title="lemma">map2_cst</span></a> {<a id="A:427" class="idref" href="#A:427"><span class="id" title="binder">A</span></a> <a id="B:428" class="idref" href="#B:428"><span class="id" title="binder">B</span></a>} (<a id="l:429" class="idref" href="#l:429"><span class="id" title="binder">l</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:427"><span class="id" title="variable">A</span></a>) (<a id="l':430" class="idref" href="#l':430"><span class="id" title="binder">l'</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:428"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:429"><span class="id" title="variable">l</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':430"><span class="id" title="variable">l'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:431" class="idref" href="#x:431"><span class="id" title="binder">x</span></a> <a id="y:432" class="idref" href="#y:432"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:431"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:429"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':430"><span class="id" title="variable">l'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:429"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [=]. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_inst_case_context" class="idref" href="#trans_inst_case_context"><span class="id" title="lemma">trans_inst_case_context</span></a> <a id="pars:433" class="idref" href="#pars:433"><span class="id" title="binder">pars</span></a> <a id="puinst:434" class="idref" href="#puinst:434"><span class="id" title="binder">puinst</span></a> <a id="ctx:435" class="idref" href="#ctx:435"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#inst_case_context"><span class="id" title="definition">Ast.inst_case_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pars:433"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#puinst:434"><span class="id" title="variable">puinst</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:435"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pars:433"><span class="id" title="variable">pars</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#puinst:434"><span class="id" title="variable">puinst</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:435"><span class="id" title="variable">ctx</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#inst_case_context"><span class="id" title="definition">Ast.inst_case_context</span></a> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_context"><span class="id" title="lemma">trans_subst_context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_subst_instance"><span class="id" title="lemma">trans_local_subst_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_local_app" class="idref" href="#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> <a id="b6b19b0949691f5270e1b73df104c6f1" class="idref" href="#b6b19b0949691f5270e1b73df104c6f1"><span class="id" title="binder">Γ</span></a> <a id="4a2b053d4f32ed0b535858b892dad3c7" class="idref" href="#4a2b053d4f32ed0b535858b892dad3c7"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b6b19b0949691f5270e1b73df104c6f1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4a2b053d4f32ed0b535858b892dad3c7"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b6b19b0949691f5270e1b73df104c6f1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4a2b053d4f32ed0b535858b892dad3c7"><span class="id" title="variable">Δ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_case_predicate_context" class="idref" href="#trans_case_predicate_context"><span class="id" title="lemma">trans_case_predicate_context</span></a> (<a id="ci:438" class="idref" href="#ci:438"><span class="id" title="binder">ci</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#case_info"><span class="id" title="record">case_info</span></a>) <a id="mdecl:439" class="idref" href="#mdecl:439"><span class="id" title="binder">mdecl</span></a> <a id="idecl:440" class="idref" href="#idecl:440"><span class="id" title="binder">idecl</span></a> <a id="p:441" class="idref" href="#p:441"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="bctx:442" class="idref" href="#bctx:442"><span class="id" title="binder">bctx</span></a> := <a class="idref" href="MetaRocq.Template.Ast.html#case_predicate_context"><span class="id" title="definition">Ast.case_predicate_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:438"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:439"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:440"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:441"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':443" class="idref" href="#p':443"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaRocq.Template.Ast.html#map_predicate"><span class="id" title="definition">Ast.map_predicate</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:441"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':444" class="idref" href="#mdecl':444"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:439"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="idecl':445" class="idref" href="#idecl':445"><span class="id" title="binder">idecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:440"><span class="id" title="variable">idecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':446" class="idref" href="#p':446"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:438"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':444"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':445"><span class="id" title="variable">idecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':443"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#pparams"><span class="id" title="projection">Ast.pparams</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':443"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#puinst"><span class="id" title="projection">Ast.puinst</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':443"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#pcontext"><span class="id" title="projection">Ast.pcontext</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':443"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#preturn"><span class="id" title="projection">Ast.preturn</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Template.Ast.html#pcontext"><span class="id" title="projection">Ast.pcontext</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:441"><span class="id" title="variable">p</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_indices"><span class="id" title="projection">Ast.Env.ind_indices</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:440"><span class="id" title="variable">idecl</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#case_predicate_context"><span class="id" title="definition">Ast.case_predicate_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:438"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:439"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:440"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:441"><span class="id" title="variable">p</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:438"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':444"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':445"><span class="id" title="variable">idecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':446"><span class="id" title="variable">p'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">bctx</span> <span class="id" title="var">p'</span> <span class="id" title="var">mdecl'</span> <span class="id" title="var">idecl'</span> <span class="id" title="var">p''</span> <span class="id" title="var">eqp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#case_predicate_context"><span class="id" title="definition">Ast.case_predicate_context</span></a> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_predicate_context_gen"><span class="id" title="definition">case_predicate_context_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#case_predicate_context_gen"><span class="id" title="definition">Ast.case_predicate_context_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map2_trans"><span class="id" title="lemma">map2_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map2_map_r"><span class="id" title="lemma">PCUICUnivSubstitutionConv.map2_map_r</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map2_cst"><span class="id" title="lemma">map2_cst</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#pre_case_predicate_context_gen"><span class="id" title="definition">Ast.pre_case_predicate_context_gen</span></a> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#pre_case_predicate_context_gen"><span class="id" title="definition">pre_case_predicate_context_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_inst_case_context"><span class="id" title="lemma">trans_inst_case_context</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#ind_predicate_context"><span class="id" title="definition">Ast.ind_predicate_context</span></a> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context"><span class="id" title="definition">ind_predicate_context</span></a> /= /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> /=. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_reln"><span class="id" title="lemma">trans_reln</span></a> /= /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_ind_predicate_context" class="idref" href="#trans_ind_predicate_context"><span class="id" title="lemma">trans_ind_predicate_context</span></a> (<a id="8d013d47d3533b736428cc09553704a4" class="idref" href="#8d013d47d3533b736428cc09553704a4"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) <a id="ind:448" class="idref" href="#ind:448"><span class="id" title="binder">ind</span></a> <a id="mdecl:449" class="idref" href="#mdecl:449"><span class="id" title="binder">mdecl</span></a> <a id="idecl:450" class="idref" href="#idecl:450"><span class="id" title="binder">idecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':451" class="idref" href="#mdecl':451"><span class="id" title="binder">mdecl'</span></a>:= <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:449"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="idecl':452" class="idref" href="#idecl':452"><span class="id" title="binder">idecl'</span></a>:= <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:450"><span class="id" title="variable">idecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:453" class="idref" href="#x:453"><span class="id" title="binder">x</span></a> <a id="y:454" class="idref" href="#y:454"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaRocq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:453"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:454"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8d013d47d3533b736428cc09553704a4"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#ind_predicate_context"><span class="id" title="definition">Ast.ind_predicate_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:448"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:449"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:450"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:455" class="idref" href="#x:455"><span class="id" title="binder">x</span></a> <a id="y:456" class="idref" href="#y:456"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaRocq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:455"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:456"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8d013d47d3533b736428cc09553704a4"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context"><span class="id" title="definition">ind_predicate_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:448"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':451"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':452"><span class="id" title="variable">idecl'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#ind_predicate_context"><span class="id" title="definition">Ast.ind_predicate_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">mdecl'</span> /<span class="id" title="var">idecl'</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_map_right"><span class="id" title="lemma">All2_map_right</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_cstr_branch_context_alpha" class="idref" href="#trans_cstr_branch_context_alpha"><span class="id" title="lemma">trans_cstr_branch_context_alpha</span></a> (<a id="8127ceafcb0e5e39154a2dd6a35321ee" class="idref" href="#8127ceafcb0e5e39154a2dd6a35321ee"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) <a id="ind:458" class="idref" href="#ind:458"><span class="id" title="binder">ind</span></a> <a id="mdecl:459" class="idref" href="#mdecl:459"><span class="id" title="binder">mdecl</span></a> <a id="cdecl:460" class="idref" href="#cdecl:460"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':461" class="idref" href="#mdecl':461"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:459"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cdecl':462" class="idref" href="#cdecl':462"><span class="id" title="binder">cdecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:460"><span class="id" title="variable">cdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:463" class="idref" href="#x:463"><span class="id" title="binder">x</span></a> <a id="y:464" class="idref" href="#y:464"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaRocq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:463"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:464"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8127ceafcb0e5e39154a2dd6a35321ee"><span class="id" title="variable">Γ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Template.Ast.html#cstr_branch_context"><span class="id" title="definition">Ast.cstr_branch_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:458"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:459"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:460"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:465" class="idref" href="#x:465"><span class="id" title="binder">x</span></a> <a id="y:466" class="idref" href="#y:466"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaRocq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:465"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:466"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8127ceafcb0e5e39154a2dd6a35321ee"><span class="id" title="variable">Γ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:458"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':461"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl':462"><span class="id" title="variable">cdecl'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cstr_branch_context"><span class="id" title="lemma">trans_cstr_branch_context</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_map_right"><span class="id" title="lemma">All2_map_right</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_impl"><span class="id" title="lemma">All2_impl</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="inst_case_predicate_context_eq" class="idref" href="#inst_case_predicate_context_eq"><span class="id" title="lemma">inst_case_predicate_context_eq</span></a> (<a id="ci:467" class="idref" href="#ci:467"><span class="id" title="binder">ci</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#case_info"><span class="id" title="record">case_info</span></a>) <a id="mdecl:468" class="idref" href="#mdecl:468"><span class="id" title="binder">mdecl</span></a> <a id="idecl:469" class="idref" href="#idecl:469"><span class="id" title="binder">idecl</span></a> <a id="p:470" class="idref" href="#p:470"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="bctx:471" class="idref" href="#bctx:471"><span class="id" title="binder">bctx</span></a> := <a class="idref" href="MetaRocq.Template.Ast.html#case_predicate_context"><span class="id" title="definition">Ast.case_predicate_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:467"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:468"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:469"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:470"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':472" class="idref" href="#p':472"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaRocq.Template.Ast.html#map_predicate"><span class="id" title="definition">Ast.map_predicate</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:470"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':473" class="idref" href="#mdecl':473"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:468"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="idecl':474" class="idref" href="#idecl':474"><span class="id" title="binder">idecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:469"><span class="id" title="variable">idecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':475" class="idref" href="#p':475"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:467"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':473"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':474"><span class="id" title="variable">idecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':472"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#pparams"><span class="id" title="projection">Ast.pparams</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':472"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#puinst"><span class="id" title="projection">Ast.puinst</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':472"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#pcontext"><span class="id" title="projection">Ast.pcontext</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':472"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#preturn"><span class="id" title="projection">Ast.preturn</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf_nactx"><span class="id" title="abbreviation">WfAst.wf_nactx</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#pcontext"><span class="id" title="projection">Ast.pcontext</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:470"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaRocq.Template.Ast.html#ind_predicate_context"><span class="id" title="definition">Ast.ind_predicate_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:467"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:468"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:469"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#case_predicate_context"><span class="id" title="definition">Ast.case_predicate_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:467"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:468"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:469"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:470"><span class="id" title="variable">p</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_predicate_context"><span class="id" title="definition">inst_case_predicate_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':475"><span class="id" title="variable">p'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(@<a class="idref" href="MetaRocq.PCUIC.PCUICCasesContexts.html#inst_case_predicate_context_eq"><span class="id" title="lemma">inst_case_predicate_context_eq</span></a> <span class="id" title="var">mdecl'</span> <span class="id" title="var">idecl'</span> <span class="id" title="var">ci</span> <span class="id" title="var">p'0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_case_predicate_context"><span class="id" title="lemma">trans_case_predicate_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">p'0</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICCasesContexts.html#eq_binder_annots_eq"><span class="id" title="lemma">eq_binder_annots_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_ind_predicate_context"><span class="id" title="lemma">trans_ind_predicate_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_case_branch_context" class="idref" href="#trans_case_branch_context"><span class="id" title="lemma">trans_case_branch_context</span></a> (<a id="ci:476" class="idref" href="#ci:476"><span class="id" title="binder">ci</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#case_info"><span class="id" title="record">case_info</span></a>) <a id="mdecl:477" class="idref" href="#mdecl:477"><span class="id" title="binder">mdecl</span></a> <a id="idecl:478" class="idref" href="#idecl:478"><span class="id" title="binder">idecl</span></a> <a id="cdecl:479" class="idref" href="#cdecl:479"><span class="id" title="binder">cdecl</span></a> <a id="p:480" class="idref" href="#p:480"><span class="id" title="binder">p</span></a> <a id="br:481" class="idref" href="#br:481"><span class="id" title="binder">br</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="bctx:482" class="idref" href="#bctx:482"><span class="id" title="binder">bctx</span></a> := <a class="idref" href="MetaRocq.Template.Ast.html#case_predicate_context"><span class="id" title="definition">Ast.case_predicate_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:476"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:477"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:478"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:480"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':483" class="idref" href="#p':483"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaRocq.Template.Ast.html#map_predicate"><span class="id" title="definition">Ast.map_predicate</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:480"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':484" class="idref" href="#mdecl':484"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:477"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="idecl':485" class="idref" href="#idecl':485"><span class="id" title="binder">idecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:478"><span class="id" title="variable">idecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cdecl':486" class="idref" href="#cdecl':486"><span class="id" title="binder">cdecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:479"><span class="id" title="variable">cdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':487" class="idref" href="#p':487"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:476"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':484"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':485"><span class="id" title="variable">idecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':483"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#pparams"><span class="id" title="projection">Ast.pparams</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':483"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#puinst"><span class="id" title="projection">Ast.puinst</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':483"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#pcontext"><span class="id" title="projection">Ast.pcontext</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':483"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#preturn"><span class="id" title="projection">Ast.preturn</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="br':488" class="idref" href="#br':488"><span class="id" title="binder">br'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_branch"><span class="id" title="definition">trans_branch</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:476"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':484"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl':486"><span class="id" title="variable">cdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:481"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#bcontext"><span class="id" title="projection">Ast.bcontext</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:481"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#bbody"><span class="id" title="projection">Ast.bbody</span></a>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf_nactx"><span class="id" title="abbreviation">WfAst.wf_nactx</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#bcontext"><span class="id" title="projection">Ast.bcontext</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:481"><span class="id" title="variable">br</span></a>) (<a class="idref" href="MetaRocq.Template.Ast.html#cstr_branch_context"><span class="id" title="definition">Ast.cstr_branch_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:476"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:477"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:479"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#case_branch_context"><span class="id" title="definition">Ast.case_branch_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:476"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:477"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:479"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:480"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:481"><span class="id" title="variable">br</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_context"><span class="id" title="definition">case_branch_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:476"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':484"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':487"><span class="id" title="variable">p'</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#forget_types"><span class="id" title="definition">forget_types</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br':488"><span class="id" title="variable">br'</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl':486"><span class="id" title="variable">cdecl'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#case_branch_context"><span class="id" title="definition">Ast.case_branch_context</span></a> /<a class="idref" href="MetaRocq.Template.Ast.html#case_branch_context_gen"><span class="id" title="definition">Ast.case_branch_context_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_context"><span class="id" title="definition">case_branch_context</span></a> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_context_gen"><span class="id" title="definition">case_branch_context_gen</span></a> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#pre_case_branch_context_gen"><span class="id" title="definition">pre_case_branch_context_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map2_trans"><span class="id" title="lemma">map2_trans</span></a> -<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map2_map_r"><span class="id" title="lemma">PCUICUnivSubstitutionConv.map2_map_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a> /= <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map2_cst"><span class="id" title="lemma">map2_cst</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_inst_case_context"><span class="id" title="lemma">trans_inst_case_context</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cstr_branch_context"><span class="id" title="lemma">trans_cstr_branch_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="inst_case_branch_context_eq" class="idref" href="#inst_case_branch_context_eq"><span class="id" title="lemma">inst_case_branch_context_eq</span></a> (<a id="ci:489" class="idref" href="#ci:489"><span class="id" title="binder">ci</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#case_info"><span class="id" title="record">case_info</span></a>) <a id="mdecl:490" class="idref" href="#mdecl:490"><span class="id" title="binder">mdecl</span></a> <a id="idecl:491" class="idref" href="#idecl:491"><span class="id" title="binder">idecl</span></a> <a id="cdecl:492" class="idref" href="#cdecl:492"><span class="id" title="binder">cdecl</span></a> <a id="p:493" class="idref" href="#p:493"><span class="id" title="binder">p</span></a> <a id="br:494" class="idref" href="#br:494"><span class="id" title="binder">br</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="bctx:495" class="idref" href="#bctx:495"><span class="id" title="binder">bctx</span></a> := <a class="idref" href="MetaRocq.Template.Ast.html#case_predicate_context"><span class="id" title="definition">Ast.case_predicate_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:489"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:490"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:491"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:493"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':496" class="idref" href="#p':496"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaRocq.Template.Ast.html#map_predicate"><span class="id" title="definition">Ast.map_predicate</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:493"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':497" class="idref" href="#mdecl':497"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:490"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="idecl':498" class="idref" href="#idecl':498"><span class="id" title="binder">idecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:491"><span class="id" title="variable">idecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cdecl':499" class="idref" href="#cdecl':499"><span class="id" title="binder">cdecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:492"><span class="id" title="variable">cdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':500" class="idref" href="#p':500"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:489"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':497"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':498"><span class="id" title="variable">idecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':496"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#pparams"><span class="id" title="projection">Ast.pparams</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':496"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#puinst"><span class="id" title="projection">Ast.puinst</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':496"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#pcontext"><span class="id" title="projection">Ast.pcontext</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':496"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#preturn"><span class="id" title="projection">Ast.preturn</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="br':501" class="idref" href="#br':501"><span class="id" title="binder">br'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_branch"><span class="id" title="definition">trans_branch</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:489"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':497"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl':499"><span class="id" title="variable">cdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:494"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#bcontext"><span class="id" title="projection">Ast.bcontext</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:494"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#bbody"><span class="id" title="projection">Ast.bbody</span></a>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf_nactx"><span class="id" title="abbreviation">WfAst.wf_nactx</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#bcontext"><span class="id" title="projection">Ast.bcontext</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:494"><span class="id" title="variable">br</span></a>) (<a class="idref" href="MetaRocq.Template.Ast.html#cstr_branch_context"><span class="id" title="definition">Ast.cstr_branch_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:489"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:490"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:492"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#case_branch_context"><span class="id" title="definition">Ast.case_branch_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:489"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:490"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:492"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:493"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:494"><span class="id" title="variable">br</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':500"><span class="id" title="variable">p'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br':501"><span class="id" title="variable">br'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(@<a class="idref" href="MetaRocq.PCUIC.PCUICCasesContexts.html#inst_case_branch_context_eq"><span class="id" title="lemma">inst_case_branch_context_eq</span></a> <span class="id" title="var">ci</span> <span class="id" title="var">mdecl'</span> <span class="id" title="var">cdecl'</span> <span class="id" title="var">p'0</span> <span class="id" title="var">br'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICCasesContexts.html#eq_binder_annots_eq"><span class="id" title="lemma">eq_binder_annots_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cstr_branch_context_alpha"><span class="id" title="lemma">trans_cstr_branch_context_alpha</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_case_branch_context"><span class="id" title="lemma">trans_case_branch_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OnOne2_map2" class="idref" href="#OnOne2_map2"><span class="id" title="lemma">OnOne2_map2</span></a> {<a id="A:502" class="idref" href="#A:502"><span class="id" title="binder">A</span></a> <a id="B:503" class="idref" href="#B:503"><span class="id" title="binder">B</span></a> <a id="C:504" class="idref" href="#C:504"><span class="id" title="binder">C</span></a>} (<a id="P:505" class="idref" href="#P:505"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:502"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:502"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) (<a id="f:506" class="idref" href="#f:506"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:503"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:504"><span class="id" title="variable">C</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:502"><span class="id" title="variable">A</span></a>) <a id="l:507" class="idref" href="#l:507"><span class="id" title="binder">l</span></a> <a id="l':508" class="idref" href="#l':508"><span class="id" title="binder">l'</span></a> <a id="l'':509" class="idref" href="#l'':509"><span class="id" title="binder">l''</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2All"><span class="id" title="inductive">OnOne2All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:510" class="idref" href="#x:510"><span class="id" title="binder">x</span></a> <a id="y:511" class="idref" href="#y:511"><span class="id" title="binder">y</span></a> <a id="z:512" class="idref" href="#z:512"><span class="id" title="binder">z</span></a> ⇒ <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:505"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:506"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:510"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:511"><span class="id" title="variable">y</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:506"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:510"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#z:512"><span class="id" title="variable">z</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:507"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':508"><span class="id" title="variable">l'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l'':509"><span class="id" title="variable">l''</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2"><span class="id" title="inductive">OnOne2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:505"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:506"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:507"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':508"><span class="id" title="variable">l'</span></a>) (<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:506"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:507"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l'':509"><span class="id" title="variable">l''</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OnOne2All_map2" class="idref" href="#OnOne2All_map2"><span class="id" title="lemma">OnOne2All_map2</span></a> {<a id="A:513" class="idref" href="#A:513"><span class="id" title="binder">A</span></a> <a id="B:514" class="idref" href="#B:514"><span class="id" title="binder">B</span></a> <a id="D:515" class="idref" href="#D:515"><span class="id" title="binder">D</span></a>} (<a id="P:516" class="idref" href="#P:516"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#D:515"><span class="id" title="variable">D</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:514"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:514"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:517" class="idref" href="#f:517"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:514"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:513"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#D:515"><span class="id" title="variable">D</span></a>) (<a id="l:518" class="idref" href="#l:518"><span class="id" title="binder">l</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:513"><span class="id" title="variable">A</span></a>) (<a id="l':519" class="idref" href="#l':519"><span class="id" title="binder">l'</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:514"><span class="id" title="variable">B</span></a>) (<a id="l'':520" class="idref" href="#l'':520"><span class="id" title="binder">l''</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:514"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:518"><span class="id" title="variable">l</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':519"><span class="id" title="variable">l'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2All"><span class="id" title="inductive">OnOne2All</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:516"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:517"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':519"><span class="id" title="variable">l'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:518"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':519"><span class="id" title="variable">l'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l'':520"><span class="id" title="variable">l''</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2All"><span class="id" title="inductive">OnOne2All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:521" class="idref" href="#x:521"><span class="id" title="binder">x</span></a> <a id="y:522" class="idref" href="#y:522"><span class="id" title="binder">y</span></a> <a id="z:523" class="idref" href="#z:523"><span class="id" title="binder">z</span></a> ⇒ <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:516"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:517"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:522"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:521"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:522"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#z:523"><span class="id" title="variable">z</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:518"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':519"><span class="id" title="variable">l'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l'':520"><span class="id" title="variable">l''</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>, <span class="id" title="var">l''</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">hlen</span> <span class="id" title="var">H</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> ⇒ //. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> ⇒ //. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl'</span> ⇒ //. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="All2_nth_hyp" class="idref" href="#All2_nth_hyp"><span class="id" title="lemma">All2_nth_hyp</span></a> {<a id="A:524" class="idref" href="#A:524"><span class="id" title="binder">A</span></a> <a id="B:525" class="idref" href="#B:525"><span class="id" title="binder">B</span></a>} (<a id="R:526" class="idref" href="#R:526"><span class="id" title="binder">R</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:524"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:525"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) <a id="l:527" class="idref" href="#l:527"><span class="id" title="binder">l</span></a> <a id="l':528" class="idref" href="#l':528"><span class="id" title="binder">l'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#R:526"><span class="id" title="variable">R</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:527"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':528"><span class="id" title="variable">l'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:529" class="idref" href="#x:529"><span class="id" title="binder">x</span></a> <a id="y:530" class="idref" href="#y:530"><span class="id" title="binder">y</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="i:531" class="idref" href="#i:531"><span class="id" title="binder">i</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:527"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:531"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:529"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#R:526"><span class="id" title="variable">R</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:529"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:530"><span class="id" title="variable">y</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:527"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':528"><span class="id" title="variable">l'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> 0. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_impl"><span class="id" title="lemma">All2_impl</span></a> <span class="id" title="var">IHa</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? [<span class="id" title="var">i</span> <span class="id" title="var">hnth</span>]. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">i</span>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="7cc76be42ca55806989f3575d3f1d4fa" class="idref" href="#7cc76be42ca55806989f3575d3f1d4fa"><span class="id" title="variable">wfΣ</span></a> : <a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="d6ae190eb0b8d8742aa8593c095cc94a" class="idref" href="#d6ae190eb0b8d8742aa8593c095cc94a"><span class="id" title="variable">wfΣ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wf_wf_decl_pred" class="idref" href="#wf_wf_decl_pred"><span class="id" title="lemma">wf_wf_decl_pred</span></a> : <a class="idref" href="MetaRocq.Template.Typing.html#on_global_env"><span class="id" title="definition">Typing.on_global_env</span></a> <a class="idref" href="MetaRocq.Template.Typing.html#cumul_gen"><span class="id" title="inductive">Typing.cumul_gen</span></a> (<span class="id" title="keyword">fun</span> <a id="fb9499c91692840d1f85537398d84fe1" class="idref" href="#fb9499c91692840d1f85537398d84fe1"><span class="id" title="binder">Σ</span></a> ⇒ <a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl_pred"><span class="id" title="definition">WfAst.wf_decl_pred</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fb9499c91692840d1f85537398d84fe1"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#typing_wf_sigma"><span class="id" title="lemma">typing_wf_sigma</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">wf_wf_decl_pred</span> : <span class="id" title="keyword">wf</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_red1" class="idref" href="#trans_red1"><span class="id" title="lemma">trans_red1</span></a> <a id="6d8a7500676509a278537998b80e8e40" class="idref" href="#6d8a7500676509a278537998b80e8e40"><span class="id" title="binder">Γ</span></a> <a id="T:536" class="idref" href="#T:536"><span class="id" title="binder">T</span></a> <a id="U:537" class="idref" href="#U:537"><span class="id" title="binder">U</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6d8a7500676509a278537998b80e8e40"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:536"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#red1"><span class="id" title="inductive">ST.red1</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6d8a7500676509a278537998b80e8e40"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:536"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#U:537"><span class="id" title="variable">U</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red1"><span class="id" title="inductive">red1</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6d8a7500676509a278537998b80e8e40"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:536"><span class="id" title="variable">T</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#U:537"><span class="id" title="variable">U</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΓ</span> <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#red1_ind_all"><span class="id" title="lemma">ST.red1_ind_all</span></a>; <span class="id" title="var">wf_inv</span> <span class="id" title="var">Hwf</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">wf_inv</span> <span class="id" title="var">w</span>. <span class="id" title="var">inv</span> <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red1_mkApps_f"><span class="id" title="lemma">red1_mkApps_f</span></a>. <span class="id" title="tactic">constructor</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">injection</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span> →. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">discriminate</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">isdecl</span> <span class="id" title="var">hci</span> <span class="id" title="var">hpctx</span> <span class="id" title="var">lenpar</span> <span class="id" title="var">wfpar</span> <span class="id" title="var">wfret</span> <span class="id" title="var">wfc</span> <span class="id" title="var">wfbrs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_inj"><span class="id" title="lemma">declared_inductive_inj</span></a> <span class="id" title="var">isdecl</span> (<a class="idref" href="MetaRocq.Utils.MRProd.html#proj1"><span class="id" title="definition">proj1</span></a> <span class="id" title="var">H0</span>)). <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isdecl</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_inductive"><span class="id" title="lemma">trans_lookup_inductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_lookup"><span class="id" title="lemma">declared_inductive_lookup</span></a> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_nth_error"><span class="id" title="lemma">All2_nth_error</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfbrs</span> <span class="id" title="keyword">as</span> []; <span class="id" title="var">tea</span>. 2:<span class="id" title="tactic">exact</span> (<a class="idref" href="MetaRocq.Utils.MRProd.html#proj2"><span class="id" title="definition">proj2</span></a> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">lenbr</span> := (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="var">a</span>); <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">lenbr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_iota_red"><span class="id" title="lemma">trans_iota_red</span></a> <span class="id" title="var">_</span> <span class="id" title="var">mdecl</span> <span class="id" title="var">idecl</span> <span class="id" title="var">cdecl</span>) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map2_map_map"><span class="id" title="lemma">map2_map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#nth_error_map2"><span class="id" title="lemma">nth_error_map2</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Template.Ast.html#map_branch"><span class="id" title="definition">Ast.map_branch</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#map2_set_binder_name_context_assumptions"><span class="id" title="lemma">PCUICCases.map2_set_binder_name_context_assumptions</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> /<span class="id" title="var">bctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#case_branch_context_assumptions"><span class="id" title="lemma">case_branch_context_assumptions</span></a> //; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a> //.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red_fix"><span class="id" title="constructor">red_fix</span></a>. <span class="id" title="var">wf_inv</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_unfold_fix"><span class="id" title="lemma">trans_unfold_fix</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_is_constructor"><span class="id" title="lemma">trans_is_constructor</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">isdecl</span> <span class="id" title="var">hci</span> <span class="id" title="var">hpctx</span> <span class="id" title="var">lenpar</span> <span class="id" title="var">wfpar</span> <span class="id" title="var">wfret</span> <span class="id" title="var">wfc</span> <span class="id" title="var">wfbrs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isdecl</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_inductive"><span class="id" title="lemma">trans_lookup_inductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_lookup"><span class="id" title="lemma">declared_inductive_lookup</span></a> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Template.WfAst.html#wf_mkApps_napp"><span class="id" title="lemma">WfAst.wf_mkApps_napp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfc</span> <span class="id" title="keyword">as</span> []; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Template.TypingWf.html#unfold_cofix_wf"><span class="id" title="lemma">unfold_cofix_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">w</span>). <span class="id" title="var">wf_inv</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_unfold_cofix"><span class="id" title="lemma">trans_unfold_cofix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red_cofix_case"><span class="id" title="constructor">red_cofix_case</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.WfAst.html#wf_mkApps_napp"><span class="id" title="lemma">WfAst.wf_mkApps_napp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hwf</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Template.TypingWf.html#unfold_cofix_wf"><span class="id" title="lemma">unfold_cofix_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">a</span>). <span class="id" title="var">wf_inv</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red_cofix_proj"><span class="id" title="constructor">red_cofix_proj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_unfold_cofix"><span class="id" title="lemma">trans_unfold_cofix</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_constant"><span class="id" title="lemma">forall_decls_declared_constant</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7cc76be42ca55806989f3575d3f1d4fa"><span class="id" title="variable">wfΣ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6ae190eb0b8d8742aa8593c095cc94a"><span class="id" title="variable">wfΣ'</span></a> <span class="id" title="var">c</span> <span class="id" title="var">decl</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="var">cbn</span>; <span class="id" title="var">noconf</span> <span class="id" title="var">H0</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHX</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHX</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">isdecl</span> <span class="id" title="var">hci</span> <span class="id" title="var">hpctx</span> <span class="id" title="var">lenpar</span> <span class="id" title="var">wfpar</span> <span class="id" title="var">wfret</span> <span class="id" title="var">wfc</span> <span class="id" title="var">wfbrs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isdecl</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_inductive"><span class="id" title="lemma">trans_lookup_inductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_lookup"><span class="id" title="lemma">declared_inductive_lookup</span></a> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>. <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_All_mix_left"><span class="id" title="lemma">OnOne2_All_mix_left</span></a> <span class="id" title="var">wfpar</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">wfpar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">isdecl'</span> <span class="id" title="var">hci</span> <span class="id" title="var">hpctx</span> <span class="id" title="var">wfpar</span> <span class="id" title="var">wfret</span> <span class="id" title="var">wfc</span> <span class="id" title="var">wfbrs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_inj"><span class="id" title="lemma">declared_inductive_inj</span></a> <span class="id" title="var">isdecl</span> <span class="id" title="var">isdecl'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isdecl</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_inductive"><span class="id" title="lemma">trans_lookup_inductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_lookup"><span class="id" title="lemma">declared_inductive_lookup</span></a> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#inst_case_predicate_context_eq"><span class="id" title="lemma">inst_case_predicate_context_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHX</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hpctx</span>; <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hpctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHX</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#declared_inductive_wf_case_predicate_context"><span class="id" title="lemma">declared_inductive_wf_case_predicate_context</span></a> ⇒ //.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">isdecl</span> <span class="id" title="var">hci</span> <span class="id" title="var">hpctx</span> <span class="id" title="var">wfpar</span> <span class="id" title="var">wfret</span> <span class="id" title="var">wfc</span> <span class="id" title="var">wfbrs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isdecl</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_inductive"><span class="id" title="lemma">trans_lookup_inductive</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_lookup"><span class="id" title="lemma">declared_inductive_lookup</span></a> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHX</span> ⇒ //.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">isdecl'</span> <span class="id" title="var">hci</span> <span class="id" title="var">hpctx</span> <span class="id" title="var">lenpar</span> <span class="id" title="var">wfpar</span> <span class="id" title="var">wfret</span> <span class="id" title="var">wfc</span> <span class="id" title="var">wfbrs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_inj"><span class="id" title="lemma">declared_inductive_inj</span></a> <span class="id" title="var">isdecl</span> <span class="id" title="var">isdecl'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isdecl</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_inductive"><span class="id" title="lemma">trans_lookup_inductive</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_lookup"><span class="id" title="lemma">declared_inductive_lookup</span></a> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#OnOne2_map2"><span class="id" title="lemma">OnOne2_map2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All2_nth_hyp"><span class="id" title="lemma">All2_nth_hyp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfbrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#case_branches_contexts"><span class="id" title="definition">Ast.case_branches_contexts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#OnOne2All_map2"><span class="id" title="lemma">OnOne2All_map2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfbrs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2All_map_all"><span class="id" title="lemma">OnOne2All_map_all</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2All_All2_mix_left"><span class="id" title="lemma">OnOne2All_All2_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">b0</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">cstr</span> [<span class="id" title="var">hnth</span> [<span class="id" title="var">b</span> <span class="id" title="var">wfbod</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#inst_case_branch_context_eq"><span class="id" title="lemma">inst_case_branch_context_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">mdecl</span> <span class="id" title="var">idecl</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">b1</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">b1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">b0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">b1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">b1</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="MetaRocq.Template.Ast.html#case_branch_context"><span class="id" title="definition">Ast.case_branch_context</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">mdecl</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.Template.Ast.html#declared_constructor"><span class="id" title="definition">Ast.declared_constructor</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ind</span>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#ci_ind"><span class="id" title="projection">ci_ind</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">cstr</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">mdecl</span> <span class="id" title="var">idecl</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Template.TypingWf.html#declared_constructor_wf_case_branch_context"><span class="id" title="lemma">declared_constructor_wf_case_branch_context</span></a> <span class="id" title="var">H</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_red1"><span class="id" title="lemma">wf_red1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red1_mkApps_f"><span class="id" title="lemma">red1_mkApps_f</span></a>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span> <span class="id" title="var">w</span> <span class="id" title="var">n</span>. <span class="id" title="var">revert</span> <span class="id" title="var">M1</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">r0</span> <span class="id" title="var">wfΓ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red1_mkApps_f"><span class="id" title="lemma">red1_mkApps_f</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#app_red_r"><span class="id" title="constructor">app_red_r</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">r0</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHX</span> <span class="id" title="var">X1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">IHX</span> (<a class="idref" href="MetaRocq.Template.Ast.html#tApp"><span class="id" title="constructor">Template.Ast.tApp</span></a> <span class="id" title="var">M1</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">hd</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHX</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="var">inv</span> <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHX</span>. <span class="id" title="var">now</span> <span class="id" title="var">inv</span> <span class="id" title="var">Hwf</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHX</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#refine_red1_r"><span class="id" title="lemma">refine_red1_r</span></a>; [|<span class="id" title="tactic">constructor</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst1"><span class="id" title="definition">subst1</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#lift0_p"><span class="id" title="lemma">lift0_p</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">toAll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_All_mix_left"><span class="id" title="lemma">OnOne2_All_mix_left</span></a> <span class="id" title="var">Hwf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MetaRocq.Common.BasicAst.html#map_dtype"><span class="id" title="lemma">map_dtype</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MetaRocq.Common.BasicAst.html#map_dbody"><span class="id" title="lemma">map_dbody</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">b0</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">congruence</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#fix_red_body"><span class="id" title="constructor">fix_red_body</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">toAll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_All_mix_left"><span class="id" title="lemma">OnOne2_All_mix_left</span></a> <span class="id" title="var">Hwf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MetaRocq.Common.BasicAst.html#map_dtype"><span class="id" title="lemma">map_dtype</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MetaRocq.Common.BasicAst.html#map_dbody"><span class="id" title="lemma">map_dbody</span></a>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context"><span class="id" title="definition">app_context</span></a>, <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> → <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context"><span class="id" title="definition">app_context</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fix_context"><span class="id" title="definition">ST.fix_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#map_mapi"><span class="id" title="lemma">map_mapi</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#mapi_map"><span class="id" title="lemma">mapi_map</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> <span class="id" title="var">b</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_rev"><span class="id" title="lemma">All_rev</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#All_mapi"><span class="id" title="lemma">All_mapi</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Hwf</span>; <span class="id" title="tactic">generalize</span> 0 <span class="id" title="tactic">at</span> 2; <span class="id" title="tactic">induction</span> <span class="id" title="var">mfix0</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">Hwf</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.WfAst.html#wf_lift"><span class="id" title="lemma">WfAst.wf_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">Hwf</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">b</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f1a9983fccb8f06779b2fc55ae6f41b0"><span class="id" title="lemma">refine_red1_Γ</span></a>); [|<span class="id" title="tactic">apply</span> <span class="id" title="var">b</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a>; <span class="id" title="tactic">intros</span> [] [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#lift0_p"><span class="id" title="lemma">lift0_p</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Template.LiftSubst.html#lift0_p"><span class="id" title="lemma">LiftSubst.lift0_p</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> /= /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">congruence</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">toAll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_All_mix_left"><span class="id" title="lemma">OnOne2_All_mix_left</span></a> <span class="id" title="var">Hwf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MetaRocq.Common.BasicAst.html#map_dtype"><span class="id" title="lemma">map_dtype</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MetaRocq.Common.BasicAst.html#map_dbody"><span class="id" title="lemma">map_dbody</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">b0</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">congruence</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#cofix_red_body"><span class="id" title="constructor">cofix_red_body</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">toAll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_All_mix_left"><span class="id" title="lemma">OnOne2_All_mix_left</span></a> <span class="id" title="var">Hwf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MetaRocq.Common.BasicAst.html#map_dtype"><span class="id" title="lemma">map_dtype</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MetaRocq.Common.BasicAst.html#map_dbody"><span class="id" title="lemma">map_dbody</span></a>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context"><span class="id" title="definition">app_context</span></a>, <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> → <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context"><span class="id" title="definition">app_context</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fix_context"><span class="id" title="definition">ST.fix_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#map_mapi"><span class="id" title="lemma">map_mapi</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#mapi_map"><span class="id" title="lemma">mapi_map</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> <span class="id" title="var">b</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_rev"><span class="id" title="lemma">All_rev</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#All_mapi"><span class="id" title="lemma">All_mapi</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Hwf</span>; <span class="id" title="tactic">generalize</span> 0 <span class="id" title="tactic">at</span> 2; <span class="id" title="tactic">induction</span> <span class="id" title="var">mfix0</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">Hwf</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.WfAst.html#wf_lift"><span class="id" title="lemma">WfAst.wf_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">Hwf</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">b</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f1a9983fccb8f06779b2fc55ae6f41b0"><span class="id" title="lemma">refine_red1_Γ</span></a>); [|<span class="id" title="tactic">apply</span> <span class="id" title="var">b</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a>; <span class="id" title="tactic">intros</span> [] [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#lift0_p"><span class="id" title="lemma">lift0_p</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Template.LiftSubst.html#lift0_p"><span class="id" title="lemma">LiftSubst.lift0_p</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#array_red_val"><span class="id" title="constructor">array_red_val</span></a>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_All_mix_left"><span class="id" title="lemma">OnOne2_All_mix_left</span></a> <span class="id" title="var">a</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Trans_Global"><span class="id" title="section">Trans_Global</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_levels_trans" class="idref" href="#global_levels_trans"><span class="id" title="lemma">global_levels_trans</span></a> <a id="57a52350b520ce3a7a8c3ea16662a0ef" class="idref" href="#57a52350b520ce3a7a8c3ea16662a0ef"><span class="id" title="binder">Σ</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_levels"><span class="id" title="definition">global_levels</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#57a52350b520ce3a7a8c3ea16662a0ef"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#global_levels"><span class="id" title="definition">Ast.global_levels</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#57a52350b520ce3a7a8c3ea16662a0ef"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#Env.universes"><span class="id" title="projection">Ast.Env.universes</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">declarations0</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_constraints_trans" class="idref" href="#global_constraints_trans"><span class="id" title="lemma">global_constraints_trans</span></a> <a id="d38c8b5330524bdcfe9e28dacba9f691" class="idref" href="#d38c8b5330524bdcfe9e28dacba9f691"><span class="id" title="binder">Σ</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_constraints"><span class="id" title="definition">global_constraints</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d38c8b5330524bdcfe9e28dacba9f691"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#global_constraints"><span class="id" title="definition">Ast.global_constraints</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d38c8b5330524bdcfe9e28dacba9f691"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">declarations0</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_ext_levels_trans" class="idref" href="#global_ext_levels_trans"><span class="id" title="lemma">global_ext_levels_trans</span></a> <a id="47ac5bc1e7acb10c2d139e6e4aa30b23" class="idref" href="#47ac5bc1e7acb10c2d139e6e4aa30b23"><span class="id" title="binder">Σ</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#47ac5bc1e7acb10c2d139e6e4aa30b23"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#global_ext_levels"><span class="id" title="definition">Ast.global_ext_levels</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#47ac5bc1e7acb10c2d139e6e4aa30b23"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a>, <a class="idref" href="MetaRocq.Template.Ast.html#global_ext_levels"><span class="id" title="definition">Ast.global_ext_levels</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#global_levels_trans"><span class="id" title="lemma">global_levels_trans</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_ext_constraints_trans" class="idref" href="#global_ext_constraints_trans"><span class="id" title="lemma">global_ext_constraints_trans</span></a> <a id="13668b326994c45dc7ca08735d00aed5" class="idref" href="#13668b326994c45dc7ca08735d00aed5"><span class="id" title="binder">Σ</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#13668b326994c45dc7ca08735d00aed5"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#global_ext_constraints"><span class="id" title="definition">Ast.global_ext_constraints</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#13668b326994c45dc7ca08735d00aed5"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a>, <a class="idref" href="MetaRocq.Template.Ast.html#global_ext_constraints"><span class="id" title="definition">Ast.global_ext_constraints</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#global_constraints_trans"><span class="id" title="lemma">global_constraints_trans</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_cumul_gen" class="idref" href="#trans_cumul_gen"><span class="id" title="lemma">trans_cumul_gen</span></a> {<a id="cf:542" class="idref" href="#cf:542"><span class="id" title="binder">cf</span></a>} (<a id="83a3ed663423c3cd0e42ed158b1ed0ba" class="idref" href="#83a3ed663423c3cd0e42ed158b1ed0ba"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>) <a id="pb:544" class="idref" href="#pb:544"><span class="id" title="binder">pb</span></a> <a id="5fd8aed6c9dad003956f8fe11cf03dff" class="idref" href="#5fd8aed6c9dad003956f8fe11cf03dff"><span class="id" title="binder">Γ</span></a> <a id="T:546" class="idref" href="#T:546"><span class="id" title="binder">T</span></a> <a id="U:547" class="idref" href="#U:547"><span class="id" title="binder">U</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#83a3ed663423c3cd0e42ed158b1ed0ba"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="024055a4ec8d0e9fbff5b33101d34075" class="idref" href="#024055a4ec8d0e9fbff5b33101d34075"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#83a3ed663423c3cd0e42ed158b1ed0ba"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#024055a4ec8d0e9fbff5b33101d34075"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#83a3ed663423c3cd0e42ed158b1ed0ba"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5fd8aed6c9dad003956f8fe11cf03dff"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#83a3ed663423c3cd0e42ed158b1ed0ba"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:546"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#83a3ed663423c3cd0e42ed158b1ed0ba"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#U:547"><span class="id" title="variable">U</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cumul_gen"><span class="id" title="inductive">ST.cumul_gen</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#83a3ed663423c3cd0e42ed158b1ed0ba"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5fd8aed6c9dad003956f8fe11cf03dff"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pb:544"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:546"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#U:547"><span class="id" title="variable">U</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#83a3ed663423c3cd0e42ed158b1ed0ba"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#33bb734dc2f1c35e2c18cb80e80b3dc2"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#024055a4ec8d0e9fbff5b33101d34075"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5fd8aed6c9dad003956f8fe11cf03dff"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#33bb734dc2f1c35e2c18cb80e80b3dc2"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#024055a4ec8d0e9fbff5b33101d34075"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:546"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#33bb734dc2f1c35e2c18cb80e80b3dc2"><span class="id" title="notation">&lt;=[</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pb:544"><span class="id" title="variable">pb</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#33bb734dc2f1c35e2c18cb80e80b3dc2"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#024055a4ec8d0e9fbff5b33101d34075"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#U:547"><span class="id" title="variable">U</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 4.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_eq_term"><span class="id" title="lemma">trans_eq_term</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#global_ext_constraints_trans"><span class="id" title="lemma">global_ext_constraints_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_leq_term"><span class="id" title="lemma">trans_leq_term</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#global_ext_constraints_trans"><span class="id" title="lemma">global_ext_constraints_trans</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#cumul_red_l"><span class="id" title="constructor">cumul_red_l</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_red1"><span class="id" title="lemma">trans_red1</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHX2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_red1"><span class="id" title="lemma">wf_red1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#typing_wf_sigma"><span class="id" title="lemma">typing_wf_sigma</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#cumul_red_r"><span class="id" title="constructor">cumul_red_r</span></a>; <span class="id" title="var">tea</span>. 2:<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_red1"><span class="id" title="lemma">trans_red1</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHX2</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_red1"><span class="id" title="lemma">wf_red1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#typing_wf_sigma"><span class="id" title="lemma">typing_wf_sigma</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="TTy_wf_local" class="idref" href="#TTy_wf_local"><span class="id" title="definition">TTy_wf_local</span></a> {<a id="cf:549" class="idref" href="#cf:549"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="391875e84e76cffda0d043a934da15bc" class="idref" href="#391875e84e76cffda0d043a934da15bc"><span class="id" title="binder">Σ</span></a> <a id="dbd6a2544e597d58c0b3a677cdfc19b6" class="idref" href="#dbd6a2544e597d58c0b3a677cdfc19b6"><span class="id" title="binder">Γ</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All_local_env"><span class="id" title="inductive">ST.All_local_env</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#lift_typing"><span class="id" title="abbreviation">ST.lift_typing</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#typing"><span class="id" title="inductive">ST.typing</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#391875e84e76cffda0d043a934da15bc"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#dbd6a2544e597d58c0b3a677cdfc19b6"><span class="id" title="variable">Γ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_wf_local" class="idref" href="#trans_wf_local"><span class="id" title="lemma">trans_wf_local</span></a> {<a id="cf:552" class="idref" href="#cf:552"><span class="id" title="binder">cf</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="08aacca28fd76f8a6f882d581cabe051" class="idref" href="#08aacca28fd76f8a6f882d581cabe051"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>) (<a id="2f2fa8e883ed31f6d22231745d976610" class="idref" href="#2f2fa8e883ed31f6d22231745d976610"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.context"><span class="id" title="definition">Ast.Env.context</span></a>) (<a id="dac21345c0fe0893bb6dbab4bfd17486" class="idref" href="#dac21345c0fe0893bb6dbab4bfd17486"><span class="id" title="binder">wfΓ</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#TTy_wf_local"><span class="id" title="definition">TTy_wf_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#08aacca28fd76f8a6f882d581cabe051"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2f2fa8e883ed31f6d22231745d976610"><span class="id" title="variable">Γ</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="P:560" class="idref" href="#P:560"><span class="id" title="binder">P</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="b82c5c189dedabf438d859e0dc67cf74" class="idref" href="#b82c5c189dedabf438d859e0dc67cf74"><span class="id" title="binder">Γ0</span></a> <span class="id" title="var">_</span> (<a id="t:557" class="idref" href="#t:557"><span class="id" title="binder">t</span></a> <a id="T:558" class="idref" href="#T:558"><span class="id" title="binder">T</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a>) <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="b830d392c2e9ac0f765b7cde05f5af46" class="idref" href="#b830d392c2e9ac0f765b7cde05f5af46"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#08aacca28fd76f8a6f882d581cabe051"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b830d392c2e9ac0f765b7cde05f5af46"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#08aacca28fd76f8a6f882d581cabe051"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b830d392c2e9ac0f765b7cde05f5af46"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b82c5c189dedabf438d859e0dc67cf74"><span class="id" title="variable">Γ0</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b830d392c2e9ac0f765b7cde05f5af46"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:557"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b830d392c2e9ac0f765b7cde05f5af46"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:558"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="dfaa6b9f733ec412734f658ffd064b1c" class="idref" href="#dfaa6b9f733ec412734f658ffd064b1c"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#08aacca28fd76f8a6f882d581cabe051"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#dfaa6b9f733ec412734f658ffd064b1c"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All_local_env_over"><span class="id" title="definition">ST.All_local_env_over</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#typing"><span class="id" title="inductive">ST.typing</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#08aacca28fd76f8a6f882d581cabe051"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:560"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2f2fa8e883ed31f6d22231745d976610"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#dac21345c0fe0893bb6dbab4bfd17486"><span class="id" title="variable">wfΓ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#08aacca28fd76f8a6f882d581cabe051"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#dfaa6b9f733ec412734f658ffd064b1c"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2f2fa8e883ed31f6d22231745d976610"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">tu</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ?); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">eexists</span>; <span class="id" title="var">tea</span>). <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">tu</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ?); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">eexists</span>; <span class="id" title="var">tea</span>); <span class="id" title="var">cbn</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_wf_local_env" class="idref" href="#trans_wf_local_env"><span class="id" title="lemma">trans_wf_local_env</span></a> {<a id="cf:562" class="idref" href="#cf:562"><span class="id" title="binder">cf</span></a>} <a id="69eb20ba476f1b9c0f94e67a96598a36" class="idref" href="#69eb20ba476f1b9c0f94e67a96598a36"><span class="id" title="binder">Σ</span></a> <a id="4ff16a3dd50e03e518689074155f8edc" class="idref" href="#4ff16a3dd50e03e518689074155f8edc"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All_local_env"><span class="id" title="inductive">ST.All_local_env</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#lift_typing"><span class="id" title="abbreviation">ST.lift_typing</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="0f90e580972c11c6017f049e5c7de6d1" class="idref" href="#0f90e580972c11c6017f049e5c7de6d1"><span class="id" title="binder">Σ</span></a> <a id="4c662511b80056dbb19a3bb0cbf78181" class="idref" href="#4c662511b80056dbb19a3bb0cbf78181"><span class="id" title="binder">Γ</span></a> (<a id="b:567" class="idref" href="#b:567"><span class="id" title="binder">b</span></a> <a id="ty:568" class="idref" href="#ty:568"><span class="id" title="binder">ty</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c9c92103e3c06eb5222b825d0b498d64" class="idref" href="#c9c92103e3c06eb5222b825d0b498d64"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0f90e580972c11c6017f049e5c7de6d1"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#typing"><span class="id" title="inductive">ST.typing</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0f90e580972c11c6017f049e5c7de6d1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4c662511b80056dbb19a3bb0cbf78181"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b:567"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ty:568"><span class="id" title="variable">ty</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0f90e580972c11c6017f049e5c7de6d1"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c9c92103e3c06eb5222b825d0b498d64"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4c662511b80056dbb19a3bb0cbf78181"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c9c92103e3c06eb5222b825d0b498d64"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b:567"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c9c92103e3c06eb5222b825d0b498d64"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ty:568"><span class="id" title="variable">ty</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#69eb20ba476f1b9c0f94e67a96598a36"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4ff16a3dd50e03e518689074155f8edc"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#69eb20ba476f1b9c0f94e67a96598a36"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#69eb20ba476f1b9c0f94e67a96598a36"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4ff16a3dd50e03e518689074155f8edc"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; ? &amp; (? &amp; ?) &amp; ?); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">eexists</span>; <span class="id" title="var">tea</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t0</span> <span class="id" title="keyword">as</span> ((? &amp; ?) &amp; ? &amp; (? &amp; ?) &amp; ?); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">eexists</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">tea</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">trans_wf_local</span> : <span class="id" title="var">trans</span>.<br/>

<br/>
<span class="id" title="keyword">Axiom</span> <a id="fix_guard_trans" class="idref" href="#fix_guard_trans"><span class="id" title="axiom">fix_guard_trans</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="579beec8891f566c71bddf03a34f86d3" class="idref" href="#579beec8891f566c71bddf03a34f86d3"><span class="id" title="binder">Σ</span></a> <a id="731b455f2bcddc1514ccdefb8f1f801b" class="idref" href="#731b455f2bcddc1514ccdefb8f1f801b"><span class="id" title="binder">Γ</span></a> <a id="mfix:572" class="idref" href="#mfix:572"><span class="id" title="binder">mfix</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fix_guard"><span class="id" title="method">ST.fix_guard</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#579beec8891f566c71bddf03a34f86d3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#731b455f2bcddc1514ccdefb8f1f801b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:572"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="d7d8cea3410cd8a2b47958f3a3cc9f2e" class="idref" href="#d7d8cea3410cd8a2b47958f3a3cc9f2e"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#579beec8891f566c71bddf03a34f86d3"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#fix_guard"><span class="id" title="definition">fix_guard</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d7d8cea3410cd8a2b47958f3a3cc9f2e"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d7d8cea3410cd8a2b47958f3a3cc9f2e"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#731b455f2bcddc1514ccdefb8f1f801b"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d7d8cea3410cd8a2b47958f3a3cc9f2e"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d7d8cea3410cd8a2b47958f3a3cc9f2e"><span class="id" title="variable">Σ'</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:572"><span class="id" title="variable">mfix</span></a>).<br/>

<br/>
<span class="id" title="keyword">Axiom</span> <a id="cofix_guard_trans" class="idref" href="#cofix_guard_trans"><span class="id" title="axiom">cofix_guard_trans</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="bc799aeb0cc28d1a00ebfa5b9d52d97f" class="idref" href="#bc799aeb0cc28d1a00ebfa5b9d52d97f"><span class="id" title="binder">Σ</span></a> <a id="09b0fdcb67caf58d327638860d09f858" class="idref" href="#09b0fdcb67caf58d327638860d09f858"><span class="id" title="binder">Γ</span></a> <a id="mfix:578" class="idref" href="#mfix:578"><span class="id" title="binder">mfix</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cofix_guard"><span class="id" title="method">ST.cofix_guard</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bc799aeb0cc28d1a00ebfa5b9d52d97f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#09b0fdcb67caf58d327638860d09f858"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:578"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="228ecefbfee7a0077a2142bcd0abb3aa" class="idref" href="#228ecefbfee7a0077a2142bcd0abb3aa"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bc799aeb0cc28d1a00ebfa5b9d52d97f"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#cofix_guard"><span class="id" title="definition">cofix_guard</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#228ecefbfee7a0077a2142bcd0abb3aa"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#228ecefbfee7a0077a2142bcd0abb3aa"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#09b0fdcb67caf58d327638860d09f858"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#228ecefbfee7a0077a2142bcd0abb3aa"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#228ecefbfee7a0077a2142bcd0abb3aa"><span class="id" title="variable">Σ'</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:578"><span class="id" title="variable">mfix</span></a>).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="Swf_fix" class="idref" href="#Swf_fix"><span class="id" title="abbreviation">Swf_fix</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">def</span> := (<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <span class="id" title="var">def</span>) <a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <span class="id" title="var">def</span>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_decompose_app" class="idref" href="#trans_decompose_app"><span class="id" title="lemma">trans_decompose_app</span></a> {<a id="b814e4f5efac49aff37fd1edb3c77f9f" class="idref" href="#b814e4f5efac49aff37fd1edb3c77f9f"><span class="id" title="binder">Σ</span></a> <a id="t:583" class="idref" href="#t:583"><span class="id" title="binder">t</span></a> <a id="ind:584" class="idref" href="#ind:584"><span class="id" title="binder">ind</span></a> <a id="u:585" class="idref" href="#u:585"><span class="id" title="binder">u</span></a> <a id="l:586" class="idref" href="#l:586"><span class="id" title="binder">l</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b814e4f5efac49aff37fd1edb3c77f9f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:583"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="f4209012e3e6b6e75c635b1103b26061" class="idref" href="#f4209012e3e6b6e75c635b1103b26061"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b814e4f5efac49aff37fd1edb3c77f9f"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.AstUtils.html#decompose_app"><span class="id" title="definition">AstUtils.decompose_app</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:583"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Template.Ast.html#tInd"><span class="id" title="constructor">Ast.tInd</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:584"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:585"><span class="id" title="variable">u</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:586"><span class="id" title="variable">l</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="l':588" class="idref" href="#l':588"><span class="id" title="binder">l'</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f4209012e3e6b6e75c635b1103b26061"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:583"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:584"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:585"><span class="id" title="variable">u</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':588"><span class="id" title="variable">l'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wft</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Template.AstUtils.html#decompose_app"><span class="id" title="definition">AstUtils.decompose_app</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Template.TypingWf.html#decompose_app_inv"><span class="id" title="lemma">TypingWf.decompose_app_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wft</span> <span class="id" title="var">da</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">n</span> [<span class="id" title="var">napp</span> [<span class="id" title="var">eqsk</span> -&gt;]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span>. <span class="id" title="tactic">intros</span> [= → -&gt;].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app_mkApps"><span class="id" title="lemma">decompose_app_mkApps</span></a> //. <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="decompose_prod_assum_it_mkProd_or_LetIn" class="idref" href="#decompose_prod_assum_it_mkProd_or_LetIn"><span class="id" title="lemma">decompose_prod_assum_it_mkProd_or_LetIn</span></a> <a id="ctx:589" class="idref" href="#ctx:589"><span class="id" title="binder">ctx</span></a> <a id="t:590" class="idref" href="#t:590"><span class="id" title="binder">t</span></a> <a id="ctx':591" class="idref" href="#ctx':591"><span class="id" title="binder">ctx'</span></a> <a id="t':592" class="idref" href="#t':592"><span class="id" title="binder">t'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.AstUtils.html#decompose_prod_assum"><span class="id" title="definition">AstUtils.decompose_prod_assum</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:589"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:590"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx':591"><span class="id" title="variable">ctx'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t':592"><span class="id" title="variable">t'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Ast.html#Env.it_mkProd_or_LetIn"><span class="id" title="definition">Ast.Env.it_mkProd_or_LetIn</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:589"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:590"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.it_mkProd_or_LetIn"><span class="id" title="definition">Ast.Env.it_mkProd_or_LetIn</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx':591"><span class="id" title="variable">ctx'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t':592"><span class="id" title="variable">t'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ctx</span>, <span class="id" title="var">ctx'</span>, <span class="id" title="var">t'</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">intros</span> [= → &lt;-]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_decompose_prod_assum" class="idref" href="#trans_decompose_prod_assum"><span class="id" title="lemma">trans_decompose_prod_assum</span></a> {<a id="d4b31818998f09650a849c3dff525e9b" class="idref" href="#d4b31818998f09650a849c3dff525e9b"><span class="id" title="binder">Σ</span></a> <a id="09173c79eb9bf8112372fe33c283d481" class="idref" href="#09173c79eb9bf8112372fe33c283d481"><span class="id" title="binder">Σ'</span></a>} <a id="ctx:595" class="idref" href="#ctx:595"><span class="id" title="binder">ctx</span></a> <a id="t:596" class="idref" href="#t:596"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d4b31818998f09650a849c3dff525e9b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:596"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="ctx':597" class="idref" href="#ctx':597"><span class="id" title="binder">ctx'</span></a>, <a id="t':598" class="idref" href="#t':598"><span class="id" title="binder">t'</span></a>) := <a class="idref" href="MetaRocq.Template.AstUtils.html#decompose_prod_assum"><span class="id" title="definition">AstUtils.decompose_prod_assum</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:595"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:596"><span class="id" title="variable">t</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#09173c79eb9bf8112372fe33c283d481"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:595"><span class="id" title="variable">ctx</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#09173c79eb9bf8112372fe33c283d481"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:596"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#09173c79eb9bf8112372fe33c283d481"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx':597"><span class="id" title="variable">ctx'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#09173c79eb9bf8112372fe33c283d481"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t':598"><span class="id" title="variable">t'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wft</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">wft</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ctx</span> |- × <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Template.WfAst.html#term_wf_forall_list_ind"><span class="id" title="lemma">WfAst.term_wf_forall_list_ind</span></a> ; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">intros</span> [= &lt;- &lt;-]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHwft0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHwft1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#mkApps_nonempty"><span class="id" title="lemma">mkApps_nonempty</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#TransLookup.lookup_inductive"><span class="id" title="definition">TransLookup.lookup_inductive</span></a> <span class="id" title="keyword">as</span> [[<span class="id" title="var">mdecl'</span> <span class="id" title="var">idecl'</span>]| ]; <span class="id" title="var">cbn</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_it_mkProd_or_LetIn" class="idref" href="#wf_it_mkProd_or_LetIn"><span class="id" title="lemma">wf_it_mkProd_or_LetIn</span></a> <a id="4dcb844c2acd485f32cda3f894b77b4c" class="idref" href="#4dcb844c2acd485f32cda3f894b77b4c"><span class="id" title="binder">Σ</span></a> <a id="8a37d63f94d982280e8cec857a4c187f" class="idref" href="#8a37d63f94d982280e8cec857a4c187f"><span class="id" title="binder">Γ</span></a> <a id="t:601" class="idref" href="#t:601"><span class="id" title="binder">t</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4dcb844c2acd485f32cda3f894b77b4c"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.it_mkProd_or_LetIn"><span class="id" title="definition">Ast.Env.it_mkProd_or_LetIn</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8a37d63f94d982280e8cec857a4c187f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:601"><span class="id" title="variable">t</span></a>) <a class="idref" href="MetaRocq.Utils.MRRelations.html#e8aac4a093c83da9a780e8c256235d19"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4dcb844c2acd485f32cda3f894b77b4c"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8a37d63f94d982280e8cec857a4c187f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4dcb844c2acd485f32cda3f894b77b4c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:601"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span> ⇒ //; <span class="id" title="tactic">try</span> <span class="id" title="tactic">split</span> ⇒ //; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#Env.mkProd_or_LetIn"><span class="id" title="definition">Ast.Env.mkProd_or_LetIn</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHΓ</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">w</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">w</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">w</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHΓ</span> ⇒ /=. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">w</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">w1</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">constructor</span>|];<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">w</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">wfty</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_check_one_fix" class="idref" href="#trans_check_one_fix"><span class="id" title="lemma">trans_check_one_fix</span></a> <a id="d83b6fee0100f8e50ac5e9a9261da6ab" class="idref" href="#d83b6fee0100f8e50ac5e9a9261da6ab"><span class="id" title="binder">Σ</span></a> <a id="mfix:603" class="idref" href="#mfix:603"><span class="id" title="binder">mfix</span></a> <a id="ind:604" class="idref" href="#ind:604"><span class="id" title="binder">ind</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ea1abfac34ab33223b2fd5381d1b3dd1" class="idref" href="#ea1abfac34ab33223b2fd5381d1b3dd1"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d83b6fee0100f8e50ac5e9a9261da6ab"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Swf_fix"><span class="id" title="abbreviation">Swf_fix</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d83b6fee0100f8e50ac5e9a9261da6ab"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:603"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#check_one_fix"><span class="id" title="definition">ST.check_one_fix</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:603"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:604"><span class="id" title="variable">ind</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#check_one_fix"><span class="id" title="definition">check_one_fix</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ea1abfac34ab33223b2fd5381d1b3dd1"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ea1abfac34ab33223b2fd5381d1b3dd1"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:603"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:604"><span class="id" title="variable">ind</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#check_one_fix"><span class="id" title="definition">ST.check_one_fix</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#check_one_fix"><span class="id" title="definition">check_one_fix</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">mfix</span> ⇒ [<span class="id" title="var">na</span> <span class="id" title="var">ty</span> <span class="id" title="var">arg</span> <span class="id" title="var">rarg</span>] /= [<span class="id" title="var">wfty</span> <span class="id" title="var">wfarg</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_decompose_prod_assum"><span class="id" title="lemma">trans_decompose_prod_assum</span></a> (<span class="id" title="var">Σ'</span> := <span class="id" title="var">Σ'</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">ty</span> <span class="id" title="var">wfty</span>) ⇒ /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Template.AstUtils.html#decompose_prod_assum"><span class="id" title="definition">AstUtils.decompose_prod_assum</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">ctx</span> <span class="id" title="var">p</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">dp</span> ⇒ /= // →.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_rev"><span class="id" title="lemma">List.map_rev</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">hnth</span> ⇒ /= //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Template.AstUtils.html#decompose_app"><span class="id" title="definition">AstUtils.decompose_app</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> [| <span class="id" title="var">l'</span> <span class="id" title="var">eq</span>] := (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_decompose_app"><span class="id" title="lemma">trans_decompose_app</span></a> (<span class="id" title="var">Σ</span> := <span class="id" title="var">Σ</span>) <span class="id" title="var">_</span> <span class="id" title="var">da</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#decompose_prod_assum_it_mkProd_or_LetIn"><span class="id" title="lemma">decompose_prod_assum_it_mkProd_or_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">dp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">dp</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">ty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_it_mkProd_or_LetIn"><span class="id" title="lemma">wf_it_mkProd_or_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfty</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">wfctx</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#nth_error_all"><span class="id" title="lemma">nth_error_all</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_rev"><span class="id" title="lemma">All_rev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_Some_length"><span class="id" title="lemma">nth_error_Some_length</span></a> <span class="id" title="var">hnth</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_rev"><span class="id" title="lemma">nth_error_rev</span></a> // <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev_involutive"><span class="id" title="lemma">List.rev_involutive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_smash_context"><span class="id" title="lemma">wf_smash_context</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">hnth</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> ⇒ /=. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span> /= //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All_map_option_out_map_Some_spec" class="idref" href="#All_map_option_out_map_Some_spec"><span class="id" title="lemma">All_map_option_out_map_Some_spec</span></a> {<a id="A:606" class="idref" href="#A:606"><span class="id" title="binder">A</span></a> <a id="B:607" class="idref" href="#B:607"><span class="id" title="binder">B</span></a>} {<a id="f:608" class="idref" href="#f:608"><span class="id" title="binder">f</span></a> <a id="g:609" class="idref" href="#g:609"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:606"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:607"><span class="id" title="variable">B</span></a>} {<a id="P:610" class="idref" href="#P:610"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:606"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>} {<a id="l:611" class="idref" href="#l:611"><span class="id" title="binder">l</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:612" class="idref" href="#x:612"><span class="id" title="binder">x</span></a> <a id="t:613" class="idref" href="#t:613"><span class="id" title="binder">t</span></a>, <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:610"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:612"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:608"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:612"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:613"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:609"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:612"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:613"><span class="id" title="variable">t</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:610"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:611"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="t:614" class="idref" href="#t:614"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MROption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:608"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:611"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:614"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MROption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:609"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:611"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:614"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">Hfg</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">move</span>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">E</span>: (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) ⇒ [<span class="id" title="var">b</span>|] //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Hfg</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">E'</span> : <a class="idref" href="MetaRocq.Utils.MROption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> ⇒ [<span class="id" title="var">b'</span>|] //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">t</span> [= &lt;-]. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IHHl</span> <span class="id" title="var">_</span> <span class="id" title="var">E'</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_option_out_check_one_fix" class="idref" href="#map_option_out_check_one_fix"><span class="id" title="lemma">map_option_out_check_one_fix</span></a> {<a id="03b1e7afef797d584980fe1aafbb3a7e" class="idref" href="#03b1e7afef797d584980fe1aafbb3a7e"><span class="id" title="binder">Σ</span></a> <a id="mfix:616" class="idref" href="#mfix:616"><span class="id" title="binder">mfix</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ec8f92afc5cf0e783e92da26b5cac38d" class="idref" href="#ec8f92afc5cf0e783e92da26b5cac38d"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#03b1e7afef797d584980fe1aafbb3a7e"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="def:618" class="idref" href="#def:618"><span class="id" title="binder">def</span></a> ⇒ (<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#03b1e7afef797d584980fe1aafbb3a7e"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:618"><span class="id" title="variable">def</span></a>) <a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#03b1e7afef797d584980fe1aafbb3a7e"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:618"><span class="id" title="variable">def</span></a>))) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:616"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="l:619" class="idref" href="#l:619"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MROption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:620" class="idref" href="#x:620"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#check_one_fix"><span class="id" title="definition">ST.check_one_fix</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:620"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:616"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:619"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MROption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:621" class="idref" href="#x:621"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#check_one_fix"><span class="id" title="definition">check_one_fix</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ec8f92afc5cf0e783e92da26b5cac38d"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ec8f92afc5cf0e783e92da26b5cac38d"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:621"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:616"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:619"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All_map_option_out_map_Some_spec"><span class="id" title="lemma">All_map_option_out_map_Some_spec</span></a> ⇒ <span class="id" title="var">x</span> <span class="id" title="var">kn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_check_one_fix"><span class="id" title="lemma">trans_check_one_fix</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_check_one_cofix" class="idref" href="#trans_check_one_cofix"><span class="id" title="lemma">trans_check_one_cofix</span></a> <a id="8a89a8c75742b02615d69dc5e467a61f" class="idref" href="#8a89a8c75742b02615d69dc5e467a61f"><span class="id" title="binder">Σ</span></a> <a id="mfix:623" class="idref" href="#mfix:623"><span class="id" title="binder">mfix</span></a> <a id="ind:624" class="idref" href="#ind:624"><span class="id" title="binder">ind</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="dc61b51389d8d1c1fbe94d4d87b82edf" class="idref" href="#dc61b51389d8d1c1fbe94d4d87b82edf"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8a89a8c75742b02615d69dc5e467a61f"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Swf_fix"><span class="id" title="abbreviation">Swf_fix</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8a89a8c75742b02615d69dc5e467a61f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:623"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#check_one_cofix"><span class="id" title="definition">ST.check_one_cofix</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:623"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:624"><span class="id" title="variable">ind</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#check_one_cofix"><span class="id" title="definition">check_one_cofix</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#dc61b51389d8d1c1fbe94d4d87b82edf"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#dc61b51389d8d1c1fbe94d4d87b82edf"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:623"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:624"><span class="id" title="variable">ind</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#check_one_cofix"><span class="id" title="definition">ST.check_one_cofix</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#check_one_cofix"><span class="id" title="definition">check_one_cofix</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">mfix</span> ⇒ [<span class="id" title="var">na</span> <span class="id" title="var">ty</span> <span class="id" title="var">arg</span> <span class="id" title="var">rarg</span>] /= [<span class="id" title="var">wfty</span> <span class="id" title="var">wfarg</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_decompose_prod_assum"><span class="id" title="lemma">trans_decompose_prod_assum</span></a> (<span class="id" title="var">Σ</span> := <span class="id" title="var">Σ</span>) (<span class="id" title="var">Σ'</span> := <span class="id" title="var">Σ'</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">ty</span> <span class="id" title="var">wfty</span>) ⇒ /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Template.AstUtils.html#decompose_prod_assum"><span class="id" title="definition">AstUtils.decompose_prod_assum</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">ctx</span> <span class="id" title="var">p</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">dp</span> ⇒ /= // →.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Template.AstUtils.html#decompose_app"><span class="id" title="definition">AstUtils.decompose_app</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> [| <span class="id" title="var">l'</span> -&gt;] := (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_decompose_app"><span class="id" title="lemma">trans_decompose_app</span></a> (<span class="id" title="var">Σ</span> := <span class="id" title="var">Σ</span>) <span class="id" title="var">_</span> <span class="id" title="var">da</span>) ⇒ //.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#decompose_prod_assum_it_mkProd_or_LetIn"><span class="id" title="lemma">decompose_prod_assum_it_mkProd_or_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">dp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">dp</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">ty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_it_mkProd_or_LetIn"><span class="id" title="lemma">wf_it_mkProd_or_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfty</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">wfp</span>]. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_option_out_check_one_cofix" class="idref" href="#map_option_out_check_one_cofix"><span class="id" title="lemma">map_option_out_check_one_cofix</span></a> {<a id="797806febe02c12b80fc7ddf41ddd3f7" class="idref" href="#797806febe02c12b80fc7ddf41ddd3f7"><span class="id" title="binder">Σ</span></a> <a id="mfix:627" class="idref" href="#mfix:627"><span class="id" title="binder">mfix</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="3e696d1aaf4880c5cd05a4f84c6c3454" class="idref" href="#3e696d1aaf4880c5cd05a4f84c6c3454"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#797806febe02c12b80fc7ddf41ddd3f7"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="def:629" class="idref" href="#def:629"><span class="id" title="binder">def</span></a> ⇒ (<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#797806febe02c12b80fc7ddf41ddd3f7"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:629"><span class="id" title="variable">def</span></a>) <a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#797806febe02c12b80fc7ddf41ddd3f7"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:629"><span class="id" title="variable">def</span></a>))) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:627"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="l:630" class="idref" href="#l:630"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MROption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:631" class="idref" href="#x:631"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#check_one_cofix"><span class="id" title="definition">ST.check_one_cofix</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:631"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:627"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:630"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MROption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:632" class="idref" href="#x:632"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#check_one_cofix"><span class="id" title="definition">check_one_cofix</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#3e696d1aaf4880c5cd05a4f84c6c3454"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#3e696d1aaf4880c5cd05a4f84c6c3454"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:632"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:627"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:630"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All_map_option_out_map_Some_spec"><span class="id" title="lemma">All_map_option_out_map_Some_spec</span></a> ⇒ <span class="id" title="var">x</span> <span class="id" title="var">kn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_check_one_cofix"><span class="id" title="lemma">trans_check_one_cofix</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_check_rec_kind" class="idref" href="#trans_check_rec_kind"><span class="id" title="lemma">trans_check_rec_kind</span></a> {<a id="cf:633" class="idref" href="#cf:633"><span class="id" title="binder">cf</span></a>} {<a id="4e47c39abfcd04ca0d270fc1bd58134f" class="idref" href="#4e47c39abfcd04ca0d270fc1bd58134f"><span class="id" title="binder">Σ</span></a>} {<a id="e23b26dcf6798015ec66f63be03fef3c" class="idref" href="#e23b26dcf6798015ec66f63be03fef3c"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4e47c39abfcd04ca0d270fc1bd58134f"><span class="id" title="variable">Σ</span></a>} {<a id="93748ce56fb32661f654f92570cd51d5" class="idref" href="#93748ce56fb32661f654f92570cd51d5"><span class="id" title="binder">wfΣ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4e47c39abfcd04ca0d270fc1bd58134f"><span class="id" title="variable">Σ</span></a>)} {<a id="k:637" class="idref" href="#k:637"><span class="id" title="binder">k</span></a> <a id="f:638" class="idref" href="#f:638"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#check_recursivity_kind"><span class="id" title="definition">ST.check_recursivity_kind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4e47c39abfcd04ca0d270fc1bd58134f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:637"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:638"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#check_recursivity_kind"><span class="id" title="definition">check_recursivity_kind</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4e47c39abfcd04ca0d270fc1bd58134f"><span class="id" title="variable">Σ</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:637"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:638"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#check_recursivity_kind"><span class="id" title="definition">ST.check_recursivity_kind</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#check_recursivity_kind"><span class="id" title="definition">check_recursivity_kind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup"><span class="id" title="lemma">trans_lookup</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Template.Ast.html#Env.lookup_env"><span class="id" title="definition">Ast.Env.lookup_env</span></a> <span class="id" title="keyword">as</span> [[]|] ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_wf_fixpoint" class="idref" href="#trans_wf_fixpoint"><span class="id" title="lemma">trans_wf_fixpoint</span></a> {<a id="cf:639" class="idref" href="#cf:639"><span class="id" title="binder">cf</span></a>} {<a id="d2ca483c20d941d3808840e5056ac0bf" class="idref" href="#d2ca483c20d941d3808840e5056ac0bf"><span class="id" title="binder">Σ</span></a>} {<a id="45330f69e76058cdf438f4f02730d418" class="idref" href="#45330f69e76058cdf438f4f02730d418"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d2ca483c20d941d3808840e5056ac0bf"><span class="id" title="variable">Σ</span></a>} {<a id="mfix:642" class="idref" href="#mfix:642"><span class="id" title="binder">mfix</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="b2b2780c6ac7836347429e74e3361c6e" class="idref" href="#b2b2780c6ac7836347429e74e3361c6e"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d2ca483c20d941d3808840e5056ac0bf"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b2b2780c6ac7836347429e74e3361c6e"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="def:644" class="idref" href="#def:644"><span class="id" title="binder">def</span></a> ⇒ (<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d2ca483c20d941d3808840e5056ac0bf"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:644"><span class="id" title="variable">def</span></a>) <a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d2ca483c20d941d3808840e5056ac0bf"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:644"><span class="id" title="variable">def</span></a>))) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:642"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_fixpoint"><span class="id" title="definition">ST.wf_fixpoint</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d2ca483c20d941d3808840e5056ac0bf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:642"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_fixpoint"><span class="id" title="definition">wf_fixpoint</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d2ca483c20d941d3808840e5056ac0bf"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b2b2780c6ac7836347429e74e3361c6e"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b2b2780c6ac7836347429e74e3361c6e"><span class="id" title="variable">Σ'</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:642"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_fixpoint"><span class="id" title="definition">ST.wf_fixpoint</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_fixpoint"><span class="id" title="definition">wf_fixpoint</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_fixpoint_gen"><span class="id" title="definition">wf_fixpoint_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /<a class="idref" href="MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>[] <span class="id" title="var">hf</span> <span class="id" title="var">ho</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> <span class="id" title="var">ho</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_map"><span class="id" title="lemma">forallb_map</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <span class="id" title="var">x</span>) ⇒ //. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">ho</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Utils.MROption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">ma</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_option_out_check_one_fix"><span class="id" title="lemma">map_option_out_check_one_fix</span></a> <span class="id" title="keyword">wf</span> <span class="id" title="var">_</span> <span class="id" title="var">ma</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_check_rec_kind"><span class="id" title="lemma">trans_check_rec_kind</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_wf_cofixpoint" class="idref" href="#trans_wf_cofixpoint"><span class="id" title="lemma">trans_wf_cofixpoint</span></a> {<a id="cf:645" class="idref" href="#cf:645"><span class="id" title="binder">cf</span></a>} {<a id="ef2171864337970e70d0d2bf696dd8db" class="idref" href="#ef2171864337970e70d0d2bf696dd8db"><span class="id" title="binder">Σ</span></a>} {<a id="8154e16c3a370f02720e6e9fba08cf88" class="idref" href="#8154e16c3a370f02720e6e9fba08cf88"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ef2171864337970e70d0d2bf696dd8db"><span class="id" title="variable">Σ</span></a>} {<a id="mfix:648" class="idref" href="#mfix:648"><span class="id" title="binder">mfix</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="0515691c8e1bb9e38911bc3ad55a646a" class="idref" href="#0515691c8e1bb9e38911bc3ad55a646a"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ef2171864337970e70d0d2bf696dd8db"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0515691c8e1bb9e38911bc3ad55a646a"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="def:650" class="idref" href="#def:650"><span class="id" title="binder">def</span></a> ⇒ (<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ef2171864337970e70d0d2bf696dd8db"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:650"><span class="id" title="variable">def</span></a>) <a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ef2171864337970e70d0d2bf696dd8db"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:650"><span class="id" title="variable">def</span></a>))) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:648"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_cofixpoint"><span class="id" title="definition">ST.wf_cofixpoint</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ef2171864337970e70d0d2bf696dd8db"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:648"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_cofixpoint"><span class="id" title="definition">wf_cofixpoint</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ef2171864337970e70d0d2bf696dd8db"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0515691c8e1bb9e38911bc3ad55a646a"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0515691c8e1bb9e38911bc3ad55a646a"><span class="id" title="variable">Σ'</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:648"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_cofixpoint"><span class="id" title="definition">ST.wf_cofixpoint</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_cofixpoint"><span class="id" title="definition">wf_cofixpoint</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_cofixpoint_gen"><span class="id" title="definition">wf_cofixpoint_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Utils.MROption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">ma</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_option_out_check_one_cofix"><span class="id" title="lemma">map_option_out_check_one_cofix</span></a> <span class="id" title="keyword">wf</span> <span class="id" title="var">_</span> <span class="id" title="var">ma</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_check_rec_kind"><span class="id" title="lemma">trans_check_rec_kind</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_global_decl_universes" class="idref" href="#trans_global_decl_universes"><span class="id" title="lemma">trans_global_decl_universes</span></a> <a id="46fecb2ec57cf64997ceb0f7e8ef40e0" class="idref" href="#46fecb2ec57cf64997ceb0f7e8ef40e0"><span class="id" title="binder">Σ</span></a> <a id="d:652" class="idref" href="#d:652"><span class="id" title="binder">d</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Ast.html#universes_decl_of_decl"><span class="id" title="definition">Ast.universes_decl_of_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:652"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#universes_decl_of_decl"><span class="id" title="definition">universes_decl_of_decl</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decl"><span class="id" title="definition">trans_global_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#46fecb2ec57cf64997ceb0f7e8ef40e0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:652"><span class="id" title="variable">d</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_consistent_instance_ext" class="idref" href="#trans_consistent_instance_ext"><span class="id" title="lemma">trans_consistent_instance_ext</span></a> {<a id="cf:653" class="idref" href="#cf:653"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="a259919a043bd4749b6d411404420113" class="idref" href="#a259919a043bd4749b6d411404420113"><span class="id" title="binder">Σ</span></a> <a id="d:655" class="idref" href="#d:655"><span class="id" title="binder">d</span></a> <a id="u:656" class="idref" href="#u:656"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="6c07add1635d0521b037d2a0bbfc5872" class="idref" href="#6c07add1635d0521b037d2a0bbfc5872"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a259919a043bd4749b6d411404420113"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Ast.html#consistent_instance_ext"><span class="id" title="definition">Ast.consistent_instance_ext</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a259919a043bd4749b6d411404420113"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#universes_decl_of_decl"><span class="id" title="definition">Ast.universes_decl_of_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:655"><span class="id" title="variable">d</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:656"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6c07add1635d0521b037d2a0bbfc5872"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#universes_decl_of_decl"><span class="id" title="definition">universes_decl_of_decl</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decl"><span class="id" title="definition">trans_global_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6c07add1635d0521b037d2a0bbfc5872"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:655"><span class="id" title="variable">d</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:656"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Template.Ast.html#consistent_instance_ext"><span class="id" title="definition">Ast.consistent_instance_ext</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#global_ext_levels_trans"><span class="id" title="lemma">global_ext_levels_trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#global_ext_constraints_trans"><span class="id" title="lemma">global_ext_constraints_trans</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_global_decl_universes"><span class="id" title="lemma">trans_global_decl_universes</span></a> <span class="id" title="var">Σ'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_annots_expand_lets_ctx" class="idref" href="#eq_annots_expand_lets_ctx"><span class="id" title="lemma">eq_annots_expand_lets_ctx</span></a> (<a id="7b69f53666f7dd2622458335f1ff6c84" class="idref" href="#7b69f53666f7dd2622458335f1ff6c84"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="4b8e3db81677878933e90c0ea0e6a453" class="idref" href="#4b8e3db81677878933e90c0ea0e6a453"><span class="id" title="binder">Δ</span></a> <a id="6f77687f092465f2791e2f76174f5a09" class="idref" href="#6f77687f092465f2791e2f76174f5a09"><span class="id" title="binder">Δ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_annots"><span class="id" title="abbreviation">eq_annots</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7b69f53666f7dd2622458335f1ff6c84"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4b8e3db81677878933e90c0ea0e6a453"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6f77687f092465f2791e2f76174f5a09"><span class="id" title="variable">Δ'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_annots"><span class="id" title="abbreviation">eq_annots</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7b69f53666f7dd2622458335f1ff6c84"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6f77687f092465f2791e2f76174f5a09"><span class="id" title="variable">Δ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_annots_subst_context"><span class="id" title="lemma">eq_annots_subst_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_annots_lift_context"><span class="id" title="lemma">eq_annots_lift_context</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_annots_ind_predicate_context" class="idref" href="#eq_annots_ind_predicate_context"><span class="id" title="lemma">eq_annots_ind_predicate_context</span></a> <a id="ind:661" class="idref" href="#ind:661"><span class="id" title="binder">ind</span></a> <a id="mdecl:662" class="idref" href="#mdecl:662"><span class="id" title="binder">mdecl</span></a> <a id="idecl:663" class="idref" href="#idecl:663"><span class="id" title="binder">idecl</span></a> (<a id="pctx:664" class="idref" href="#pctx:664"><span class="id" title="binder">pctx</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_annots"><span class="id" title="abbreviation">eq_annots</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pctx:664"><span class="id" title="variable">pctx</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context"><span class="id" title="definition">ind_predicate_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:661"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:662"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:663"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_annots"><span class="id" title="abbreviation">eq_annots</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pctx:664"><span class="id" title="variable">pctx</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#idecl_binder"><span class="id" title="definition">idecl_binder</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:663"><span class="id" title="variable">idecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:663"><span class="id" title="variable">idecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context"><span class="id" title="definition">ind_predicate_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">eq</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">eq</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#eq_annots_expand_lets_ctx"><span class="id" title="lemma">eq_annots_expand_lets_ctx</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_annots_cstr_branch_context" class="idref" href="#eq_annots_cstr_branch_context"><span class="id" title="lemma">eq_annots_cstr_branch_context</span></a> <a id="ind:665" class="idref" href="#ind:665"><span class="id" title="binder">ind</span></a> <a id="mdecl:666" class="idref" href="#mdecl:666"><span class="id" title="binder">mdecl</span></a> <a id="cdecl:667" class="idref" href="#cdecl:667"><span class="id" title="binder">cdecl</span></a> (<a id="pctx:668" class="idref" href="#pctx:668"><span class="id" title="binder">pctx</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_annots"><span class="id" title="abbreviation">eq_annots</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pctx:668"><span class="id" title="variable">pctx</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:665"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:666"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:667"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_annots"><span class="id" title="abbreviation">eq_annots</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pctx:668"><span class="id" title="variable">pctx</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:667"><span class="id" title="variable">cdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_annots_subst_context"><span class="id" title="lemma">eq_annots_subst_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#eq_annots_expand_lets_ctx"><span class="id" title="lemma">eq_annots_expand_lets_ctx</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.PCUIC.PCUICValidity.html#"><span class="id" title="library">PCUICValidity</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICContexts.html#"><span class="id" title="library">PCUICContexts</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICInductives.html#"><span class="id" title="library">PCUICInductives</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICInductiveInversion.html#"><span class="id" title="library">PCUICInductiveInversion</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isType_mkApps_Ind_inv_spine" class="idref" href="#isType_mkApps_Ind_inv_spine"><span class="id" title="lemma">isType_mkApps_Ind_inv_spine</span></a> {<a id="cf:669" class="idref" href="#cf:669"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="f15844cb0034f5297c1b7da92d2c1485" class="idref" href="#f15844cb0034f5297c1b7da92d2c1485"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="b08570a15b99b60b335d7d95678a642d" class="idref" href="#b08570a15b99b60b335d7d95678a642d"><span class="id" title="binder">Γ</span></a> <a id="ind:672" class="idref" href="#ind:672"><span class="id" title="binder">ind</span></a> <a id="u:673" class="idref" href="#u:673"><span class="id" title="binder">u</span></a> <a id="args:674" class="idref" href="#args:674"><span class="id" title="binder">args</span></a>} {<a id="9a4f8f633194c01989642be944341765" class="idref" href="#9a4f8f633194c01989642be944341765"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f15844cb0034f5297c1b7da92d2c1485"><span class="id" title="variable">Σ</span></a>} {<a id="mdecl:676" class="idref" href="#mdecl:676"><span class="id" title="binder">mdecl</span></a> <a id="idecl:677" class="idref" href="#idecl:677"><span class="id" title="binder">idecl</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f15844cb0034f5297c1b7da92d2c1485"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:672"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:676"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:677"><span class="id" title="variable">idecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f15844cb0034f5297c1b7da92d2c1485"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b08570a15b99b60b335d7d95678a642d"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:672"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:673"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#args:674"><span class="id" title="variable">args</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="s:678" class="idref" href="#s:678"><span class="id" title="binder">s</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#spine_subst"><span class="id" title="record">PCUICSpine.spine_subst</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f15844cb0034f5297c1b7da92d2c1485"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b08570a15b99b60b335d7d95678a642d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#args:674"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#s:678"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:676"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:677"><span class="id" title="variable">idecl</span></a><a class="idref" href="MetaRocq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">)@[</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:673"><span class="id" title="variable">u</span></a><a class="idref" href="MetaRocq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f15844cb0034f5297c1b7da92d2c1485"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:676"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:673"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">isdecl</span> <span class="id" title="var">isty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICSubstitution.html#isType_wf_local"><span class="id" title="lemma">isType_wf_local</span></a> <span class="id" title="var">isty</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">isty</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">s</span> &amp; <span class="id" title="var">Hs</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInductives.html#invert_type_mkApps_ind"><span class="id" title="lemma">invert_type_mkApps_ind</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sp</span> <span class="id" title="var">cu</span>]; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#ind_arity_eq"><span class="id" title="projection">ind_arity_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInductives.html#oib"><span class="id" title="definition">PCUICInductives.oib</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_it_mkProd_or_LetIn"><span class="id" title="lemma">subst_instance_it_mkProd_or_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#arity_typing_spine"><span class="id" title="lemma">PCUICSpine.arity_typing_spine</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">hle</span> <span class="id" title="var">hs</span> [<span class="id" title="var">insts</span> <span class="id" title="var">sp</span>]]; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">insts</span>. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_app_ctx"><span class="id" title="lemma">PCUICUnivSubstitutionConv.subst_instance_app_ctx</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="simpl_type_Case" class="idref" href="#simpl_type_Case"><span class="id" title="lemma">simpl_type_Case</span></a> {<a id="H:679" class="idref" href="#H:679"><span class="id" title="binder">H</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="fd4083a0cc5004f6f4496b44b4cb6325" class="idref" href="#fd4083a0cc5004f6f4496b44b4cb6325"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="cd22bffa3bd569e7aec97741e96fd233" class="idref" href="#cd22bffa3bd569e7aec97741e96fd233"><span class="id" title="binder">Γ</span></a>} {<a id="ci:682" class="idref" href="#ci:682"><span class="id" title="binder">ci</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#case_info"><span class="id" title="record">case_info</span></a>} {<a id="p:683" class="idref" href="#p:683"><span class="id" title="binder">p</span></a> <a id="c:684" class="idref" href="#c:684"><span class="id" title="binder">c</span></a> <a id="brs:685" class="idref" href="#brs:685"><span class="id" title="binder">brs</span></a> <a id="ps:686" class="idref" href="#ps:686"><span class="id" title="binder">ps</span></a> <a id="mdecl:687" class="idref" href="#mdecl:687"><span class="id" title="binder">mdecl</span></a> <a id="idecl:688" class="idref" href="#idecl:688"><span class="id" title="binder">idecl</span></a> <a id="indices:689" class="idref" href="#indices:689"><span class="id" title="binder">indices</span></a>} {<a id="e2ba45c6da315b1df2b8828de4cf2910" class="idref" href="#e2ba45c6da315b1df2b8828de4cf2910"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fd4083a0cc5004f6f4496b44b4cb6325"><span class="id" title="variable">Σ</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fd4083a0cc5004f6f4496b44b4cb6325"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:682"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:687"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:688"><span class="id" title="variable">idecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_npars"><span class="id" title="projection">ind_npars</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:687"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#ci_npar"><span class="id" title="projection">ci_npar</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:682"><span class="id" title="variable">ci</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_context_upto_names"><span class="id" title="abbreviation">eq_context_upto_names</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:683"><span class="id" title="variable">p</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context"><span class="id" title="definition">ind_predicate_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:682"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:687"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:688"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="predctx:691" class="idref" href="#predctx:691"><span class="id" title="binder">predctx</span></a> := <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:682"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:687"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:688"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:683"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_predicate"><span class="id" title="definition">wf_predicate</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:687"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:688"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:683"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fd4083a0cc5004f6f4496b44b4cb6325"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cd22bffa3bd569e7aec97741e96fd233"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#predctx:691"><span class="id" title="variable">predctx</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fd4083a0cc5004f6f4496b44b4cb6325"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cd22bffa3bd569e7aec97741e96fd233"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#predctx:691"><span class="id" title="variable">predctx</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:683"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ps:686"><span class="id" title="variable">ps</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#is_allowed_elimination"><span class="id" title="definition">is_allowed_elimination</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fd4083a0cc5004f6f4496b44b4cb6325"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_kelim"><span class="id" title="projection">ind_kelim</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:688"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ps:686"><span class="id" title="variable">ps</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fd4083a0cc5004f6f4496b44b4cb6325"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cd22bffa3bd569e7aec97741e96fd233"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c:684"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:682"><span class="id" title="variable">ci</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#puinst"><span class="id" title="projection">puinst</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:683"><span class="id" title="variable">p</span></a>)) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:683"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#indices:689"><span class="id" title="variable">indices</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#isCoFinite"><span class="id" title="definition">isCoFinite</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_finite"><span class="id" title="projection">ind_finite</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:687"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ptm:692" class="idref" href="#ptm:692"><span class="id" title="binder">ptm</span></a> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkLambda_or_LetIn"><span class="id" title="definition">it_mkLambda_or_LetIn</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#predctx:691"><span class="id" title="variable">predctx</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:683"><span class="id" title="variable">p</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_branches"><span class="id" title="definition">wf_branches</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:688"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#brs:685"><span class="id" title="variable">brs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2i"><span class="id" title="inductive">All2i</span></a><br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="i:693" class="idref" href="#i:693"><span class="id" title="binder">i</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="cdecl:694" class="idref" href="#cdecl:694"><span class="id" title="binder">cdecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.constructor_body"><span class="id" title="record">constructor_body</span></a>) (<a id="br:695" class="idref" href="#br:695"><span class="id" title="binder">br</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#branch"><span class="id" title="record">branch</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) ⇒<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_context_upto_names"><span class="id" title="abbreviation">eq_context_upto_names</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:695"><span class="id" title="variable">br</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:682"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:687"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:694"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">(</span></a><span class="id" title="keyword">let</span> <a id="brctxty:696" class="idref" href="#brctxty:696"><span class="id" title="binder">brctxty</span></a> := <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_type"><span class="id" title="definition">case_branch_type</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:682"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:687"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:688"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:683"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:695"><span class="id" title="variable">br</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ptm:692"><span class="id" title="variable">ptm</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:693"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:694"><span class="id" title="variable">cdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fd4083a0cc5004f6f4496b44b4cb6325"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cd22bffa3bd569e7aec97741e96fd233"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#brctxty:696"><span class="id" title="variable">brctxty</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:695"><span class="id" title="variable">br</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#brctxty:696"><span class="id" title="variable">brctxty</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fd4083a0cc5004f6f4496b44b4cb6325"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cd22bffa3bd569e7aec97741e96fd233"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#brctxty:696"><span class="id" title="variable">brctxty</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#brctxty:696"><span class="id" title="variable">brctxty</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ps:686"><span class="id" title="variable">ps</span></a><a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">)</span></a>) 0<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:688"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#brs:685"><span class="id" title="variable">brs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fd4083a0cc5004f6f4496b44b4cb6325"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cd22bffa3bd569e7aec97741e96fd233"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:682"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:683"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c:684"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#brs:685"><span class="id" title="variable">brs</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ptm:692"><span class="id" title="variable">ptm</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#indices:689"><span class="id" title="variable">indices</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c:684"><span class="id" title="variable">c</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">hty</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICValidity.html#validity"><span class="id" title="lemma">validity</span></a> <span class="id" title="var">X2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#isType_mkApps_Ind_inv_spine"><span class="id" title="lemma">isType_mkApps_Ind_inv_spine</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hty</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">inst</span> [<span class="id" title="var">sp</span> <span class="id" title="var">cu</span>]]; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#type_Case"><span class="id" title="constructor">type_Case</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#spine_subst_ctx_inst"><span class="id" title="lemma">PCUICSpine.spine_subst_ctx_inst</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing_wf_local"><span class="id" title="lemma">typing_wf_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#"><span class="id" title="library">PCUICOnFreeVars</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_cumulSpec" class="idref" href="#trans_cumulSpec"><span class="id" title="lemma">trans_cumulSpec</span></a> {<a id="cf:697" class="idref" href="#cf:697"><span class="id" title="binder">cf</span></a>} {<a id="fc188704e96280af4d281a2df4647ea0" class="idref" href="#fc188704e96280af4d281a2df4647ea0"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>} {<a id="9eb38bccbea5e49be0bc018df8724bef" class="idref" href="#9eb38bccbea5e49be0bc018df8724bef"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fc188704e96280af4d281a2df4647ea0"><span class="id" title="variable">Σ</span></a>} {<a id="pb:700" class="idref" href="#pb:700"><span class="id" title="binder">pb</span></a> <a id="dc2ec9047210a5144d8aaf53ddebd4cc" class="idref" href="#dc2ec9047210a5144d8aaf53ddebd4cc"><span class="id" title="binder">Γ</span></a> <a id="T:702" class="idref" href="#T:702"><span class="id" title="binder">T</span></a> <a id="T':703" class="idref" href="#T':703"><span class="id" title="binder">T'</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="08fbf8a6725dc7bced4fd8358667c279" class="idref" href="#08fbf8a6725dc7bced4fd8358667c279"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fc188704e96280af4d281a2df4647ea0"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#08fbf8a6725dc7bced4fd8358667c279"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fc188704e96280af4d281a2df4647ea0"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#dc2ec9047210a5144d8aaf53ddebd4cc"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fc188704e96280af4d281a2df4647ea0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:702"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fc188704e96280af4d281a2df4647ea0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T':703"><span class="id" title="variable">T'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cumul_gen"><span class="id" title="inductive">ST.cumul_gen</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fc188704e96280af4d281a2df4647ea0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#dc2ec9047210a5144d8aaf53ddebd4cc"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pb:700"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:702"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T':703"><span class="id" title="variable">T'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_closed_context"><span class="id" title="abbreviation">is_closed_context</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#08fbf8a6725dc7bced4fd8358667c279"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#dc2ec9047210a5144d8aaf53ddebd4cc"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#08fbf8a6725dc7bced4fd8358667c279"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#dc2ec9047210a5144d8aaf53ddebd4cc"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#08fbf8a6725dc7bced4fd8358667c279"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:702"><span class="id" title="variable">T</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#08fbf8a6725dc7bced4fd8358667c279"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#dc2ec9047210a5144d8aaf53ddebd4cc"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#08fbf8a6725dc7bced4fd8358667c279"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T':703"><span class="id" title="variable">T'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#08fbf8a6725dc7bced4fd8358667c279"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#08fbf8a6725dc7bced4fd8358667c279"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#dc2ec9047210a5144d8aaf53ddebd4cc"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#08fbf8a6725dc7bced4fd8358667c279"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:702"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">≤</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">s</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">[</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pb:700"><span class="id" title="variable">pb</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#08fbf8a6725dc7bced4fd8358667c279"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T':703"><span class="id" title="variable">T'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">wfΓ</span> <span class="id" title="var">wfT</span> <span class="id" title="var">wfT'</span> <span class="id" title="var">cum</span> <span class="id" title="var">clΓ</span> <span class="id" title="var">clT</span> <span class="id" title="var">clT'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#cumulAlgo_cumulSpec"><span class="id" title="lemma">PCUICConversion.cumulAlgo_cumulSpec</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">pb</span>:=<span class="id" title="var">pb</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#into_ws_cumul_pb"><span class="id" title="lemma">PCUICWellScopedCumulativity.into_ws_cumul_pb</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">fvs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cumul_gen"><span class="id" title="lemma">trans_cumul_gen</span></a>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Hint Resolve</span> <span class="id" title="var">isType_is_open_term</span> : <span class="id" title="var">fvs</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="wf_trans_env" class="idref" href="#wf_trans_env"><span class="id" title="instance">wf_trans_env</span></a> {<a id="cf:705" class="idref" href="#cf:705"><span class="id" title="binder">cf</span></a>} {<a id="9d6599fba63676c4410d23d922281b93" class="idref" href="#9d6599fba63676c4410d23d922281b93"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#global_env_ext_map"><span class="id" title="definition">global_env_ext_map</span></a>} : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#9d6599fba63676c4410d23d922281b93"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#global_env_ext_map_global_env_map"><span class="id" title="definition">global_env_ext_map_global_env_map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#9d6599fba63676c4410d23d922281b93"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">wf_trans_env</span> : <span class="id" title="var">fvs</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_cumulSpec_typed" class="idref" href="#trans_cumulSpec_typed"><span class="id" title="lemma">trans_cumulSpec_typed</span></a> {<a id="cf:707" class="idref" href="#cf:707"><span class="id" title="binder">cf</span></a>} {<a id="8e9540ea42a26f2759bec88a7b72aa07" class="idref" href="#8e9540ea42a26f2759bec88a7b72aa07"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>} {<a id="10594060f34b83a35f80d9a11352c104" class="idref" href="#10594060f34b83a35f80d9a11352c104"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8e9540ea42a26f2759bec88a7b72aa07"><span class="id" title="variable">Σ</span></a>} {<a id="pb:710" class="idref" href="#pb:710"><span class="id" title="binder">pb</span></a> <a id="241cdaf8f6150271ef2d114be33e870d" class="idref" href="#241cdaf8f6150271ef2d114be33e870d"><span class="id" title="binder">Γ</span></a> <a id="T:712" class="idref" href="#T:712"><span class="id" title="binder">T</span></a> <a id="T':713" class="idref" href="#T':713"><span class="id" title="binder">T'</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ec3a7de69cacb5dda63d47057b40fe11" class="idref" href="#ec3a7de69cacb5dda63d47057b40fe11"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8e9540ea42a26f2759bec88a7b72aa07"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ec3a7de69cacb5dda63d47057b40fe11"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8e9540ea42a26f2759bec88a7b72aa07"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#241cdaf8f6150271ef2d114be33e870d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8e9540ea42a26f2759bec88a7b72aa07"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:712"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8e9540ea42a26f2759bec88a7b72aa07"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T':713"><span class="id" title="variable">T'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cumul_gen"><span class="id" title="inductive">ST.cumul_gen</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8e9540ea42a26f2759bec88a7b72aa07"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#241cdaf8f6150271ef2d114be33e870d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pb:710"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:712"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T':713"><span class="id" title="variable">T'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ec3a7de69cacb5dda63d47057b40fe11"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ec3a7de69cacb5dda63d47057b40fe11"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#241cdaf8f6150271ef2d114be33e870d"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ec3a7de69cacb5dda63d47057b40fe11"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:712"><span class="id" title="variable">T</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ec3a7de69cacb5dda63d47057b40fe11"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ec3a7de69cacb5dda63d47057b40fe11"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#241cdaf8f6150271ef2d114be33e870d"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ec3a7de69cacb5dda63d47057b40fe11"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T':713"><span class="id" title="variable">T'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ec3a7de69cacb5dda63d47057b40fe11"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ec3a7de69cacb5dda63d47057b40fe11"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#241cdaf8f6150271ef2d114be33e870d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ec3a7de69cacb5dda63d47057b40fe11"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:712"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">≤</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">s</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">[</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pb:710"><span class="id" title="variable">pb</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ec3a7de69cacb5dda63d47057b40fe11"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T':713"><span class="id" title="variable">T'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">wfΓ</span> <span class="id" title="var">wfT</span> <span class="id" title="var">wfT'</span> <span class="id" title="var">cum</span> <span class="id" title="var">ist</span> <span class="id" title="var">ist'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#cumulAlgo_cumulSpec"><span class="id" title="lemma">PCUICConversion.cumulAlgo_cumulSpec</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">pb</span>:=<span class="id" title="var">pb</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#into_ws_cumul_pb"><span class="id" title="lemma">PCUICWellScopedCumulativity.into_ws_cumul_pb</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">fvs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cumul_gen"><span class="id" title="lemma">trans_cumul_gen</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSubstitution.html#isType_wf_local"><span class="id" title="lemma">isType_wf_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ist</span>; <span class="id" title="var">fvs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_case_branch_type" class="idref" href="#trans_case_branch_type"><span class="id" title="lemma">trans_case_branch_type</span></a> <a id="cc226e9010bea95e37ac2733ce36be50" class="idref" href="#cc226e9010bea95e37ac2733ce36be50"><span class="id" title="binder">Σ</span></a> (<a id="ci:716" class="idref" href="#ci:716"><span class="id" title="binder">ci</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#case_info"><span class="id" title="record">case_info</span></a>) <a id="mdecl:717" class="idref" href="#mdecl:717"><span class="id" title="binder">mdecl</span></a> <a id="idecl:718" class="idref" href="#idecl:718"><span class="id" title="binder">idecl</span></a> <a id="cdecl:719" class="idref" href="#cdecl:719"><span class="id" title="binder">cdecl</span></a> <a id="i:720" class="idref" href="#i:720"><span class="id" title="binder">i</span></a> <a id="p:721" class="idref" href="#p:721"><span class="id" title="binder">p</span></a> <a id="br:722" class="idref" href="#br:722"><span class="id" title="binder">br</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="d50165dbabb84451e617bffab84f309d" class="idref" href="#d50165dbabb84451e617bffab84f309d"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cc226e9010bea95e37ac2733ce36be50"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="bctx:724" class="idref" href="#bctx:724"><span class="id" title="binder">bctx</span></a> := <a class="idref" href="MetaRocq.Template.Ast.html#case_predicate_context"><span class="id" title="definition">Ast.case_predicate_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:716"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:717"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:718"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:721"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':725" class="idref" href="#p':725"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaRocq.Template.Ast.html#map_predicate"><span class="id" title="definition">Ast.map_predicate</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d50165dbabb84451e617bffab84f309d"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d50165dbabb84451e617bffab84f309d"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:721"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':726" class="idref" href="#mdecl':726"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d50165dbabb84451e617bffab84f309d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:717"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="idecl':727" class="idref" href="#idecl':727"><span class="id" title="binder">idecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d50165dbabb84451e617bffab84f309d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:718"><span class="id" title="variable">idecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cdecl':728" class="idref" href="#cdecl':728"><span class="id" title="binder">cdecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d50165dbabb84451e617bffab84f309d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:719"><span class="id" title="variable">cdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':729" class="idref" href="#p':729"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:716"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':726"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':727"><span class="id" title="variable">idecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':725"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#pparams"><span class="id" title="projection">Ast.pparams</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':725"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#puinst"><span class="id" title="projection">Ast.puinst</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':725"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#pcontext"><span class="id" title="projection">Ast.pcontext</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':725"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#preturn"><span class="id" title="projection">Ast.preturn</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="br':730" class="idref" href="#br':730"><span class="id" title="binder">br'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_branch"><span class="id" title="definition">trans_branch</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:716"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':726"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl':728"><span class="id" title="variable">cdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:722"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#bcontext"><span class="id" title="projection">Ast.bcontext</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d50165dbabb84451e617bffab84f309d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:722"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaRocq.Template.Ast.html#bbody"><span class="id" title="projection">Ast.bbody</span></a>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ptm:731" class="idref" href="#ptm:731"><span class="id" title="binder">ptm</span></a> := <a class="idref" href="MetaRocq.Template.Ast.html#Env.it_mkLambda_or_LetIn"><span class="id" title="definition">Ast.Env.it_mkLambda_or_LetIn</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bctx:724"><span class="id" title="variable">bctx</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#preturn"><span class="id" title="projection">Ast.preturn</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:721"><span class="id" title="variable">p</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ptm':732" class="idref" href="#ptm':732"><span class="id" title="binder">ptm'</span></a> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkLambda_or_LetIn"><span class="id" title="definition">it_mkLambda_or_LetIn</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:716"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':726"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':727"><span class="id" title="variable">idecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':729"><span class="id" title="variable">p'</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':729"><span class="id" title="variable">p'</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf_nactx"><span class="id" title="abbreviation">WfAst.wf_nactx</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#pcontext"><span class="id" title="projection">Ast.pcontext</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:721"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaRocq.Template.Ast.html#ind_predicate_context"><span class="id" title="definition">Ast.ind_predicate_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:716"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:717"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:718"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf_nactx"><span class="id" title="abbreviation">WfAst.wf_nactx</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#bcontext"><span class="id" title="projection">Ast.bcontext</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:722"><span class="id" title="variable">br</span></a>) (<a class="idref" href="MetaRocq.Template.Ast.html#cstr_branch_context"><span class="id" title="definition">Ast.cstr_branch_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:716"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:717"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:719"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="brctxty:733" class="idref" href="#brctxty:733"><span class="id" title="binder">brctxty</span></a> := <a class="idref" href="MetaRocq.Template.Ast.html#case_branch_type"><span class="id" title="definition">Ast.case_branch_type</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:716"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:717"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:721"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ptm:731"><span class="id" title="variable">ptm</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:720"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:719"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:722"><span class="id" title="variable">br</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="brctxty':734" class="idref" href="#brctxty':734"><span class="id" title="binder">brctxty'</span></a> := <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_type"><span class="id" title="definition">case_branch_type</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:716"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':726"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':727"><span class="id" title="variable">idecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':729"><span class="id" title="variable">p'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br':730"><span class="id" title="variable">br'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ptm':732"><span class="id" title="variable">ptm'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:720"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl':728"><span class="id" title="variable">cdecl'</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#brctxty':734"><span class="id" title="variable">brctxty'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d50165dbabb84451e617bffab84f309d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#brctxty:733"><span class="id" title="variable">brctxty</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#brctxty':734"><span class="id" title="variable">brctxty'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d50165dbabb84451e617bffab84f309d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#brctxty:733"><span class="id" title="variable">brctxty</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">brctxty'</span> /= /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_case_branch_context"><span class="id" title="lemma">trans_case_branch_context</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">ci</span> <span class="id" title="var">mdecl</span> <span class="id" title="var">idecl</span> <span class="id" title="var">cdecl</span>) //.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">brctxty'</span> /<span class="id" title="var">brctxty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_type"><span class="id" title="definition">case_branch_type</span></a> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_type_gen"><span class="id" title="definition">case_branch_type_gen</span></a> /<a class="idref" href="MetaRocq.Template.Ast.html#case_branch_type"><span class="id" title="definition">Ast.case_branch_type</span></a> /<a class="idref" href="MetaRocq.Template.Ast.html#case_branch_type_gen"><span class="id" title="definition">Ast.case_branch_type_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span> <span class="id" title="keyword">iota</span> <span class="id" title="keyword">delta</span> [<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">cdecl'</span>; <span class="id" title="var">len</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">ptm'</span> /<span class="id" title="var">ptm</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_it_mkLambda_or_LetIn"><span class="id" title="lemma">trans_it_mkLambda_or_LetIn</span></a> // /<span class="id" title="var">p'0</span> /=. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">bctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.Template.Ast.html#case_predicate_context"><span class="id" title="definition">Ast.case_predicate_context</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)](<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_case_predicate_context"><span class="id" title="lemma">trans_case_predicate_context</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">ci</span> <span class="id" title="var">mdecl</span> <span class="id" title="var">idecl</span> <span class="id" title="var">p</span>) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> /=. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Utils.MRList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#map_ext"><span class="id" title="lemma">map_ext</span></a> ⇒ <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_k"><span class="id" title="lemma">trans_expand_lets_k</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_subst_instance"><span class="id" title="lemma">trans_local_subst_instance</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_inds"><span class="id" title="lemma">trans_inds</span></a>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Utils.MRList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#map_ext"><span class="id" title="lemma">map_ext</span></a> ⇒ <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_reln"><span class="id" title="lemma">trans_reln</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_wf_sort" class="idref" href="#trans_wf_sort"><span class="id" title="lemma">trans_wf_sort</span></a> <a id="79783c3d0c597b6a48128c562b67e476" class="idref" href="#79783c3d0c597b6a48128c562b67e476"><span class="id" title="binder">Σ</span></a> <a id="u:736" class="idref" href="#u:736"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_sort"><span class="id" title="definition">S.wf_sort</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#79783c3d0c597b6a48128c562b67e476"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:736"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#wf_sort"><span class="id" title="definition">wf_sort</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#79783c3d0c597b6a48128c562b67e476"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:736"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_sort"><span class="id" title="definition">S.wf_sort</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#wf_sort"><span class="id" title="definition">wf_sort</span></a>, <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_universe"><span class="id" title="definition">S.wf_universe</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#wf_universe"><span class="id" title="definition">wf_universe</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#global_ext_levels_trans"><span class="id" title="lemma">global_ext_levels_trans</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_env_retroknowledge" class="idref" href="#trans_env_retroknowledge"><span class="id" title="lemma">trans_env_retroknowledge</span></a> <a id="58d555d27892089de749e22ee2073416" class="idref" href="#58d555d27892089de749e22ee2073416"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#58d555d27892089de749e22ee2073416"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#retroknowledge"><span class="id" title="projection">S.Env.retroknowledge</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#58d555d27892089de749e22ee2073416"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs</span> <span class="id" title="var">decls</span> <span class="id" title="var">retro</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Hint Resolve</span> <span class="id" title="var">trans_wf_sort</span> : <span class="id" title="var">trans</span>.<br/>
<span class="id" title="keyword">Local Hint Transparent</span> <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a> : <span class="id" title="var">trans</span>.<br/>
<span class="id" title="keyword">Local Hint Transparent</span> <a class="idref" href="MetaRocq.Common.Universes.html#Sort.t"><span class="id" title="definition">sort</span></a> : <span class="id" title="var">trans</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Variables</span> <span class="id" title="keyword">Transparent</span> : <span class="id" title="var">trans</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">trans</span> := <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">trans</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simpl_let</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="keyword">let</span> <span class="id" title="var">_</span> := <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">progress</span> (<span class="id" title="tactic">cbv</span> <span class="id" title="keyword">zeta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Local Hint Extern</span> 4 ⇒ <span class="id" title="var">simpl_let</span> : <span class="id" title="var">trans</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="template_to_pcuic" class="idref" href="#template_to_pcuic"><span class="id" title="lemma">template_to_pcuic</span></a> {<a id="cf:738" class="idref" href="#cf:738"><span class="id" title="binder">cf</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#env_prop"><span class="id" title="definition">ST.env_prop</span></a> (<span class="id" title="keyword">fun</span> <a id="9f6ba21c9106f1cb859cdba70d395066" class="idref" href="#9f6ba21c9106f1cb859cdba70d395066"><span class="id" title="binder">Σ</span></a> <a id="0411940a6617c5baf7cf6cda4c4a775e" class="idref" href="#0411940a6617c5baf7cf6cda4c4a775e"><span class="id" title="binder">Γ</span></a> <a id="t:748" class="idref" href="#t:748"><span class="id" title="binder">t</span></a> <a id="T:749" class="idref" href="#T:749"><span class="id" title="binder">T</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="62b2a6d8c5b7f7b7ec6592bd8b6ec6d4" class="idref" href="#62b2a6d8c5b7f7b7ec6592bd8b6ec6d4"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#9f6ba21c9106f1cb859cdba70d395066"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#62b2a6d8c5b7f7b7ec6592bd8b6ec6d4"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#62b2a6d8c5b7f7b7ec6592bd8b6ec6d4"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#62b2a6d8c5b7f7b7ec6592bd8b6ec6d4"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0411940a6617c5baf7cf6cda4c4a775e"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#62b2a6d8c5b7f7b7ec6592bd8b6ec6d4"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:748"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#62b2a6d8c5b7f7b7ec6592bd8b6ec6d4"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:749"><span class="id" title="variable">T</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="53ea1e73ec7ae29a04711075ff6d214c" class="idref" href="#53ea1e73ec7ae29a04711075ff6d214c"><span class="id" title="binder">Σ</span></a> <a id="85e52e3369dd5deaf0eea6287d6e655d" class="idref" href="#85e52e3369dd5deaf0eea6287d6e655d"><span class="id" title="binder">Γ</span></a> <a id="j:744" class="idref" href="#j:744"><span class="id" title="binder">j</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="748aece59a296f4ef7ec928ffb5134ad" class="idref" href="#748aece59a296f4ef7ec928ffb5134ad"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#53ea1e73ec7ae29a04711075ff6d214c"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#748aece59a296f4ef7ec928ffb5134ad"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#748aece59a296f4ef7ec928ffb5134ad"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#748aece59a296f4ef7ec928ffb5134ad"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#85e52e3369dd5deaf0eea6287d6e655d"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.Common.BasicAst.html#judgment_map"><span class="id" title="definition">judgment_map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#748aece59a296f4ef7ec928ffb5134ad"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#j:744"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="42fc357ed2e0068ed79998f213c3b318" class="idref" href="#42fc357ed2e0068ed79998f213c3b318"><span class="id" title="binder">Σ</span></a> <a id="0025f22f91253d19e4c7d05aeb5e29fb" class="idref" href="#0025f22f91253d19e4c7d05aeb5e29fb"><span class="id" title="binder">Γ</span></a> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="4694a36a33bfd6a3bcfc4e859497b5b1" class="idref" href="#4694a36a33bfd6a3bcfc4e859497b5b1"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#42fc357ed2e0068ed79998f213c3b318"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4694a36a33bfd6a3bcfc4e859497b5b1"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4694a36a33bfd6a3bcfc4e859497b5b1"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4694a36a33bfd6a3bcfc4e859497b5b1"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0025f22f91253d19e4c7d05aeb5e29fb"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#typing_ind_env"><span class="id" title="lemma">ST.typing_ind_env</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">trans</span> ].<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hb</span> &amp; <span class="id" title="var">s</span> &amp; (<span class="id" title="var">_</span> &amp; <span class="id" title="var">Ht</span>) &amp; <span class="id" title="var">e</span>). <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#judgment_map"><span class="id" title="definition">judgment_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#j_term"><span class="id" title="projection">j_term</span></a> ⇒ //=. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">split</span>; <span class="id" title="var">tas</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Ht</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_wf_local"><span class="id" title="lemma">trans_wf_local</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#refine_type"><span class="id" title="lemma">refine_type</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#type_Rel"><span class="id" title="constructor">type_Rel</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>

<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing0"><span class="id" title="definition">lift_typing0</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a> <span class="id" title="var">Σ'</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σ</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>) <span class="id" title="var">Γ</span>)) (<a class="idref" href="MetaRocq.Common.BasicAst.html#TypUniv"><span class="id" title="abbreviation">TypUniv</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σ</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>) <span class="id" title="var">t</span>) <span class="id" title="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#refine_type"><span class="id" title="lemma">refine_type</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#type_App"><span class="id" title="constructor">type_App</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#type_Lambda"><span class="id" title="constructor">type_Lambda</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_sorting_forget_univ"><span class="id" title="lemma">lift_sorting_forget_univ</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#type_Rel"><span class="id" title="constructor">type_Rel</span></a>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing_wf_local"><span class="id" title="lemma">typing_wf_local</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#has_sort_isType"><span class="id" title="definition">has_sort_isType</span></a>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#type_Prod"><span class="id" title="constructor">type_Prod</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">s</span>). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningTyp.html#weakening"><span class="id" title="lemma">weakening</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <span class="id" title="var">_</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing_wf_local"><span class="id" title="lemma">typing_wf_local</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#has_sort_isType"><span class="id" title="definition">has_sort_isType</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">X2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst1"><span class="id" title="definition">subst1</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#simpl_subst"><span class="id" title="lemma">simpl_subst</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#lift0_p"><span class="id" title="lemma">lift0_p</span></a>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">trans</span>. 1: <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">trans</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">trans</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">X3</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">trans</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">trans</span>.<br/>

<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICGeneration.html#type_mkApps"><span class="id" title="lemma">type_mkApps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">X0</span> <span class="id" title="var">X2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">typing_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICValidity.html#validity"><span class="id" title="lemma">PCUICValidity.validity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">TypingWf.typing_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">typrod</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfAB</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#has_sort_isType"><span class="id" title="definition">has_sort_isType</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -/<span class="id" title="var">Σ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">na</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">Σ'</span> <span class="id" title="var">A</span>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">_</span> <span class="id" title="var">B</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">Σ'</span> (<a class="idref" href="MetaRocq.Template.Ast.html#tProd"><span class="id" title="constructor">Ast.tProd</span></a> <span class="id" title="var">na</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cumulSpec_typed"><span class="id" title="lemma">trans_cumulSpec_typed</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#typing_all_wf_decl"><span class="id" title="lemma">TypingWf.typing_all_wf_decl</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#has_sort_isType"><span class="id" title="definition">has_sort_isType</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">typing_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ty</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">wfhd</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHX1</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHX1</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Template.WfAst.html#wf_subst"><span class="id" title="lemma">WfAst.wf_subst</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. 2:<span class="id" title="var">now</span> <span class="id" title="var">inv</span> <span class="id" title="var">wfAB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">p</span> <span class="id" title="var">X2</span>). <span class="id" title="tactic">specialize</span> (<span class="id" title="var">p0</span> <span class="id" title="var">X2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Prod"><span class="id" title="lemma">PCUICInversion.inversion_Prod</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s1</span> [<span class="id" title="var">s2</span> [<span class="id" title="var">HA</span> [<span class="id" title="var">HB</span> <span class="id" title="var">Hs</span>]]]]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICArities.html#isType_subst"><span class="id" title="lemma">PCUICArities.isType_subst</span></a> (<span class="id" title="var">Δ</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">Σ'</span> <span class="id" title="var">A</span>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSubstitution.html#subslet_ass_tip"><span class="id" title="lemma">subslet_ass_tip</span></a>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#has_sort_isType"><span class="id" title="definition">has_sort_isType</span></a>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_constant"><span class="id" title="lemma">forall_decls_declared_constant</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/<span class="id" title="var">Σ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.cst_type"><span class="id" title="projection">Ast.Env.cst_type</span></a> <span class="id" title="var">decl</span>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_type"><span class="id" title="projection">cst_type</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_constant_body"><span class="id" title="definition">trans_constant_body</span></a> <span class="id" title="var">Σ'</span> <span class="id" title="var">decl</span>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_consistent_instance_ext"><span class="id" title="lemma">trans_consistent_instance_ext</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ConstantDecl"><span class="id" title="constructor">Ast.Env.ConstantDecl</span></a> <span class="id" title="var">decl</span>)).<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/<span class="id" title="var">Σ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_type"><span class="id" title="projection">Ast.Env.ind_type</span></a> <span class="id" title="var">idecl</span>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_type"><span class="id" title="projection">ind_type</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <span class="id" title="var">Σ'</span> <span class="id" title="var">idecl</span>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">idecl</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#type_Ind"><span class="id" title="constructor">type_Ind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_consistent_instance_ext"><span class="id" title="lemma">trans_consistent_instance_ext</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.InductiveDecl"><span class="id" title="constructor">Ast.Env.InductiveDecl</span></a> <span class="id" title="var">mdecl</span>)).<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_constructor"><span class="id" title="lemma">forall_decls_declared_constructor</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#type_of_constructor"><span class="id" title="definition">ST.type_of_constructor</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_inds"><span class="id" title="lemma">trans_inds</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#refine_type"><span class="id" title="lemma">refine_type</span></a>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_consistent_instance_ext"><span class="id" title="lemma">trans_consistent_instance_ext</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.InductiveDecl"><span class="id" title="constructor">Ast.Env.InductiveDecl</span></a> <span class="id" title="var">mdecl</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_inductive"><span class="id" title="lemma">trans_lookup_inductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_lookup"><span class="id" title="lemma">declared_inductive_lookup</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_it_mkLambda_or_LetIn"><span class="id" title="lemma">trans_it_mkLambda_or_LetIn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <span class="id" title="var">Σ'</span> (<a class="idref" href="MetaRocq.Template.Ast.html#case_predicate_context"><span class="id" title="definition">Ast.case_predicate_context</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">lenpctx</span> : <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Template.Ast.html#pcontext"><span class="id" title="projection">Ast.pcontext</span></a> <span class="id" title="var">p</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_indices"><span class="id" title="projection">Ast.Env.ind_indices</span></a> <span class="id" title="var">idecl</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>; <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_case_predicate_context"><span class="id" title="lemma">trans_case_predicate_context</span></a> <span class="id" title="var">Σ</span>) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">X6</span> <span class="id" title="var">X8</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">X4</span> <span class="id" title="var">X8</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">p'</span> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#simpl_type_Case"><span class="id" title="lemma">simpl_type_Case</span></a> (<span class="id" title="var">p</span>:=<span class="id" title="var">p'</span>) (<span class="id" title="var">ps</span>:=<span class="id" title="var">ps</span>)) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICCasesContexts.html#eq_binder_annots_eq"><span class="id" title="lemma">eq_binder_annots_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_ind_predicate_context"><span class="id" title="lemma">trans_ind_predicate_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">split</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICGlobalEnv.html#declared_minductive_ind_npars"><span class="id" title="lemma">declared_minductive_ind_npars</span></a> (<a class="idref" href="MetaRocq.Utils.MRProd.html#proj1"><span class="id" title="definition">proj1</span></a> <span class="id" title="var">H4</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context_length"><span class="id" title="lemma">PCUICCases.ind_predicate_context_length</span></a>; <span class="id" title="var">len</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a> /= <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map2_cst"><span class="id" title="lemma">map2_cst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context_length"><span class="id" title="lemma">PCUICCases.ind_predicate_context_length</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_ind_predicate_context"><span class="id" title="lemma">trans_ind_predicate_context</span></a> <span class="id" title="var">Σ</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#eq_annots_ind_predicate_context"><span class="id" title="lemma">eq_annots_ind_predicate_context</span></a> <span class="id" title="var">ci</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_Forall2"><span class="id" title="lemma">All2_Forall2</span></a> ⇒ //. <span class="id" title="tactic">exact</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> <span class="id" title="var">X7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">predctx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_case_predicate_context"><span class="id" title="lemma">trans_case_predicate_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X4</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> <span class="id" title="var">X7</span>. <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">X3</span> <span class="id" title="var">X8</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">predctx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_case_predicate_context"><span class="id" title="lemma">trans_case_predicate_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X3</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#global_ext_constraints_trans"><span class="id" title="lemma">global_ext_constraints_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">X7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">red</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_Forall2"><span class="id" title="lemma">All2_Forall2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_map2_right"><span class="id" title="lemma">All2_map2_right</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#All2i_All2"><span class="id" title="lemma">All2i_All2</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">cdecl</span> <span class="id" title="var">br</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">brctxty</span> := <a class="idref" href="MetaRocq.Template.Ast.html#case_branch_type"><span class="id" title="definition">Ast.case_branch_type</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [] [] <span class="id" title="var">eqann</span> [] <span class="id" title="var">Hbod</span> <span class="id" title="var">IHbod</span> [] <span class="id" title="var">Hty</span> <span class="id" title="var">IHty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_branch"><span class="id" title="definition">wf_branch</span></a>, <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_branch_gen"><span class="id" title="definition">wf_branch_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_branch"><span class="id" title="definition">trans_branch</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">lenctx</span> : <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Template.Ast.html#bcontext"><span class="id" title="projection">Ast.bcontext</span></a> <span class="id" title="var">br</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a> <span class="id" title="var">cdecl</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqann</span>; <span class="id" title="var">now</span> <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eqann</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.BasicAst.html#forget_types"><span class="id" title="definition">forget_types</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map2_cst"><span class="id" title="lemma">map2_cst</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#eq_annots_cstr_branch_context"><span class="id" title="lemma">eq_annots_cstr_branch_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_Forall2"><span class="id" title="lemma">All2_Forall2</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cstr_branch_context_alpha"><span class="id" title="lemma">trans_cstr_branch_context_alpha</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2i_map2_right"><span class="id" title="lemma">All2i_map2_right</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2i_map"><span class="id" title="lemma">All2i_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2i_impl"><span class="id" title="lemma">All2i_impl</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">cdecl</span> <span class="id" title="var">br</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">brctxty</span> := <a class="idref" href="MetaRocq.Template.Ast.html#case_branch_type"><span class="id" title="definition">Ast.case_branch_type</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [] [] <span class="id" title="var">eqann</span> [] <span class="id" title="var">Hbod</span> <span class="id" title="var">IHbod</span> [] <span class="id" title="var">Hty</span> <span class="id" title="var">IHty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">lenctx</span> : <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Template.Ast.html#bcontext"><span class="id" title="projection">Ast.bcontext</span></a> <span class="id" title="var">br</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a> <span class="id" title="var">cdecl</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqann</span>; <span class="id" title="var">now</span> <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eqann</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_branch"><span class="id" title="definition">trans_branch</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICCasesContexts.html#eq_binder_annots_eq"><span class="id" title="lemma">eq_binder_annots_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cstr_branch_context_alpha"><span class="id" title="lemma">trans_cstr_branch_context_alpha</span></a>; <span class="id" title="var">tea</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">brctxty'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_case_branch_type"><span class="id" title="lemma">trans_case_branch_type</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">ci</span> <span class="id" title="var">mdecl</span> <span class="id" title="var">idecl</span> <span class="id" title="var">cdecl</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">br</span> <span class="id" title="var">X1</span> <span class="id" title="var">eqann</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">eqctx</span> <span class="id" title="var">eqbty</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<span class="id" title="var">brctxty'</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>]<span class="id" title="var">eqbty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<span class="id" title="var">brctxty'</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>]<span class="id" title="var">eqctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">eqctx</span> <span class="id" title="var">eqbty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHbod</span> <span class="id" title="var">X8</span>). <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHty</span> <span class="id" title="var">X8</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHbod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHty</span> ⇒ //.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">pdecl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">arity</span> <span class="id" title="var">relevance</span> <span class="id" title="var">ty'</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">wfproj</span> := <a class="idref" href="MetaRocq.Template.TypingWf.html#declared_projection_wf"><span class="id" title="lemma">TypingWf.declared_projection_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfproj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_projection"><span class="id" title="lemma">forall_decls_declared_projection</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isdecl</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">typing_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">X1</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfc</span> <span class="id" title="var">wfind</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.WfAst.html#wf_mkApps_inv"><span class="id" title="lemma">WfAst.wf_mkApps_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfind</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#type_Proj"><span class="id" title="constructor">type_Proj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.Build_projection_body"><span class="id" title="constructor">Build_projection_body</span></a> <span class="id" title="var">arity</span> <span class="id" title="var">relevance</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">Σ'</span> <span class="id" title="var">ty'</span>))). <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X2</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">mdecl</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#refine_type"><span class="id" title="lemma">refine_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">Σ'</span>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">Σ'</span>)) <span class="id" title="var">mfix</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <span class="id" title="var">Σ'</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fix_context"><span class="id" title="definition">ST.fix_context</span></a> <span class="id" title="var">mfix</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a>, <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fix_context"><span class="id" title="definition">ST.fix_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#map_mapi"><span class="id" title="lemma">map_mapi</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#mapi_map"><span class="id" title="lemma">mapi_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fix_guard_trans"><span class="id" title="axiom">fix_guard_trans</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>, (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a> <span class="id" title="var">X1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">s</span> &amp; <span class="id" title="var">Hts</span> &amp; <span class="id" title="var">_</span>). <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">eexists</span>; <span class="id" title="var">tea</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a> <span class="id" title="var">X3</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> (<span class="id" title="var">Htb</span> &amp; <span class="id" title="var">s</span> &amp; <span class="id" title="var">Hts</span> &amp; <span class="id" title="var">_</span>). <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#on_def_body"><span class="id" title="definition">on_def_body</span></a>, <span class="id" title="var">types</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htb</span>, <span class="id" title="var">Hts</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">eexists</span>; <span class="id" title="var">tea</span>); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_wf_fixpoint"><span class="id" title="lemma">trans_wf_fixpoint</span></a> ⇒ //. <span class="id" title="tactic">clear</span> <span class="id" title="var">X1</span> <span class="id" title="var">X3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">s</span> &amp; <span class="id" title="var">Hs</span> &amp; <span class="id" title="var">_</span>), <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hs'</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">TypingWf.typing_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">TypingWf.typing_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span>; <span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#refine_type"><span class="id" title="lemma">refine_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">Σ'</span>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">Σ'</span>)) <span class="id" title="var">mfix</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <span class="id" title="var">Σ'</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fix_context"><span class="id" title="definition">ST.fix_context</span></a> <span class="id" title="var">mfix</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a>, <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fix_context"><span class="id" title="definition">ST.fix_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#map_mapi"><span class="id" title="lemma">map_mapi</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#mapi_map"><span class="id" title="lemma">mapi_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a> ⇒ <span class="id" title="var">i</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> /=. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cofix_guard_trans"><span class="id" title="axiom">cofix_guard_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>, (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a> <span class="id" title="var">X1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">s</span> &amp; <span class="id" title="var">Hts</span> &amp; <span class="id" title="var">_</span>). <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">eexists</span>; <span class="id" title="var">tea</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a> <span class="id" title="var">X3</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> (<span class="id" title="var">Htb</span> &amp; <span class="id" title="var">s</span> &amp; <span class="id" title="var">Hts</span> &amp; <span class="id" title="var">_</span>). <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#on_def_body"><span class="id" title="definition">on_def_body</span></a>, <span class="id" title="var">types</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htb</span>, <span class="id" title="var">Hts</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">eexists</span>; <span class="id" title="var">tea</span>); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_wf_cofixpoint"><span class="id" title="lemma">trans_wf_cofixpoint</span></a> ⇒ //. <span class="id" title="tactic">clear</span> <span class="id" title="var">X1</span> <span class="id" title="var">X3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">s</span> &amp; <span class="id" title="var">Hs</span> &amp; <span class="id" title="var">_</span>), <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hs'</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">TypingWf.typing_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">TypingWf.typing_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span>; <span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">replace</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConst"><span class="id" title="constructor">tConst</span></a> <span class="id" title="var">prim_ty</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#prim_type"><span class="id" title="definition">prim_type</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Primitive.html#primInt"><span class="id" title="constructor">primInt</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICPrimitive.html#primIntModel"><span class="id" title="constructor">primIntModel</span></a> <span class="id" title="var">p</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a> <span class="id" title="var">prim_ty</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="var">simp</span> <span class="id" title="var">prim_type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_env_retroknowledge"><span class="id" title="lemma">trans_env_retroknowledge</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_constant"><span class="id" title="lemma">forall_decls_declared_constant</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>: <span class="id" title="var">H1</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#Env.primitive_invariants"><span class="id" title="definition">Ast.Env.primitive_invariants</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_invariants"><span class="id" title="definition">primitive_invariants</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">split</span> ⇒ //;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cdecl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ty</span> [?|] ?]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">replace</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConst"><span class="id" title="constructor">tConst</span></a> <span class="id" title="var">prim_ty</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#prim_type"><span class="id" title="definition">prim_type</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Primitive.html#primFloat"><span class="id" title="constructor">primFloat</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICPrimitive.html#primFloatModel"><span class="id" title="constructor">primFloatModel</span></a> <span class="id" title="var">p</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a> <span class="id" title="var">prim_ty</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="var">simp</span> <span class="id" title="var">prim_type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_env_retroknowledge"><span class="id" title="lemma">trans_env_retroknowledge</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_constant"><span class="id" title="lemma">forall_decls_declared_constant</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>: <span class="id" title="var">H1</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#Env.primitive_invariants"><span class="id" title="definition">Ast.Env.primitive_invariants</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_invariants"><span class="id" title="definition">primitive_invariants</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">split</span> ⇒ //;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cdecl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ty</span> [?|] ?]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">replace</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConst"><span class="id" title="constructor">tConst</span></a> <span class="id" title="var">prim_ty</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#prim_type"><span class="id" title="definition">prim_type</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Primitive.html#primString"><span class="id" title="constructor">primString</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICPrimitive.html#primStringModel"><span class="id" title="constructor">primStringModel</span></a> <span class="id" title="var">p</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a> <span class="id" title="var">prim_ty</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="var">simp</span> <span class="id" title="var">prim_type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_env_retroknowledge"><span class="id" title="lemma">trans_env_retroknowledge</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_constant"><span class="id" title="lemma">forall_decls_declared_constant</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>: <span class="id" title="var">H1</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#Env.primitive_invariants"><span class="id" title="definition">Ast.Env.primitive_invariants</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_invariants"><span class="id" title="definition">primitive_invariants</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">split</span> ⇒ //;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cdecl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ty</span> [?|] ?]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">a</span> := {| <a class="idref" href="MetaRocq.PCUIC.utils.PCUICPrimitive.html#array_level"><span class="id" title="projection">array_level</span></a> := <span class="id" title="var">_</span> |}).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConst"><span class="id" title="constructor">tConst</span></a> <span class="id" title="var">prim_ty</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">u</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σ</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>) <span class="id" title="var">ty</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#prim_type"><span class="id" title="definition">prim_type</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Primitive.html#primArray"><span class="id" title="constructor">primArray</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICPrimitive.html#primArrayModel"><span class="id" title="constructor">primArrayModel</span></a> <span class="id" title="var">a</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a> <span class="id" title="var">prim_ty</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="var">simp</span> <span class="id" title="var">prim_type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_env_retroknowledge"><span class="id" title="lemma">trans_env_retroknowledge</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_constant"><span class="id" title="lemma">forall_decls_declared_constant</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>: <span class="id" title="var">H1</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#Env.primitive_invariants"><span class="id" title="definition">Ast.Env.primitive_invariants</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_invariants"><span class="id" title="definition">primitive_invariants</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">split</span> ⇒ //; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_constant"><span class="id" title="lemma">forall_decls_declared_constant</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_constant_body"><span class="id" title="definition">trans_constant_body</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span> /= <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_constant_body"><span class="id" title="definition">trans_constant_body</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span> /= <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.PCUIC.utils.PCUICPrimitive.html#array_level"><span class="id" title="projection">array_level</span></a> <span class="id" title="var">a</span>]. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICValidity.html#validity"><span class="id" title="lemma">validity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#isType_wf_universes"><span class="id" title="lemma">PCUICWfUniverses.isType_wf_universes</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>. <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_universes"><span class="id" title="definition">PCUICWfUniverses.wf_universes</span></a>] <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_universes"><span class="id" title="definition">PCUICWfUniverses.wf_universes</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>. <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#on_universes"><span class="id" title="definition">PCUICWfUniverses.on_universes</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Sort.on_sort"><span class="id" title="definition">Sort.on_sort</span></a> <span class="id" title="var">s</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">X1</span>. <span class="id" title="tactic">case</span>: <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_universe_reflect"><span class="id" title="lemma">PCUICWfUniverses.wf_universe_reflect</span></a> ⇒ //; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<span class="id" title="var">a</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICPrimitive.html#array_value"><span class="id" title="projection">array_value</span></a>]. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">typing_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X2</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#type_Cumul"><span class="id" title="constructor">type_Cumul</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cumulSpec_typed"><span class="id" title="lemma">trans_cumulSpec_typed</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#typing_all_wf_decl"><span class="id" title="lemma">typing_all_wf_decl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfΓ</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">typing_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">X1</span> <span class="id" title="var">X5</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICValidity.html#validity"><span class="id" title="lemma">validity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">X3</span> <span class="id" title="var">X5</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#has_sort_isType"><span class="id" title="definition">has_sort_isType</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Alli_map" class="idref" href="#Alli_map"><span class="id" title="lemma">Alli_map</span></a> {<a id="A:751" class="idref" href="#A:751"><span class="id" title="binder">A</span></a> <a id="B:752" class="idref" href="#B:752"><span class="id" title="binder">B</span></a>} (<a id="P:753" class="idref" href="#P:753"><span class="id" title="binder">P</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:752"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) <a id="n:754" class="idref" href="#n:754"><span class="id" title="binder">n</span></a> (<a id="f:755" class="idref" href="#f:755"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:751"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:752"><span class="id" title="variable">B</span></a>) <a id="l:756" class="idref" href="#l:756"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#Alli"><span class="id" title="inductive">Alli</span></a> (<span class="id" title="keyword">fun</span> <a id="n:757" class="idref" href="#n:757"><span class="id" title="binder">n</span></a> <a id="x:758" class="idref" href="#x:758"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:753"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:757"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:755"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:758"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:754"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:756"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#Alli"><span class="id" title="inductive">Alli</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:753"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:754"><span class="id" title="variable">n</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:755"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:756"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_arities_context" class="idref" href="#trans_arities_context"><span class="id" title="lemma">trans_arities_context</span></a> <a id="631c55b771ec7e6090acc528755d2be1" class="idref" href="#631c55b771ec7e6090acc528755d2be1"><span class="id" title="binder">Σ</span></a> <a id="m:760" class="idref" href="#m:760"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="b8409f362f516cd8b0801ae3b270f04c" class="idref" href="#b8409f362f516cd8b0801ae3b270f04c"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#631c55b771ec7e6090acc528755d2be1"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b8409f362f516cd8b0801ae3b270f04c"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.arities_context"><span class="id" title="definition">Ast.Env.arities_context</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">Ast.Env.ind_bodies</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#m:760"><span class="id" title="variable">m</span></a>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.arities_context"><span class="id" title="definition">arities_context</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b8409f362f516cd8b0801ae3b270f04c"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">Ast.Env.ind_bodies</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#m:760"><span class="id" title="variable">m</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> /<a class="idref" href="MetaRocq.Template.Ast.html#Env.arities_context"><span class="id" title="definition">Ast.Env.arities_context</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_map_spec"><span class="id" title="lemma">rev_map_spec</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.arities_context"><span class="id" title="definition">PCUICEnvironment.arities_context</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_map_spec"><span class="id" title="lemma">rev_map_spec</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a> /= //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_subst_telescope" class="idref" href="#trans_subst_telescope"><span class="id" title="lemma">trans_subst_telescope</span></a> <a id="397274e0db10da7412b1d7f466a3d3a0" class="idref" href="#397274e0db10da7412b1d7f466a3d3a0"><span class="id" title="binder">Σ</span></a> <a id="s:763" class="idref" href="#s:763"><span class="id" title="binder">s</span></a> <a id="k:764" class="idref" href="#k:764"><span class="id" title="binder">k</span></a> <a id="65303e2df88596cdcd3d9ea42dfa5a96" class="idref" href="#65303e2df88596cdcd3d9ea42dfa5a96"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="55ae9da57b8d419b11a035535fab61c6" class="idref" href="#55ae9da57b8d419b11a035535fab61c6"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#397274e0db10da7412b1d7f466a3d3a0"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#55ae9da57b8d419b11a035535fab61c6"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaRocq.Template.Ast.html#Env.subst_telescope"><span class="id" title="definition">Ast.Env.subst_telescope</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#s:763"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:764"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#65303e2df88596cdcd3d9ea42dfa5a96"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_telescope"><span class="id" title="definition">subst_telescope</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#55ae9da57b8d419b11a035535fab61c6"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#s:763"><span class="id" title="variable">s</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:764"><span class="id" title="variable">k</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#55ae9da57b8d419b11a035535fab61c6"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#65303e2df88596cdcd3d9ea42dfa5a96"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_telescope"><span class="id" title="definition">subst_telescope</span></a> /<a class="idref" href="MetaRocq.Template.Ast.html#Env.subst_telescope"><span class="id" title="definition">Ast.Env.subst_telescope</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#map_mapi"><span class="id" title="lemma">map_mapi</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#mapi_map"><span class="id" title="lemma">mapi_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a> ⇒ <span class="id" title="var">n</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] /=;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> /=; <span class="id" title="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICInstDef.html#"><span class="id" title="library">PCUICInstDef</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICInstConv.html#"><span class="id" title="library">PCUICInstConv</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ssr.ssrbool.html#"><span class="id" title="library">ssrbool</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closed_ind_predicate_context" class="idref" href="#closed_ind_predicate_context"><span class="id" title="lemma">closed_ind_predicate_context</span></a> {<a id="cf:767" class="idref" href="#cf:767"><span class="id" title="binder">cf</span></a>} {<a id="c5df83d520309f937cd78e71072510f1" class="idref" href="#c5df83d520309f937cd78e71072510f1"><span class="id" title="binder">Σ</span></a> <a id="ind:769" class="idref" href="#ind:769"><span class="id" title="binder">ind</span></a> <a id="mdecl:770" class="idref" href="#mdecl:770"><span class="id" title="binder">mdecl</span></a> <a id="idecl:771" class="idref" href="#idecl:771"><span class="id" title="binder">idecl</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c5df83d520309f937cd78e71072510f1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c5df83d520309f937cd78e71072510f1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:769"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:770"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:771"><span class="id" title="variable">idecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#closedn_ctx"><span class="id" title="abbreviation">closedn_ctx</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:770"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a>)) (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context"><span class="id" title="definition">ind_predicate_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:769"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:770"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:771"><span class="id" title="variable">idecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">decli</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closed_ind_predicate_context"><span class="id" title="lemma">PCUICClosed.closed_ind_predicate_context</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#declared_minductive_closed"><span class="id" title="lemma">PCUICClosedTyp.declared_minductive_closed</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">decli</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All2_All_map2" class="idref" href="#All2_All_map2"><span class="id" title="lemma">All2_All_map2</span></a> {<a id="A:772" class="idref" href="#A:772"><span class="id" title="binder">A</span></a> <a id="B:773" class="idref" href="#B:773"><span class="id" title="binder">B</span></a> <a id="C:774" class="idref" href="#C:774"><span class="id" title="binder">C</span></a>} {<a id="P:775" class="idref" href="#P:775"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:772"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>} (<a id="f:776" class="idref" href="#f:776"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:773"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:774"><span class="id" title="variable">C</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:772"><span class="id" title="variable">A</span></a>) <a id="l:777" class="idref" href="#l:777"><span class="id" title="binder">l</span></a> <a id="l':778" class="idref" href="#l':778"><span class="id" title="binder">l'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:779" class="idref" href="#x:779"><span class="id" title="binder">x</span></a> <a id="y:780" class="idref" href="#y:780"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:775"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:776"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:779"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:780"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:777"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':778"><span class="id" title="variable">l'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:775"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:776"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:777"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':778"><span class="id" title="variable">l'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_closedn" class="idref" href="#trans_closedn"><span class="id" title="lemma">trans_closedn</span></a> {<a id="cf:781" class="idref" href="#cf:781"><span class="id" title="binder">cf</span></a>} {<a id="47d7d674fb0aa4d7a6c416b4df5c1c78" class="idref" href="#47d7d674fb0aa4d7a6c416b4df5c1c78"><span class="id" title="binder">Σ</span></a> <a id="k:783" class="idref" href="#k:783"><span class="id" title="binder">k</span></a> <a id="t:784" class="idref" href="#t:784"><span class="id" title="binder">t</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#47d7d674fb0aa4d7a6c416b4df5c1c78"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#47d7d674fb0aa4d7a6c416b4df5c1c78"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#47d7d674fb0aa4d7a6c416b4df5c1c78"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:784"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Ast.html#closedn"><span class="id" title="definition">Ast.closedn</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:783"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:784"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:783"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#47d7d674fb0aa4d7a6c416b4df5c1c78"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:784"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="keyword">wf</span>. <span class="id" title="tactic">induction</span> <span class="id" title="keyword">wf</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Template.WfAst.html#term_wf_forall_list_ind"><span class="id" title="lemma">WfAst.term_wf_forall_list_ind</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">k</span> |- *; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;1-6:<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_mkApps"><span class="id" title="lemma">PCUICClosed.closedn_mkApps</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_inductive"><span class="id" title="lemma">trans_lookup_inductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_lookup"><span class="id" title="lemma">declared_inductive_lookup</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#test_predicate_k"><span class="id" title="definition">test_predicate_k</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Template.Ast.html#test_predicate"><span class="id" title="definition">Ast.test_predicate</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="var">X</span>). <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context_length"><span class="id" title="lemma">PCUICCases.ind_predicate_context_length</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">len</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICInstConv.html#closed_ctx_args"><span class="id" title="lemma">PCUICInstConv.closed_ctx_args</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context_length"><span class="id" title="lemma">PCUICCases.ind_predicate_context_length</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">len</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">relativize</span> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#closed_ind_predicate_context"><span class="id" title="lemma">closed_ind_predicate_context</span></a> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context_length"><span class="id" title="lemma">PCUICCases.ind_predicate_context_length</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#map2_length"><span class="id" title="lemma">map2_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context_length"><span class="id" title="lemma">PCUICCases.ind_predicate_context_length</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All2_All_map2"><span class="id" title="lemma">All2_All_map2</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All2_nth_hyp"><span class="id" title="lemma">All2_nth_hyp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c</span> [<span class="id" title="var">hnth</span> [[<span class="id" title="var">eqb</span> <span class="id" title="var">IHb</span>] <span class="id" title="var">hbr</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">hlen</span> := <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="var">eqb</span>). <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#test_branch_k"><span class="id" title="definition">test_branch_k</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Template.Ast.html#test_branch"><span class="id" title="definition">Ast.test_branch</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hbr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_branch"><span class="id" title="definition">trans_branch</span></a>. <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICInstConv.html#closed_ctx_args"><span class="id" title="lemma">PCUICInstConv.closed_ctx_args</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">relativize</span> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#closed_cstr_branch_context"><span class="id" title="lemma">PCUICClosedTyp.closed_cstr_branch_context</span></a> (<span class="id" title="var">Σ</span> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.empty_ext"><span class="id" title="definition">Ast.Env.empty_ext</span></a> <span class="id" title="var">Σ</span>)) (<span class="id" title="var">i</span>:=<span class="id" title="var">c</span>)); <span class="id" title="var">cbn</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#map2_length"><span class="id" title="lemma">map2_length</span></a>; <span class="id" title="var">len</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#"><span class="id" title="library">PCUICOnFreeVars</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_cumul_ctx_rel" class="idref" href="#trans_cumul_ctx_rel"><span class="id" title="lemma">trans_cumul_ctx_rel</span></a> {<a id="cf:785" class="idref" href="#cf:785"><span class="id" title="binder">cf</span></a>} {<a id="356a4093a9b4beb278e9745eb5793235" class="idref" href="#356a4093a9b4beb278e9745eb5793235"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>} <a id="7b3ce540774bb4224f6658ae0560190a" class="idref" href="#7b3ce540774bb4224f6658ae0560190a"><span class="id" title="binder">Γ</span></a> <a id="b535e2bfed5c7a3b7c5146d33db2b642" class="idref" href="#b535e2bfed5c7a3b7c5146d33db2b642"><span class="id" title="binder">Δ</span></a> <a id="d4467eab642156100161cb140c166ccb" class="idref" href="#d4467eab642156100161cb140c166ccb"><span class="id" title="binder">Δ'</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="bda965bfcc3d3389e9ded94e36e919b0" class="idref" href="#bda965bfcc3d3389e9ded94e36e919b0"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#356a4093a9b4beb278e9745eb5793235"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#356a4093a9b4beb278e9745eb5793235"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bda965bfcc3d3389e9ded94e36e919b0"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cumul_ctx_rel"><span class="id" title="definition">ST.TemplateConversion.cumul_ctx_rel</span></a> <a class="idref" href="MetaRocq.Template.Typing.html#cumul_gen"><span class="id" title="inductive">Typing.cumul_gen</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#356a4093a9b4beb278e9745eb5793235"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7b3ce540774bb4224f6658ae0560190a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b535e2bfed5c7a3b7c5146d33db2b642"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d4467eab642156100161cb140c166ccb"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#closed_ctx"><span class="id" title="abbreviation">closed_ctx</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bda965bfcc3d3389e9ded94e36e919b0"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7b3ce540774bb4224f6658ae0560190a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b535e2bfed5c7a3b7c5146d33db2b642"><span class="id" title="variable">Δ</span></a>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#closed_ctx"><span class="id" title="abbreviation">closed_ctx</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bda965bfcc3d3389e9ded94e36e919b0"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7b3ce540774bb4224f6658ae0560190a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d4467eab642156100161cb140c166ccb"><span class="id" title="variable">Δ'</span></a>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#356a4093a9b4beb278e9745eb5793235"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7b3ce540774bb4224f6658ae0560190a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b535e2bfed5c7a3b7c5146d33db2b642"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#356a4093a9b4beb278e9745eb5793235"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7b3ce540774bb4224f6658ae0560190a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d4467eab642156100161cb140c166ccb"><span class="id" title="variable">Δ'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#cumul_ctx_rel"><span class="id" title="definition">cumul_ctx_rel</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bda965bfcc3d3389e9ded94e36e919b0"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bda965bfcc3d3389e9ded94e36e919b0"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7b3ce540774bb4224f6658ae0560190a"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bda965bfcc3d3389e9ded94e36e919b0"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b535e2bfed5c7a3b7c5146d33db2b642"><span class="id" title="variable">Δ</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bda965bfcc3d3389e9ded94e36e919b0"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d4467eab642156100161cb140c166ccb"><span class="id" title="variable">Δ'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfΣ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv_on_free_vars</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHX</span> ⇒ //. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">X0</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> - !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H</span> ⇒ [] <span class="id" title="var">cl0</span> <span class="id" title="var">cl1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H0</span> ⇒ [] <span class="id" title="var">cl0'</span> <span class="id" title="var">cl1'</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cl1</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cl1'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">X0</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">X1</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">w</span> <span class="id" title="keyword">as</span> []; <span class="id" title="tactic">destruct</span> <span class="id" title="var">w0</span> <span class="id" title="keyword">as</span> [].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cumul_gen"><span class="id" title="lemma">trans_cumul_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqt</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#cumulAlgo_cumulSpec"><span class="id" title="lemma">PCUICConversion.cumulAlgo_cumulSpec</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">pb</span>:=<a class="idref" href="MetaRocq.Common.BasicAst.html#Cumul"><span class="id" title="constructor">Cumul</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#into_ws_cumul_pb"><span class="id" title="lemma">PCUICWellScopedCumulativity.into_ws_cumul_pb</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closed_ctx_on_free_vars"><span class="id" title="lemma">closed_ctx_on_free_vars</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cl0</span>.<br/>
&nbsp;&nbsp;1-2:<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cl1</span>, <span class="id" title="var">cl1'</span>.<br/>
&nbsp;&nbsp;1-2:<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_on_free_vars"><span class="id" title="lemma">closedn_on_free_vars</span></a> //; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_fold_length"><span class="id" title="lemma">All2_fold_length</span></a> <span class="id" title="var">X</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cumul_gen"><span class="id" title="lemma">trans_cumul_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqb</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#cumulAlgo_cumulSpec"><span class="id" title="lemma">PCUICConversion.cumulAlgo_cumulSpec</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">pb</span>:=<a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#into_ws_cumul_pb"><span class="id" title="lemma">PCUICWellScopedCumulativity.into_ws_cumul_pb</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closed_ctx_on_free_vars"><span class="id" title="lemma">closed_ctx_on_free_vars</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cl0</span>.<br/>
&nbsp;&nbsp;1-2:<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">cl1</span> ⇒ [] /= <span class="id" title="var">clb</span> <span class="id" title="var">cbt</span>.<br/>
&nbsp;&nbsp;1-2:<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">cl1'</span> ⇒ [] /= <span class="id" title="var">clb'</span> <span class="id" title="var">cbt'</span>.<br/>
&nbsp;&nbsp;1-2:<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_on_free_vars"><span class="id" title="lemma">closedn_on_free_vars</span></a> //; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_fold_length"><span class="id" title="lemma">All2_fold_length</span></a> <span class="id" title="var">X</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cumul_gen"><span class="id" title="lemma">trans_cumul_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqt</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#cumulAlgo_cumulSpec"><span class="id" title="lemma">PCUICConversion.cumulAlgo_cumulSpec</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">pb</span>:=<a class="idref" href="MetaRocq.Common.BasicAst.html#Cumul"><span class="id" title="constructor">Cumul</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#into_ws_cumul_pb"><span class="id" title="lemma">PCUICWellScopedCumulativity.into_ws_cumul_pb</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closed_ctx_on_free_vars"><span class="id" title="lemma">closed_ctx_on_free_vars</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cl0</span>.<br/>
&nbsp;&nbsp;1-2:<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">cl1</span> ⇒ [] /= <span class="id" title="var">clb</span> <span class="id" title="var">cbt</span>.<br/>
&nbsp;&nbsp;1-2:<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">cl1'</span> ⇒ [] /= <span class="id" title="var">clb'</span> <span class="id" title="var">cbt'</span>.<br/>
&nbsp;&nbsp;1-2:<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_on_free_vars"><span class="id" title="lemma">closedn_on_free_vars</span></a> //; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_fold_length"><span class="id" title="lemma">All2_fold_length</span></a> <span class="id" title="var">X</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_expand_lets" class="idref" href="#wf_expand_lets"><span class="id" title="lemma">wf_expand_lets</span></a> <a id="731eccd9ffdf1a56dd450a2b1f2d0a00" class="idref" href="#731eccd9ffdf1a56dd450a2b1f2d0a00"><span class="id" title="binder">Σ</span></a> <a id="1209fdac7954c59b397a09600be50307" class="idref" href="#1209fdac7954c59b397a09600be50307"><span class="id" title="binder">Γ</span></a> <a id="t:793" class="idref" href="#t:793"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#731eccd9ffdf1a56dd450a2b1f2d0a00"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#1209fdac7954c59b397a09600be50307"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#731eccd9ffdf1a56dd450a2b1f2d0a00"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:793"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#731eccd9ffdf1a56dd450a2b1f2d0a00"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.expand_lets"><span class="id" title="definition">Ast.Env.expand_lets</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#1209fdac7954c59b397a09600be50307"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:793"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#Env.expand_lets"><span class="id" title="definition">Ast.Env.expand_lets</span></a> /<a class="idref" href="MetaRocq.Template.Ast.html#Env.expand_lets_k"><span class="id" title="definition">Ast.Env.expand_lets_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.WfAst.html#wf_subst"><span class="id" title="lemma">WfAst.wf_subst</span></a>, <a class="idref" href="MetaRocq.Template.WfAst.html#wf_lift"><span class="id" title="lemma">WfAst.wf_lift</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_extended_subst"><span class="id" title="lemma">wf_extended_subst</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_expand_lets_ctx" class="idref" href="#wf_expand_lets_ctx"><span class="id" title="lemma">wf_expand_lets_ctx</span></a> <a id="c408950b1a8560362be095a76d85674f" class="idref" href="#c408950b1a8560362be095a76d85674f"><span class="id" title="binder">Σ</span></a> <a id="c1095406190ad92742a3f2368a7eaeb5" class="idref" href="#c1095406190ad92742a3f2368a7eaeb5"><span class="id" title="binder">Γ</span></a> <a id="ce3679a28c89194c92da41a07d14b13e" class="idref" href="#ce3679a28c89194c92da41a07d14b13e"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c408950b1a8560362be095a76d85674f"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c1095406190ad92742a3f2368a7eaeb5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c408950b1a8560362be095a76d85674f"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ce3679a28c89194c92da41a07d14b13e"><span class="id" title="variable">Δ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c408950b1a8560362be095a76d85674f"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaRocq.Template.Ast.html#Env.expand_lets_ctx"><span class="id" title="definition">Ast.Env.expand_lets_ctx</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c1095406190ad92742a3f2368a7eaeb5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ce3679a28c89194c92da41a07d14b13e"><span class="id" title="variable">Δ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#Env.expand_lets_ctx"><span class="id" title="definition">Ast.Env.expand_lets_ctx</span></a> /<a class="idref" href="MetaRocq.Template.Ast.html#Env.expand_lets_k_ctx"><span class="id" title="definition">Ast.Env.expand_lets_k_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_subst_context"><span class="id" title="lemma">wf_subst_context</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_lift_context"><span class="id" title="lemma">wf_lift_context</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_extended_subst"><span class="id" title="lemma">wf_extended_subst</span></a> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_ind_arities" class="idref" href="#wf_ind_arities"><span class="id" title="lemma">wf_ind_arities</span></a> <a id="21ff0488e116f7177a73adba4ef59ecc" class="idref" href="#21ff0488e116f7177a73adba4ef59ecc"><span class="id" title="binder">Σ</span></a> <a id="mdecl:798" class="idref" href="#mdecl:798"><span class="id" title="binder">mdecl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.Template.TypingWf.html#wf_inductive_body"><span class="id" title="record">wf_inductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#21ff0488e116f7177a73adba4ef59ecc"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">Ast.Env.ind_bodies</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:798"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#21ff0488e116f7177a73adba4ef59ecc"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaRocq.Template.Typing.html#ind_arities"><span class="id" title="definition">Typing.ind_arities</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:798"><span class="id" title="variable">mdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Typing.html#ind_arities"><span class="id" title="definition">Typing.ind_arities</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Template.Ast.html#Env.arities_context"><span class="id" title="definition">Ast.Env.arities_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_map_spec"><span class="id" title="lemma">rev_map_spec</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_rev"><span class="id" title="lemma">All_rev</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All2_refl_inv" class="idref" href="#All2_refl_inv"><span class="id" title="lemma">All2_refl_inv</span></a> {<a id="A:799" class="idref" href="#A:799"><span class="id" title="binder">A</span></a>} {<a id="P:800" class="idref" href="#P:800"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:799"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:799"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>} <a id="l:801" class="idref" href="#l:801"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:800"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:801"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:801"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:802" class="idref" href="#x:802"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:800"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:802"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:802"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:801"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="var">depind</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All_All2_refl" class="idref" href="#All_All2_refl"><span class="id" title="lemma">All_All2_refl</span></a> {<a id="A:803" class="idref" href="#A:803"><span class="id" title="binder">A</span></a>} {<a id="P:804" class="idref" href="#P:804"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:803"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:803"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>} <a id="l:805" class="idref" href="#l:805"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:806" class="idref" href="#x:806"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:804"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:806"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:806"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:805"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:804"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:805"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:805"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="var">depind</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_ind_arities" class="idref" href="#trans_ind_arities"><span class="id" title="lemma">trans_ind_arities</span></a> {<a id="cf:807" class="idref" href="#cf:807"><span class="id" title="binder">cf</span></a>} <a id="b812137487fe7d456953f274ab21fe21" class="idref" href="#b812137487fe7d456953f274ab21fe21"><span class="id" title="binder">Σ</span></a> <a id="mdecl:809" class="idref" href="#mdecl:809"><span class="id" title="binder">mdecl</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="4d35465b8b2bec774b8fb684714f9da1" class="idref" href="#4d35465b8b2bec774b8fb684714f9da1"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b812137487fe7d456953f274ab21fe21"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':811" class="idref" href="#mdecl':811"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4d35465b8b2bec774b8fb684714f9da1"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:809"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#ind_arities"><span class="id" title="definition">ind_arities</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':811"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4d35465b8b2bec774b8fb684714f9da1"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_arities"><span class="id" title="definition">ST.ind_arities</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:809"><span class="id" title="variable">mdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#ind_arities"><span class="id" title="definition">ind_arities</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_arities_context"><span class="id" title="lemma">trans_arities_context</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_cstr_respects_variance" class="idref" href="#trans_cstr_respects_variance"><span class="id" title="lemma">trans_cstr_respects_variance</span></a> {<a id="cf:812" class="idref" href="#cf:812"><span class="id" title="binder">cf</span></a>} <a id="97d92384705576d03bfb30f953167a0d" class="idref" href="#97d92384705576d03bfb30f953167a0d"><span class="id" title="binder">Σ</span></a> <a id="mdecl:814" class="idref" href="#mdecl:814"><span class="id" title="binder">mdecl</span></a> <a id="v:815" class="idref" href="#v:815"><span class="id" title="binder">v</span></a> <a id="cdecl:816" class="idref" href="#cdecl:816"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ae5557cb45d5e779b3e5155f7044db08" class="idref" href="#ae5557cb45d5e779b3e5155f7044db08"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#97d92384705576d03bfb30f953167a0d"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':818" class="idref" href="#mdecl':818"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ae5557cb45d5e779b3e5155f7044db08"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:814"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cdecl':819" class="idref" href="#cdecl':819"><span class="id" title="binder">cdecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ae5557cb45d5e779b3e5155f7044db08"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:816"><span class="id" title="variable">cdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#97d92384705576d03bfb30f953167a0d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ae5557cb45d5e779b3e5155f7044db08"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.Template.TypingWf.html#wf_inductive_body"><span class="id" title="record">wf_inductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#97d92384705576d03bfb30f953167a0d"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">Ast.Env.ind_bodies</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:814"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#97d92384705576d03bfb30f953167a0d"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:814"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#97d92384705576d03bfb30f953167a0d"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaRocq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:816"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#97d92384705576d03bfb30f953167a0d"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaRocq.Template.Ast.html#Env.cstr_indices"><span class="id" title="projection">Ast.Env.cstr_indices</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:816"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#closed_ctx"><span class="id" title="abbreviation">closed_ctx</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#97d92384705576d03bfb30f953167a0d"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_arities"><span class="id" title="definition">ST.ind_arities</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:814"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.smash_context"><span class="id" title="definition">Ast.Env.smash_context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:814"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Template.Ast.html#Env.expand_lets_ctx"><span class="id" title="definition">Ast.Env.expand_lets_ctx</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:814"><span class="id" title="variable">mdecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Template.Ast.html#Env.smash_context"><span class="id" title="definition">Ast.Env.smash_context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:816"><span class="id" title="variable">cdecl</span></a>))<a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">)</span></a>))<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:820" class="idref" href="#x:820"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:816"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:814"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_arities"><span class="id" title="definition">ST.ind_arities</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:814"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ae5557cb45d5e779b3e5155f7044db08"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.expand_lets"><span class="id" title="definition">Ast.Env.expand_lets</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:814"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:816"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:820"><span class="id" title="variable">x</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Template.Ast.html#Env.cstr_indices"><span class="id" title="projection">Ast.Env.cstr_indices</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:816"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cstr_respects_variance"><span class="id" title="definition">ST.cstr_respects_variance</span></a> <a class="idref" href="MetaRocq.Template.Typing.html#cumul_gen"><span class="id" title="inductive">Typing.cumul_gen</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#97d92384705576d03bfb30f953167a0d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:814"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#v:815"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:816"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#cstr_respects_variance"><span class="id" title="definition">cstr_respects_variance</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ae5557cb45d5e779b3e5155f7044db08"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':818"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#v:815"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl':819"><span class="id" title="variable">cdecl'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">mdecl'</span> <span class="id" title="var">cdecl'</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">wfb</span> <span class="id" title="var">wfp</span> <span class="id" title="var">wfa</span> <span class="id" title="var">wfi</span> <span class="id" title="var">clctx</span> <span class="id" title="var">clidx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cstr_respects_variance"><span class="id" title="definition">ST.cstr_respects_variance</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#cstr_respects_variance"><span class="id" title="definition">cstr_respects_variance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#variance_universes"><span class="id" title="definition">variance_universes</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <span class="id" title="var">mdecl'</span>) <span class="id" title="var">v</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#variance_universes"><span class="id" title="definition">ST.variance_universes</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">mdecl</span>) <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#variance_universes"><span class="id" title="definition">variance_universes</span></a> <span class="id" title="keyword">as</span> [[[<span class="id" title="var">udecl</span> <span class="id" title="var">inst</span>] <span class="id" title="var">inst'</span>]|] ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cumul_ctx_rel"><span class="id" title="lemma">trans_cumul_ctx_rel</span></a> (<span class="id" title="var">Σ</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">udecl</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_subst_instance"><span class="id" title="lemma">trans_local_subst_instance</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">udecl</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>) <span class="id" title="keyword">with</span> <span class="id" title="var">Σ'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_arities_context"><span class="id" title="lemma">trans_arities_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> /= !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_subst_instance"><span class="id" title="lemma">trans_local_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_app_ctx"><span class="id" title="lemma">PCUICUnivSubstitutionConv.subst_instance_app_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance_context"><span class="id" title="lemma">PCUICClosed.closedn_subst_instance_context</span></a> -<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> /= !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_subst_instance"><span class="id" title="lemma">trans_local_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_ctx_app"><span class="id" title="lemma">PCUICClosed.closedn_ctx_app</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance_context"><span class="id" title="lemma">PCUICClosed.closedn_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_instance_length"><span class="id" title="lemma">subst_instance_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_ctx_app"><span class="id" title="lemma">PCUICClosed.closedn_ctx_app</span></a> -<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_subst_instance_context"><span class="id" title="lemma">wf_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_expand_lets_ctx"><span class="id" title="lemma">wf_expand_lets_ctx</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_smash_context"><span class="id" title="lemma">wf_smash_context</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_subst_instance_context"><span class="id" title="lemma">wf_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_smash_context"><span class="id" title="lemma">wf_smash_context</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_ind_arities"><span class="id" title="lemma">wf_ind_arities</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_subst_instance_context"><span class="id" title="lemma">wf_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_expand_lets_ctx"><span class="id" title="lemma">wf_expand_lets_ctx</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_smash_context"><span class="id" title="lemma">wf_smash_context</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_subst_instance_context"><span class="id" title="lemma">wf_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_smash_context"><span class="id" title="lemma">wf_smash_context</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_ind_arities"><span class="id" title="lemma">wf_ind_arities</span></a>. }<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">clear</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_map_inv"><span class="id" title="lemma">All2_map_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All2_refl_inv"><span class="id" title="lemma">All2_refl_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All_All2_refl"><span class="id" title="lemma">All_All2_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cumul_gen"><span class="id" title="lemma">trans_cumul_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b0</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">move</span>:<span class="id" title="var">b0</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_subst_instance"><span class="id" title="lemma">trans_local_subst_instance</span></a> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_arities_context"><span class="id" title="lemma">trans_arities_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets"><span class="id" title="lemma">trans_expand_lets</span></a> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#cumulAlgo_cumulSpec"><span class="id" title="lemma">PCUICConversion.cumulAlgo_cumulSpec</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">pb</span>:=<a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#into_ws_cumul_pb"><span class="id" title="lemma">PCUICWellScopedCumulativity.into_ws_cumul_pb</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">move</span>: <span class="id" title="var">clctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContexts.html#smash_context_app_expand"><span class="id" title="lemma">smash_context_app_expand</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -!(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_ind_arities"><span class="id" title="lemma">trans_ind_arities</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -!<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/(<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closed_ctx_on_free_vars"><span class="id" title="lemma">closed_ctx_on_free_vars</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_subst_instance"><span class="id" title="lemma">on_free_vars_ctx_subst_instance</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_on_free_vars"><span class="id" title="lemma">closedn_on_free_vars</span></a>. <span class="id" title="var">len</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_arities"><span class="id" title="definition">ST.ind_arities</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets"><span class="id" title="lemma">trans_expand_lets</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance"><span class="id" title="lemma">PCUICClosed.closedn_subst_instance</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_on_free_vars"><span class="id" title="lemma">closedn_on_free_vars</span></a>. <span class="id" title="var">len</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_arities"><span class="id" title="definition">ST.ind_arities</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets"><span class="id" title="lemma">trans_expand_lets</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance"><span class="id" title="lemma">PCUICClosed.closedn_subst_instance</span></a> //. } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_subst_instance_context"><span class="id" title="lemma">wf_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a> ⇒ //; [|<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_ind_arities"><span class="id" title="lemma">wf_ind_arities</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_smash_context"><span class="id" title="lemma">wf_smash_context</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a> ⇒ //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.WfAst.html#wf_subst_instance"><span class="id" title="lemma">WfAst.wf_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_expand_lets"><span class="id" title="lemma">wf_expand_lets</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a> ⇒ //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.WfAst.html#wf_subst_instance"><span class="id" title="lemma">WfAst.wf_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_expand_lets"><span class="id" title="lemma">wf_expand_lets</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a> ⇒ //. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#"><span class="id" title="library">PCUICClosed</span></a> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#"><span class="id" title="library">PCUICClosedTyp</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_ind_respects_variance" class="idref" href="#trans_ind_respects_variance"><span class="id" title="lemma">trans_ind_respects_variance</span></a> {<a id="cf:821" class="idref" href="#cf:821"><span class="id" title="binder">cf</span></a>} <a id="72a4fd6c669c053b07bed00a0283a911" class="idref" href="#72a4fd6c669c053b07bed00a0283a911"><span class="id" title="binder">Σ</span></a> <a id="mdecl:823" class="idref" href="#mdecl:823"><span class="id" title="binder">mdecl</span></a> <a id="v:824" class="idref" href="#v:824"><span class="id" title="binder">v</span></a> <a id="idecl:825" class="idref" href="#idecl:825"><span class="id" title="binder">idecl</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="a54fd5b8f9d471543ee8cd33ed1c5062" class="idref" href="#a54fd5b8f9d471543ee8cd33ed1c5062"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#72a4fd6c669c053b07bed00a0283a911"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':827" class="idref" href="#mdecl':827"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a54fd5b8f9d471543ee8cd33ed1c5062"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:823"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="idecl':828" class="idref" href="#idecl':828"><span class="id" title="binder">idecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a54fd5b8f9d471543ee8cd33ed1c5062"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:825"><span class="id" title="variable">idecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#72a4fd6c669c053b07bed00a0283a911"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a54fd5b8f9d471543ee8cd33ed1c5062"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.TypingWf.html#wf_inductive_body"><span class="id" title="record">wf_inductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#72a4fd6c669c053b07bed00a0283a911"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:825"><span class="id" title="variable">idecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#72a4fd6c669c053b07bed00a0283a911"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:823"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#closed_ctx"><span class="id" title="abbreviation">closed_ctx</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#72a4fd6c669c053b07bed00a0283a911"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:823"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_indices"><span class="id" title="projection">Ast.Env.ind_indices</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:825"><span class="id" title="variable">idecl</span></a>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_respects_variance"><span class="id" title="definition">ST.ind_respects_variance</span></a> <a class="idref" href="MetaRocq.Template.Typing.html#cumul_gen"><span class="id" title="inductive">Typing.cumul_gen</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#72a4fd6c669c053b07bed00a0283a911"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:823"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#v:824"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_indices"><span class="id" title="projection">Ast.Env.ind_indices</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:825"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#ind_respects_variance"><span class="id" title="definition">ind_respects_variance</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a54fd5b8f9d471543ee8cd33ed1c5062"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':827"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#v:824"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':828"><span class="id" title="variable">idecl'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">mdecl'</span> <span class="id" title="var">idecl'</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">wfb</span> <span class="id" title="var">wfp</span> <span class="id" title="var">clctx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_respects_variance"><span class="id" title="definition">ST.ind_respects_variance</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#ind_respects_variance"><span class="id" title="definition">ind_respects_variance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#variance_universes"><span class="id" title="definition">variance_universes</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <span class="id" title="var">mdecl'</span>) <span class="id" title="var">v</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#variance_universes"><span class="id" title="definition">ST.variance_universes</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">mdecl</span>) <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#variance_universes"><span class="id" title="definition">variance_universes</span></a> <span class="id" title="keyword">as</span> [[[<span class="id" title="var">udecl</span> <span class="id" title="var">inst</span>] <span class="id" title="var">inst'</span>]|] ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cumul_ctx_rel"><span class="id" title="lemma">trans_cumul_ctx_rel</span></a> (<span class="id" title="var">Σ</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">udecl</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_subst_instance"><span class="id" title="lemma">trans_local_subst_instance</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span> ⇒ //. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_subst_instance"><span class="id" title="lemma">trans_local_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_app_ctx"><span class="id" title="lemma">PCUICUnivSubstitutionConv.subst_instance_app_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance_context"><span class="id" title="lemma">closedn_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> -<a class="idref" href="MetaRocq.PCUIC.PCUICContexts.html#smash_context_app_expand"><span class="id" title="lemma">smash_context_app_expand</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_smash_context"><span class="id" title="lemma">closedn_smash_context</span></a>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> //. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_subst_instance"><span class="id" title="lemma">trans_local_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_ctx_app"><span class="id" title="lemma">closedn_ctx_app</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_instance_length"><span class="id" title="lemma">subst_instance_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance_context"><span class="id" title="lemma">PCUICClosed.closedn_subst_instance_context</span></a> -<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_ctx_app"><span class="id" title="lemma">closedn_ctx_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> -<a class="idref" href="MetaRocq.PCUIC.PCUICContexts.html#smash_context_app_expand"><span class="id" title="lemma">smash_context_app_expand</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_smash_context"><span class="id" title="lemma">PCUICClosed.closedn_smash_context</span></a>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> //. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_subst_instance_context"><span class="id" title="lemma">wf_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_expand_lets_ctx"><span class="id" title="lemma">wf_expand_lets_ctx</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_smash_context"><span class="id" title="lemma">wf_smash_context</span></a> ⇒ //. <span class="id" title="tactic">apply</span> <span class="id" title="var">wfb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_subst_instance_context"><span class="id" title="lemma">wf_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_smash_context"><span class="id" title="lemma">wf_smash_context</span></a> ⇒ //. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_subst_instance_context"><span class="id" title="lemma">wf_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_expand_lets_ctx"><span class="id" title="lemma">wf_expand_lets_ctx</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_smash_context"><span class="id" title="lemma">wf_smash_context</span></a> ⇒ //. <span class="id" title="tactic">apply</span> <span class="id" title="var">wfb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_subst_instance_context"><span class="id" title="lemma">wf_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#wf_smash_context"><span class="id" title="lemma">wf_smash_context</span></a> ⇒ //. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_type_local_ctx" class="idref" href="#trans_type_local_ctx"><span class="id" title="lemma">trans_type_local_ctx</span></a> {<a id="cf:829" class="idref" href="#cf:829"><span class="id" title="binder">cf</span></a>} {<a id="dd3f5d884915f8467d644ce8fc03bbc0" class="idref" href="#dd3f5d884915f8467d644ce8fc03bbc0"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>} <a id="9656f38914c836417351928487bc82d4" class="idref" href="#9656f38914c836417351928487bc82d4"><span class="id" title="binder">Γ</span></a> <a id="cs:832" class="idref" href="#cs:832"><span class="id" title="binder">cs</span></a> <a id="s:833" class="idref" href="#s:833"><span class="id" title="binder">s</span></a> (<a id="81046c6c894713dd8b21a3db218ba9b8" class="idref" href="#81046c6c894713dd8b21a3db218ba9b8"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#dd3f5d884915f8467d644ce8fc03bbc0"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="566df37ddaafc39304c4a3851786c59a" class="idref" href="#566df37ddaafc39304c4a3851786c59a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>) (<a id="f13148782340a171612b0df95ba37d76" class="idref" href="#f13148782340a171612b0df95ba37d76"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.context"><span class="id" title="definition">Ast.Env.context</span></a>) <a id="j:837" class="idref" href="#j:837"><span class="id" title="binder">j</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#566df37ddaafc39304c4a3851786c59a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#lift_typing"><span class="id" title="abbreviation">Typing.lift_typing</span></a> <a class="idref" href="MetaRocq.Template.Typing.html#typing"><span class="id" title="inductive">Typing.typing</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#566df37ddaafc39304c4a3851786c59a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f13148782340a171612b0df95ba37d76"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#j:837"><span class="id" title="variable">j</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#566df37ddaafc39304c4a3851786c59a"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#566df37ddaafc39304c4a3851786c59a"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#566df37ddaafc39304c4a3851786c59a"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f13148782340a171612b0df95ba37d76"><span class="id" title="variable">Γ</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.BasicAst.html#judgment_map"><span class="id" title="definition">judgment_map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#566df37ddaafc39304c4a3851786c59a"><span class="id" title="variable">Σ</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#j:837"><span class="id" title="variable">j</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#dd3f5d884915f8467d644ce8fc03bbc0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#81046c6c894713dd8b21a3db218ba9b8"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#type_local_ctx"><span class="id" title="definition">ST.type_local_ctx</span></a> (<a class="idref" href="MetaRocq.Template.Typing.html#TemplateEnvTyping.lift_typing"><span class="id" title="abbreviation">Typing.TemplateEnvTyping.lift_typing</span></a> <a class="idref" href="MetaRocq.Template.Typing.html#typing"><span class="id" title="inductive">Typing.typing</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#dd3f5d884915f8467d644ce8fc03bbc0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#9656f38914c836417351928487bc82d4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cs:832"><span class="id" title="variable">cs</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#s:833"><span class="id" title="variable">s</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#type_local_ctx"><span class="id" title="definition">type_local_ctx</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvTyping.lift_typing"><span class="id" title="abbreviation">PCUICEnvTyping.lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#dd3f5d884915f8467d644ce8fc03bbc0"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#81046c6c894713dd8b21a3db218ba9b8"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#9656f38914c836417351928487bc82d4"><span class="id" title="variable">Γ</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#81046c6c894713dd8b21a3db218ba9b8"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cs:832"><span class="id" title="variable">cs</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#s:833"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">IH</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfΣ'</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">cs</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_wf_sort"><span class="id" title="lemma">trans_wf_sort</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] ⇒ //;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [? ?]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<span class="id" title="var">IH</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#TermTyp"><span class="id" title="abbreviation">TermTyp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<span class="id" title="var">IH</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#TypUniv"><span class="id" title="abbreviation">TypUniv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">l</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_check_ind_sorts" class="idref" href="#trans_check_ind_sorts"><span class="id" title="lemma">trans_check_ind_sorts</span></a> {<a id="cf:838" class="idref" href="#cf:838"><span class="id" title="binder">cf</span></a>} <a id="b429d9e9f1c18f6c90d41f9c2b77ea4d" class="idref" href="#b429d9e9f1c18f6c90d41f9c2b77ea4d"><span class="id" title="binder">Σ</span></a> <a id="udecl:840" class="idref" href="#udecl:840"><span class="id" title="binder">udecl</span></a> <a id="kn:841" class="idref" href="#kn:841"><span class="id" title="binder">kn</span></a> <a id="mdecl:842" class="idref" href="#mdecl:842"><span class="id" title="binder">mdecl</span></a> <a id="n:843" class="idref" href="#n:843"><span class="id" title="binder">n</span></a> <a id="idecl:844" class="idref" href="#idecl:844"><span class="id" title="binder">idecl</span></a><br/>
&nbsp;&nbsp;(<a id="7093ff3c3d23287b1398d12c31b4e42c" class="idref" href="#7093ff3c3d23287b1398d12c31b4e42c"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b429d9e9f1c18f6c90d41f9c2b77ea4d"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;(<a id="mdecl':846" class="idref" href="#mdecl':846"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7093ff3c3d23287b1398d12c31b4e42c"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:842"><span class="id" title="variable">mdecl</span></a>)<br/>
&nbsp;&nbsp;(<a id="idecl':847" class="idref" href="#idecl':847"><span class="id" title="binder">idecl'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7093ff3c3d23287b1398d12c31b4e42c"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:844"><span class="id" title="variable">idecl</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b429d9e9f1c18f6c90d41f9c2b77ea4d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7093ff3c3d23287b1398d12c31b4e42c"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="757133aa5ac7bc8c37ec332b56f644d1" class="idref" href="#757133aa5ac7bc8c37ec332b56f644d1"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="c67486b49c7e386402e0b003c76c9f68" class="idref" href="#c67486b49c7e386402e0b003c76c9f68"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.context"><span class="id" title="definition">Ast.Env.context</span></a>) <a id="j:850" class="idref" href="#j:850"><span class="id" title="binder">j</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#757133aa5ac7bc8c37ec332b56f644d1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#lift_typing"><span class="id" title="abbreviation">Typing.lift_typing</span></a> <a class="idref" href="MetaRocq.Template.Typing.html#typing"><span class="id" title="inductive">Typing.typing</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#757133aa5ac7bc8c37ec332b56f644d1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c67486b49c7e386402e0b003c76c9f68"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#j:850"><span class="id" title="variable">j</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#757133aa5ac7bc8c37ec332b56f644d1"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#757133aa5ac7bc8c37ec332b56f644d1"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#757133aa5ac7bc8c37ec332b56f644d1"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c67486b49c7e386402e0b003c76c9f68"><span class="id" title="variable">Γ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.BasicAst.html#judgment_map"><span class="id" title="definition">judgment_map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#757133aa5ac7bc8c37ec332b56f644d1"><span class="id" title="variable">Σ</span></a>)) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#j:850"><span class="id" title="variable">j</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="oni:851" class="idref" href="#oni:851"><span class="id" title="binder">oni</span></a>: <a class="idref" href="MetaRocq.Template.Typing.html#on_ind_body"><span class="id" title="record">Typing.on_ind_body</span></a> <a class="idref" href="MetaRocq.Template.Typing.html#cumul_gen"><span class="id" title="inductive">Typing.cumul_gen</span></a> (<a class="idref" href="MetaRocq.Template.Typing.html#TemplateEnvTyping.lift_typing"><span class="id" title="abbreviation">Typing.TemplateEnvTyping.lift_typing</span></a> <a class="idref" href="MetaRocq.Template.Typing.html#typing"><span class="id" title="inductive">Typing.typing</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b429d9e9f1c18f6c90d41f9c2b77ea4d"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#udecl:840"><span class="id" title="variable">udecl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#kn:841"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:842"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:843"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:844"><span class="id" title="variable">idecl</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#check_ind_sorts"><span class="id" title="definition">ST.check_ind_sorts</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Template.Typing.html#TemplateEnvTyping.lift_typing"><span class="id" title="abbreviation">Typing.TemplateEnvTyping.lift_typing</span></a> <a class="idref" href="MetaRocq.Template.Typing.html#typing"><span class="id" title="inductive">Typing.typing</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b429d9e9f1c18f6c90d41f9c2b77ea4d"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:842"><span class="id" title="variable">mdecl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:842"><span class="id" title="variable">mdecl</span></a>) (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_kelim"><span class="id" title="projection">Ast.Env.ind_kelim</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:844"><span class="id" title="variable">idecl</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_indices"><span class="id" title="projection">Ast.Env.ind_indices</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:844"><span class="id" title="variable">idecl</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_cunivs"><span class="id" title="projection">ST.ind_cunivs</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#oni:851"><span class="id" title="variable">oni</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_sort"><span class="id" title="projection">Ast.Env.ind_sort</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:844"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#check_ind_sorts"><span class="id" title="definition">check_ind_sorts</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvTyping.lift_typing"><span class="id" title="abbreviation">PCUICEnvTyping.lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b429d9e9f1c18f6c90d41f9c2b77ea4d"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:842"><span class="id" title="variable">mdecl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#global_env_ext_map"><span class="id" title="definition">global_env_ext_map</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':846"><span class="id" title="variable">mdecl'</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_kelim"><span class="id" title="projection">ind_kelim</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':847"><span class="id" title="variable">idecl'</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':847"><span class="id" title="variable">idecl'</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_cunivs"><span class="id" title="projection">ST.ind_cunivs</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#oni:851"><span class="id" title="variable">oni</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_sort"><span class="id" title="projection">ind_sort</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':847"><span class="id" title="variable">idecl'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">IH</span> <span class="id" title="var">oni</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#check_ind_sorts"><span class="id" title="definition">ST.check_ind_sorts</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#check_ind_sorts"><span class="id" title="definition">check_ind_sorts</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.Universes.html#Sort.to_family"><span class="id" title="definition">Sort.to_family</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#global_ext_constraints_trans"><span class="id" title="lemma">global_ext_constraints_trans</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.config.html#indices_matter"><span class="id" title="method">indices_matter</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_type_local_ctx"><span class="id" title="lemma">trans_type_local_ctx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_global_decl_wf" class="idref" href="#on_global_decl_wf"><span class="id" title="lemma">on_global_decl_wf</span></a> {<a id="cf:852" class="idref" href="#cf:852"><span class="id" title="binder">cf</span></a>} {<a id="ad0e0d76ffcec7e69528fa19457e6325" class="idref" href="#ad0e0d76ffcec7e69528fa19457e6325"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>} {<a id="kn:854" class="idref" href="#kn:854"><span class="id" title="binder">kn</span></a> <a id="d:855" class="idref" href="#d:855"><span class="id" title="binder">d</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ad0e0d76ffcec7e69528fa19457e6325"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#on_global_decl"><span class="id" title="definition">Typing.on_global_decl</span></a> <a class="idref" href="MetaRocq.Template.Typing.html#cumul_gen"><span class="id" title="inductive">Typing.cumul_gen</span></a> (<a class="idref" href="MetaRocq.Template.Typing.html#TemplateEnvTyping.lift_typing"><span class="id" title="abbreviation">Typing.TemplateEnvTyping.lift_typing</span></a> <a class="idref" href="MetaRocq.Template.Typing.html#typing"><span class="id" title="inductive">Typing.typing</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ad0e0d76ffcec7e69528fa19457e6325"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#kn:854"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:855"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#on_global_decl"><span class="id" title="definition">Typing.on_global_decl</span></a> <a class="idref" href="MetaRocq.Template.Typing.html#cumul_gen"><span class="id" title="inductive">Typing.cumul_gen</span></a> (<span class="id" title="keyword">fun</span> <a id="6c6f656e83a5f47ee4ddce274d9e3194" class="idref" href="#6c6f656e83a5f47ee4ddce274d9e3194"><span class="id" title="binder">Σ</span></a> ⇒ <a class="idref" href="MetaRocq.Template.WfAst.html#wf_decl_pred"><span class="id" title="definition">WfAst.wf_decl_pred</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6c6f656e83a5f47ee4ddce274d9e3194"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ad0e0d76ffcec7e69528fa19457e6325"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#kn:854"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:855"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#on_global_decl_impl"><span class="id" title="lemma">TypingWf.on_global_decl_impl</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#lift_typing_wf_pred"><span class="id" title="lemma">lift_typing_wf_pred</span></a>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.Typing.html#lift_typing_impl"><span class="id" title="lemma">Typing.lift_typing_impl</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">X2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">typing_wf</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Alli_All_mix" class="idref" href="#Alli_All_mix"><span class="id" title="lemma">Alli_All_mix</span></a> {<a id="A:857" class="idref" href="#A:857"><span class="id" title="binder">A</span></a>} {<a id="P:858" class="idref" href="#P:858"><span class="id" title="binder">P</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:857"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>} {<a id="Q:859" class="idref" href="#Q:859"><span class="id" title="binder">Q</span></a>} {<a id="n:860" class="idref" href="#n:860"><span class="id" title="binder">n</span></a> <a id="l:861" class="idref" href="#l:861"><span class="id" title="binder">l</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#Alli"><span class="id" title="inductive">Alli</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:858"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:860"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:861"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Q:859"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:861"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Alli"><span class="id" title="inductive">Alli</span></a> (<span class="id" title="keyword">fun</span> <a id="n:862" class="idref" href="#n:862"><span class="id" title="binder">n</span></a> <a id="x:863" class="idref" href="#x:863"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:858"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:862"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:863"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Q:859"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:863"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:860"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:861"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_projs" class="idref" href="#trans_projs"><span class="id" title="lemma">trans_projs</span></a> <a id="d10d79a10e846559d8eaeadecf0403ae" class="idref" href="#d10d79a10e846559d8eaeadecf0403ae"><span class="id" title="binder">Σ</span></a> <a id="kn:865" class="idref" href="#kn:865"><span class="id" title="binder">kn</span></a> <a id="n:866" class="idref" href="#n:866"><span class="id" title="binder">n</span></a> <a id="i:867" class="idref" href="#i:867"><span class="id" title="binder">i</span></a> <a id="mdecl:868" class="idref" href="#mdecl:868"><span class="id" title="binder">mdecl</span></a>  :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d10d79a10e846559d8eaeadecf0403ae"><span class="id" title="variable">Σ</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Template.Ast.html#Env.projs"><span class="id" title="definition">Ast.Env.projs</span></a> {| <a class="idref" href="MetaRocq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#kn:865"><span class="id" title="variable">kn</span></a>; <a class="idref" href="MetaRocq.Common.Kernames.html#inductive_ind"><span class="id" title="projection">inductive_ind</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:866"><span class="id" title="variable">n</span></a> |} (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_npars"><span class="id" title="projection">Ast.Env.ind_npars</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:868"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:867"><span class="id" title="variable">i</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.projs"><span class="id" title="definition">projs</span></a> {| <a class="idref" href="MetaRocq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#kn:865"><span class="id" title="variable">kn</span></a>; <a class="idref" href="MetaRocq.Common.Kernames.html#inductive_ind"><span class="id" title="projection">inductive_ind</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:866"><span class="id" title="variable">n</span></a> |} (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_npars"><span class="id" title="projection">Ast.Env.ind_npars</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:868"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:867"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closed_arities_context" class="idref" href="#closed_arities_context"><span class="id" title="lemma">closed_arities_context</span></a> {<a id="cf:869" class="idref" href="#cf:869"><span class="id" title="binder">cf</span></a>} <a id="bdc1bb8709565efcf51f277bb9c1a9b7" class="idref" href="#bdc1bb8709565efcf51f277bb9c1a9b7"><span class="id" title="binder">Σ</span></a> <a id="m:871" class="idref" href="#m:871"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bdc1bb8709565efcf51f277bb9c1a9b7"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="idecl:872" class="idref" href="#idecl:872"><span class="id" title="binder">idecl</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_type"><span class="id" title="definition">on_type</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvTyping.lift_typing"><span class="id" title="abbreviation">PCUICEnvTyping.lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bdc1bb8709565efcf51f277bb9c1a9b7"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#m:871"><span class="id" title="variable">m</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#global_env_ext_map"><span class="id" title="definition">global_env_ext_map</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_type"><span class="id" title="projection">ind_type</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bdc1bb8709565efcf51f277bb9c1a9b7"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:872"><span class="id" title="variable">idecl</span></a>))) (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">Ast.Env.ind_bodies</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#m:871"><span class="id" title="variable">m</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#closed_ctx"><span class="id" title="abbreviation">closed_ctx</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bdc1bb8709565efcf51f277bb9c1a9b7"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_arities"><span class="id" title="definition">ST.ind_arities</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#m:871"><span class="id" title="variable">m</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_arities"><span class="id" title="definition">ST.ind_arities</span></a> /<a class="idref" href="MetaRocq.Template.Ast.html#Env.arities_context"><span class="id" title="definition">Ast.Env.arities_context</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_map_spec"><span class="id" title="lemma">rev_map_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_ctx_app"><span class="id" title="lemma">closedn_ctx_app</span></a> /=. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">s</span> &amp; <span class="id" title="var">hs</span> &amp; <span class="id" title="var">_</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#subject_closed"><span class="id" title="lemma">subject_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_ctx_upwards"><span class="id" title="lemma">closedn_ctx_upwards</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_env_env_universes" class="idref" href="#trans_env_env_universes"><span class="id" title="lemma">trans_env_env_universes</span></a> {<a id="1b466a370c51708a575fe7e87599f189" class="idref" href="#1b466a370c51708a575fe7e87599f189"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env"><span class="id" title="record">Ast.Env.global_env</span></a>} : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#trans_env_env"><span class="id" title="projection">trans_env_env</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#1b466a370c51708a575fe7e87599f189"><span class="id" title="variable">Σ</span></a>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.universes"><span class="id" title="projection">Ast.Env.universes</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#1b466a370c51708a575fe7e87599f189"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs</span> <span class="id" title="var">Σ</span>] .<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a>; <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decls"><span class="id" title="definition">trans_global_decls</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span> ⇒ /= //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_env_env_retroknowledge" class="idref" href="#trans_env_env_retroknowledge"><span class="id" title="lemma">trans_env_env_retroknowledge</span></a> {<a id="d0dba4932c3a0567d7790bfc9dc6c34e" class="idref" href="#d0dba4932c3a0567d7790bfc9dc6c34e"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env"><span class="id" title="record">Ast.Env.global_env</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#trans_env_env"><span class="id" title="projection">trans_env_env</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d0dba4932c3a0567d7790bfc9dc6c34e"><span class="id" title="variable">Σ</span></a>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.retroknowledge"><span class="id" title="projection">Ast.Env.retroknowledge</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d0dba4932c3a0567d7790bfc9dc6c34e"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs</span> <span class="id" title="var">Σ</span>] .<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a>; <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decls"><span class="id" title="definition">trans_global_decls</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span> ⇒ /= //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_eq" class="idref" href="#env_eq"><span class="id" title="lemma">env_eq</span></a> (<a id="g:875" class="idref" href="#g:875"><span class="id" title="binder">g</span></a> <a id="g':876" class="idref" href="#g':876"><span class="id" title="binder">g'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:875"><span class="id" title="variable">g</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g':876"><span class="id" title="variable">g'</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:875"><span class="id" title="variable">g</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g':876"><span class="id" title="variable">g'</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:875"><span class="id" title="variable">g</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g':876"><span class="id" title="variable">g'</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:875"><span class="id" title="variable">g</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g':876"><span class="id" title="variable">g'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">g</span>, <span class="id" title="var">g'</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_consistent_instance_ext_gen" class="idref" href="#trans_consistent_instance_ext_gen"><span class="id" title="lemma">trans_consistent_instance_ext_gen</span></a> {<a id="cf:877" class="idref" href="#cf:877"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="b4e93f7edcd84eb53f85f7bcd068328f" class="idref" href="#b4e93f7edcd84eb53f85f7bcd068328f"><span class="id" title="binder">Σ</span></a> <a id="udecl:879" class="idref" href="#udecl:879"><span class="id" title="binder">udecl</span></a> <a id="u:880" class="idref" href="#u:880"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="4df0ccebf30f952e51696bc6a31f12c6" class="idref" href="#4df0ccebf30f952e51696bc6a31f12c6"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b4e93f7edcd84eb53f85f7bcd068328f"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Ast.html#consistent_instance_ext"><span class="id" title="definition">Ast.consistent_instance_ext</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b4e93f7edcd84eb53f85f7bcd068328f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#udecl:879"><span class="id" title="variable">udecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:880"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4df0ccebf30f952e51696bc6a31f12c6"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#udecl:879"><span class="id" title="variable">udecl</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:880"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Template.Ast.html#consistent_instance_ext"><span class="id" title="definition">Ast.consistent_instance_ext</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#global_ext_levels_trans"><span class="id" title="lemma">global_ext_levels_trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#global_ext_constraints_trans"><span class="id" title="lemma">global_ext_constraints_trans</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_on_global_env" class="idref" href="#trans_on_global_env"><span class="id" title="lemma">trans_on_global_env</span></a> `{<a id="H:882" class="idref" href="#H:882"><span class="id" title="binder">checker_flags</span></a>} <a id="8880112528a6d1299c33947a9c1b6534" class="idref" href="#8880112528a6d1299c33947a9c1b6534"><span class="id" title="binder">Σ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="8f570d6bd7de7eed01f02661a9df2067" class="idref" href="#8f570d6bd7de7eed01f02661a9df2067"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>) <a id="94ce7998afd164b1dc221f118ce0dc34" class="idref" href="#94ce7998afd164b1dc221f118ce0dc34"><span class="id" title="binder">Γ</span></a> <a id="j:886" class="idref" href="#j:886"><span class="id" title="binder">j</span></a>, <a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8f570d6bd7de7eed01f02661a9df2067"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#lift_typing"><span class="id" title="abbreviation">Typing.lift_typing</span></a> <a class="idref" href="MetaRocq.Template.Typing.html#typing"><span class="id" title="inductive">Typing.typing</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8f570d6bd7de7eed01f02661a9df2067"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#94ce7998afd164b1dc221f118ce0dc34"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#j:886"><span class="id" title="variable">j</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="76649f37c2c364b91662001cea1de742" class="idref" href="#76649f37c2c364b91662001cea1de742"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8f570d6bd7de7eed01f02661a9df2067"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#76649f37c2c364b91662001cea1de742"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8f570d6bd7de7eed01f02661a9df2067"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#76649f37c2c364b91662001cea1de742"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#94ce7998afd164b1dc221f118ce0dc34"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.Common.BasicAst.html#judgment_map"><span class="id" title="definition">judgment_map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#76649f37c2c364b91662001cea1de742"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#j:886"><span class="id" title="variable">j</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8880112528a6d1299c33947a9c1b6534"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8880112528a6d1299c33947a9c1b6534"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs</span> <span class="id" title="var">Σ</span> <span class="id" title="var">retro</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">onu</span> <span class="id" title="var">ond</span>]. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_env_env_universes"><span class="id" title="lemma">trans_env_env_universes</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a>] <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_env_env_universes"><span class="id" title="lemma">trans_env_env_universes</span></a> /= /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ond</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">kn_fresh</span> |- ×. <span class="id" title="tactic">clear</span> -<span class="id" title="var">kn_fresh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">kn_fresh</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">udecl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">on_udecl_udecl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_global_decl_universes"><span class="id" title="lemma">trans_global_decl_universes</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">on_udecl_udecl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Σg</span> := {| <a class="idref" href="MetaRocq.Template.Ast.html#Env.universes"><span class="id" title="projection">Ast.Env.universes</span></a> := <span class="id" title="var">univs</span>; <a class="idref" href="MetaRocq.Template.Ast.html#Env.declarations"><span class="id" title="projection">Ast.Env.declarations</span></a> := <span class="id" title="var">Σ</span>; <a class="idref" href="MetaRocq.Template.Ast.html#Env.retroknowledge"><span class="id" title="projection">Ast.Env.retroknowledge</span></a> := <span class="id" title="var">retro</span> |}).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">X0</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">onu</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ond</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> : <a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <span class="id" title="var">Σg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#trans_env_env"><span class="id" title="projection">trans_env_env</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">{|</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <span class="id" title="var">univs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decls"><span class="id" title="definition">trans_global_decls</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#empty_trans_env"><span class="id" title="definition">empty_trans_env</span></a> <span class="id" title="var">univs</span> <span class="id" title="var">retro</span>) <span class="id" title="var">Σ</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">|}</span></a>) <span class="id" title="keyword">as</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#env_eq"><span class="id" title="lemma">env_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_env_env_universes"><span class="id" title="lemma">trans_env_env_universes</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_env_env_retroknowledge"><span class="id" title="lemma">trans_env_env_retroknowledge</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">wfΣg</span> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">PCUICTyping.wf</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_env_env_universes"><span class="id" title="lemma">trans_env_env_universes</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">wfdecl</span> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#on_global_decl_wf"><span class="id" title="lemma">on_global_decl_wf</span></a> (<span class="id" title="var">Σ</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">udecl</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">X0</span> <span class="id" title="var">on_global_decl_d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">eqd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> (<span class="id" title="var">X</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#TermoptTyp"><span class="id" title="abbreviation">TermoptTyp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">on_global_decl_d</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">onI</span> <span class="id" title="var">onP</span> <span class="id" title="var">onNP</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#trans_env_env"><span class="id" title="projection">trans_env_env</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#global_env_ext_map_global_env_ext"><span class="id" title="definition">global_env_ext_map_global_env_ext</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decls"><span class="id" title="definition">trans_global_decls</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#empty_trans_env"><span class="id" title="definition">empty_trans_env</span></a> <span class="id" title="var">univs</span> <span class="id" title="var">retro</span>) <span class="id" title="var">Σ</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#global_env_ext_map_global_env_map"><span class="id" title="definition">global_env_ext_map_global_env_map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">have</span> <span class="id" title="var">wfpars</span> := <a class="idref" href="MetaRocq.Template.TypingWf.html#on_global_inductive_wf_params"><span class="id" title="lemma">on_global_inductive_wf_params</span></a> <span class="id" title="var">wfdecl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#on_global_inductive_wf_bodies"><span class="id" title="lemma">on_global_inductive_wf_bodies</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfdecl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">clars</span>: <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#closed_ctx"><span class="id" title="abbreviation">closed_ctx</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_arities"><span class="id" title="definition">ST.ind_arities</span></a> <span class="id" title="var">m</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#closed_arities_context"><span class="id" title="lemma">closed_arities_context</span></a> ⇒ //. <span class="id" title="tactic">clear</span> -<span class="id" title="var">onu</span> <span class="id" title="var">wfΣg</span> <span class="id" title="var">X0</span> <span class="id" title="var">IHond</span> <span class="id" title="var">X</span> <span class="id" title="var">onI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Alli_All"><span class="id" title="lemma">Alli_All</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">n</span> <span class="id" title="var">x</span> /<a class="idref" href="MetaRocq.Template.Typing.html#onArity"><span class="id" title="projection">Typing.onArity</span></a> ⇒ <span class="id" title="var">o</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">X</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">_</span> <span class="id" title="var">X0</span> <span class="id" title="var">o</span>) ⇒ //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Alli_All_mix"><span class="id" title="lemma">Alli_All_mix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">onI</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Alli_map"><span class="id" title="lemma">Alli_map</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Alli_impl"><span class="id" title="lemma">Alli_impl</span></a>. <span class="id" title="tactic">exact</span> <span class="id" title="var">onI</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">idecl</span> [<span class="id" title="var">oni</span> <span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">onarity</span> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_type"><span class="id" title="definition">on_type</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvTyping.lift_typing"><span class="id" title="abbreviation">PCUICEnvTyping.lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_type"><span class="id" title="projection">ind_type</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>) <span class="id" title="var">idecl</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#onArity"><span class="id" title="projection">ST.onArity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">oni</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_type"><span class="id" title="definition">on_type</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">X</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#Typ"><span class="id" title="abbreviation">Typ</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_type"><span class="id" title="projection">Ast.Env.ind_type</span></a> <span class="id" title="var">idecl</span>))). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">refine</span> {| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#ind_cunivs"><span class="id" title="projection">ind_cunivs</span></a> := <span class="id" title="var">oni</span>.(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_cunivs"><span class="id" title="projection">ST.ind_cunivs</span></a>) |}; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">oni</span>.(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_arity_eq"><span class="id" title="projection">ST.ind_arity_eq</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> ![<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_it_mkProd_or_LetIn"><span class="id" title="lemma">trans_it_mkProd_or_LetIn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">oni</span>.(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#onConstructors"><span class="id" title="projection">ST.onConstructors</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">X11</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_map_left"><span class="id" title="lemma">All2_map_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="keyword">wf</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">b</span> <span class="id" title="var">into</span> <span class="id" title="var">onc</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">y</span> <span class="id" title="var">into</span> <span class="id" title="var">cs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">a0</span> <span class="id" title="var">into</span> <span class="id" title="var">wfctype</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">a</span> <span class="id" title="var">into</span> <span class="id" title="var">wfcargs</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">b1</span> <span class="id" title="var">into</span> <span class="id" title="var">wfcindices</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">onc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">onty</span> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_type"><span class="id" title="definition">on_type</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvTyping.lift_typing"><span class="id" title="abbreviation">PCUICEnvTyping.lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.arities_context"><span class="id" title="definition">arities_context</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>) <span class="id" title="var">m</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_type"><span class="id" title="projection">cstr_type</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>) <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_type"><span class="id" title="projection">cstr_type</span></a>, <a class="idref" href="MetaRocq.Template.Ast.html#Env.cstr_type"><span class="id" title="projection">Ast.Env.cstr_type</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">on_ctype</span> |- *; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">X</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.arities_context"><span class="id" title="definition">Ast.Env.arities_context</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">Ast.Env.ind_bodies</span></a> <span class="id" title="var">m</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.BasicAst.html#Typ"><span class="id" title="abbreviation">Typ</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.cstr_type"><span class="id" title="projection">Ast.Env.cstr_type</span></a> <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_arities_context"><span class="id" title="lemma">trans_arities_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H'</span> ⇒ //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">ceq</span> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_type"><span class="id" title="projection">cstr_type</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>) <span class="id" title="var">x</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>) <span class="id" title="var">m</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>) <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#cstr_concl"><span class="id" title="definition">cstr_concl</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>) <span class="id" title="var">m</span>) <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>) <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_type"><span class="id" title="projection">cstr_type</span></a>, <a class="idref" href="MetaRocq.Template.Ast.html#Env.cstr_type"><span class="id" title="projection">Ast.Env.cstr_type</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cstr_eq</span> |- *; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">cstr_eq</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_it_mkProd_or_LetIn"><span class="id" title="lemma">trans_it_mkProd_or_LetIn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">len</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#cstr_concl"><span class="id" title="definition">cstr_concl</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#cstr_concl_head"><span class="id" title="definition">cstr_concl_head</span></a> /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> /=. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_reln"><span class="id" title="lemma">trans_reln</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">cstr_args_length</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> -<span class="id" title="var">X0</span> <span class="id" title="var">wfΣg</span> <span class="id" title="var">onu</span> <span class="id" title="var">IHond</span> <span class="id" title="var">X</span> <span class="id" title="var">on_cargs</span>. <span class="id" title="var">revert</span> <span class="id" title="var">on_cargs</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">foo</span> := (<span class="id" title="var">X</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">udecl</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">X0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_arities_context"><span class="id" title="lemma">trans_arities_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a> <span class="id" title="var">x</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">cs</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">cs</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">foo</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Template.Ast.html#Env.arities_context"><span class="id" title="definition">Ast.Env.arities_context</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">Ast.Env.ind_bodies</span></a> <span class="id" title="var">m</span>) <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <span class="id" title="var">m</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <span class="id" title="var">c</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">foo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">foo</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#TermTyp"><span class="id" title="abbreviation">TermTyp</span></a> <span class="id" title="var">b</span> <span class="id" title="var">ty</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">foo</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#TermTyp"><span class="id" title="abbreviation">TermTyp</span></a> <span class="id" title="var">b</span> <span class="id" title="var">ty</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">foo</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#TypUniv"><span class="id" title="abbreviation">TypUniv</span></a> <span class="id" title="var">ty</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> -<span class="id" title="var">X0</span> <span class="id" title="var">onu</span> <span class="id" title="var">wfΣg</span> <span class="id" title="var">IHond</span> <span class="id" title="var">X</span> <span class="id" title="var">on_cindices</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">on_cindices</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift_context"><span class="id" title="lemma">trans_lift_context</span></a> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> -<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.lift_context"><span class="id" title="definition">Ast.Env.lift_context</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a> <span class="id" title="var">x</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> 0 (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_indices"><span class="id" title="projection">Ast.Env.ind_indices</span></a> <span class="id" title="var">idecl</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_arities_context"><span class="id" title="lemma">trans_arities_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">foo</span> := (<span class="id" title="var">X</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">X0</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">foo</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Template.Ast.html#Env.arities_context"><span class="id" title="definition">Ast.Env.arities_context</span></a> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">Ast.Env.ind_bodies</span></a> <span class="id" title="var">m</span>) <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <span class="id" title="var">m</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a> <span class="id" title="var">x</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">foo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">foo</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#TermTyp"><span class="id" title="abbreviation">TermTyp</span></a> <span class="id" title="var">i</span> <span class="id" title="var">t</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_telescope"><span class="id" title="lemma">trans_subst_telescope</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">i</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> 0) <span class="id" title="tactic">in</span> <span class="id" title="var">IHon_cindices</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_telescope"><span class="id" title="lemma">trans_subst_telescope</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">b</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> 0) <span class="id" title="tactic">in</span> <span class="id" title="var">IHon_cindices</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a>] <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">onI</span> <span class="id" title="var">wfΣg</span> <span class="id" title="var">wfctype</span> <span class="id" title="var">X0</span> <span class="id" title="var">onu</span> <span class="id" title="var">IHond</span> <span class="id" title="var">on_ctype_positive</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Σ'</span> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> <span class="id" title="var">Σ'</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">on_ctype_positive</span> <span class="id" title="var">wfctype</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (@<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.context_decl"><span class="id" title="abbreviation">Ast.Env.context_decl</span></a>). <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">headrel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">PCUICEnvironment.ind_bodies</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <span class="id" title="var">Σ'</span> <span class="id" title="var">m</span>)<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">Ast.Env.ind_bodies</span></a> <span class="id" title="var">m</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="keyword">as</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> /= <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> <span class="id" title="var">Σ'</span>) <span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="keyword">as</span> →. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Template.WfAst.html#wf_mkApps_inv"><span class="id" title="lemma">WfAst.wf_mkApps_inv</span></a> ⇒ <span class="id" title="var">wfindices</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#pos_concl"><span class="id" title="constructor">pos_concl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>. <span class="id" title="var">solve_all</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_closedn"><span class="id" title="lemma">trans_closedn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Template.WfAst.html#wf_inv"><span class="id" title="lemma">WfAst.wf_inv</span></a> ⇒ /= [[<span class="id" title="var">wfb</span> <span class="id" title="var">wfty</span>] <span class="id" title="var">wft</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">b</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHon_ctype_positive</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.WfAst.html#wf_subst"><span class="id" title="lemma">WfAst.wf_subst</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Template.WfAst.html#wf_inv"><span class="id" title="lemma">WfAst.wf_inv</span></a> ⇒ /= [<span class="id" title="var">wfty</span> <span class="id" title="var">wft</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">onI</span> <span class="id" title="var">X0</span> <span class="id" title="var">wfΣg</span> <span class="id" title="var">onu</span> <span class="id" title="var">IHond</span> <span class="id" title="var">p</span> <span class="id" title="var">wfty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_closedn"><span class="id" title="lemma">trans_closedn</span></a> ⇒ //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">m0</span> <span class="id" title="keyword">as</span> [? [? ?]]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Template.WfAst.html#wf_mkApps_inv"><span class="id" title="lemma">WfAst.wf_mkApps_inv</span></a>: <span class="id" title="var">wfty</span> ⇒ <span class="id" title="var">wfl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span> 2; <span class="id" title="var">tea</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_closedn"><span class="id" title="lemma">trans_closedn</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">H2</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">wfty</span> : <a class="idref" href="MetaRocq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <span class="id" title="var">Σg</span> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_type"><span class="id" title="projection">Ast.Env.ind_type</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_rev"><span class="id" title="lemma">nth_error_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev_involutive"><span class="id" title="lemma">List.rev_involutive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#nth_error_alli"><span class="id" title="lemma">nth_error_alli</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">onI</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">onI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">onI</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">onI</span> <span class="id" title="var">_</span>]. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.Typing.html#onArity"><span class="id" title="projection">Typing.onArity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">onI</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">s</span> &amp; <span class="id" title="var">Hs</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">typing_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> /= /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#ind_realargs"><span class="id" title="definition">ind_realargs</span></a> /= /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_realargs"><span class="id" title="definition">ST.ind_realargs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_destArity"><span class="id" title="lemma">trans_destArity</span></a> <span class="id" title="var">Σg</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfty</span> <span class="id" title="var">wfΣg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Template.Ast.html#destArity"><span class="id" title="definition">Ast.destArity</span></a> <span class="id" title="keyword">as</span> [[<span class="id" title="var">args</span> <span class="id" title="var">s</span>]|] ⇒ /= → //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">constructor</span> 3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHp</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Template.WfAst.html#wf_inv"><span class="id" title="lemma">WfAst.wf_inv</span></a>: <span class="id" title="var">wfty</span> ⇒ /= [[<span class="id" title="var">wfb</span> <span class="id" title="var">wfty</span>] <span class="id" title="var">wft</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Template.WfAst.html#wf_subst"><span class="id" title="lemma">WfAst.wf_subst</span></a>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span> -[<span class="id" title="var">Σ'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Template.WfAst.html#wf_inv"><span class="id" title="lemma">WfAst.wf_inv</span></a>: <span class="id" title="var">wfty</span> ⇒ /= [<span class="id" title="var">wfty</span> <span class="id" title="var">wft</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> 4. <span class="id" title="var">len</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_closedn"><span class="id" title="lemma">trans_closedn</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHp</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHon_ctype_positive</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">v</span> <span class="id" title="var">indv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">on_ctype_variance</span> <span class="id" title="var">_</span> <span class="id" title="var">indv</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">Σg</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cstr_respects_variance"><span class="id" title="lemma">trans_cstr_respects_variance</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">onty</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">onty</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">s</span> &amp; <span class="id" title="var">hs</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">ceq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#subject_closed"><span class="id" title="lemma">PCUICClosedTyp.subject_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_it_mkProd_or_LetIn"><span class="id" title="lemma">closedn_it_mkProd_or_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">hs</span> ⇒ [] <span class="id" title="var">cl</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">cl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.PCUIC.PCUICContexts.html#smash_context_app_expand"><span class="id" title="lemma">smash_context_app_expand</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_ctx_app"><span class="id" title="lemma">closedn_ctx_app</span></a> /=; <span class="id" title="var">len</span> ⇒ <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_smash_context"><span class="id" title="lemma">closedn_smash_context</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ceq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">onty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#cstr_concl"><span class="id" title="definition">cstr_concl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">onty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">onty</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">s</span> &amp; <span class="id" title="var">hs</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#type_it_mkProd_or_LetIn_inv"><span class="id" title="lemma">PCUICSpine.type_it_mkProd_or_LetIn_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Δs</span> [<span class="id" title="var">us</span> []]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContexts.html#typing_expand_lets"><span class="id" title="lemma">typing_expand_lets</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#subject_closed"><span class="id" title="lemma">subject_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">move</span>: <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#expand_lets_mkApps"><span class="id" title="lemma">PCUICSigmaCalculus.expand_lets_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_mkApps"><span class="id" title="lemma">closedn_mkApps</span></a> ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb_app"><span class="id" title="lemma">forallb_app</span></a> ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets"><span class="id" title="lemma">trans_expand_lets</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.config.html#lets_in_constructor_types"><span class="id" title="method">lets_in_constructor_types</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">on_lets_in_type</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">on_lets_in_type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">clear</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">cstr_args0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> <span class="id" title="var">a</span>); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="var">have</span> <span class="id" title="var">onp</span> := <span class="id" title="var">oni</span>.(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#onProjections"><span class="id" title="projection">ST.onProjections</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_projs"><span class="id" title="projection">Ast.Env.ind_projs</span></a> <span class="id" title="var">idecl</span>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_ctors"><span class="id" title="projection">Ast.Env.ind_ctors</span></a> <span class="id" title="var">idecl</span>) <span class="id" title="keyword">as</span> [|? []] <span class="id" title="var">eqn</span>:<span class="id" title="var">hctors</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">Σg</span>]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">onp</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">Σg</span>]. <span class="id" title="var">now</span> <span class="id" title="var">len</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>. <span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">on_projs_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">Σg</span>]. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Alli_map"><span class="id" title="lemma">Alli_map</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#Alli_impl"><span class="id" title="lemma">Alli_impl</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> [<span class="id" title="var">pname</span> <span class="id" title="var">pdecl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#on_projection"><span class="id" title="definition">ST.on_projection</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_projection"><span class="id" title="definition">on_projection</span></a>. <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">inds</span></a> <span class="id" title="var">Σg</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -[<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">_</span>]<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> -(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.BasicAst.html#app_context"><span class="id" title="definition">app_context</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> ⇒ // /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_projection_body"><span class="id" title="definition">trans_projection_body</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [] /= <span class="id" title="var">hb</span> → →. <span class="id" title="var">cbn</span> -[<span class="id" title="var">Σg</span>]. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_inds"><span class="id" title="lemma">trans_inds</span></a>. <span class="id" title="var">cbn</span> -[<span class="id" title="var">Σg</span>]. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_projs"><span class="id" title="lemma">trans_projs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="var">have</span> <span class="id" title="var">inds</span> := <span class="id" title="var">oni</span>.(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_sorts"><span class="id" title="projection">ST.ind_sorts</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_check_ind_sorts"><span class="id" title="lemma">trans_check_ind_sorts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">inds</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="var">have</span> <span class="id" title="var">inds</span> := <span class="id" title="var">oni</span>.(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#onIndices"><span class="id" title="projection">ST.onIndices</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_variance"><span class="id" title="projection">Ast.Env.ind_variance</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_ind_respects_variance"><span class="id" title="lemma">trans_ind_respects_variance</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">onarity</span>; <span class="id" title="var">cbn</span> -[<span class="id" title="var">Σg</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">oni</span>.(<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_arity_eq"><span class="id" title="projection">ST.ind_arity_eq</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_it_mkProd_or_LetIn"><span class="id" title="lemma">trans_it_mkProd_or_LetIn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [] <span class="id" title="var">_</span> [] <span class="id" title="var">s</span> [] /<a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#subject_closed"><span class="id" title="lemma">subject_closed</span></a>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_it_mkProd_or_LetIn"><span class="id" title="lemma">closedn_it_mkProd_or_LetIn</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">onP</span>. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Template.Typing.html#env_prop_wf_local"><span class="id" title="lemma">Typing.env_prop_wf_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#template_to_pcuic"><span class="id" title="lemma">template_to_pcuic</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">X0</span> <span class="id" title="var">_</span> <span class="id" title="var">onP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X1</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a>]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">onVariance</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">onVariance</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_variance"><span class="id" title="definition">on_variance</span></a>, <a class="idref" href="MetaRocq.Template.Typing.html#on_variance"><span class="id" title="definition">Typing.on_variance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Template.Ast.html#Env.ind_variance"><span class="id" title="projection">Ast.Env.ind_variance</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [<span class="id" title="var">univs'</span> [<span class="id" title="var">i</span> [<span class="id" title="var">i'</span> []]]] <span class="id" title="var">vu</span> <span class="id" title="var">cu</span> <span class="id" title="var">cu'</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">univs'</span>, <span class="id" title="var">i</span>, <span class="id" title="var">i'</span>; <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">change</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#trans_env_env"><span class="id" title="projection">trans_env_env</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">univs'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICProgram.html#global_env_ext_map_global_env_ext"><span class="id" title="definition">global_env_ext_map_global_env_ext</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">univs'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_consistent_instance_ext_gen"><span class="id" title="lemma">trans_consistent_instance_ext_gen</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="template_to_pcuic_env" class="idref" href="#template_to_pcuic_env"><span class="id" title="lemma">template_to_pcuic_env</span></a> {<a id="cf:888" class="idref" href="#cf:888"><span class="id" title="binder">cf</span></a>} <a id="9bd354f5d938323972e70b5956565eb5" class="idref" href="#9bd354f5d938323972e70b5956565eb5"><span class="id" title="binder">Σ</span></a> :<a class="idref" href="MetaRocq.Template.Typing.html#wf"><span class="id" title="class">Template.Typing.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#9bd354f5d938323972e70b5956565eb5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#9bd354f5d938323972e70b5956565eb5"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hu</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_on_global_env"><span class="id" title="lemma">trans_on_global_env</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#env_prop_typing"><span class="id" title="lemma">ST.env_prop_typing</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#template_to_pcuic"><span class="id" title="lemma">template_to_pcuic</span></a> <span class="id" title="var">_</span> <span class="id" title="var">X</span> <span class="id" title="var">Γ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">X2</span>. { <span class="id" title="tactic">destruct</span> <span class="id" title="var">X0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">s</span> &amp; <span class="id" title="var">X0</span> &amp; <span class="id" title="var">_</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#typing_wf_local"><span class="id" title="lemma">ST.typing_wf_local</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hb</span> &amp; <span class="id" title="var">s</span> &amp; <span class="id" title="var">Ht</span> &amp; <span class="id" title="var">e</span>). <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#judgment_map"><span class="id" title="definition">judgment_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">eexists</span>; <span class="id" title="var">tea</span>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#j_term"><span class="id" title="projection">j_term</span></a> ⇒ //. <span class="id" title="tactic">eapply</span> <span class="id" title="var">X2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<span class="id" title="var">X2</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.Template.Ast.html#tSort"><span class="id" title="constructor">Ast.tSort</span></a> <span class="id" title="var">s</span>)); <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="template_to_pcuic_env_ext" class="idref" href="#template_to_pcuic_env_ext"><span class="id" title="lemma">template_to_pcuic_env_ext</span></a> {<a id="cf:890" class="idref" href="#cf:890"><span class="id" title="binder">cf</span></a>} <a id="5562c8d3bfccff70f972e1d035fe44b9" class="idref" href="#5562c8d3bfccff70f972e1d035fe44b9"><span class="id" title="binder">Σ</span></a> :<a class="idref" href="MetaRocq.Template.Typing.html#wf_ext"><span class="id" title="definition">Template.Typing.wf_ext</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5562c8d3bfccff70f972e1d035fe44b9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5562c8d3bfccff70f972e1d035fe44b9"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">u</span> <span class="id" title="var">Hu</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#template_to_pcuic_env"><span class="id" title="lemma">template_to_pcuic_env</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_env_env_universes"><span class="id" title="lemma">trans_env_env_universes</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ</span> <span class="id" title="var">udecl</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="template_to_pcuic_typing" class="idref" href="#template_to_pcuic_typing"><span class="id" title="lemma">template_to_pcuic_typing</span></a> {<a id="cf:892" class="idref" href="#cf:892"><span class="id" title="binder">cf</span></a>} {<a id="d45a9f110ee14e31924482787d467fce" class="idref" href="#d45a9f110ee14e31924482787d467fce"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>} <a id="7c575fea77222819605049f0bc83ddf6" class="idref" href="#7c575fea77222819605049f0bc83ddf6"><span class="id" title="binder">Γ</span></a> <a id="t:895" class="idref" href="#t:895"><span class="id" title="binder">t</span></a> <a id="T:896" class="idref" href="#T:896"><span class="id" title="binder">T</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf"><span class="id" title="class">ST.wf</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d45a9f110ee14e31924482787d467fce"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#typing"><span class="id" title="inductive">ST.typing</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d45a9f110ee14e31924482787d467fce"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7c575fea77222819605049f0bc83ddf6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:895"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:896"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="dfc4f4ed713c2b044636120604e8e48c" class="idref" href="#dfc4f4ed713c2b044636120604e8e48c"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d45a9f110ee14e31924482787d467fce"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#dfc4f4ed713c2b044636120604e8e48c"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#dfc4f4ed713c2b044636120604e8e48c"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7c575fea77222819605049f0bc83ddf6"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#dfc4f4ed713c2b044636120604e8e48c"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:895"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#dfc4f4ed713c2b044636120604e8e48c"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:896"><span class="id" title="variable">T</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">ty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#env_prop_typing"><span class="id" title="lemma">ST.env_prop_typing</span></a> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#template_to_pcuic"><span class="id" title="lemma">template_to_pcuic</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#typing_wf_local"><span class="id" title="lemma">ST.typing_wf_local</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.TemplatePCUIC.TemplateToPCUICCorrectness.html#template_to_pcuic_env"><span class="id" title="lemma">template_to_pcuic_env</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
