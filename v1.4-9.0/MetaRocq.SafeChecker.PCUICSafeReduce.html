<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./index.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaRocq.SafeChecker.PCUICSafeReduce</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Classes.RelationClasses.html#"><span class="id" title="library">RelationClasses</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Utils.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Common</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Common.config.html#"><span class="id" title="library">config</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#"><span class="id" title="library">PCUICAst</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#"><span class="id" title="library">PCUICAstUtils</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICGeneration.html#"><span class="id" title="library">PCUICGeneration</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#"><span class="id" title="library">PCUICLiftSubst</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#"><span class="id" title="library">PCUICUnivSubst</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#"><span class="id" title="library">PCUICTyping</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#"><span class="id" title="library">PCUICPosition</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#"><span class="id" title="library">PCUICNormal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#"><span class="id" title="library">PCUICInversion</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSR.html#"><span class="id" title="library">PCUICSR</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#"><span class="id" title="library">PCUICSN</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.utils.PCUICUtils.html#"><span class="id" title="library">PCUICUtils</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#"><span class="id" title="library">PCUICReduction</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICValidity.html#"><span class="id" title="library">PCUICValidity</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#"><span class="id" title="library">PCUICSafeLemmata</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConfluence.html#"><span class="id" title="library">PCUICConfluence</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#"><span class="id" title="library">PCUICConversion</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#"><span class="id" title="library">PCUICOnFreeVars</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#"><span class="id" title="library">PCUICWellScopedCumulativity</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICClassification.html#"><span class="id" title="library">PCUICClassification</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.SafeChecker</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#"><span class="id" title="library">PCUICErrors</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfReduction.html#"><span class="id" title="library">PCUICWfReduction</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#"><span class="id" title="library">PCUICWfEnv</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Equations.Prop</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">DepElim</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Transparent</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="keyword">Equations</span> <span class="id" title="var">With</span> <span class="id" title="var">UIP</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab83"></a><h1 class="section">Reduction machine for PCUIC without fuel</h1>


<div class="paragraph"> </div>

  We implement the reduction machine of Rocq without relying on fuel.
  Instead we assume strong normalization of the system (for well-typed terms)
  and proceed by well-founded induction.

<div class="paragraph"> </div>

  Once extracted, this should roughly correspond to the OCaml implementation.

<div class="paragraph"> </div>

 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Notation</span> <a id="998905012a00dd2c1bb5b4a980f46cc2" class="idref" href="#998905012a00dd2c1bb5b4a980f46cc2"><span class="id" title="notation">&quot;</span></a> `  t " := (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <span class="id" title="var">t</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 10, <span class="id" title="var">t</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>) : <span class="id" title="var">metarocq_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Goal</span> <span class="id" title="var">Selector</span> "!".<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">cf</span> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>) (<span class="id" title="var">Σ</span> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="welltyped_is_closed_context" class="idref" href="#welltyped_is_closed_context"><span class="id" title="lemma">welltyped_is_closed_context</span></a> {<a id="cf:1" class="idref" href="#cf:1"><span class="id" title="binder">cf</span></a> <a id="ebf069dbc779b42a15c441a6d39d5f83" class="idref" href="#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="binder">Σ</span></a>} {<a id="9c77acedd153c05882e0fedfeff8f884" class="idref" href="#9c77acedd153c05882e0fedfeff8f884"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a>} {<a id="9cfd66c80bf9988ea8f7104e167ac5cd" class="idref" href="#9cfd66c80bf9988ea8f7104e167ac5cd"><span class="id" title="binder">Γ</span></a> <a id="t:5" class="idref" href="#t:5"><span class="id" title="binder">t</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9cfd66c80bf9988ea8f7104e167ac5cd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:5"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_closed_context"><span class="id" title="abbreviation">is_closed_context</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9cfd66c80bf9988ea8f7104e167ac5cd"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing_wf_local"><span class="id" title="lemma">typing_wf_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">fvs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">welltyped_is_closed_context</span> : <span class="id" title="var">fvs</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="welltyped_is_open_term" class="idref" href="#welltyped_is_open_term"><span class="id" title="lemma">welltyped_is_open_term</span></a> {<a id="cf:6" class="idref" href="#cf:6"><span class="id" title="binder">cf</span></a> <a id="0f7fdea5e8c25e3e1a79edf27e9de540" class="idref" href="#0f7fdea5e8c25e3e1a79edf27e9de540"><span class="id" title="binder">Σ</span></a>} {<a id="fb25eb288960205976ac88267eae9857" class="idref" href="#fb25eb288960205976ac88267eae9857"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#0f7fdea5e8c25e3e1a79edf27e9de540"><span class="id" title="variable">Σ</span></a>} {<a id="a27a3f5be2c643b658176c4fa6dd32d6" class="idref" href="#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="binder">Γ</span></a> <a id="t:10" class="idref" href="#t:10"><span class="id" title="binder">t</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#0f7fdea5e8c25e3e1a79edf27e9de540"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:10"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:10"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []; <span class="id" title="var">fvs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">welltyped_is_open_term</span> : <span class="id" title="var">fvs</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Measure" class="idref" href="#Measure"><span class="id" title="section">Measure</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="Measure.cf" class="idref" href="#Measure.cf"><span class="id" title="variable">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="Measure.no" class="idref" href="#Measure.no"><span class="id" title="variable">no</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#normalizing_flags"><span class="id" title="class">normalizing_flags</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="Measure.flags" class="idref" href="#Measure.flags"><span class="id" title="variable">flags</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.t"><span class="id" title="record">RedFlags.t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="9b9d899e99423e29629aa9030ccad7d5" class="idref" href="#9b9d899e99423e29629aa9030ccad7d5"><span class="id" title="variable">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="R_aux" class="idref" href="#R_aux"><span class="id" title="definition">R_aux</span></a> <a id="918d7ebace48bcbe2bb5610a4828654d" class="idref" href="#918d7ebace48bcbe2bb5610a4828654d"><span class="id" title="binder">Γ</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.utils.PCUICUtils.html#dlexprod"><span class="id" title="inductive">dlexprod</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#cored"><span class="id" title="inductive">cored</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9b9d899e99423e29629aa9030ccad7d5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#918d7ebace48bcbe2bb5610a4828654d"><span class="id" title="variable">Γ</span></a>) (@<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#posR"><span class="id" title="definition">posR</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="R" class="idref" href="#R"><span class="id" title="definition">R</span></a> <a id="a2b47ff948e41f039782f954507c588d" class="idref" href="#a2b47ff948e41f039782f954507c588d"><span class="id" title="binder">Γ</span></a> <a id="u:17" class="idref" href="#u:17"><span class="id" title="binder">u</span></a> <a id="v:18" class="idref" href="#v:18"><span class="id" title="binder">v</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R_aux"><span class="id" title="definition">R_aux</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a2b47ff948e41f039782f954507c588d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:17"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_pos"><span class="id" title="definition">stack_pos</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:17"><span class="id" title="variable">u</span></a>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:17"><span class="id" title="variable">u</span></a>)<a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#v:18"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_pos"><span class="id" title="definition">stack_pos</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#v:18"><span class="id" title="variable">v</span></a>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#v:18"><span class="id" title="variable">v</span></a>)<a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cored_welltyped" class="idref" href="#cored_welltyped"><span class="id" title="lemma">cored_welltyped</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="d2f974a479ebcd81c5829843a3f7c760" class="idref" href="#d2f974a479ebcd81c5829843a3f7c760"><span class="id" title="binder">Γ</span></a> <a id="u:20" class="idref" href="#u:20"><span class="id" title="binder">u</span></a> <a id="v:21" class="idref" href="#v:21"><span class="id" title="binder">v</span></a>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9b9d899e99423e29629aa9030ccad7d5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9b9d899e99423e29629aa9030ccad7d5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#d2f974a479ebcd81c5829843a3f7c760"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:20"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#cored"><span class="id" title="inductive">cored</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9b9d899e99423e29629aa9030ccad7d5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#d2f974a479ebcd81c5829843a3f7c760"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#v:21"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:20"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9b9d899e99423e29629aa9030ccad7d5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#d2f974a479ebcd81c5829843a3f7c760"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#v:21"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">HΣ</span> <span class="id" title="var">h</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">r</span> ; <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">A</span> <span class="id" title="var">HA</span>]. <span class="id" title="tactic">∃</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSR.html#subject_reduction1"><span class="id" title="lemma">subject_reduction1</span></a> ; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> <span class="id" title="var">IHr</span> <span class="id" title="keyword">with</span> (1 := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">eassumption</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">A</span> <span class="id" title="var">HA</span>]. <span class="id" title="tactic">∃</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSR.html#subject_reduction1"><span class="id" title="lemma">subject_reduction1</span></a> ; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="red_welltyped" class="idref" href="#red_welltyped"><span class="id" title="lemma">red_welltyped</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="87cf4a9792a33e96b1c656d15f1aa3be" class="idref" href="#87cf4a9792a33e96b1c656d15f1aa3be"><span class="id" title="binder">Γ</span></a> <a id="u:23" class="idref" href="#u:23"><span class="id" title="binder">u</span></a> <a id="v:24" class="idref" href="#v:24"><span class="id" title="binder">v</span></a>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9b9d899e99423e29629aa9030ccad7d5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9b9d899e99423e29629aa9030ccad7d5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#87cf4a9792a33e96b1c656d15f1aa3be"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:23"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red"><span class="id" title="definition">red</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9b9d899e99423e29629aa9030ccad7d5"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#87cf4a9792a33e96b1c656d15f1aa3be"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:23"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#v:24"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9b9d899e99423e29629aa9030ccad7d5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#87cf4a9792a33e96b1c656d15f1aa3be"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#v:24"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hΣ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">h</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#red_cored_or_eq"><span class="id" title="lemma">red_cored_or_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span>|[]]; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cored_welltyped"><span class="id" title="lemma">cored_welltyped</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Derive</span> <span class="id" title="var">Signature</span> <span class="id" title="keyword">for</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="R_positionR" class="idref" href="#R_positionR"><span class="id" title="lemma">R_positionR</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="8ca488d962adcdfae0a5af1368ee12c6" class="idref" href="#8ca488d962adcdfae0a5af1368ee12c6"><span class="id" title="binder">Γ</span></a> <a id="t1:26" class="idref" href="#t1:26"><span class="id" title="binder">t1</span></a> <a id="t2:27" class="idref" href="#t2:27"><span class="id" title="binder">t2</span></a> (<a id="p1:28" class="idref" href="#p1:28"><span class="id" title="binder">p1</span></a> : <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#pos"><span class="id" title="definition">pos</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t1:26"><span class="id" title="variable">t1</span></a>) (<a id="p2:29" class="idref" href="#p2:29"><span class="id" title="binder">p2</span></a> : <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#pos"><span class="id" title="definition">pos</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t2:27"><span class="id" title="variable">t2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t1:26"><span class="id" title="variable">t1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t2:27"><span class="id" title="variable">t2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#positionR"><span class="id" title="inductive">positionR</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#998905012a00dd2c1bb5b4a980f46cc2"><span class="id" title="notation">`</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p1:28"><span class="id" title="variable">p1</span></a>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#998905012a00dd2c1bb5b4a980f46cc2"><span class="id" title="notation">`</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p2:29"><span class="id" title="variable">p2</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R_aux"><span class="id" title="definition">R_aux</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#8ca488d962adcdfae0a5af1368ee12c6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t1:26"><span class="id" title="variable">t1</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p1:28"><span class="id" title="variable">p1</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t2:27"><span class="id" title="variable">t2</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p2:29"><span class="id" title="variable">p2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> <span class="id" title="var">e</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Req" class="idref" href="#Req"><span class="id" title="definition">Req</span></a> <a id="a84750bab259aa2f16170b25727bba3f" class="idref" href="#a84750bab259aa2f16170b25727bba3f"><span class="id" title="binder">Γ</span></a> <a id="t:31" class="idref" href="#t:31"><span class="id" title="binder">t</span></a> <a id="t':32" class="idref" href="#t':32"><span class="id" title="binder">t'</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:31"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t':32"><span class="id" title="variable">t'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R"><span class="id" title="definition">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a84750bab259aa2f16170b25727bba3f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:31"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t':32"><span class="id" title="variable">t'</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Rtrans" class="idref" href="#Rtrans"><span class="id" title="lemma">Rtrans</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="3661fdf62dabbfc4878efd8bfc8bcb25" class="idref" href="#3661fdf62dabbfc4878efd8bfc8bcb25"><span class="id" title="binder">Γ</span></a> <a id="u:34" class="idref" href="#u:34"><span class="id" title="binder">u</span></a> <a id="v:35" class="idref" href="#v:35"><span class="id" title="binder">v</span></a> <a id="w:36" class="idref" href="#w:36"><span class="id" title="binder">w</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R"><span class="id" title="definition">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#3661fdf62dabbfc4878efd8bfc8bcb25"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:34"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#v:35"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R"><span class="id" title="definition">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#3661fdf62dabbfc4878efd8bfc8bcb25"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#v:35"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#w:36"><span class="id" title="variable">w</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R"><span class="id" title="definition">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#3661fdf62dabbfc4878efd8bfc8bcb25"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:34"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#w:36"><span class="id" title="variable">w</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">w</span> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICUtils.html#dlexprod_trans"><span class="id" title="instance">dlexprod_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ? ? ? ? ?. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#cored_trans'"><span class="id" title="lemma">cored_trans'</span></a> ; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#posR_trans"><span class="id" title="lemma">posR_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Req_trans" class="idref" href="#Req_trans"><span class="id" title="lemma">Req_trans</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="e7472af7950d19b56384d59fb0876e2e" class="idref" href="#e7472af7950d19b56384d59fb0876e2e"><span class="id" title="binder">Γ</span></a>}, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.RelationClasses.html#Transitive"><span class="id" title="class">Transitive</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Req"><span class="id" title="definition">Req</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#e7472af7950d19b56384d59fb0876e2e"><span class="id" title="variable">Γ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">w</span> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Rtrans"><span class="id" title="lemma">Rtrans</span></a> ; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="R_to_Req" class="idref" href="#R_to_Req"><span class="id" title="lemma">R_to_Req</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="58b9c22bd4c189dcaf393523ec57d769" class="idref" href="#58b9c22bd4c189dcaf393523ec57d769"><span class="id" title="binder">Γ</span></a> <a id="u:39" class="idref" href="#u:39"><span class="id" title="binder">u</span></a> <a id="v:40" class="idref" href="#v:40"><span class="id" title="binder">v</span></a>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R"><span class="id" title="definition">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#58b9c22bd4c189dcaf393523ec57d769"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:39"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#v:40"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Req"><span class="id" title="definition">Req</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#58b9c22bd4c189dcaf393523ec57d769"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:39"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#v:40"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Req_refl" class="idref" href="#Req_refl"><span class="id" title="instance">Req_refl</span></a> : <span class="id" title="keyword">∀</span> <a id="2a787a075caaaff77edb51afaa922541" class="idref" href="#2a787a075caaaff77edb51afaa922541"><span class="id" title="binder">Γ</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Req"><span class="id" title="definition">Req</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#2a787a075caaaff77edb51afaa922541"><span class="id" title="variable">Γ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="R_Req_R" class="idref" href="#R_Req_R"><span class="id" title="lemma">R_Req_R</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="18bf8c43a60891738d0d6115aa956824" class="idref" href="#18bf8c43a60891738d0d6115aa956824"><span class="id" title="binder">Γ</span></a> <a id="u:43" class="idref" href="#u:43"><span class="id" title="binder">u</span></a> <a id="v:44" class="idref" href="#v:44"><span class="id" title="binder">v</span></a> <a id="w:45" class="idref" href="#w:45"><span class="id" title="binder">w</span></a>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R"><span class="id" title="definition">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#18bf8c43a60891738d0d6115aa956824"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:43"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#v:44"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Req"><span class="id" title="definition">Req</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#18bf8c43a60891738d0d6115aa956824"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#v:44"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#w:45"><span class="id" title="variable">w</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R"><span class="id" title="definition">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#18bf8c43a60891738d0d6115aa956824"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:43"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#w:45"><span class="id" title="variable">w</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">w</span> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Rtrans"><span class="id" title="lemma">Rtrans</span></a> ; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Measure"><span class="id" title="section">Measure</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Acc_sidecond_generator" class="idref" href="#Acc_sidecond_generator"><span class="id" title="section">Acc_sidecond_generator</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="Acc_sidecond_generator.A" class="idref" href="#Acc_sidecond_generator.A"><span class="id" title="variable">A</span></a> : <span class="id" title="keyword">Type</span>} {<a id="Acc_sidecond_generator.R" class="idref" href="#Acc_sidecond_generator.R"><span class="id" title="variable">R</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:46"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:46"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>} {<a id="Acc_sidecond_generator.P" class="idref" href="#Acc_sidecond_generator.P"><span class="id" title="variable">P</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:46"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="Acc_sidecond_generator.Pimpl" class="idref" href="#Acc_sidecond_generator.Pimpl"><span class="id" title="variable">Pimpl</span></a> : <span class="id" title="keyword">∀</span> <a id="x:49" class="idref" href="#x:49"><span class="id" title="binder">x</span></a> <a id="y:50" class="idref" href="#y:50"><span class="id" title="binder">y</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Acc_sidecond_generator.P"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:49"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Acc_sidecond_generator.R"><span class="id" title="variable">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#y:50"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:49"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Acc_sidecond_generator.P"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#y:50"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="Acc_intro_generator" class="idref" href="#Acc_intro_generator"><span class="id" title="definition">Acc_intro_generator</span></a> <a id="n:53" class="idref" href="#n:53"><span class="id" title="binder">n</span></a> (<a id="acc:55" class="idref" href="#acc:55"><span class="id" title="binder">acc</span></a> : <span class="id" title="keyword">∀</span> <a id="t:54" class="idref" href="#t:54"><span class="id" title="binder">t</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Acc_sidecond_generator.P"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:54"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Acc_sidecond_generator.R"><span class="id" title="variable">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:54"><span class="id" title="variable">t</span></a>) : <span class="id" title="keyword">∀</span> <a id="t:56" class="idref" href="#t:56"><span class="id" title="binder">t</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Acc_sidecond_generator.P"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:56"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Acc_sidecond_generator.R"><span class="id" title="variable">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:56"><span class="id" title="variable">t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#n:53"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#acc:55"><span class="id" title="variable">acc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒ <span class="id" title="keyword">fun</span> <a id="x:59" class="idref" href="#x:59"><span class="id" title="binder">x</span></a> <a id="Px:60" class="idref" href="#Px:60"><span class="id" title="binder">Px</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Wf.html#Acc_intro"><span class="id" title="constructor">Acc_intro</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:59"><span class="id" title="variable">x</span></a> (<span class="id" title="keyword">fun</span> <a id="y:61" class="idref" href="#y:61"><span class="id" title="binder">y</span></a> <a id="Hy:62" class="idref" href="#Hy:62"><span class="id" title="binder">Hy</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Acc_intro_generator:57"><span class="id" title="definition">Acc_intro_generator</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#n:53"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Acc_intro_generator:57"><span class="id" title="definition">Acc_intro_generator</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#n:53"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#acc:55"><span class="id" title="variable">acc</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#y:61"><span class="id" title="variable">y</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Acc_sidecond_generator.Pimpl"><span class="id" title="variable">Pimpl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Px:60"><span class="id" title="variable">Px</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Hy:62"><span class="id" title="variable">Hy</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Acc_sidecond_generator"><span class="id" title="section">Acc_sidecond_generator</span></a>.<br/>
</div>

<div class="doc">
We leave it opaque for now, as some simplification tactics
  might otherwise unfold the large Acc proof. Don't forget to make it transparent
  when computing. 
</div>
<div class="code">
<span class="id" title="keyword">Opaque</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Acc_intro_generator"><span class="id" title="definition">Acc_intro_generator</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Reduce" class="idref" href="#Reduce"><span class="id" title="section">Reduce</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="Reduce.cf" class="idref" href="#Reduce.cf"><span class="id" title="variable">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="Reduce.no" class="idref" href="#Reduce.no"><span class="id" title="variable">no</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#normalizing_flags"><span class="id" title="class">normalizing_flags</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="Reduce.flags" class="idref" href="#Reduce.flags"><span class="id" title="variable">flags</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.t"><span class="id" title="record">RedFlags.t</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="Reduce.X_type" class="idref" href="#Reduce.X_type"><span class="id" title="variable">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="Reduce.X" class="idref" href="#Reduce.X"><span class="id" title="variable">X</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X_type"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="Reduce.normalization_in" class="idref" href="#Reduce.normalization_in"><span class="id" title="variable">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="8d0ba020def2f27826d5cbe2d613c0cf" class="idref" href="#8d0ba020def2f27826d5cbe2d613c0cf"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#8d0ba020def2f27826d5cbe2d613c0cf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#8d0ba020def2f27826d5cbe2d613c0cf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#8d0ba020def2f27826d5cbe2d613c0cf"><span class="id" title="variable">Σ</span></a>}.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Definition</span> <a id="e13e9e4849f1b26670f1b852ea178571" class="idref" href="#e13e9e4849f1b26670f1b852ea178571"><span class="id" title="definition">heΣ</span></a> <a id="ac713e2c58df9c0a01be9ad130d8ea1a" class="idref" href="#ac713e2c58df9c0a01be9ad130d8ea1a"><span class="id" title="binder">Σ</span></a> (<a id="dab82ff1465e04467f0795e0ccaf8d3d" class="idref" href="#dab82ff1465e04467f0795e0ccaf8d3d"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ac713e2c58df9c0a01be9ad130d8ea1a"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ac713e2c58df9c0a01be9ad130d8ea1a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#dab82ff1465e04467f0795e0ccaf8d3d"><span class="id" title="variable">wfΣ</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Definition</span> <a id="9312a512e761b0609da3ce406b19def8" class="idref" href="#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <a id="5f7f8a3a36b9c7b682466610e664c174" class="idref" href="#5f7f8a3a36b9c7b682466610e664c174"><span class="id" title="binder">Σ</span></a> (<a id="494381eeaa0bca883e24c6a5646cd7e5" class="idref" href="#494381eeaa0bca883e24c6a5646cd7e5"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#5f7f8a3a36b9c7b682466610e664c174"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#5f7f8a3a36b9c7b682466610e664c174"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_sq_wf"><span class="id" title="definition">abstract_env_ext_sq_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#494381eeaa0bca883e24c6a5646cd7e5"><span class="id" title="variable">wfΣ</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Existing Instance</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Req_refl"><span class="id" title="instance">Req_refl</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="acc_dlexprod_gen" class="idref" href="#acc_dlexprod_gen"><span class="id" title="lemma">acc_dlexprod_gen</span></a> <a id="P:74" class="idref" href="#P:74"><span class="id" title="binder">P</span></a> <a id="Q:75" class="idref" href="#Q:75"><span class="id" title="binder">Q</span></a> <a id="A:76" class="idref" href="#A:76"><span class="id" title="binder">A</span></a> <a id="B:77" class="idref" href="#B:77"><span class="id" title="binder">B</span></a> (<a id="leA:78" class="idref" href="#leA:78"><span class="id" title="binder">leA</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#P:74"><span class="id" title="variable">P</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:76"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:76"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="HQ:80" class="idref" href="#HQ:80"><span class="id" title="binder">HQ</span></a> : <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="p:79" class="idref" href="#p:79"><span class="id" title="binder">p</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Q:75"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:79"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;(<a id="HP:85" class="idref" href="#HP:85"><span class="id" title="binder">HP</span></a> : <span class="id" title="keyword">∀</span> <a id="p:81" class="idref" href="#p:81"><span class="id" title="binder">p</span></a> <a id="p':82" class="idref" href="#p':82"><span class="id" title="binder">p'</span></a> <a id="x:83" class="idref" href="#x:83"><span class="id" title="binder">x</span></a> <a id="x':84" class="idref" href="#x':84"><span class="id" title="binder">x'</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Q:75"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:81"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Q:75"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p':82"><span class="id" title="variable">p'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#leA:78"><span class="id" title="variable">leA</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:81"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:83"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x':84"><span class="id" title="variable">x'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#leA:78"><span class="id" title="variable">leA</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p':82"><span class="id" title="variable">p'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:83"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x':84"><span class="id" title="variable">x'</span></a>)<br/>
&nbsp;&nbsp;(<a id="leB:87" class="idref" href="#leB:87"><span class="id" title="binder">leB</span></a> : <span class="id" title="keyword">∀</span> <a id="x:86" class="idref" href="#x:86"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:76"><span class="id" title="variable">A</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#B:77"><span class="id" title="variable">B</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:86"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#B:77"><span class="id" title="variable">B</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:86"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:88" class="idref" href="#x:88"><span class="id" title="binder">x</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#leB:87"><span class="id" title="variable">leB</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:88"><span class="id" title="variable">x</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:89" class="idref" href="#x:89"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> (<span class="id" title="keyword">fun</span> <a id="t:90" class="idref" href="#t:90"><span class="id" title="binder">t</span></a> <a id="t':91" class="idref" href="#t':91"><span class="id" title="binder">t'</span></a> ⇒ <span class="id" title="keyword">∀</span> (<a id="p:92" class="idref" href="#p:92"><span class="id" title="binder">p</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#P:74"><span class="id" title="variable">P</span></a>), <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Q:75"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:92"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#leA:78"><span class="id" title="variable">leA</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:92"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:90"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t':91"><span class="id" title="variable">t'</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:89"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="y:93" class="idref" href="#y:93"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#leB:87"><span class="id" title="variable">leB</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:89"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#y:93"><span class="id" title="variable">y</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> (<span class="id" title="keyword">fun</span> <a id="t:94" class="idref" href="#t:94"><span class="id" title="binder">t</span></a> <a id="t':95" class="idref" href="#t':95"><span class="id" title="binder">t'</span></a> ⇒ <span class="id" title="keyword">∀</span> (<a id="p:96" class="idref" href="#p:96"><span class="id" title="binder">p</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#P:74"><span class="id" title="variable">P</span></a>), <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Q:75"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:96"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> @<a class="idref" href="MetaRocq.PCUIC.utils.PCUICUtils.html#dlexprod"><span class="id" title="inductive">dlexprod</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:76"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#B:77"><span class="id" title="variable">B</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#leA:78"><span class="id" title="variable">leA</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:96"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#leB:87"><span class="id" title="variable">leB</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:94"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t':95"><span class="id" title="variable">t'</span></a>) <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:89"><span class="id" title="variable">x</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#y:93"><span class="id" title="variable">y</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">hw</span>. <span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">hx</span> <span class="id" title="var">ih1</span>].<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">as</span> [<span class="id" title="var">y</span> <span class="id" title="var">hy</span> <span class="id" title="var">ih2</span>].<br/>
<span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="tactic">intros</span> [<span class="id" title="var">x'</span> <span class="id" title="var">y'</span>] <span class="id" title="var">h</span>.<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">HQ</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">p</span> <span class="id" title="var">q</span>]].<br/>
<span class="id" title="tactic">specialize</span> (<span class="id" title="var">h</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>).<br/>
<span class="id" title="tactic">simple</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">h</span>.<br/>
- <span class="id" title="tactic">intro</span> <span class="id" title="var">hA</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ih1</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">HP</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">hw</span>.<br/>
- <span class="id" title="tactic">intro</span> <span class="id" title="var">hB</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#projT2_eq"><span class="id" title="definition">projT2_eq</span></a> <span class="id" title="var">H1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">p2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#projT1_eq"><span class="id" title="definition">projT1_eq</span></a> <span class="id" title="var">H1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">p1</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p1</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p2</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">p2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ih2</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dlexprod_Acc_gen" class="idref" href="#dlexprod_Acc_gen"><span class="id" title="lemma">dlexprod_Acc_gen</span></a> <a id="P:97" class="idref" href="#P:97"><span class="id" title="binder">P</span></a> <a id="Q:98" class="idref" href="#Q:98"><span class="id" title="binder">Q</span></a> <a id="A:99" class="idref" href="#A:99"><span class="id" title="binder">A</span></a> <a id="B:100" class="idref" href="#B:100"><span class="id" title="binder">B</span></a> (<a id="leA:101" class="idref" href="#leA:101"><span class="id" title="binder">leA</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#P:97"><span class="id" title="variable">P</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:99"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:99"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="HQ:103" class="idref" href="#HQ:103"><span class="id" title="binder">HQ</span></a> : <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="p:102" class="idref" href="#p:102"><span class="id" title="binder">p</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Q:98"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:102"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;(<a id="HP:108" class="idref" href="#HP:108"><span class="id" title="binder">HP</span></a> : <span class="id" title="keyword">∀</span> <a id="p:104" class="idref" href="#p:104"><span class="id" title="binder">p</span></a> <a id="p':105" class="idref" href="#p':105"><span class="id" title="binder">p'</span></a> <a id="x:106" class="idref" href="#x:106"><span class="id" title="binder">x</span></a> <a id="x':107" class="idref" href="#x':107"><span class="id" title="binder">x'</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Q:98"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:104"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Q:98"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p':105"><span class="id" title="variable">p'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#leA:101"><span class="id" title="variable">leA</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:104"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:106"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x':107"><span class="id" title="variable">x'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#leA:101"><span class="id" title="variable">leA</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p':105"><span class="id" title="variable">p'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:106"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x':107"><span class="id" title="variable">x'</span></a>)<br/>
&nbsp;&nbsp;(<a id="leB:110" class="idref" href="#leB:110"><span class="id" title="binder">leB</span></a> : <span class="id" title="keyword">∀</span> <a id="x:109" class="idref" href="#x:109"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:99"><span class="id" title="variable">A</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#B:100"><span class="id" title="variable">B</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:109"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#B:100"><span class="id" title="variable">B</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:109"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:111" class="idref" href="#x:111"><span class="id" title="binder">x</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#leB:110"><span class="id" title="variable">leB</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:111"><span class="id" title="variable">x</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:112" class="idref" href="#x:112"><span class="id" title="binder">x</span></a> <a id="y:113" class="idref" href="#y:113"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> (<span class="id" title="keyword">fun</span> <a id="t:114" class="idref" href="#t:114"><span class="id" title="binder">t</span></a> <a id="t':115" class="idref" href="#t':115"><span class="id" title="binder">t'</span></a> ⇒ <span class="id" title="keyword">∀</span> (<a id="p:116" class="idref" href="#p:116"><span class="id" title="binder">p</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#P:97"><span class="id" title="variable">P</span></a>), <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Q:98"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:116"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#leA:101"><span class="id" title="variable">leA</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:116"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:114"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t':115"><span class="id" title="variable">t'</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:112"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> (<span class="id" title="keyword">fun</span> <a id="t:117" class="idref" href="#t:117"><span class="id" title="binder">t</span></a> <a id="t':118" class="idref" href="#t':118"><span class="id" title="binder">t'</span></a> ⇒ <span class="id" title="keyword">∀</span> (<a id="p:119" class="idref" href="#p:119"><span class="id" title="binder">p</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#P:97"><span class="id" title="variable">P</span></a>), <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Q:98"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:119"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> @<a class="idref" href="MetaRocq.PCUIC.utils.PCUICUtils.html#dlexprod"><span class="id" title="inductive">dlexprod</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:99"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#B:100"><span class="id" title="variable">B</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#leA:101"><span class="id" title="variable">leA</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:119"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#leB:110"><span class="id" title="variable">leB</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:117"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t':118"><span class="id" title="variable">t'</span></a>) <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:112"><span class="id" title="variable">x</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#y:113"><span class="id" title="variable">y</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hB</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">hA</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#acc_dlexprod_gen"><span class="id" title="lemma">acc_dlexprod_gen</span></a> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hB</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="R_singleton" class="idref" href="#R_singleton"><span class="id" title="definition">R_singleton</span></a> <a id="Abs:120" class="idref" href="#Abs:120"><span class="id" title="binder">Abs</span></a> <a id="A:121" class="idref" href="#A:121"><span class="id" title="binder">A</span></a><br/>
&nbsp;&nbsp;(<a id="R:122" class="idref" href="#R:122"><span class="id" title="binder">R</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Abs:120"><span class="id" title="variable">Abs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:121"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:121"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="Q:123" class="idref" href="#Q:123"><span class="id" title="binder">Q</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Abs:120"><span class="id" title="variable">Abs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="x:124" class="idref" href="#x:124"><span class="id" title="binder">x</span></a> (<a id="q:125" class="idref" href="#q:125"><span class="id" title="binder">q</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Q:123"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:124"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;(<a id="HQ:128" class="idref" href="#HQ:128"><span class="id" title="binder">HQ</span></a> : <span class="id" title="keyword">∀</span> <a id="x:126" class="idref" href="#x:126"><span class="id" title="binder">x</span></a> <a id="x':127" class="idref" href="#x':127"><span class="id" title="binder">x'</span></a> , <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Q:123"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:126"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Q:123"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x':127"><span class="id" title="variable">x'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:126"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x':127"><span class="id" title="variable">x'</span></a>) (<a id="a:129" class="idref" href="#a:129"><span class="id" title="binder">a</span></a> <a id="a':130" class="idref" href="#a':130"><span class="id" title="binder">a'</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:121"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R:122"><span class="id" title="variable">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:124"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a:129"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a':130"><span class="id" title="variable">a'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:131" class="idref" href="#x:131"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Q:123"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:131"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R:122"><span class="id" title="variable">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:131"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a:129"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a':130"><span class="id" title="variable">a'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">x'</span> <span class="id" title="var">q'</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">HQ</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">q</span> <span class="id" title="var">q'</span>). <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="Acc_equiv" class="idref" href="#Acc_equiv"><span class="id" title="definition">Acc_equiv</span></a> <a id="A:132" class="idref" href="#A:132"><span class="id" title="binder">A</span></a> (<a id="R:133" class="idref" href="#R:133"><span class="id" title="binder">R</span></a> <a id="R':134" class="idref" href="#R':134"><span class="id" title="binder">R'</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:132"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:132"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="Heq:137" class="idref" href="#Heq:137"><span class="id" title="binder">Heq</span></a> : <span class="id" title="keyword">∀</span> <a id="a:135" class="idref" href="#a:135"><span class="id" title="binder">a</span></a> <a id="a':136" class="idref" href="#a':136"><span class="id" title="binder">a'</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R:133"><span class="id" title="variable">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a:135"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a':136"><span class="id" title="variable">a'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R':134"><span class="id" title="variable">R'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a:135"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a':136"><span class="id" title="variable">a'</span></a>) <a id="a:138" class="idref" href="#a:138"><span class="id" title="binder">a</span></a><br/>
&nbsp;&nbsp;(<a id="HAcc:139" class="idref" href="#HAcc:139"><span class="id" title="binder">HAcc</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R:133"><span class="id" title="variable">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a:138"><span class="id" title="variable">a</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R':134"><span class="id" title="variable">R'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a:138"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HAcc</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Acc_equiv</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Corollary</span> <a id="R_Acc_aux" class="idref" href="#R_Acc_aux"><span class="id" title="lemma">R_Acc_aux</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="61459e7a87d057bf9d65fc4c1f4660ee" class="idref" href="#61459e7a87d057bf9d65fc4c1f4660ee"><span class="id" title="binder">Γ</span></a> <a id="t:142" class="idref" href="#t:142"><span class="id" title="binder">t</span></a> <a id="p:143" class="idref" href="#p:143"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="1edcac3d5f3653f51d57fce50ace22de" class="idref" href="#1edcac3d5f3653f51d57fce50ace22de"><span class="id" title="binder">Σ</span></a> (<a id="df64a223cf74ea28808e58cb4de65ff4" class="idref" href="#df64a223cf74ea28808e58cb4de65ff4"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#1edcac3d5f3653f51d57fce50ace22de"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#1edcac3d5f3653f51d57fce50ace22de"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#61459e7a87d057bf9d65fc4c1f4660ee"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:142"><span class="id" title="variable">t</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> (<span class="id" title="keyword">fun</span> <a id="t:146" class="idref" href="#t:146"><span class="id" title="binder">t</span></a> <a id="t':147" class="idref" href="#t':147"><span class="id" title="binder">t'</span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="6b1879b3537ab71ccb79966068a4600f" class="idref" href="#6b1879b3537ab71ccb79966068a4600f"><span class="id" title="binder">Σ</span></a> (<a id="13e1e7716beeda7a45861f522cf7a6e8" class="idref" href="#13e1e7716beeda7a45861f522cf7a6e8"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#6b1879b3537ab71ccb79966068a4600f"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R_aux"><span class="id" title="definition">R_aux</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#6b1879b3537ab71ccb79966068a4600f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#61459e7a87d057bf9d65fc4c1f4660ee"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:146"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t':147"><span class="id" title="variable">t'</span></a>) <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:142"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:143"><span class="id" title="variable">p</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">normalization_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">p</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#dlexprod_Acc_gen"><span class="id" title="lemma">dlexprod_Acc_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_cored"><span class="id" title="definition">abstract_env_cored</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#posR_Acc"><span class="id" title="lemma">posR_Acc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#e13e9e4849f1b26670f1b852ea178571"><span class="id" title="definition">heΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Acc_equiv"><span class="id" title="definition">Acc_equiv</span></a>; <span class="id" title="tactic">try</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.normalization_in"><span class="id" title="variable">normalization_in</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R_singleton"><span class="id" title="definition">R_singleton</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Q</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">R</span> := <span class="id" title="keyword">fun</span> <a id="16420a3591c144f5a991e7835e9f838c" class="idref" href="#16420a3591c144f5a991e7835e9f838c"><span class="id" title="binder"><span id="7a945b9afea37aaa6ce61e5e6cdd6206" class="id">Σ</span></span></a> <a id="a:151" class="idref" href="#a:151"><span class="id" title="binder"><span id="a:154" class="id">a</span></span></a> <a id="a':152" class="idref" href="#a':152"><span class="id" title="binder"><span id="a':155" class="id">a'</span></span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#cored"><span class="id" title="inductive">cored</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#16420a3591c144f5a991e7835e9f838c"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a:151"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a':152"><span class="id" title="variable">a'</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="R_Acc" class="idref" href="#R_Acc"><span class="id" title="lemma">R_Acc</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="48ab0e81006fd0f4936cb71b27507f7f" class="idref" href="#48ab0e81006fd0f4936cb71b27507f7f"><span class="id" title="binder">Γ</span></a> <a id="t:157" class="idref" href="#t:157"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="4083cb2bcc85852dfb10cc3813a0b868" class="idref" href="#4083cb2bcc85852dfb10cc3813a0b868"><span class="id" title="binder">Σ</span></a> (<a id="4326e3c45cd43d43821cdcdb33588504" class="idref" href="#4326e3c45cd43d43821cdcdb33588504"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#4083cb2bcc85852dfb10cc3813a0b868"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#4083cb2bcc85852dfb10cc3813a0b868"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#48ab0e81006fd0f4936cb71b27507f7f"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:157"><span class="id" title="variable">t</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> (<span class="id" title="keyword">fun</span> <a id="t:160" class="idref" href="#t:160"><span class="id" title="binder">t</span></a> <a id="t':161" class="idref" href="#t':161"><span class="id" title="binder">t'</span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="657ebd31316b08caaaf994ed434f8b0d" class="idref" href="#657ebd31316b08caaaf994ed434f8b0d"><span class="id" title="binder">Σ</span></a> (<a id="8385a5088ca2f9910e4d97b4f4e4b9d7" class="idref" href="#8385a5088ca2f9910e4d97b4f4e4b9d7"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#657ebd31316b08caaaf994ed434f8b0d"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R"><span class="id" title="definition">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#657ebd31316b08caaaf994ed434f8b0d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#48ab0e81006fd0f4936cb71b27507f7f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:160"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t':161"><span class="id" title="variable">t'</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:157"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">normalization_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R_Acc_aux"><span class="id" title="lemma">R_Acc_aux</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_pos"><span class="id" title="definition">stack_pos</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">t</span>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">t</span>)) <span class="id" title="var">h</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">h'</span> <span class="id" title="var">into</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="inspect" class="idref" href="#inspect"><span class="id" title="definition">inspect</span></a> {<a id="A:164" class="idref" href="#A:164"><span class="id" title="binder">A</span></a>} (<a id="x:165" class="idref" href="#x:165"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:164"><span class="id" title="variable">A</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <a id="y:166" class="idref" href="#y:166"><span class="id" title="binder">y</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:164"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#y:166"><span class="id" title="variable">y</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:165"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:165"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Pr" class="idref" href="#Pr"><span class="id" title="definition">Pr</span></a> (<a id="t':167" class="idref" href="#t':167"><span class="id" title="binder">t'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack"><span class="id" title="definition">stack</span></a>) <a id="de132aaa6884c7493ebc856e266d1108" class="idref" href="#de132aaa6884c7493ebc856e266d1108"><span class="id" title="binder">π</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#de132aaa6884c7493ebc856e266d1108"><span class="id" title="variable">π</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t':167"><span class="id" title="variable">t'</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="givePr" class="idref" href="#givePr"><span class="id" title="abbreviation">givePr</span></a> := (<span class="id" title="var">_</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Pr'" class="idref" href="#Pr'"><span class="id" title="definition">Pr'</span></a> (<a id="t':169" class="idref" href="#t':169"><span class="id" title="binder">t'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack"><span class="id" title="definition">stack</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#isApp"><span class="id" title="definition">isApp</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t':169"><span class="id" title="variable">t'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.beta"><span class="id" title="projection">RedFlags.beta</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.flags"><span class="id" title="variable">flags</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t':169"><span class="id" title="variable">t'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#isStackApp"><span class="id" title="definition">isStackApp</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t':169"><span class="id" title="variable">t'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="givePr'" class="idref" href="#givePr'"><span class="id" title="abbreviation">givePr'</span></a> := (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="a8943650f75cadd094966ef4f9655df6" class="idref" href="#a8943650f75cadd094966ef4f9655df6"><span class="id" title="binder">β</span></a> <a id="hl:171" class="idref" href="#hl:171"><span class="id" title="binder">hl</span></a> ⇒ <span class="id" title="var">_</span>)) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="rec" class="idref" href="#rec"><span class="id" title="abbreviation">rec</span></a> <span class="id" title="var">reduce</span> <span class="id" title="var">t</span> π :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">let</span> <a id="smaller:172" class="idref" href="#smaller:172"><span class="id" title="binder">smaller</span></a> := <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">res</span> <span class="id" title="var">prf_Σ</span>) := <span class="id" title="var">reduce</span> <span class="id" title="var">t</span> π <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#smaller:172"><span class="id" title="variable">smaller</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">res</span> (<span class="id" title="keyword">fun</span> <a id="c1c5c8c67a0dc9808d5f39ed656267e7" class="idref" href="#c1c5c8c67a0dc9808d5f39ed656267e7"><span class="id" title="binder">Σ</span></a> <a id="cc7e5607216c194d13ca9ce5c14fbf91" class="idref" href="#cc7e5607216c194d13ca9ce5c14fbf91"><span class="id" title="binder">wfΣ</span></a> ⇒ <span class="id" title="keyword">let</span> '((<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">prf</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">h</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span>)))) := <span class="id" title="var">prf_Σ</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c1c5c8c67a0dc9808d5f39ed656267e7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cc7e5607216c194d13ca9ce5c14fbf91"><span class="id" title="variable">wfΣ</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Req_trans"><span class="id" title="lemma">Req_trans</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R_to_Req"><span class="id" title="lemma">R_to_Req</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#smaller:172"><span class="id" title="variable">smaller</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c1c5c8c67a0dc9808d5f39ed656267e7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cc7e5607216c194d13ca9ce5c14fbf91"><span class="id" title="variable">wfΣ</span></a>))) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#givePr"><span class="id" title="abbreviation">givePr</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#givePr'"><span class="id" title="abbreviation">givePr'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="give" class="idref" href="#give"><span class="id" title="abbreviation">give</span></a> <span class="id" title="var">t</span> π :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">t</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a>π<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<span class="id" title="keyword">fun</span> <a id="cf27ef0062d81b64261862fc44ce9c90" class="idref" href="#cf27ef0062d81b64261862fc44ce9c90"><span class="id" title="binder">Σ</span></a> <a id="534e4c3a610593598d5e6a83206873f9" class="idref" href="#534e4c3a610593598d5e6a83206873f9"><span class="id" title="binder">wfΣ</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">_</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#givePr"><span class="id" title="abbreviation">givePr</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#givePr'"><span class="id" title="abbreviation">givePr'</span></a>))) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Tactic Notation</span> "zip" "fold" "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">h</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">h</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span> <span class="id" title="var">C</span>[ <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc"><span class="id" title="definition">zipc</span></a> ?<span class="id" title="var">t</span> ?π ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">C'</span> := <span class="id" title="keyword">context</span> <span class="id" title="var">C</span>[ <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">t</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a>π<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ] <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">C'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Tactic Notation</span> "zip" "fold" :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> <span class="id" title="var">C</span>[ <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc"><span class="id" title="definition">zipc</span></a> ?<span class="id" title="var">t</span> ?π ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">C'</span> := <span class="id" title="keyword">context</span> <span class="id" title="var">C</span>[ <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">t</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a>π<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ] <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">C'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Req_red" class="idref" href="#Req_red"><span class="id" title="lemma">Req_red</span></a> <a id="80c4883e819c4171f815880acf571a9a" class="idref" href="#80c4883e819c4171f815880acf571a9a"><span class="id" title="binder">Σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="dc1356b602fe68110656293f361bcd12" class="idref" href="#dc1356b602fe68110656293f361bcd12"><span class="id" title="binder">Γ</span></a> <a id="x:179" class="idref" href="#x:179"><span class="id" title="binder">x</span></a> <a id="y:180" class="idref" href="#y:180"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Req"><span class="id" title="definition">Req</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#80c4883e819c4171f815880acf571a9a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#dc1356b602fe68110656293f361bcd12"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#y:180"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:179"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red"><span class="id" title="definition">red</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#80c4883e819c4171f815880acf571a9a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#dc1356b602fe68110656293f361bcd12"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:179"><span class="id" title="variable">x</span></a>) (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#y:180"><span class="id" title="variable">y</span></a>) <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> [<span class="id" title="var">t</span> π] [<span class="id" title="var">t'</span> π'] <span class="id" title="var">h</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="var">zip</span> <span class="id" title="tactic">fold</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#cored_red"><span class="id" title="lemma">cored_red</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">obTac</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Program.Tactics.program_simplify</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Equations.CoreTactics.equations_simpl</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">Program.Tactics.program_solve_wf</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Obligation</span> <span class="id" title="keyword">Tactic</span> := <span class="id" title="var">obTac</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span> <a id="discr_construct" class="idref" href="#discr_construct"><span class="id" title="definition">discr_construct</span></a> (<a id="t:181" class="idref" href="#t:181"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#discr_construct:186"><span class="id" title="definition">discr_construct</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ind:183"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#n:184"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ui:185"><span class="id" title="variable">ui</span></a>) := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#discr_construct:187"><span class="id" title="definition">discr_construct</span></a> <span class="id" title="var">_</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="construct_view" class="idref" href="#construct_view"><span class="id" title="definition, inductive"><span id="construct_view_rect" class="id"><span id="construct_view_ind" class="id"><span id="construct_view_rec" class="id"><span id="construct_view_sind" class="id">construct_view</span></span></span></span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="view_construct" class="idref" href="#view_construct"><span class="id" title="constructor">view_construct</span></a> : <span class="id" title="keyword">∀</span> <a id="ind:190" class="idref" href="#ind:190"><span class="id" title="binder">ind</span></a> <a id="n:191" class="idref" href="#n:191"><span class="id" title="binder">n</span></a> <a id="ui:192" class="idref" href="#ui:192"><span class="id" title="binder">ui</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#construct_view:188"><span class="id" title="inductive">construct_view</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ind:190"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#n:191"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ui:192"><span class="id" title="variable">ui</span></a>)<br/>
&nbsp;&nbsp;| <a id="view_other" class="idref" href="#view_other"><span class="id" title="constructor">view_other</span></a> : <span class="id" title="keyword">∀</span> <a id="t:193" class="idref" href="#t:193"><span class="id" title="binder">t</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#discr_construct"><span class="id" title="definition">discr_construct</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:193"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#construct_view:188"><span class="id" title="inductive">construct_view</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:193"><span class="id" title="variable">t</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span> <a id="construct_viewc" class="idref" href="#construct_viewc"><span class="id" title="definition">construct_viewc</span></a> <a id="t:194" class="idref" href="#t:194"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#construct_view"><span class="id" title="inductive">construct_view</span></a> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#construct_viewc:199"><span class="id" title="definition">construct_viewc</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ind:196"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#n:197"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ui:198"><span class="id" title="variable">ui</span></a>) := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#view_construct"><span class="id" title="constructor">view_construct</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">n</span> <span class="id" title="var">ui</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#construct_viewc:201"><span class="id" title="definition">construct_viewc</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:200"><span class="id" title="variable">t</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#view_other"><span class="id" title="constructor">view_other</span></a> <span class="id" title="var">t</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span> <a id="red_discr" class="idref" href="#red_discr"><span class="id" title="definition">red_discr</span></a> (<a id="t:202" class="idref" href="#t:202"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="08de1b74f7602858930c791b9bf02161" class="idref" href="#08de1b74f7602858930c791b9bf02161"><span class="id" title="binder">π</span></a> : <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack"><span class="id" title="definition">stack</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_discr:205"><span class="id" title="definition">red_discr</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">_</span></a>) <span class="id" title="var">_</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_discr:206"><span class="id" title="definition">red_discr</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">_</span></a>) <span class="id" title="var">_</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_discr:207"><span class="id" title="definition">red_discr</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConst"><span class="id" title="constructor">tConst</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConst"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConst"><span class="id" title="constructor">_</span></a>) <span class="id" title="var">_</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_discr:208"><span class="id" title="definition">red_discr</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">_</span></a>) <span class="id" title="var">_</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_discr:209"><span class="id" title="definition">red_discr</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">_</span></a>) (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#App_l"><span class="id" title="constructor">App_l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#cons"><span class="id" title="constructor">_</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#cons"><span class="id" title="constructor">_</span></a>) := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_discr:210"><span class="id" title="definition">red_discr</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">_</span></a>) <span class="id" title="var">_</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_discr:211"><span class="id" title="definition">red_discr</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">_</span></a>) <span class="id" title="var">_</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_discr:212"><span class="id" title="definition">red_discr</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">_</span></a>) <span class="id" title="var">_</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_discr:213"><span class="id" title="definition">red_discr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="red_view" class="idref" href="#red_view"><span class="id" title="definition, inductive"><span id="red_view_rect" class="id"><span id="red_view_ind" class="id"><span id="red_view_rec" class="id"><span id="red_view_sind" class="id">red_view</span></span></span></span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack"><span class="id" title="definition">stack</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="red_view_Rel" class="idref" href="#red_view_Rel"><span class="id" title="constructor">red_view_Rel</span></a> <a id="c:216" class="idref" href="#c:216"><span class="id" title="binder">c</span></a> <a id="f025fc6d249788ab370a73a7a6e2ee07" class="idref" href="#f025fc6d249788ab370a73a7a6e2ee07"><span class="id" title="binder">π</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view:214"><span class="id" title="inductive">red_view</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c:216"><span class="id" title="variable">c</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#f025fc6d249788ab370a73a7a6e2ee07"><span class="id" title="variable">π</span></a><br/>
&nbsp;&nbsp;| <a id="red_view_LetIn" class="idref" href="#red_view_LetIn"><span class="id" title="constructor">red_view_LetIn</span></a> <a id="A:218" class="idref" href="#A:218"><span class="id" title="binder">A</span></a> <a id="b:219" class="idref" href="#b:219"><span class="id" title="binder">b</span></a> <a id="B:220" class="idref" href="#B:220"><span class="id" title="binder">B</span></a> <a id="c:221" class="idref" href="#c:221"><span class="id" title="binder">c</span></a> <a id="b55ce497ecfe4d5d6ef7f14a7446775e" class="idref" href="#b55ce497ecfe4d5d6ef7f14a7446775e"><span class="id" title="binder">π</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view:214"><span class="id" title="inductive">red_view</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:218"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#b:219"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#B:220"><span class="id" title="variable">B</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c:221"><span class="id" title="variable">c</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#b55ce497ecfe4d5d6ef7f14a7446775e"><span class="id" title="variable">π</span></a><br/>
&nbsp;&nbsp;| <a id="red_view_Const" class="idref" href="#red_view_Const"><span class="id" title="constructor">red_view_Const</span></a> <a id="c:223" class="idref" href="#c:223"><span class="id" title="binder">c</span></a> <a id="u:224" class="idref" href="#u:224"><span class="id" title="binder">u</span></a> <a id="10f099bba0de9b7cf9d363a9c4c56fe0" class="idref" href="#10f099bba0de9b7cf9d363a9c4c56fe0"><span class="id" title="binder">π</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view:214"><span class="id" title="inductive">red_view</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConst"><span class="id" title="constructor">tConst</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c:223"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:224"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#10f099bba0de9b7cf9d363a9c4c56fe0"><span class="id" title="variable">π</span></a><br/>
&nbsp;&nbsp;| <a id="red_view_App" class="idref" href="#red_view_App"><span class="id" title="constructor">red_view_App</span></a> <a id="f:226" class="idref" href="#f:226"><span class="id" title="binder">f</span></a> <a id="a:227" class="idref" href="#a:227"><span class="id" title="binder">a</span></a> <a id="4bec49ba644df975b9585f01825d9289" class="idref" href="#4bec49ba644df975b9585f01825d9289"><span class="id" title="binder">π</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view:214"><span class="id" title="inductive">red_view</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#f:226"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a:227"><span class="id" title="variable">a</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#4bec49ba644df975b9585f01825d9289"><span class="id" title="variable">π</span></a><br/>
&nbsp;&nbsp;| <a id="red_view_Lambda" class="idref" href="#red_view_Lambda"><span class="id" title="constructor">red_view_Lambda</span></a> <a id="na:229" class="idref" href="#na:229"><span class="id" title="binder">na</span></a> <a id="A:230" class="idref" href="#A:230"><span class="id" title="binder">A</span></a> <a id="t:231" class="idref" href="#t:231"><span class="id" title="binder">t</span></a> <a id="a:232" class="idref" href="#a:232"><span class="id" title="binder">a</span></a> <a id="args:233" class="idref" href="#args:233"><span class="id" title="binder">args</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view:214"><span class="id" title="inductive">red_view</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#na:229"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:230"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:231"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#App_l"><span class="id" title="constructor">App_l</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a:232"><span class="id" title="variable">a</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:233"><span class="id" title="variable">args</span></a>)<br/>
&nbsp;&nbsp;| <a id="red_view_Fix" class="idref" href="#red_view_Fix"><span class="id" title="constructor">red_view_Fix</span></a> <a id="mfix:234" class="idref" href="#mfix:234"><span class="id" title="binder">mfix</span></a> <a id="idx:235" class="idref" href="#idx:235"><span class="id" title="binder">idx</span></a> <a id="d1d435266196935a62a19161bdc90323" class="idref" href="#d1d435266196935a62a19161bdc90323"><span class="id" title="binder">π</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view:214"><span class="id" title="inductive">red_view</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#mfix:234"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#idx:235"><span class="id" title="variable">idx</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#d1d435266196935a62a19161bdc90323"><span class="id" title="variable">π</span></a><br/>
&nbsp;&nbsp;| <a id="red_view_Case" class="idref" href="#red_view_Case"><span class="id" title="constructor">red_view_Case</span></a> <a id="ci:237" class="idref" href="#ci:237"><span class="id" title="binder">ci</span></a> <a id="p:238" class="idref" href="#p:238"><span class="id" title="binder">p</span></a> <a id="c:239" class="idref" href="#c:239"><span class="id" title="binder">c</span></a> <a id="brs:240" class="idref" href="#brs:240"><span class="id" title="binder">brs</span></a> <a id="7826a6fcb94b3c1c48c1d80524044ba9" class="idref" href="#7826a6fcb94b3c1c48c1d80524044ba9"><span class="id" title="binder">π</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view:214"><span class="id" title="inductive">red_view</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ci:237"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:238"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c:239"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#brs:240"><span class="id" title="variable">brs</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#7826a6fcb94b3c1c48c1d80524044ba9"><span class="id" title="variable">π</span></a><br/>
&nbsp;&nbsp;| <a id="red_view_Proj" class="idref" href="#red_view_Proj"><span class="id" title="constructor">red_view_Proj</span></a> <a id="p:242" class="idref" href="#p:242"><span class="id" title="binder">p</span></a> <a id="c:243" class="idref" href="#c:243"><span class="id" title="binder">c</span></a> <a id="0ca47ffd971228d37de18aea137dd220" class="idref" href="#0ca47ffd971228d37de18aea137dd220"><span class="id" title="binder">π</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view:214"><span class="id" title="inductive">red_view</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:242"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c:243"><span class="id" title="variable">c</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#0ca47ffd971228d37de18aea137dd220"><span class="id" title="variable">π</span></a><br/>
&nbsp;&nbsp;| <a id="red_view_other" class="idref" href="#red_view_other"><span class="id" title="constructor">red_view_other</span></a> <a id="t:245" class="idref" href="#t:245"><span class="id" title="binder">t</span></a> <a id="7b14065602009c9991d0cf67e6e45f32" class="idref" href="#7b14065602009c9991d0cf67e6e45f32"><span class="id" title="binder">π</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_discr"><span class="id" title="definition">red_discr</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:245"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#7b14065602009c9991d0cf67e6e45f32"><span class="id" title="variable">π</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view:214"><span class="id" title="inductive">red_view</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:245"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#7b14065602009c9991d0cf67e6e45f32"><span class="id" title="variable">π</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span> <a id="red_viewc" class="idref" href="#red_viewc"><span class="id" title="definition">red_viewc</span></a> <a id="t:247" class="idref" href="#t:247"><span class="id" title="binder">t</span></a> <a id="2b896ebfe5ce31b2d2232c36bad99bd3" class="idref" href="#2b896ebfe5ce31b2d2232c36bad99bd3"><span class="id" title="binder">π</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view"><span class="id" title="inductive">red_view</span></a> <span class="id" title="var">t</span> π :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_viewc:252"><span class="id" title="definition">red_viewc</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c:250"><span class="id" title="variable">c</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#07cb74a8edd30e6ce278a88f16d81f4a"><span class="id" title="variable">π</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view_Rel"><span class="id" title="constructor">red_view_Rel</span></a> <span class="id" title="var">c</span> π ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_viewc:258"><span class="id" title="definition">red_viewc</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:253"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#b:255"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#B:254"><span class="id" title="variable">B</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c:256"><span class="id" title="variable">c</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#314e663b016739093774d366240de232"><span class="id" title="variable">π</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view_LetIn"><span class="id" title="constructor">red_view_LetIn</span></a> <span class="id" title="var">A</span> <span class="id" title="var">b</span> <span class="id" title="var">B</span> <span class="id" title="var">c</span> π ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_viewc:262"><span class="id" title="definition">red_viewc</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConst"><span class="id" title="constructor">tConst</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c:259"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:260"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cb8dd90ca0a0a79538c9e791f26d2313"><span class="id" title="variable">π</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view_Const"><span class="id" title="constructor">red_view_Const</span></a> <span class="id" title="var">c</span> <span class="id" title="var">u</span> π ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_viewc:266"><span class="id" title="definition">red_viewc</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#f:264"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a:263"><span class="id" title="variable">a</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#bc591dab7b64b2ba2caca0f2c8c974b0"><span class="id" title="variable">π</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view_App"><span class="id" title="constructor">red_view_App</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span> π ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_viewc:272"><span class="id" title="definition">red_viewc</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#na:270"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:267"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:271"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#App_l"><span class="id" title="constructor">App_l</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a:268"><span class="id" title="variable">a</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:269"><span class="id" title="variable">args</span></a>) := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view_Lambda"><span class="id" title="constructor">red_view_Lambda</span></a> <span class="id" title="var">na</span> <span class="id" title="var">A</span> <span class="id" title="var">t</span> <span class="id" title="var">a</span> <span class="id" title="var">args</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_viewc:276"><span class="id" title="definition">red_viewc</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#mfix:274"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#idx:273"><span class="id" title="variable">idx</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ad9bf0fbd0b9f499d7665e4687cc4766"><span class="id" title="variable">π</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view_Fix"><span class="id" title="constructor">red_view_Fix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> π ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_viewc:282"><span class="id" title="definition">red_viewc</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ci:279"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:280"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c:278"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#brs:277"><span class="id" title="variable">brs</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#fd36b1d72d137f1383ff5c809dd1e007"><span class="id" title="variable">π</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view_Case"><span class="id" title="constructor">red_view_Case</span></a> <span class="id" title="var">ci</span> <span class="id" title="var">p</span> <span class="id" title="var">c</span> <span class="id" title="var">brs</span> π ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_viewc:286"><span class="id" title="definition">red_viewc</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:284"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c:283"><span class="id" title="variable">c</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#88202c9fb04a88ec76d34f2d720a819f"><span class="id" title="variable">π</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view_Proj"><span class="id" title="constructor">red_view_Proj</span></a> <span class="id" title="var">p</span> <span class="id" title="var">c</span> π ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_viewc:289"><span class="id" title="definition">red_viewc</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:287"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#5948d3c3981acedaff9ab4a3ba8a9714"><span class="id" title="variable">π</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view_other"><span class="id" title="constructor">red_view_other</span></a> <span class="id" title="var">t</span> π <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span> <a id="discr_construct_cofix" class="idref" href="#discr_construct_cofix"><span class="id" title="definition">discr_construct_cofix</span></a> (<a id="t:290" class="idref" href="#t:290"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#discr_construct_cofix:295"><span class="id" title="definition">discr_construct_cofix</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ind:292"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#n:293"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ui:294"><span class="id" title="variable">ui</span></a>) := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#discr_construct_cofix:298"><span class="id" title="definition">discr_construct_cofix</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#mfix:297"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#idx:296"><span class="id" title="variable">idx</span></a>) := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#discr_construct_cofix:299"><span class="id" title="definition">discr_construct_cofix</span></a> <span class="id" title="var">_</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="construct_cofix_view" class="idref" href="#construct_cofix_view"><span class="id" title="definition, inductive"><span id="construct_cofix_view_rect" class="id"><span id="construct_cofix_view_ind" class="id"><span id="construct_cofix_view_rec" class="id"><span id="construct_cofix_view_sind" class="id">construct_cofix_view</span></span></span></span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="ccview_construct" class="idref" href="#ccview_construct"><span class="id" title="constructor">ccview_construct</span></a> : <span class="id" title="keyword">∀</span> <a id="ind:302" class="idref" href="#ind:302"><span class="id" title="binder">ind</span></a> <a id="n:303" class="idref" href="#n:303"><span class="id" title="binder">n</span></a> <a id="ui:304" class="idref" href="#ui:304"><span class="id" title="binder">ui</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#construct_cofix_view:300"><span class="id" title="inductive">construct_cofix_view</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ind:302"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#n:303"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ui:304"><span class="id" title="variable">ui</span></a>)<br/>
&nbsp;&nbsp;| <a id="ccview_cofix" class="idref" href="#ccview_cofix"><span class="id" title="constructor">ccview_cofix</span></a> : <span class="id" title="keyword">∀</span> <a id="mfix:305" class="idref" href="#mfix:305"><span class="id" title="binder">mfix</span></a> <a id="idx:306" class="idref" href="#idx:306"><span class="id" title="binder">idx</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#construct_cofix_view:300"><span class="id" title="inductive">construct_cofix_view</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#mfix:305"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#idx:306"><span class="id" title="variable">idx</span></a>)<br/>
&nbsp;&nbsp;| <a id="ccview_other" class="idref" href="#ccview_other"><span class="id" title="constructor">ccview_other</span></a> : <span class="id" title="keyword">∀</span> <a id="t:307" class="idref" href="#t:307"><span class="id" title="binder">t</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#discr_construct_cofix"><span class="id" title="definition">discr_construct_cofix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:307"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#construct_cofix_view:300"><span class="id" title="inductive">construct_cofix_view</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:307"><span class="id" title="variable">t</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span> <a id="cc_viewc" class="idref" href="#cc_viewc"><span class="id" title="definition">cc_viewc</span></a> <a id="t:308" class="idref" href="#t:308"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#construct_cofix_view"><span class="id" title="inductive">construct_cofix_view</span></a> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cc_viewc:313"><span class="id" title="definition">cc_viewc</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ind:310"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#n:311"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ui:312"><span class="id" title="variable">ui</span></a>) := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ccview_construct"><span class="id" title="constructor">ccview_construct</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">n</span> <span class="id" title="var">ui</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cc_viewc:316"><span class="id" title="definition">cc_viewc</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#mfix:315"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#idx:314"><span class="id" title="variable">idx</span></a>) := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ccview_cofix"><span class="id" title="constructor">ccview_cofix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cc_viewc:318"><span class="id" title="definition">cc_viewc</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:317"><span class="id" title="variable">t</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ccview_other"><span class="id" title="constructor">ccview_other</span></a> <span class="id" title="var">t</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span> <a id="discr_construct0_cofix" class="idref" href="#discr_construct0_cofix"><span class="id" title="definition">discr_construct0_cofix</span></a> (<a id="t:319" class="idref" href="#t:319"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#discr_construct0_cofix:324"><span class="id" title="definition">discr_construct0_cofix</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ind:321"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#n:322"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ui:323"><span class="id" title="variable">ui</span></a>) := <span class="id" title="var">n</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> 0 ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#discr_construct0_cofix:327"><span class="id" title="definition">discr_construct0_cofix</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#mfix:326"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#idx:325"><span class="id" title="variable">idx</span></a>) := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#discr_construct0_cofix:328"><span class="id" title="definition">discr_construct0_cofix</span></a> <span class="id" title="var">_</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="construct0_cofix_view" class="idref" href="#construct0_cofix_view"><span class="id" title="definition, inductive"><span id="construct0_cofix_view_rect" class="id"><span id="construct0_cofix_view_ind" class="id"><span id="construct0_cofix_view_rec" class="id"><span id="construct0_cofix_view_sind" class="id">construct0_cofix_view</span></span></span></span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="cc0view_construct" class="idref" href="#cc0view_construct"><span class="id" title="constructor">cc0view_construct</span></a> : <span class="id" title="keyword">∀</span> <a id="ind:331" class="idref" href="#ind:331"><span class="id" title="binder">ind</span></a> <a id="ui:332" class="idref" href="#ui:332"><span class="id" title="binder">ui</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#construct0_cofix_view:329"><span class="id" title="inductive">construct0_cofix_view</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ind:331"><span class="id" title="variable">ind</span></a> 0 <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ui:332"><span class="id" title="variable">ui</span></a>)<br/>
&nbsp;&nbsp;| <a id="cc0view_cofix" class="idref" href="#cc0view_cofix"><span class="id" title="constructor">cc0view_cofix</span></a> : <span class="id" title="keyword">∀</span> <a id="mfix:333" class="idref" href="#mfix:333"><span class="id" title="binder">mfix</span></a> <a id="idx:334" class="idref" href="#idx:334"><span class="id" title="binder">idx</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#construct0_cofix_view:329"><span class="id" title="inductive">construct0_cofix_view</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#mfix:333"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#idx:334"><span class="id" title="variable">idx</span></a>)<br/>
&nbsp;&nbsp;| <a id="cc0view_other" class="idref" href="#cc0view_other"><span class="id" title="constructor">cc0view_other</span></a> : <span class="id" title="keyword">∀</span> <a id="t:335" class="idref" href="#t:335"><span class="id" title="binder">t</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#discr_construct0_cofix"><span class="id" title="definition">discr_construct0_cofix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:335"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#construct0_cofix_view:329"><span class="id" title="inductive">construct0_cofix_view</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:335"><span class="id" title="variable">t</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span> <a id="cc0_viewc" class="idref" href="#cc0_viewc"><span class="id" title="definition">cc0_viewc</span></a> <a id="t:336" class="idref" href="#t:336"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#construct0_cofix_view"><span class="id" title="inductive">construct0_cofix_view</span></a> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cc0_viewc:340"><span class="id" title="definition">cc0_viewc</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ind:338"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">0</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ui:339"><span class="id" title="variable">ui</span></a>) := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cc0view_construct"><span class="id" title="constructor">cc0view_construct</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">ui</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cc0_viewc:343"><span class="id" title="definition">cc0_viewc</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#mfix:342"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#idx:341"><span class="id" title="variable">idx</span></a>) := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cc0view_cofix"><span class="id" title="constructor">cc0view_cofix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cc0_viewc:345"><span class="id" title="definition">cc0_viewc</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:344"><span class="id" title="variable">t</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cc0view_other"><span class="id" title="constructor">cc0view_other</span></a> <span class="id" title="var">t</span> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span> <a id="_reduce_stack" class="idref" href="#_reduce_stack"><span class="id" title="definition">_reduce_stack</span></a> (<a id="f3da416d3355a6637ad03835586ce387" class="idref" href="#f3da416d3355a6637ad03835586ce387"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) (<a id="t:347" class="idref" href="#t:347"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="409a899f220561cf905bddd2c584212b" class="idref" href="#409a899f220561cf905bddd2c584212b"><span class="id" title="binder">π</span></a> : <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack"><span class="id" title="definition">stack</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="h:351" class="idref" href="#h:351"><span class="id" title="binder">h</span></a> : <span class="id" title="keyword">∀</span> <a id="2ccc1d43512355426ebb24cd95a86fb5" class="idref" href="#2ccc1d43512355426ebb24cd95a86fb5"><span class="id" title="binder">Σ</span></a> (<a id="a39dad31a8d2edf15235d858886b6535" class="idref" href="#a39dad31a8d2edf15235d858886b6535"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#2ccc1d43512355426ebb24cd95a86fb5"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#2ccc1d43512355426ebb24cd95a86fb5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#f3da416d3355a6637ad03835586ce387"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:347"><span class="id" title="variable">t</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#409a899f220561cf905bddd2c584212b"><span class="id" title="variable">π</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="reduce:359" class="idref" href="#reduce:359"><span class="id" title="binder">reduce</span></a> : <span class="id" title="keyword">∀</span> <a id="t':352" class="idref" href="#t':352"><span class="id" title="binder">t'</span></a> <a id="5737917c111ce3ba215273b2fe29b53a" class="idref" href="#5737917c111ce3ba215273b2fe29b53a"><span class="id" title="binder">π'</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e000a89695372079151a1df60127b3be" class="idref" href="#e000a89695372079151a1df60127b3be"><span class="id" title="binder">Σ</span></a> (<a id="765f3cfb16389505056b3feac649eba6" class="idref" href="#765f3cfb16389505056b3feac649eba6"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#e000a89695372079151a1df60127b3be"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R"><span class="id" title="definition">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#e000a89695372079151a1df60127b3be"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#f3da416d3355a6637ad03835586ce387"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t':352"><span class="id" title="variable">t'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#5737917c111ce3ba215273b2fe29b53a"><span class="id" title="variable">π'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:347"><span class="id" title="variable">t</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#409a899f220561cf905bddd2c584212b"><span class="id" title="variable">π</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <a id="t'':356" class="idref" href="#t'':356"><span class="id" title="binder">t''</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack"><span class="id" title="definition">stack</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <span class="id" title="keyword">∀</span> <a id="4e4d13bd2d43126de138a3e7bb4e64b3" class="idref" href="#4e4d13bd2d43126de138a3e7bb4e64b3"><span class="id" title="binder">Σ</span></a> (<a id="53961f8808b042a2bbc0fcaa1bec96a7" class="idref" href="#53961f8808b042a2bbc0fcaa1bec96a7"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#4e4d13bd2d43126de138a3e7bb4e64b3"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Req"><span class="id" title="definition">Req</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#4e4d13bd2d43126de138a3e7bb4e64b3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#f3da416d3355a6637ad03835586ce387"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t'':356"><span class="id" title="variable">t''</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t':352"><span class="id" title="variable">t'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#5737917c111ce3ba215273b2fe29b53a"><span class="id" title="variable">π'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t'':356"><span class="id" title="variable">t''</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#5737917c111ce3ba215273b2fe29b53a"><span class="id" title="variable">π'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr'"><span class="id" title="definition">Pr'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t'':356"><span class="id" title="variable">t''</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <a id="t':360" class="idref" href="#t':360"><span class="id" title="binder">t'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack"><span class="id" title="definition">stack</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <span class="id" title="keyword">∀</span> <a id="ce8da5d286ab4eb6b7b055ba856a9683" class="idref" href="#ce8da5d286ab4eb6b7b055ba856a9683"><span class="id" title="binder">Σ</span></a> (<a id="ab7e3e67fbc9649a3e32f5eaf0979038" class="idref" href="#ab7e3e67fbc9649a3e32f5eaf0979038"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ce8da5d286ab4eb6b7b055ba856a9683"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Req"><span class="id" title="definition">Req</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ce8da5d286ab4eb6b7b055ba856a9683"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t':360"><span class="id" title="variable">t'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">t</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a>π<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t':360"><span class="id" title="variable">t'</span></a> π <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr'"><span class="id" title="definition">Pr'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t':360"><span class="id" title="variable">t'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a> :=<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#_reduce_stack:369"><span class="id" title="definition">_reduce_stack</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#60ae0d3c858d79cb126ad17ae7dde48a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:366"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#57ad5f6a0e114b1fcaed6b9918612363"><span class="id" title="variable">π</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#h:364"><span class="id" title="variable">h</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce:365"><span class="id" title="variable">reduce</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_viewc"><span class="id" title="definition">red_viewc</span></a> <span class="id" title="var">t</span> π := {<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view_Rel"><span class="id" title="constructor">red_view_Rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c:370"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#e67f33716a108d7a20a1128619293393"><span class="id" title="variable">π</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.zeta"><span class="id" title="projection">RedFlags.zeta</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.flags"><span class="id" title="variable">flags</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context"><span class="id" title="definition">stack_context</span></a> π) <span class="id" title="var">c</span>) := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eq:386"><span class="id" title="variable">eq</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#d:398"><span class="id" title="variable">d</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eq:399"><span class="id" title="variable">eq</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> <span class="id" title="var">d</span>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a>) := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">_</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#give"><span class="id" title="abbreviation">give</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <span class="id" title="var">c</span>) π ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#b:424"><span class="id" title="variable">b</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#H:423"><span class="id" title="variable">H</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#rec"><span class="id" title="abbreviation">rec</span></a> <span class="id" title="var">reduce</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lift0"><span class="id" title="abbreviation">lift0</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">b</span>) π<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#give"><span class="id" title="abbreviation">give</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <span class="id" title="var">c</span>) π<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} ;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view_LetIn"><span class="id" title="constructor">red_view_LetIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:446"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#b:448"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#B:447"><span class="id" title="variable">B</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c:449"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#e1b755d4aa24b2f9c98be0bf200f6f10"><span class="id" title="variable">π</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.zeta"><span class="id" title="projection">RedFlags.zeta</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.flags"><span class="id" title="variable">flags</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#rec"><span class="id" title="abbreviation">rec</span></a> <span class="id" title="var">reduce</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst10"><span class="id" title="abbreviation">subst10</span></a> <span class="id" title="var">b</span> <span class="id" title="var">c</span>) π ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#give"><span class="id" title="abbreviation">give</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <span class="id" title="var">A</span> <span class="id" title="var">b</span> <span class="id" title="var">B</span> <span class="id" title="var">c</span>) π<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} ;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view_Const"><span class="id" title="constructor">red_view_Const</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c:478"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:483"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#00c1b9554f62864fee51f3690423065f"><span class="id" title="variable">π</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.delta"><span class="id" title="projection">RedFlags.delta</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.flags"><span class="id" title="variable">flags</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup"><span class="id" title="method">abstract_env_lookup</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">c</span>) := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">{|</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_body"><span class="id" title="projection">cst_body</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">:=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#body:497"><span class="id" title="variable">body</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">|}))</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eq:499"><span class="id" title="variable">eq</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="body':1261" class="idref" href="#body':1261"><span class="id" title="binder">body'</span></a> := <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span> <span class="id" title="var">body</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#rec"><span class="id" title="abbreviation">rec</span></a> <span class="id" title="var">reduce</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#body':1261"><span class="id" title="variable">body'</span></a> π ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">_</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">))</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eq:512"><span class="id" title="variable">eq</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">_</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eq:525"><span class="id" title="variable">eq</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#give"><span class="id" title="abbreviation">give</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConst"><span class="id" title="constructor">tConst</span></a> <span class="id" title="var">c</span> <span class="id" title="var">u</span>) π ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eq:538"><span class="id" title="variable">eq</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#give"><span class="id" title="abbreviation">give</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConst"><span class="id" title="constructor">tConst</span></a> <span class="id" title="var">c</span> <span class="id" title="var">u</span>) π<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} ;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view_App"><span class="id" title="constructor">red_view_App</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#f:558"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a:557"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#e93596390326d8a2a41fa4343fd359f4"><span class="id" title="variable">π</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#rec"><span class="id" title="abbreviation">rec</span></a> <span class="id" title="var">reduce</span> <span class="id" title="var">f</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#App_l"><span class="id" title="constructor">App_l</span></a> <span class="id" title="var">a</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> π) ;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view_Lambda"><span class="id" title="constructor">red_view_Lambda</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#na:569"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:565"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:572"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a:566"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:567"><span class="id" title="variable">args</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.beta"><span class="id" title="projection">RedFlags.beta</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.flags"><span class="id" title="variable">flags</span></a>) := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eq1:578"><span class="id" title="variable">eq1</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#rec"><span class="id" title="abbreviation">rec</span></a> <span class="id" title="var">reduce</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst10"><span class="id" title="abbreviation">subst10</span></a> <span class="id" title="var">a</span> <span class="id" title="var">t</span>) <span class="id" title="var">args</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eq1:591"><span class="id" title="variable">eq1</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#give"><span class="id" title="abbreviation">give</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">na</span> <span class="id" title="var">A</span> <span class="id" title="var">t</span>) (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#App_l"><span class="id" title="constructor">App_l</span></a> <span class="id" title="var">a</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">args</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} ;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view_Fix"><span class="id" title="constructor">red_view_Fix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#mfix:603"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#idx:602"><span class="id" title="variable">idx</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#bfa6ef946bbe466a139b2f979b950400"><span class="id" title="variable">π</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.fix_"><span class="id" title="projection">RedFlags.fix_</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.flags"><span class="id" title="variable">flags</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>) := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#narg:625"><span class="id" title="variable">narg</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#fn:620"><span class="id" title="variable">fn</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eq1:618"><span class="id" title="variable">eq1</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_at"><span class="id" title="definition">decompose_stack_at</span></a> π <span class="id" title="var">narg</span>) := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:632"><span class="id" title="variable">args</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c:633"><span class="id" title="variable">c</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#6d913702babd641c4450f48e3f20ef9b"><span class="id" title="variable">ρ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eq2:636"><span class="id" title="variable">eq2</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (<span class="id" title="var">reduce</span> <span class="id" title="var">c</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#Fix_app"><span class="id" title="constructor">Fix_app</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> <span class="id" title="var">args</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> ρ) <span class="id" title="var">_</span>) := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">(@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:667"><span class="id" title="variable">t</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#d89a97d3374e4a64f2dda1888c4dde04"><span class="id" title="variable">ρ'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#prf:664"><span class="id" title="variable">prf</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eq3:656"><span class="id" title="variable">eq3</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#construct_viewc"><span class="id" title="definition">construct_viewc</span></a> <span class="id" title="var">t</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#view_construct"><span class="id" title="constructor">view_construct</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ind:684"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#n:687"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ui:693"><span class="id" title="variable">ui</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> ρ') := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#l:714"><span class="id" title="variable">l</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#fd32f2459d68e8517a24b2e8740361ab"><span class="id" title="variable">θ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eq4:707"><span class="id" title="variable">eq4</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#rec"><span class="id" title="abbreviation">rec</span></a> <span class="id" title="var">reduce</span> <span class="id" title="var">fn</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#appstack"><span class="id" title="definition">appstack</span></a> <span class="id" title="var">args</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#App_l"><span class="id" title="constructor">App_l</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">n</span> <span class="id" title="var">ui</span>) <span class="id" title="var">l</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> ρ))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#view_other"><span class="id" title="constructor">view_other</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:747"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ht:739"><span class="id" title="variable">ht</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> ρ') := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#l:768"><span class="id" title="variable">l</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#1ca67697ab439f32d6e7f82a21f61080"><span class="id" title="variable">θ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eq4:761"><span class="id" title="variable">eq4</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#give"><span class="id" title="abbreviation">give</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>) (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#appstack"><span class="id" title="definition">appstack</span></a> <span class="id" title="var">args</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#App_l"><span class="id" title="constructor">App_l</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <span class="id" title="var">t</span> <span class="id" title="var">l</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> ρ))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#give"><span class="id" title="abbreviation">give</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>) π<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#give"><span class="id" title="abbreviation">give</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>) π<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#give"><span class="id" title="abbreviation">give</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>) π<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} ;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view_Case"><span class="id" title="constructor">red_view_Case</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ci:818"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:820"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c:817"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#brs:816"><span class="id" title="variable">brs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#3634fc26d0134911402abe23a85da839"><span class="id" title="variable">π</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.iota"><span class="id" title="projection">RedFlags.iota</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.flags"><span class="id" title="variable">flags</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (<span class="id" title="var">reduce</span> <span class="id" title="var">c</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#Case_discr"><span class="id" title="constructor">Case_discr</span></a> <span class="id" title="var">ci</span> <span class="id" title="var">p</span> <span class="id" title="var">brs</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> π) <span class="id" title="var">_</span>) := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">(@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:848"><span class="id" title="variable">t</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#7e3b607fceb6f61d639a453e6e77bfa9"><span class="id" title="variable">π'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#prf:845"><span class="id" title="variable">prf</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eq:840"><span class="id" title="variable">eq</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> π') := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:852"><span class="id" title="variable">args</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#e77d44a7c98437764234b2d446d7e4d1"><span class="id" title="variable">ρ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#prf':863"><span class="id" title="variable">prf'</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cc_viewc"><span class="id" title="definition">cc_viewc</span></a> <span class="id" title="var">t</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ccview_construct"><span class="id" title="constructor">ccview_construct</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ind':881"><span class="id" title="variable">ind'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c':874"><span class="id" title="variable">c'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inst':883"><span class="id" title="variable">inst'</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">brs</span> <span class="id" title="var">c'</span>) := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#br:895"><span class="id" title="variable">br</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eqbr:903"><span class="id" title="variable">eqbr</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#rec"><span class="id" title="abbreviation">rec</span></a> <span class="id" title="var">reduce</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#iota_red"><span class="id" title="definition">iota_red</span></a> <span class="id" title="var">ci</span>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#ci_npar"><span class="id" title="projection">ci_npar</span></a>) <span class="id" title="var">p</span> <span class="id" title="var">args</span> <span class="id" title="var">br</span>) π ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#bot:921"><span class="id" title="variable">bot</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> } ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ccview_cofix"><span class="id" title="constructor">ccview_cofix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#mfix:956"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#idx:954"><span class="id" title="variable">idx</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#unfold_cofix"><span class="id" title="definition">unfold_cofix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>) := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#narg:981"><span class="id" title="variable">narg</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#fn:976"><span class="id" title="variable">fn</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eq':974"><span class="id" title="variable">eq'</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#rec"><span class="id" title="abbreviation">rec</span></a> <span class="id" title="var">reduce</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <span class="id" title="var">ci</span> <span class="id" title="var">p</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <span class="id" title="var">fn</span> <span class="id" title="var">args</span>) <span class="id" title="var">brs</span>) π ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#bot:994"><span class="id" title="variable">bot</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ccview_other"><span class="id" title="constructor">ccview_other</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1033"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ht:1026"><span class="id" title="variable">ht</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#give"><span class="id" title="abbreviation">give</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <span class="id" title="var">ci</span> <span class="id" title="var">p</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <span class="id" title="var">t</span> <span class="id" title="var">args</span>) <span class="id" title="var">brs</span>) π<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#give"><span class="id" title="abbreviation">give</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <span class="id" title="var">ci</span> <span class="id" title="var">p</span> <span class="id" title="var">c</span> <span class="id" title="var">brs</span>) π<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} ;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view_Proj"><span class="id" title="constructor">red_view_Proj</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:1051"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c:1049"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#39b3bc04aa1dac50398ebc99c82acaa7"><span class="id" title="variable">π</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.iota"><span class="id" title="projection">RedFlags.iota</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.flags"><span class="id" title="variable">flags</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (<span class="id" title="var">reduce</span> <span class="id" title="var">c</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#Proj"><span class="id" title="constructor">Proj</span></a> <span class="id" title="var">p</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> π) <span class="id" title="var">_</span>) := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">(@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1075"><span class="id" title="variable">t</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#4a6a7e4fa5190d5dc35b9b5dcf7b7cf1"><span class="id" title="variable">π'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#prf:1072"><span class="id" title="variable">prf</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eq:1067"><span class="id" title="variable">eq</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> π') := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:1079"><span class="id" title="variable">args</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#44e04a28f3270cd6ed0e23329a48522f"><span class="id" title="variable">ρ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#prf':1088"><span class="id" title="variable">prf'</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cc0_viewc"><span class="id" title="definition">cc0_viewc</span></a> <span class="id" title="var">t</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cc0view_construct"><span class="id" title="constructor">cc0view_construct</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ind':1103"><span class="id" title="variable">ind'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cc0view_construct"><span class="id" title="constructor">_</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">args</span> (<span class="id" title="var">p</span>.(<a class="idref" href="MetaRocq.Common.Kernames.html#proj_npars"><span class="id" title="projection">proj_npars</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">p</span>.(<a class="idref" href="MetaRocq.Common.Kernames.html#proj_arg"><span class="id" title="projection">proj_arg</span></a>))) := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#arg:1115"><span class="id" title="variable">arg</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eqa:1121"><span class="id" title="variable">eqa</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#rec"><span class="id" title="abbreviation">rec</span></a> <span class="id" title="var">reduce</span> <span class="id" title="var">arg</span> π ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eqa:1143"><span class="id" title="variable">eqa</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cc0view_cofix"><span class="id" title="constructor">cc0view_cofix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#mfix:1169"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#idx:1167"><span class="id" title="variable">idx</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#unfold_cofix"><span class="id" title="definition">unfold_cofix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>) := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#rarg:1195"><span class="id" title="variable">rarg</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#fn:1187"><span class="id" title="variable">fn</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eq':1185"><span class="id" title="variable">eq'</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#rec"><span class="id" title="abbreviation">rec</span></a> <span class="id" title="var">reduce</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <span class="id" title="var">p</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <span class="id" title="var">fn</span> <span class="id" title="var">args</span>)) π ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">@</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#bot:1205"><span class="id" title="variable">bot</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cc0view_other"><span class="id" title="constructor">cc0view_other</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1240"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ht:1233"><span class="id" title="variable">ht</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#give"><span class="id" title="abbreviation">give</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <span class="id" title="var">p</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <span class="id" title="var">t</span> <span class="id" title="var">args</span>)) π<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#give"><span class="id" title="abbreviation">give</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <span class="id" title="var">p</span> <span class="id" title="var">c</span>) π<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} ;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_view_other"><span class="id" title="constructor">red_view_other</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1258"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#7dfb26b4c3a85a78596f54c25591d312"><span class="id" title="variable">π</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#discr:1254"><span class="id" title="variable">discr</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#give"><span class="id" title="abbreviation">give</span></a> <span class="id" title="var">t</span> π<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red1_context"><span class="id" title="lemma">red1_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red_rel"><span class="id" title="constructor">red_rel</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">eq</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hΣ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#welltyped_context"><span class="id" title="lemma">welltyped_context</span></a> <span class="id" title="var">_</span> <span class="id" title="var">hΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">h</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">eq</span> <span class="id" title="var">hc</span> <span class="id" title="var">hΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">c</span> <span class="id" title="var">hc</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context"><span class="id" title="definition">stack_context</span></a> π) <span class="id" title="keyword">as</span> <span class="id" title="var">Δ</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Γ</span> π.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Γ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> ; <span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">hc</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">A</span> <span class="id" title="var">h</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Rel"><span class="id" title="lemma">inversion_Rel</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hh</span> ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hh</span> <span class="id" title="keyword">as</span> [? [? [<span class="id" title="var">e</span> ?]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">discriminate</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHΓ</span> ; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">A</span> <span class="id" title="var">h</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Rel"><span class="id" title="lemma">inversion_Rel</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hh</span> ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hh</span> <span class="id" title="keyword">as</span> [? [? [<span class="id" title="var">e</span> ?]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red1_context"><span class="id" title="lemma">red1_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red1_context"><span class="id" title="lemma">red1_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_constant"><span class="id" title="definition">declared_constant</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_constant_gen"><span class="id" title="definition">declared_constant_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup_correct"><span class="id" title="method">abstract_env_lookup_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">eq</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wΣ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">h</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#welltyped_context"><span class="id" title="lemma">welltyped_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> ; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> <span class="id" title="var">h</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Const"><span class="id" title="lemma">inversion_Const</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">decl</span> [? [<span class="id" title="var">d</span> [? ?]]]] ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_constant"><span class="id" title="definition">declared_constant</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_constant_gen"><span class="id" title="definition">declared_constant_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup_correct"><span class="id" title="method">abstract_env_lookup_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>), &lt;- <span class="id" title="var">eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wΣ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">h</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#welltyped_context"><span class="id" title="lemma">welltyped_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> ; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> <span class="id" title="var">h</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Const"><span class="id" title="lemma">inversion_Const</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">decl</span> [? [<span class="id" title="var">d</span> [? ?]]]] ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_constant"><span class="id" title="definition">declared_constant</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_constant_gen"><span class="id" title="definition">declared_constant_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup_correct"><span class="id" title="method">abstract_env_lookup_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>), &lt;- <span class="id" title="var">eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#posR"><span class="id" title="definition">posR</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_position_cons"><span class="id" title="lemma">stack_position_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#positionR_poscat_nonil"><span class="id" title="lemma">positionR_poscat_nonil</span></a>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> π). <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> ρ <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red1_context"><span class="id" title="lemma">red1_context</span></a>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> <span class="id" title="var">args</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> ρ <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">β</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq1</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_at_eq"><span class="id" title="lemma">decompose_stack_at_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">eq2</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R_positionR"><span class="id" title="lemma">R_positionR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_position_appstack"><span class="id" title="lemma">stack_position_appstack</span></a>, !<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_position_cons"><span class="id" title="lemma">stack_position_cons</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#positionR_poscat"><span class="id" title="lemma">positionR_poscat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> π). <span class="id" title="tactic">intros</span> <span class="id" title="var">ll</span> π' <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">eq3</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">prf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> [<span class="id" title="var">p</span> <span class="id" title="var">p0</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_at_eq"><span class="id" title="lemma">decompose_stack_at_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">eq2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_at_length"><span class="id" title="lemma">decompose_stack_at_length</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">eq2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> ρ). <span class="id" title="tactic">intros</span> <span class="id" title="var">l'</span> <span class="id" title="var">θ'</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e'</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_appstack"><span class="id" title="lemma">decompose_stack_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> ρ'). <span class="id" title="tactic">intros</span> <span class="id" title="var">ll</span> <span class="id" title="var">s</span> <span class="id" title="var">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e1</span>). <span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R_Req_R"><span class="id" title="lemma">R_Req_R</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">instantiate</span> (1 := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#appstack"><span class="id" title="definition">appstack</span></a> (<span class="id" title="var">args</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">n</span> <span class="id" title="var">ui</span>) <span class="id" title="var">l</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l'</span>) π'<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">zip</span> <span class="id" title="tactic">fold</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#cored_context"><span class="id" title="lemma">cored_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> <a id="args:1262" class="idref" href="#args:1262"><span class="id" title="binder"><span id="args:1266" class="id">args</span></span></a> <a id="l:1263" class="idref" href="#l:1263"><span class="id" title="binder"><span id="l:1267" class="id">l</span></span></a> <a id="u:1264" class="idref" href="#u:1264"><span class="id" title="binder"><span id="u:1268" class="id">u</span></span></a> <a id="v:1265" class="idref" href="#v:1265"><span class="id" title="binder"><span id="v:1269" class="id">v</span></span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:1264"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:1262"><span class="id" title="variable">args</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#v:1265"><span class="id" title="variable">v</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#l:1263"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:1264"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:1262"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#v:1265"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#l:1263"><span class="id" title="variable">l</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">thm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">args</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">args</span> ; <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHargs</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">thm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red_fix"><span class="id" title="constructor">red_fix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#is_constructor"><span class="id" title="definition">is_constructor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_app2"><span class="id" title="lemma">nth_error_app2</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">args</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">args</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="keyword">with</span> 0 <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#isConstruct_app"><span class="id" title="definition">isConstruct_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app_mkApps"><span class="id" title="lemma">decompose_app_mkApps</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq4</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">eq4</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">discriminate</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_appstack"><span class="id" title="lemma">decompose_stack_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> <span class="id" title="var">s</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">l0</span> <span class="id" title="var">s0</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq4</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq4</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">eq4</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">eq4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">ee</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ee</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ee</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H0</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- ?<span class="id" title="var">A</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">e</span> := <span class="id" title="tactic">fresh</span> "e" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">B</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">A</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">B</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">e</span> ; [| <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> ; <span class="id" title="tactic">assumption</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">t</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">n</span> <span class="id" title="var">ui</span>). <span class="id" title="var">clearbody</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">f</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>). <span class="id" title="var">clearbody</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">clear</span>. <span class="id" title="var">revert</span> <span class="id" title="var">ll</span> π' <span class="id" title="var">l'</span> <span class="id" title="var">t</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">args</span> ; <span class="id" title="tactic">intros</span> <span class="id" title="var">ll</span> π' <span class="id" title="var">l'</span> <span class="id" title="var">t</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHargs</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">clear</span>. <span class="id" title="var">revert</span> π' <span class="id" title="var">l'</span> <span class="id" title="var">c</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">args</span> ; <span class="id" title="tactic">intros</span> π' <span class="id" title="var">l'</span> <span class="id" title="var">c</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHargs</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">ee</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ee</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_not_app"><span class="id" title="lemma">decompose_stack_not_app</span></a>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_inj"><span class="id" title="lemma">zipc_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#mkApps_inj"><span class="id" title="lemma">PCUICAstUtils.mkApps_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq4</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">eq4</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_appstack"><span class="id" title="lemma">decompose_stack_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> ρ). <span class="id" title="tactic">intros</span> <span class="id" title="var">l1</span> ρ1 <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">eq3</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_at_eq"><span class="id" title="lemma">decompose_stack_at_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">eq2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_appstack"><span class="id" title="lemma">decompose_stack_appstack</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> π). <span class="id" title="tactic">intros</span> <span class="id" title="var">ll</span> π' <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">eq3</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">prf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> [<span class="id" title="var">p</span> <span class="id" title="var">p0</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_at_eq"><span class="id" title="lemma">decompose_stack_at_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">eq2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_at_length"><span class="id" title="lemma">decompose_stack_at_length</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">eq2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> ρ). <span class="id" title="tactic">intros</span> <span class="id" title="var">l'</span> <span class="id" title="var">θ'</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e'</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_appstack"><span class="id" title="lemma">decompose_stack_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq4</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq4</span> <span class="id" title="keyword">as</span> ?. <span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> | <span class="id" title="var">r</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>. 2: <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq4</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_inj"><span class="id" title="lemma">zipc_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#mkApps_inj"><span class="id" title="lemma">PCUICAstUtils.mkApps_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">eq3</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">prf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> [<span class="id" title="var">p</span> <span class="id" title="var">p0</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq4</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_appstack"><span class="id" title="lemma">decompose_stack_appstack</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> π). <span class="id" title="tactic">intros</span> <span class="id" title="var">ll</span> π' <span class="id" title="var">e</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_at_eq"><span class="id" title="lemma">decompose_stack_at_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">eq2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_at_length"><span class="id" title="lemma">decompose_stack_at_length</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">eq2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> ρ). <span class="id" title="tactic">intros</span> <span class="id" title="var">l'</span> <span class="id" title="var">θ'</span> <span class="id" title="var">e'</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e'</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_appstack"><span class="id" title="lemma">decompose_stack_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#posR"><span class="id" title="definition">posR</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_position_cons"><span class="id" title="lemma">stack_position_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#positionR_poscat_nonil"><span class="id" title="lemma">positionR_poscat_nonil</span></a>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">hΣ</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">prf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> [<span class="id" title="var">p0</span> <span class="id" title="var">p1</span>]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">p0</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">p0</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">prf'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hh</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hh</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a>, <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Req_red"><span class="id" title="lemma">Req_red</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> <span class="id" title="var">r'</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">h</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_welltyped"><span class="id" title="lemma">red_welltyped</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r'</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">zip</span> <span class="id" title="tactic">fold</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#welltyped_context"><span class="id" title="lemma">welltyped_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r'</span> <span class="id" title="keyword">as</span> (?&amp;<span class="id" title="var">typ</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInductiveInversion.html#invert_Case_Construct"><span class="id" title="lemma">PCUICInductiveInversion.invert_Case_Construct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">typ</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">now</span> <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;<span class="id" title="var">nth</span>&amp;?); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">nth</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eqbr</span>; <span class="id" title="var">noconf</span> <span class="id" title="var">eqbr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#cored_red_cored"><span class="id" title="lemma">cored_red_cored</span></a>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">zip</span> <span class="id" title="tactic">fold</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red1_context"><span class="id" title="lemma">red1_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red_iota"><span class="id" title="constructor">red_iota</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hΣ</span>]. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">prf</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>)  <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> [<span class="id" title="var">p0</span> <span class="id" title="var">p1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">p0</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">p0</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">prf'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hh</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hh</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a>, <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Req_red"><span class="id" title="lemma">Req_red</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> <span class="id" title="var">r'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_welltyped"><span class="id" title="lemma">red_welltyped</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">zip</span> <span class="id" title="tactic">fold</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#welltyped_context"><span class="id" title="lemma">welltyped_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> (?&amp;<span class="id" title="var">typ</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInductiveInversion.html#invert_Case_Construct"><span class="id" title="lemma">PCUICInductiveInversion.invert_Case_Construct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">typ</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">now</span> <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;<span class="id" title="var">nth</span>&amp;?); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">nth</span> <span class="id" title="tactic">in</span> <span class="id" title="var">bot</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hΣ</span>]. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">prf</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>)  <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> [<span class="id" title="var">p0</span> <span class="id" title="var">p1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">p0</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">p0</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">prf'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hh</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hh</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a>, <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Req_red"><span class="id" title="lemma">Req_red</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">hΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> <span class="id" title="var">r'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_welltyped"><span class="id" title="lemma">red_welltyped</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">zip</span> <span class="id" title="tactic">fold</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#welltyped_context"><span class="id" title="lemma">welltyped_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> (?&amp;<span class="id" title="var">typ</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#cored_red_cored"><span class="id" title="lemma">cored_red_cored</span></a>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">zip</span> <span class="id" title="tactic">fold</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r'</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">r'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red1_context"><span class="id" title="lemma">red1_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red_cofix_case"><span class="id" title="constructor">red_cofix_case</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hΣ</span>]. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">prf</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>)  <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> [<span class="id" title="var">p0</span> <span class="id" title="var">p1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">p0</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">p0</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">prf'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hh</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hh</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a>, <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Req_red"><span class="id" title="lemma">Req_red</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> <span class="id" title="var">r'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_welltyped"><span class="id" title="lemma">red_welltyped</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">zip</span> <span class="id" title="tactic">fold</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#welltyped_context"><span class="id" title="lemma">welltyped_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> (?&amp;<span class="id" title="var">typ</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_CoFix"><span class="id" title="lemma">inversion_CoFix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">typ</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#unfold_cofix"><span class="id" title="definition">unfold_cofix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">bot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">bot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">eq</span> <span class="id" title="var">reduce</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hΣ</span>]. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">prf</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>)  <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> [<span class="id" title="var">p0</span> <span class="id" title="var">p1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">prf'</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">p0</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">prf'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p0</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p0</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">prf'</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">prf'</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_inj"><span class="id" title="lemma">zipc_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#posR"><span class="id" title="definition">posR</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_position_cons"><span class="id" title="lemma">stack_position_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#positionR_poscat"><span class="id" title="lemma">positionR_poscat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">hΣ</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">prf</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>)  <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> [<span class="id" title="var">p'</span> <span class="id" title="var">p0</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Req_red"><span class="id" title="lemma">Req_red</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_welltyped"><span class="id" title="lemma">red_welltyped</span></a> <span class="id" title="var">_</span> <span class="id" title="var">hΣ</span> (<span class="id" title="var">h</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="var">hr</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#cored_red_cored"><span class="id" title="lemma">cored_red_cored</span></a> ; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">p'</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p'</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">p'</span> <span class="id" title="keyword">as</span> <span class="id" title="var">p''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">prf'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p''</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p''</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span> <span class="id" title="keyword">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">zip</span> <span class="id" title="tactic">fold</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#cored_context"><span class="id" title="lemma">cored_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hh</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hh</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">zip</span> <span class="id" title="tactic">fold</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hh</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#welltyped_context"><span class="id" title="lemma">welltyped_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hh</span>. 2: <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hh</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#Proj_Construct_ind_eq"><span class="id" title="lemma">Proj_Construct_ind_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hh</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hΣ</span>]. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">prf</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>)  <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> [<span class="id" title="var">pr</span> <span class="id" title="var">p0</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">pr</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">pr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">pr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">p'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">prf'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p'</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p'</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span> <span class="id" title="keyword">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Req_red"><span class="id" title="lemma">Req_red</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_welltyped"><span class="id" title="lemma">red_welltyped</span></a> <span class="id" title="var">_</span> <span class="id" title="var">hΣ</span> (<span class="id" title="var">h</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="var">hr</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hh</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hh</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">zip</span> <span class="id" title="tactic">fold</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#welltyped_context"><span class="id" title="lemma">welltyped_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hh</span>. 2: <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#Proj_red_cond"><span class="id" title="lemma">Proj_red_cond</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hh</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hΣ</span>]. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">prf</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>)  <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> [<span class="id" title="var">pr</span> <span class="id" title="var">p0</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">pr</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">pr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">pr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">p'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">prf'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p'</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p'</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#cored_context"><span class="id" title="lemma">cored_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">prf'</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red_cofix_proj"><span class="id" title="constructor">red_cofix_proj</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">args</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>). <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span> <span class="id" title="keyword">as</span> ?. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#cored_trans'"><span class="id" title="lemma">cored_trans'</span></a> ; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">zip</span> <span class="id" title="tactic">fold</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#cored_context"><span class="id" title="lemma">cored_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red_cofix_proj"><span class="id" title="constructor">red_cofix_proj</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">y'</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span> <span class="id" title="keyword">as</span> ?. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">zip</span> <span class="id" title="tactic">fold</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#cored_context"><span class="id" title="lemma">cored_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red_cofix_proj"><span class="id" title="constructor">red_cofix_proj</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hΣ</span>]. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">prf</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>)  <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> [<span class="id" title="var">pr</span> <span class="id" title="var">p0</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">pr</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">pr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">pr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">p'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">prf'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p'</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p'</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h'</span> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <span class="id" title="var">p</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>) <span class="id" title="var">args</span>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> π<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">prf'</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#cored_red"><span class="id" title="lemma">cored_red</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_welltyped"><span class="id" title="lemma">red_welltyped</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">y'</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H2</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <span class="id" title="var">p</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>) <span class="id" title="var">args</span>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> π<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#appstack"><span class="id" title="definition">appstack</span></a> <span class="id" title="var">args</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#Proj"><span class="id" title="constructor">Proj</span></a> <span class="id" title="var">p</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> π)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">h'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#welltyped_context"><span class="id" title="lemma">welltyped_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h'</span> ; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> <span class="id" title="var">h'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_CoFix"><span class="id" title="lemma">inversion_CoFix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h'</span> ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">decl</span> [? [<span class="id" title="var">e</span> [? [? ?]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#unfold_cofix"><span class="id" title="definition">unfold_cofix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">bot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">bot</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hΣ</span>]. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">prf</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>)  <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> [<span class="id" title="var">pr</span> <span class="id" title="var">p0</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">prf'</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">pr</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">pr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">prf'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">pr</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">pr</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">prf'</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">prf'</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_inj"><span class="id" title="lemma">zipc_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">discr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_funelim</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_discr"><span class="id" title="definition">red_discr</span></a> <span class="id" title="var">t</span> π). <span class="id" title="var">all</span>: <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">discr</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_funelim</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_discr"><span class="id" title="definition">red_discr</span></a> <span class="id" title="var">t</span> π). <span class="id" title="var">all</span>: <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="welltyped_R_pres" class="idref" href="#welltyped_R_pres"><span class="id" title="lemma">welltyped_R_pres</span></a> <a id="95d126ece584295db4c419fd1557ca0f" class="idref" href="#95d126ece584295db4c419fd1557ca0f"><span class="id" title="binder">Σ</span></a> (<a id="7dcbffb5ff92c7bebb8287d4ee7cf137" class="idref" href="#7dcbffb5ff92c7bebb8287d4ee7cf137"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#95d126ece584295db4c419fd1557ca0f"><span class="id" title="variable">Σ</span></a>) <a id="9de1517a595acac21e038f5ab59d48b2" class="idref" href="#9de1517a595acac21e038f5ab59d48b2"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:1273" class="idref" href="#x:1273"><span class="id" title="binder">x</span></a> <a id="y:1274" class="idref" href="#y:1274"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack"><span class="id" title="definition">stack</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#95d126ece584295db4c419fd1557ca0f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9de1517a595acac21e038f5ab59d48b2"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:1273"><span class="id" title="variable">x</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R"><span class="id" title="definition">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#95d126ece584295db4c419fd1557ca0f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9de1517a595acac21e038f5ab59d48b2"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#y:1274"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:1273"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#95d126ece584295db4c419fd1557ca0f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9de1517a595acac21e038f5ab59d48b2"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#y:1274"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">H</span> <span class="id" title="var">HR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">heΣ</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#e13e9e4849f1b26670f1b852ea178571"><span class="id" title="definition">heΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">hΣ</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> π<span class="id" title="var">x</span>], <span class="id" title="var">y</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">y</span> π<span class="id" title="var">y</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">HR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cored_welltyped"><span class="id" title="lemma">cored_welltyped</span></a>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">revert</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">intros</span> [= <span class="id" title="var">H2</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="Reduce.reducewf" class="idref" href="#Reduce.reducewf"><span class="id" title="section">reducewf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="9a41925b3e9c67d020e4de0cd5d8f46a" class="idref" href="#9a41925b3e9c67d020e4de0cd5d8f46a"><span class="id" title="variable">Γ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="sigmaarg" class="idref" href="#sigmaarg"><span class="id" title="abbreviation">sigmaarg</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="record">sigma</span> (<span class="id" title="keyword">fun</span> <a id="t:1276" class="idref" href="#t:1276"><span class="id" title="binder">t</span></a> ⇒ <span class="id" title="record">sigma</span> (<span class="id" title="keyword">fun</span> <a id="d915ac6b38c9ff33002f067db770a6d2" class="idref" href="#d915ac6b38c9ff33002f067db770a6d2"><span class="id" title="binder">π</span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="2016157e2be5b25152292891057ee211" class="idref" href="#2016157e2be5b25152292891057ee211"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#2016157e2be5b25152292891057ee211"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#2016157e2be5b25152292891057ee211"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9a41925b3e9c67d020e4de0cd5d8f46a"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc"><span class="id" title="definition">zipc</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1276"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#d915ac6b38c9ff33002f067db770a6d2"><span class="id" title="variable">π</span></a>)))).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local Instance</span> <a id="wf_proof" class="idref" href="#wf_proof"><span class="id" title="instance">wf_proof</span></a> : <span class="id" title="class">WellFounded</span> (<span class="id" title="keyword">fun</span> <a id="x:1279" class="idref" href="#x:1279"><span class="id" title="binder">x</span></a> <a id="y:1280" class="idref" href="#y:1280"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#sigmaarg"><span class="id" title="abbreviation">sigmaarg</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="65460986d6c85ec7ae48e38cdb4a00a8" class="idref" href="#65460986d6c85ec7ae48e38cdb4a00a8"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#65460986d6c85ec7ae48e38cdb4a00a8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R"><span class="id" title="definition">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#65460986d6c85ec7ae48e38cdb4a00a8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9a41925b3e9c67d020e4de0cd5d8f46a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="projection">pr1</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:1279"><span class="id" title="variable">x</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="projection">pr1</span> (<span class="id" title="projection">pr2</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:1279"><span class="id" title="variable">x</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="projection">pr1</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#y:1280"><span class="id" title="variable">y</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="projection">pr1</span> (<span class="id" title="projection">pr2</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#y:1280"><span class="id" title="variable">y</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">normalization_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">t</span> [π <span class="id" title="var">wt</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Acc_intro_generator"><span class="id" title="definition">Acc_intro_generator</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">R</span>:=<span class="id" title="keyword">fun</span> <a id="x:1289" class="idref" href="#x:1289"><span class="id" title="binder"><span id="x:1300" class="id">x</span></span></a> <a id="y:1290" class="idref" href="#y:1290"><span class="id" title="binder"><span id="y:1301" class="id">y</span></span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#sigmaarg"><span class="id" title="abbreviation">sigmaarg</span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="e36cdd52b3fe19c8297b0a139ae3b76e" class="idref" href="#e36cdd52b3fe19c8297b0a139ae3b76e"><span class="id" title="binder"><span id="8785b84607134968b3511348ace2ab77" class="id">Σ</span></span></a> (<a id="7ccbeb2ad756d94239959abdc7bfcccb" class="idref" href="#7ccbeb2ad756d94239959abdc7bfcccb"><span class="id" title="binder"><span id="0e8e5adf0ebd4154aaa05471137efd69" class="id">wfΣ</span></span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#e36cdd52b3fe19c8297b0a139ae3b76e"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R"><span class="id" title="definition">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#e36cdd52b3fe19c8297b0a139ae3b76e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9a41925b3e9c67d020e4de0cd5d8f46a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:1289"><span class="id" title="variable">x</span></a>.(<span class="id" title="projection">pr1</span>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:1289"><span class="id" title="variable">x</span></a>.(<span class="id" title="projection">pr2</span>).(<span class="id" title="projection">pr1</span>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#y:1290"><span class="id" title="variable">y</span></a>.(<span class="id" title="projection">pr1</span>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#y:1290"><span class="id" title="variable">y</span></a>.(<span class="id" title="projection">pr2</span>).(<span class="id" title="projection">pr1</span>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span>:=<span class="id" title="keyword">fun</span> <a id="x:1286" class="idref" href="#x:1286"><span class="id" title="binder"><span id="x:1297" class="id">x</span></span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#sigmaarg"><span class="id" title="abbreviation">sigmaarg</span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="72f3ca85280fcbb3f1d2fe7294a979e7" class="idref" href="#72f3ca85280fcbb3f1d2fe7294a979e7"><span class="id" title="binder"><span id="66170fa6368c56dbe1cd0ee627ef2378" class="id">Σ</span></span></a> (<a id="8f4a19a94240197f9b1b9272c133c52a" class="idref" href="#8f4a19a94240197f9b1b9272c133c52a"><span class="id" title="binder"><span id="04f303247c48df0decf26d188ab76a61" class="id">wfΣ</span></span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#72f3ca85280fcbb3f1d2fe7294a979e7"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#72f3ca85280fcbb3f1d2fe7294a979e7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9a41925b3e9c67d020e4de0cd5d8f46a"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:1286"><span class="id" title="variable">x</span></a>.(<span class="id" title="projection">pr1</span>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:1286"><span class="id" title="variable">x</span></a>.(<span class="id" title="projection">pr2</span>).(<span class="id" title="projection">pr1</span>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:1282" class="idref" href="#x:1282"><span class="id" title="binder"><span id="x:1293" class="id">x</span></span></a> <a id="y:1283" class="idref" href="#y:1283"><span class="id" title="binder"><span id="y:1294" class="id">y</span></span></a> <a id="Px:1284" class="idref" href="#Px:1284"><span class="id" title="binder"><span id="Px:1295" class="id">Px</span></span></a> <a id="Hy:1285" class="idref" href="#Hy:1285"><span class="id" title="binder"><span id="Hy:1296" class="id">Hy</span></span></a> ⇒ <span class="id" title="var">_</span>) 1000 <span class="id" title="var">_</span> {| <span class="id" title="projection">pr1</span> := <span class="id" title="var">t</span>; <span class="id" title="projection">pr2</span> := {| <span class="id" title="projection">pr1</span> := π; <span class="id" title="projection">pr2</span> := <span class="id" title="var">wt</span> |} |} <span class="id" title="var">wt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">t'</span> [π' <span class="id" title="var">wt'</span>]]. <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">wt'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hΣ</span>]. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R_Acc"><span class="id" title="lemma">R_Acc</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9a41925b3e9c67d020e4de0cd5d8f46a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">t0</span>.(<span class="id" title="projection">pr1</span>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t0</span>.(<span class="id" title="projection">pr2</span>).(<span class="id" title="projection">pr1</span>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span> [π <span class="id" title="var">wt</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">revert</span> <span class="id" title="var">wt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depind</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">wt</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span> <a id="reduce_stack_full" class="idref" href="#reduce_stack_full"><span class="id" title="definition">reduce_stack_full</span></a> (<a id="t:1304" class="idref" href="#t:1304"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="9858a42d53da9fe42b8e44c215bb81ce" class="idref" href="#9858a42d53da9fe42b8e44c215bb81ce"><span class="id" title="binder">π</span></a> : <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack"><span class="id" title="definition">stack</span></a>) (<a id="h:1308" class="idref" href="#h:1308"><span class="id" title="binder">h</span></a> : <span class="id" title="keyword">∀</span> <a id="fac344390c1009b788a84ce654973a91" class="idref" href="#fac344390c1009b788a84ce654973a91"><span class="id" title="binder">Σ</span></a> (<a id="1fc172515b78357d00f1d95f162a2c68" class="idref" href="#1fc172515b78357d00f1d95f162a2c68"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#fac344390c1009b788a84ce654973a91"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#fac344390c1009b788a84ce654973a91"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9a41925b3e9c67d020e4de0cd5d8f46a"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1304"><span class="id" title="variable">t</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9858a42d53da9fe42b8e44c215bb81ce"><span class="id" title="variable">π</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <a id="t':1309" class="idref" href="#t':1309"><span class="id" title="binder">t'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack"><span class="id" title="definition">stack</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <span class="id" title="keyword">∀</span> <a id="38092f367b568d506e780c190a059c5f" class="idref" href="#38092f367b568d506e780c190a059c5f"><span class="id" title="binder">Σ</span></a> (<a id="eb0c1d0c54025e497b0909b0c9a997a6" class="idref" href="#eb0c1d0c54025e497b0909b0c9a997a6"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#38092f367b568d506e780c190a059c5f"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Req"><span class="id" title="definition">Req</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#38092f367b568d506e780c190a059c5f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9a41925b3e9c67d020e4de0cd5d8f46a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t':1309"><span class="id" title="variable">t'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">t</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> π<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t':1309"><span class="id" title="variable">t'</span></a> π <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr'"><span class="id" title="definition">Pr'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t':1309"><span class="id" title="variable">t'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="keyword">wf</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">t</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> π<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<span class="id" title="keyword">fun</span> (<a id="x:1317" class="idref" href="#x:1317"><span class="id" title="binder">x</span></a> <a id="y:1318" class="idref" href="#y:1318"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack"><span class="id" title="definition">stack</span></a>) ⇒ <span class="id" title="keyword">∀</span> <a id="a93880242e22052060563935947793fa" class="idref" href="#a93880242e22052060563935947793fa"><span class="id" title="binder">Σ</span></a> (<a id="6b1e21161157d11e2927b04b1c92f8c5" class="idref" href="#6b1e21161157d11e2927b04b1c92f8c5"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a93880242e22052060563935947793fa"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R"><span class="id" title="definition">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a93880242e22052060563935947793fa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9a41925b3e9c67d020e4de0cd5d8f46a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:1317"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#y:1318"><span class="id" title="variable">y</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full:1316"><span class="id" title="definition">reduce_stack_full</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1314"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#6ff70f7b4e7e462c2b010548b18605a5"><span class="id" title="variable">π</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#h:1313"><span class="id" title="variable">h</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#_reduce_stack"><span class="id" title="definition">_reduce_stack</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9a41925b3e9c67d020e4de0cd5d8f46a"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">t</span> π <span class="id" title="var">h</span> (<span class="id" title="keyword">fun</span> <a id="t':1321" class="idref" href="#t':1321"><span class="id" title="binder">t'</span></a> <a id="0e58eaa0abde74a1574a3f2f472aa870" class="idref" href="#0e58eaa0abde74a1574a3f2f472aa870"><span class="id" title="binder">π'</span></a> <a id="hr:1323" class="idref" href="#hr:1323"><span class="id" title="binder">hr</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full:1312"><span class="id" title="definition">reduce_stack_full</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t':1321"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#0e58eaa0abde74a1574a3f2f472aa870"><span class="id" title="variable">π'</span></a> (<span class="id" title="keyword">fun</span> <a id="60ee76ba055f443a6b7ff89c641816a5" class="idref" href="#60ee76ba055f443a6b7ff89c641816a5"><span class="id" title="binder">Σ</span></a> <a id="a9ab8aafe85a1232a9e0ad025b8400f7" class="idref" href="#a9ab8aafe85a1232a9e0ad025b8400f7"><span class="id" title="binder">wfΣ'</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#welltyped_R_pres"><span class="id" title="lemma">welltyped_R_pres</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#60ee76ba055f443a6b7ff89c641816a5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a9ab8aafe85a1232a9e0ad025b8400f7"><span class="id" title="variable">wfΣ'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9a41925b3e9c67d020e4de0cd5d8f46a"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">h</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#60ee76ba055f443a6b7ff89c641816a5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a9ab8aafe85a1232a9e0ad025b8400f7"><span class="id" title="variable">wfΣ'</span></a>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hr:1323"><span class="id" title="variable">hr</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#60ee76ba055f443a6b7ff89c641816a5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a9ab8aafe85a1232a9e0ad025b8400f7"><span class="id" title="variable">wfΣ'</span></a>))).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.reducewf"><span class="id" title="section">reducewf</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="reduce_stack" class="idref" href="#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a id="9762496d8b2da489cd4dfc40223b7bee" class="idref" href="#9762496d8b2da489cd4dfc40223b7bee"><span class="id" title="binder">Γ</span></a> <a id="t:1327" class="idref" href="#t:1327"><span class="id" title="binder">t</span></a> <a id="8cf109455ebb9e9519d691f72f405f9c" class="idref" href="#8cf109455ebb9e9519d691f72f405f9c"><span class="id" title="binder">π</span></a> <a id="h:1329" class="idref" href="#h:1329"><span class="id" title="binder">h</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">ts</span> <span class="id" title="var">_</span>) := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full"><span class="id" title="definition">reduce_stack_full</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9762496d8b2da489cd4dfc40223b7bee"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1327"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#8cf109455ebb9e9519d691f72f405f9c"><span class="id" title="variable">π</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#h:1329"><span class="id" title="variable">h</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ts</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reduce_stack_Req" class="idref" href="#reduce_stack_Req"><span class="id" title="lemma">reduce_stack_Req</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="6ed65182ec51687744235182a9dc1221" class="idref" href="#6ed65182ec51687744235182a9dc1221"><span class="id" title="binder">Σ</span></a> (<a id="c6837d501a13e466126d14dd3dee7c92" class="idref" href="#c6837d501a13e466126d14dd3dee7c92"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#6ed65182ec51687744235182a9dc1221"><span class="id" title="variable">Σ</span></a>) <a id="fca79f95d68c5446b2b7e5f075102382" class="idref" href="#fca79f95d68c5446b2b7e5f075102382"><span class="id" title="binder">Γ</span></a> <a id="t:1333" class="idref" href="#t:1333"><span class="id" title="binder">t</span></a> <a id="c08863adbcaa85a6da15ee94a839c003" class="idref" href="#c08863adbcaa85a6da15ee94a839c003"><span class="id" title="binder">π</span></a> <a id="h:1335" class="idref" href="#h:1335"><span class="id" title="binder">h</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Req"><span class="id" title="definition">Req</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#6ed65182ec51687744235182a9dc1221"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#fca79f95d68c5446b2b7e5f075102382"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#fca79f95d68c5446b2b7e5f075102382"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1333"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c08863adbcaa85a6da15ee94a839c003"><span class="id" title="variable">π</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#h:1335"><span class="id" title="variable">h</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1333"><span class="id" title="variable">t</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c08863adbcaa85a6da15ee94a839c003"><span class="id" title="variable">π</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> π <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full"><span class="id" title="definition">reduce_stack_full</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> π <span class="id" title="var">h</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">t'</span> π'] [<span class="id" title="var">r</span> <span class="id" title="var">_</span>]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="reduce_stack_sound" class="idref" href="#reduce_stack_sound"><span class="id" title="lemma">reduce_stack_sound</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="11d5b10183b0dfd921ac672c92e01af4" class="idref" href="#11d5b10183b0dfd921ac672c92e01af4"><span class="id" title="binder">Σ</span></a> (<a id="f53651378b866c3551d1f58e56bd97f7" class="idref" href="#f53651378b866c3551d1f58e56bd97f7"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#11d5b10183b0dfd921ac672c92e01af4"><span class="id" title="variable">Σ</span></a>) <a id="99c23ae30b599a49778f8a85c22f6d85" class="idref" href="#99c23ae30b599a49778f8a85c22f6d85"><span class="id" title="binder">Γ</span></a> <a id="t:1339" class="idref" href="#t:1339"><span class="id" title="binder">t</span></a> <a id="917ad45d083294f27cc6bbb285cd406f" class="idref" href="#917ad45d083294f27cc6bbb285cd406f"><span class="id" title="binder">π</span></a> <a id="h:1341" class="idref" href="#h:1341"><span class="id" title="binder">h</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#11d5b10183b0dfd921ac672c92e01af4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#99c23ae30b599a49778f8a85c22f6d85"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1339"><span class="id" title="variable">t</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#917ad45d083294f27cc6bbb285cd406f"><span class="id" title="variable">π</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zip"><span class="id" title="definition">zip</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#99c23ae30b599a49778f8a85c22f6d85"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1339"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#917ad45d083294f27cc6bbb285cd406f"><span class="id" title="variable">π</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#h:1341"><span class="id" title="variable">h</span></a>) <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> π <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">req</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_Req"><span class="id" title="lemma">reduce_stack_Req</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Req_red"><span class="id" title="lemma">Req_red</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">req</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#into_closed_red"><span class="id" title="lemma">into_closed_red</span></a>; <span class="id" title="var">fvs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reduce_stack_decompose" class="idref" href="#reduce_stack_decompose"><span class="id" title="lemma">reduce_stack_decompose</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="e7795d1632e937e754520f762e5beb44" class="idref" href="#e7795d1632e937e754520f762e5beb44"><span class="id" title="binder">Γ</span></a> <a id="t:1343" class="idref" href="#t:1343"><span class="id" title="binder">t</span></a> <a id="729f018ed4038acdf96ade30b1849953" class="idref" href="#729f018ed4038acdf96ade30b1849953"><span class="id" title="binder">π</span></a> <a id="h:1345" class="idref" href="#h:1345"><span class="id" title="binder">h</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#e7795d1632e937e754520f762e5beb44"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1343"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#729f018ed4038acdf96ade30b1849953"><span class="id" title="variable">π</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#h:1345"><span class="id" title="variable">h</span></a>))) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#729f018ed4038acdf96ade30b1849953"><span class="id" title="variable">π</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> π <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full"><span class="id" title="definition">reduce_stack_full</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> π <span class="id" title="var">h</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">t'</span> π'] [<span class="id" title="var">r</span> [<span class="id" title="var">p</span> <span class="id" title="var">p'</span>]]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reduce_stack_context" class="idref" href="#reduce_stack_context"><span class="id" title="lemma">reduce_stack_context</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="5e6a5af2198faf7a8d3b2c5aa9f7027b" class="idref" href="#5e6a5af2198faf7a8d3b2c5aa9f7027b"><span class="id" title="binder">Γ</span></a> <a id="t:1347" class="idref" href="#t:1347"><span class="id" title="binder">t</span></a> <a id="4efbd3b7741fd1b809b9ee173b01930f" class="idref" href="#4efbd3b7741fd1b809b9ee173b01930f"><span class="id" title="binder">π</span></a> <a id="h:1349" class="idref" href="#h:1349"><span class="id" title="binder">h</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context"><span class="id" title="definition">stack_context</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#5e6a5af2198faf7a8d3b2c5aa9f7027b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1347"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#4efbd3b7741fd1b809b9ee173b01930f"><span class="id" title="variable">π</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#h:1349"><span class="id" title="variable">h</span></a>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context"><span class="id" title="definition">stack_context</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#4efbd3b7741fd1b809b9ee173b01930f"><span class="id" title="variable">π</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> π <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_decompose"><span class="id" title="lemma">reduce_stack_decompose</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> π <span class="id" title="var">h</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">hd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> π). <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> ρ <span class="id" title="var">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> π <span class="id" title="var">h</span>))). <span class="id" title="tactic">intros</span> <span class="id" title="var">l'</span> ρ' <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hd</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hd</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hd</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context_appstack"><span class="id" title="lemma">stack_context_appstack</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="isred" class="idref" href="#isred"><span class="id" title="definition">isred</span></a> (<a id="t:1350" class="idref" href="#t:1350"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack"><span class="id" title="definition">stack</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#isApp"><span class="id" title="definition">isApp</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1350"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1350"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#isStackApp"><span class="id" title="definition">isStackApp</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1350"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reduce_stack_isred" class="idref" href="#reduce_stack_isred"><span class="id" title="lemma">reduce_stack_isred</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="d7f7cc5aff742e3cb30788c5fdc214e9" class="idref" href="#d7f7cc5aff742e3cb30788c5fdc214e9"><span class="id" title="binder">Γ</span></a> <a id="t:1352" class="idref" href="#t:1352"><span class="id" title="binder">t</span></a> <a id="6bf2fafa41b7d4d7fa056e384de5fe27" class="idref" href="#6bf2fafa41b7d4d7fa056e384de5fe27"><span class="id" title="binder">π</span></a> <a id="h:1354" class="idref" href="#h:1354"><span class="id" title="binder">h</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.beta"><span class="id" title="projection">RedFlags.beta</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.flags"><span class="id" title="variable">flags</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#isred"><span class="id" title="definition">isred</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#d7f7cc5aff742e3cb30788c5fdc214e9"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1352"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#6bf2fafa41b7d4d7fa056e384de5fe27"><span class="id" title="variable">π</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#h:1354"><span class="id" title="variable">h</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> π <span class="id" title="var">h</span> <span class="id" title="var">hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full"><span class="id" title="definition">reduce_stack_full</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> π <span class="id" title="var">h</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">t'</span> π'] [<span class="id" title="var">r</span> [<span class="id" title="var">p</span> [<span class="id" title="var">hApp</span> <span class="id" title="var">hLam</span>]]]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">hLam</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reduce_stack_noApp" class="idref" href="#reduce_stack_noApp"><span class="id" title="lemma">reduce_stack_noApp</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="6422fe716a5556e1ee69bc64f7b33513" class="idref" href="#6422fe716a5556e1ee69bc64f7b33513"><span class="id" title="binder">Γ</span></a> <a id="t:1356" class="idref" href="#t:1356"><span class="id" title="binder">t</span></a> <a id="98d977321df38ad97402522ffdaae3c8" class="idref" href="#98d977321df38ad97402522ffdaae3c8"><span class="id" title="binder">π</span></a> <a id="h:1358" class="idref" href="#h:1358"><span class="id" title="binder">h</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#isApp"><span class="id" title="definition">isApp</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#6422fe716a5556e1ee69bc64f7b33513"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1356"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#98d977321df38ad97402522ffdaae3c8"><span class="id" title="variable">π</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#h:1358"><span class="id" title="variable">h</span></a>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> π <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full"><span class="id" title="definition">reduce_stack_full</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> π <span class="id" title="var">h</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">t'</span> π'] [<span class="id" title="var">r</span> [<span class="id" title="var">p</span> [<span class="id" title="var">hApp</span> <span class="id" title="var">hLam</span>]]]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reduce_stack_noLamApp" class="idref" href="#reduce_stack_noLamApp"><span class="id" title="lemma">reduce_stack_noLamApp</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="34c2a501826893afccfcb27247bbb934" class="idref" href="#34c2a501826893afccfcb27247bbb934"><span class="id" title="binder">Γ</span></a> <a id="t:1360" class="idref" href="#t:1360"><span class="id" title="binder">t</span></a> <a id="77a166ca8fe67ebf376a9f8f3f50489c" class="idref" href="#77a166ca8fe67ebf376a9f8f3f50489c"><span class="id" title="binder">π</span></a> <a id="h:1362" class="idref" href="#h:1362"><span class="id" title="binder">h</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.beta"><span class="id" title="projection">RedFlags.beta</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.flags"><span class="id" title="variable">flags</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#34c2a501826893afccfcb27247bbb934"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1360"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#77a166ca8fe67ebf376a9f8f3f50489c"><span class="id" title="variable">π</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#h:1362"><span class="id" title="variable">h</span></a>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#isStackApp"><span class="id" title="definition">isStackApp</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#34c2a501826893afccfcb27247bbb934"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1360"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#77a166ca8fe67ebf376a9f8f3f50489c"><span class="id" title="variable">π</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#h:1362"><span class="id" title="variable">h</span></a>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> π <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full"><span class="id" title="definition">reduce_stack_full</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> π <span class="id" title="var">h</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">t'</span> π'] [<span class="id" title="var">r</span> [<span class="id" title="var">p</span> [<span class="id" title="var">hApp</span> <span class="id" title="var">hLam</span>]]]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="reduce_term" class="idref" href="#reduce_term"><span class="id" title="definition">reduce_term</span></a> <a id="d80deb552ce4bd07b91f8e2955abbde8" class="idref" href="#d80deb552ce4bd07b91f8e2955abbde8"><span class="id" title="binder">Γ</span></a> <a id="t:1364" class="idref" href="#t:1364"><span class="id" title="binder">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="h:1366" class="idref" href="#h:1366"><span class="id" title="binder">h</span></a> : <span class="id" title="keyword">∀</span> <a id="87d5bcdd2e1ac00c49f6c3c3f60ceea9" class="idref" href="#87d5bcdd2e1ac00c49f6c3c3f60ceea9"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#87d5bcdd2e1ac00c49f6c3c3f60ceea9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#87d5bcdd2e1ac00c49f6c3c3f60ceea9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#d80deb552ce4bd07b91f8e2955abbde8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1364"><span class="id" title="variable">t</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zip"><span class="id" title="definition">zip</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#d80deb552ce4bd07b91f8e2955abbde8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1364"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#h:1366"><span class="id" title="variable">h</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="reduce_term_sound" class="idref" href="#reduce_term_sound"><span class="id" title="lemma">reduce_term_sound</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="5c3c0ca7e846da8135a5213e25bef16c" class="idref" href="#5c3c0ca7e846da8135a5213e25bef16c"><span class="id" title="binder">Γ</span></a> <a id="t:1368" class="idref" href="#t:1368"><span class="id" title="binder">t</span></a> (<a id="h:1370" class="idref" href="#h:1370"><span class="id" title="binder">h</span></a> : <span class="id" title="keyword">∀</span> <a id="846f68016ba4ae2589e3644e211d95ee" class="idref" href="#846f68016ba4ae2589e3644e211d95ee"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#846f68016ba4ae2589e3644e211d95ee"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#846f68016ba4ae2589e3644e211d95ee"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#5c3c0ca7e846da8135a5213e25bef16c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1368"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="8df676e8844d83b4098b7331793b0f10" class="idref" href="#8df676e8844d83b4098b7331793b0f10"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#8df676e8844d83b4098b7331793b0f10"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#8df676e8844d83b4098b7331793b0f10"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#5c3c0ca7e846da8135a5213e25bef16c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1368"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_term"><span class="id" title="definition">reduce_term</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#5c3c0ca7e846da8135a5213e25bef16c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1368"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#h:1370"><span class="id" title="variable">h</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">h</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_term"><span class="id" title="definition">reduce_term</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_sound"><span class="id" title="lemma">reduce_stack_sound</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">_</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Scheme</span> <a id="Acc_ind'" class="idref" href="#Acc_ind'"><span class="id" title="definition">Acc_ind'</span></a> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Fix_F_prop" class="idref" href="#Fix_F_prop"><span class="id" title="lemma">Fix_F_prop</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="A:1372" class="idref" href="#A:1372"><span class="id" title="binder">A</span></a> <a id="R:1373" class="idref" href="#R:1373"><span class="id" title="binder">R</span></a> <a id="P:1374" class="idref" href="#P:1374"><span class="id" title="binder">P</span></a> <a id="f:1375" class="idref" href="#f:1375"><span class="id" title="binder">f</span></a> (<a id="pred:1377" class="idref" href="#pred:1377"><span class="id" title="binder">pred</span></a> : <span class="id" title="keyword">∀</span> <a id="x:1376" class="idref" href="#x:1376"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:1372"><span class="id" title="variable">A</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#P:1374"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:1376"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="x:1378" class="idref" href="#x:1378"><span class="id" title="binder">x</span></a> <a id="hx:1379" class="idref" href="#hx:1379"><span class="id" title="binder">hx</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:1380" class="idref" href="#x:1380"><span class="id" title="binder">x</span></a> <a id="aux:1381" class="idref" href="#aux:1381"><span class="id" title="binder">aux</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="y:1382" class="idref" href="#y:1382"><span class="id" title="binder">y</span></a> <a id="hy:1383" class="idref" href="#hy:1383"><span class="id" title="binder">hy</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#pred:1377"><span class="id" title="variable">pred</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#y:1382"><span class="id" title="variable">y</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#aux:1381"><span class="id" title="variable">aux</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#y:1382"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hy:1383"><span class="id" title="variable">hy</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#pred:1377"><span class="id" title="variable">pred</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:1380"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#f:1375"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:1380"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#aux:1381"><span class="id" title="variable">aux</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#pred:1377"><span class="id" title="variable">pred</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:1378"><span class="id" title="variable">x</span></a> (@<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Wf.html#Fix_F"><span class="id" title="definition">Fix_F</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:1372"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R:1373"><span class="id" title="variable">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#P:1374"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#f:1375"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#x:1378"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hx:1379"><span class="id" title="variable">hx</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">R</span> <span class="id" title="var">P</span> <span class="id" title="var">f</span> <span class="id" title="var">pred</span> <span class="id" title="var">x</span> <span class="id" title="var">hx</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">hx</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Acc_ind'"><span class="id" title="definition">Acc_ind'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reduce_stack_prop" class="idref" href="#reduce_stack_prop"><span class="id" title="lemma">reduce_stack_prop</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="4825a901b24286d313fc85b6b147fb83" class="idref" href="#4825a901b24286d313fc85b6b147fb83"><span class="id" title="binder">Γ</span></a> <a id="t:1385" class="idref" href="#t:1385"><span class="id" title="binder">t</span></a> <a id="42148fa8d106155840c6d0d3215ca854" class="idref" href="#42148fa8d106155840c6d0d3215ca854"><span class="id" title="binder">π</span></a> <a id="h:1387" class="idref" href="#h:1387"><span class="id" title="binder">h</span></a> (<a id="P:1388" class="idref" href="#P:1388"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack"><span class="id" title="definition">stack</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack"><span class="id" title="definition">stack</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="t:1389" class="idref" href="#t:1389"><span class="id" title="binder">t</span></a> <a id="32397b06ad5a6bf4ab71524045c5aeab" class="idref" href="#32397b06ad5a6bf4ab71524045c5aeab"><span class="id" title="binder">π</span></a> <a id="h:1391" class="idref" href="#h:1391"><span class="id" title="binder">h</span></a> <a id="aux:1392" class="idref" href="#aux:1392"><span class="id" title="binder">aux</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="t':1393" class="idref" href="#t':1393"><span class="id" title="binder">t'</span></a> <a id="072732099678bdf53f65e4bf0b85af41" class="idref" href="#072732099678bdf53f65e4bf0b85af41"><span class="id" title="binder">π'</span></a> <a id="hR:1395" class="idref" href="#hR:1395"><span class="id" title="binder">hR</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#P:1388"><span class="id" title="variable">P</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t':1393"><span class="id" title="variable">t'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#072732099678bdf53f65e4bf0b85af41"><span class="id" title="variable">π'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#998905012a00dd2c1bb5b4a980f46cc2"><span class="id" title="notation">`</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#998905012a00dd2c1bb5b4a980f46cc2"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#aux:1392"><span class="id" title="variable">aux</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t':1393"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#072732099678bdf53f65e4bf0b85af41"><span class="id" title="variable">π'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hR:1395"><span class="id" title="variable">hR</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#998905012a00dd2c1bb5b4a980f46cc2"><span class="id" title="notation">)</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#P:1388"><span class="id" title="variable">P</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1389"><span class="id" title="variable">t</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#32397b06ad5a6bf4ab71524045c5aeab"><span class="id" title="variable">π</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#998905012a00dd2c1bb5b4a980f46cc2"><span class="id" title="notation">`</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#998905012a00dd2c1bb5b4a980f46cc2"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#_reduce_stack"><span class="id" title="definition">_reduce_stack</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#4825a901b24286d313fc85b6b147fb83"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1389"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#32397b06ad5a6bf4ab71524045c5aeab"><span class="id" title="variable">π</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#h:1391"><span class="id" title="variable">h</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#aux:1392"><span class="id" title="variable">aux</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#998905012a00dd2c1bb5b4a980f46cc2"><span class="id" title="notation">)</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#P:1388"><span class="id" title="variable">P</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1385"><span class="id" title="variable">t</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#42148fa8d106155840c6d0d3215ca854"><span class="id" title="variable">π</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#4825a901b24286d313fc85b6b147fb83"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1385"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#42148fa8d106155840c6d0d3215ca854"><span class="id" title="variable">π</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#h:1387"><span class="id" title="variable">h</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> π <span class="id" title="var">h</span> <span class="id" title="var">P</span> <span class="id" title="var">hP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full"><span class="id" title="definition">reduce_stack_full</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> π <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_funelim</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full"><span class="id" title="definition">reduce_stack_full</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> π <span class="id" title="var">h</span>); <span class="id" title="tactic">clear</span> -<span class="id" title="var">hP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> π <span class="id" title="var">wt</span> <span class="id" title="var">ih</span> [<span class="id" title="var">t'</span> ρ] ? <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">e</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">u</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">P</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">t</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> π<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#998905012a00dd2c1bb5b4a980f46cc2"><span class="id" title="notation">`</span></a> <span class="id" title="var">u</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hP</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">t'0</span> π' <span class="id" title="var">hR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">ih</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hR</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">r</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full"><span class="id" title="definition">reduce_stack_full</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">ih</span> <span class="id" title="var">_</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#proj2_sig"><span class="id" title="definition">proj2_sig</span></a> <span class="id" title="var">r</span>)). <span class="id" title="var">clearbody</span> <span class="id" title="var">r</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="decompose_stack_at_appstack_None" class="idref" href="#decompose_stack_at_appstack_None"><span class="id" title="lemma">decompose_stack_at_appstack_None</span></a> <a id="l:1396" class="idref" href="#l:1396"><span class="id" title="binder">l</span></a> <a id="s:1397" class="idref" href="#s:1397"><span class="id" title="binder">s</span></a> <a id="n:1398" class="idref" href="#n:1398"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#isStackApp"><span class="id" title="definition">isStackApp</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#s:1397"><span class="id" title="variable">s</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#l:1396"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#n:1398"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_at"><span class="id" title="definition">decompose_stack_at</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#appstack"><span class="id" title="definition">appstack</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#l:1396"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#s:1397"><span class="id" title="variable">s</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#n:1398"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">no_app</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>, <span class="id" title="var">n</span> |- *; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_nil"><span class="id" title="lemma">nth_error_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [|[]]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; [<span class="id" title="var">easy</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_at"><span class="id" title="definition">decompose_stack_at</span></a> <span class="id" title="keyword">as</span> [((?&amp;?)&amp;?)|]; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mkApps_tApp" class="idref" href="#mkApps_tApp"><span class="id" title="lemma">mkApps_tApp</span></a> <a id="hd:1399" class="idref" href="#hd:1399"><span class="id" title="binder">hd</span></a> <a id="arg:1400" class="idref" href="#arg:1400"><span class="id" title="binder">arg</span></a> <a id="args:1401" class="idref" href="#args:1401"><span class="id" title="binder">args</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hd:1399"><span class="id" title="variable">hd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#arg:1400"><span class="id" title="variable">arg</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:1401"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hd:1399"><span class="id" title="variable">hd</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#arg:1400"><span class="id" title="variable">arg</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:1401"><span class="id" title="variable">args</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tApp_mkApps" class="idref" href="#tApp_mkApps"><span class="id" title="lemma">tApp_mkApps</span></a> <a id="hd:1402" class="idref" href="#hd:1402"><span class="id" title="binder">hd</span></a> <a id="args:1403" class="idref" href="#args:1403"><span class="id" title="binder">args</span></a> <a id="arg:1404" class="idref" href="#arg:1404"><span class="id" title="binder">arg</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hd:1402"><span class="id" title="variable">hd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:1403"><span class="id" title="variable">args</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#arg:1404"><span class="id" title="variable">arg</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hd:1402"><span class="id" title="variable">hd</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:1403"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#arg:1404"><span class="id" title="variable">arg</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> ?<span class="id" title="var">hd</span> ?<span class="id" title="var">a</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <span class="id" title="var">hd</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="whnf_non_ctor_finite_ind_typed" class="idref" href="#whnf_non_ctor_finite_ind_typed"><span class="id" title="lemma">whnf_non_ctor_finite_ind_typed</span></a> <a id="8b0a09d997bcead0de0465ed858b4e31" class="idref" href="#8b0a09d997bcead0de0465ed858b4e31"><span class="id" title="binder">Σ</span></a> <a id="afc4e950ffce5be8c6503bff61a03682" class="idref" href="#afc4e950ffce5be8c6503bff61a03682"><span class="id" title="binder">Γ</span></a> <a id="t:1407" class="idref" href="#t:1407"><span class="id" title="binder">t</span></a> <a id="ind:1408" class="idref" href="#ind:1408"><span class="id" title="binder">ind</span></a> <a id="u:1409" class="idref" href="#u:1409"><span class="id" title="binder">u</span></a> <a id="args:1410" class="idref" href="#args:1410"><span class="id" title="binder">args</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#8b0a09d997bcead0de0465ed858b4e31"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf"><span class="id" title="inductive">whnf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.flags"><span class="id" title="variable">flags</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#8b0a09d997bcead0de0465ed858b4e31"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#afc4e950ffce5be8c6503bff61a03682"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1407"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#isConstruct_app"><span class="id" title="definition">isConstruct_app</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1407"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#check_recursivity_kind"><span class="id" title="definition">check_recursivity_kind</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#8b0a09d997bcead0de0465ed858b4e31"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaRocq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ind:1408"><span class="id" title="variable">ind</span></a>) <a class="idref" href="MetaRocq.Common.BasicAst.html#CoFinite"><span class="id" title="constructor">CoFinite</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#8b0a09d997bcead0de0465ed858b4e31"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#afc4e950ffce5be8c6503bff61a03682"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1407"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ind:1408"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:1409"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:1410"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whne"><span class="id" title="inductive">whne</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.flags"><span class="id" title="variable">flags</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#8b0a09d997bcead0de0465ed858b4e31"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#afc4e950ffce5be8c6503bff61a03682"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1407"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wh</span> <span class="id" title="var">ctor</span> <span class="id" title="var">fin</span> <span class="id" title="var">typ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Sort"><span class="id" title="lemma">inversion_Sort</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">typ</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#invert_cumul_sort_ind"><span class="id" title="lemma">invert_cumul_sort_ind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Prod"><span class="id" title="lemma">inversion_Prod</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">typ</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#invert_cumul_sort_ind"><span class="id" title="lemma">invert_cumul_sort_ind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Lambda"><span class="id" title="lemma">inversion_Lambda</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">typ</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#invert_cumul_prod_ind"><span class="id" title="lemma">invert_cumul_prod_ind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#isConstruct_app"><span class="id" title="definition">isConstruct_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ctor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app_mkApps"><span class="id" title="lemma">decompose_app_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ctor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICClassification.html#invert_ind_ind"><span class="id" title="lemma">invert_ind_ind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICClassification.html#invert_fix_ind"><span class="id" title="lemma">invert_fix_ind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span> <span class="id" title="keyword">as</span> [[? [-&gt; ?]] | -&gt;]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICClassification.html#typing_cofix_coind"><span class="id" title="lemma">typing_cofix_coind</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">typ</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">typ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fst_ctx"><span class="id" title="definition">PCUICAst.PCUICEnvironment.fst_ctx</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Prim"><span class="id" title="lemma">inversion_Prim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">typ</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">prim_ty</span> &amp; <span class="id" title="var">cdecl</span> &amp; [? ? ? ?]); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#invert_cumul_prim_type_ind"><span class="id" title="lemma">invert_cumul_prim_type_ind</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">w</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="isCoFix_app" class="idref" href="#isCoFix_app"><span class="id" title="definition">isCoFix_app</span></a> <a id="t:1411" class="idref" href="#t:1411"><span class="id" title="binder">t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1411"><span class="id" title="variable">t</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="whnf_non_ctor_non_cofix_ind_typed" class="idref" href="#whnf_non_ctor_non_cofix_ind_typed"><span class="id" title="lemma">whnf_non_ctor_non_cofix_ind_typed</span></a> <a id="be150e85163e3b0d5d8ae6b5620403fd" class="idref" href="#be150e85163e3b0d5d8ae6b5620403fd"><span class="id" title="binder">Σ</span></a> <a id="9c93e5a870688aed70cb6d94d6241611" class="idref" href="#9c93e5a870688aed70cb6d94d6241611"><span class="id" title="binder">Γ</span></a> <a id="t:1414" class="idref" href="#t:1414"><span class="id" title="binder">t</span></a> <a id="ind:1415" class="idref" href="#ind:1415"><span class="id" title="binder">ind</span></a> <a id="u:1416" class="idref" href="#u:1416"><span class="id" title="binder">u</span></a> <a id="args:1417" class="idref" href="#args:1417"><span class="id" title="binder">args</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#be150e85163e3b0d5d8ae6b5620403fd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf"><span class="id" title="inductive">whnf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.flags"><span class="id" title="variable">flags</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#be150e85163e3b0d5d8ae6b5620403fd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9c93e5a870688aed70cb6d94d6241611"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1414"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#isConstruct_app"><span class="id" title="definition">isConstruct_app</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1414"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#isCoFix_app"><span class="id" title="definition">isCoFix_app</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1414"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#be150e85163e3b0d5d8ae6b5620403fd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9c93e5a870688aed70cb6d94d6241611"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1414"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ind:1415"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:1416"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:1417"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whne"><span class="id" title="inductive">whne</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.flags"><span class="id" title="variable">flags</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#be150e85163e3b0d5d8ae6b5620403fd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9c93e5a870688aed70cb6d94d6241611"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1414"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wh</span> <span class="id" title="var">ctor</span> <span class="id" title="var">cof</span> <span class="id" title="var">typ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Sort"><span class="id" title="lemma">inversion_Sort</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">typ</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#invert_cumul_sort_ind"><span class="id" title="lemma">invert_cumul_sort_ind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Prod"><span class="id" title="lemma">inversion_Prod</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">typ</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#invert_cumul_sort_ind"><span class="id" title="lemma">invert_cumul_sort_ind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Lambda"><span class="id" title="lemma">inversion_Lambda</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">typ</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#invert_cumul_prod_ind"><span class="id" title="lemma">invert_cumul_prod_ind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#isConstruct_app"><span class="id" title="definition">isConstruct_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ctor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app_mkApps"><span class="id" title="lemma">decompose_app_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ctor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICClassification.html#invert_ind_ind"><span class="id" title="lemma">invert_ind_ind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICClassification.html#invert_fix_ind"><span class="id" title="lemma">invert_fix_ind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span> <span class="id" title="keyword">as</span> [[? [-&gt; ?]] | -&gt;]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#isCoFix_app"><span class="id" title="definition">isCoFix_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app_mkApps"><span class="id" title="lemma">decompose_app_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Prim"><span class="id" title="lemma">inversion_Prim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">typ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">prim_ty</span> [<span class="id" title="var">cdecl</span> [? ? ? ?]]]; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#invert_cumul_prim_type_ind"><span class="id" title="lemma">invert_cumul_prim_type_ind</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">w</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="whnf_fix_arg_whne" class="idref" href="#whnf_fix_arg_whne"><span class="id" title="lemma">whnf_fix_arg_whne</span></a> <a id="mfix:1418" class="idref" href="#mfix:1418"><span class="id" title="binder">mfix</span></a> <a id="idx:1419" class="idref" href="#idx:1419"><span class="id" title="binder">idx</span></a> <a id="body:1420" class="idref" href="#body:1420"><span class="id" title="binder">body</span></a> <a id="669ced257fbb6f1210d88f6d07f6e5b7" class="idref" href="#669ced257fbb6f1210d88f6d07f6e5b7"><span class="id" title="binder">Σ</span></a> <a id="c4a5ceea5cc8760def25942855c16bbd" class="idref" href="#c4a5ceea5cc8760def25942855c16bbd"><span class="id" title="binder">Γ</span></a> <a id="t:1423" class="idref" href="#t:1423"><span class="id" title="binder">t</span></a> <a id="before:1424" class="idref" href="#before:1424"><span class="id" title="binder">before</span></a> <a id="args:1425" class="idref" href="#args:1425"><span class="id" title="binder">args</span></a> <a id="aftr:1426" class="idref" href="#aftr:1426"><span class="id" title="binder">aftr</span></a> <a id="ty:1427" class="idref" href="#ty:1427"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#669ced257fbb6f1210d88f6d07f6e5b7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#mfix:1418"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#idx:1419"><span class="id" title="variable">idx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#before:1424"><span class="id" title="variable">before</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#body:1420"><span class="id" title="variable">body</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1423"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf"><span class="id" title="inductive">whnf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.flags"><span class="id" title="variable">flags</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#669ced257fbb6f1210d88f6d07f6e5b7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c4a5ceea5cc8760def25942855c16bbd"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1423"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:1425"><span class="id" title="variable">args</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#669ced257fbb6f1210d88f6d07f6e5b7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c4a5ceea5cc8760def25942855c16bbd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#mfix:1418"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#idx:1419"><span class="id" title="variable">idx</span></a>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#before:1424"><span class="id" title="variable">before</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1423"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:1425"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#aftr:1426"><span class="id" title="variable">aftr</span></a>) <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ty:1427"><span class="id" title="variable">ty</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whne"><span class="id" title="inductive">whne</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.flags"><span class="id" title="variable">flags</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#669ced257fbb6f1210d88f6d07f6e5b7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c4a5ceea5cc8760def25942855c16bbd"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1423"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:1425"><span class="id" title="variable">args</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">uf</span> <span class="id" title="var">shape</span> <span class="id" title="var">wh</span> <span class="id" title="var">typ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICValidity.html#inversion_mkApps"><span class="id" title="lemma">inversion_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">typ</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">fix_ty</span> &amp; <span class="id" title="var">typ_fix</span> &amp; <span class="id" title="var">typ_args</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Fix"><span class="id" title="lemma">inversion_Fix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">typ_fix</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">def</span>&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_nth_error"><span class="id" title="lemma">All_nth_error</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICClassification.html#wf_fixpoint_spine"><span class="id" title="lemma">wf_fixpoint_spine</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#typing_spine_strengthen"><span class="id" title="lemma">PCUICSpine.typing_spine_strengthen</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">uf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">uf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_snoc"><span class="id" title="lemma">nth_error_snoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;<span class="id" title="var">typ</span>&amp;<span class="id" title="var">fin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#whnf_non_ctor_finite_ind_typed"><span class="id" title="lemma">whnf_non_ctor_finite_ind_typed</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#isConstruct_app"><span class="id" title="definition">isConstruct_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app_mkApps"><span class="id" title="lemma">decompose_app_mkApps</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#check_recursivity_kind"><span class="id" title="definition">check_recursivity_kind</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">cofin</span> <span class="id" title="tactic">in</span> |- *; [|<span class="id" title="var">easy</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICClassification.html#check_recursivity_kind_inj"><span class="id" title="lemma">check_recursivity_kind_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">fin</span>; [|<span class="id" title="tactic">exact</span> <span class="id" title="var">cofin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="whnf_case_arg_whne" class="idref" href="#whnf_case_arg_whne"><span class="id" title="lemma">whnf_case_arg_whne</span></a> <a id="0382c64a7f5c89b4a8c6cf02b6b6a61a" class="idref" href="#0382c64a7f5c89b4a8c6cf02b6b6a61a"><span class="id" title="binder">Σ</span></a> <a id="8222a3e33e588da7abdc2c4bba12218a" class="idref" href="#8222a3e33e588da7abdc2c4bba12218a"><span class="id" title="binder">Γ</span></a> <a id="hd:1431" class="idref" href="#hd:1431"><span class="id" title="binder">hd</span></a> <a id="args:1432" class="idref" href="#args:1432"><span class="id" title="binder">args</span></a> <a id="ci:1433" class="idref" href="#ci:1433"><span class="id" title="binder">ci</span></a> <a id="p:1434" class="idref" href="#p:1434"><span class="id" title="binder">p</span></a> <a id="brs:1435" class="idref" href="#brs:1435"><span class="id" title="binder">brs</span></a> <a id="T:1436" class="idref" href="#T:1436"><span class="id" title="binder">T</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#0382c64a7f5c89b4a8c6cf02b6b6a61a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hd:1431"><span class="id" title="variable">hd</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf"><span class="id" title="inductive">whnf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.flags"><span class="id" title="variable">flags</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#0382c64a7f5c89b4a8c6cf02b6b6a61a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#8222a3e33e588da7abdc2c4bba12218a"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hd:1431"><span class="id" title="variable">hd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:1432"><span class="id" title="variable">args</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#0382c64a7f5c89b4a8c6cf02b6b6a61a"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#8222a3e33e588da7abdc2c4bba12218a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ci:1433"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:1434"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hd:1431"><span class="id" title="variable">hd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:1432"><span class="id" title="variable">args</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#brs:1435"><span class="id" title="variable">brs</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#T:1436"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whne"><span class="id" title="inductive">whne</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.flags"><span class="id" title="variable">flags</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#0382c64a7f5c89b4a8c6cf02b6b6a61a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#8222a3e33e588da7abdc2c4bba12218a"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hd:1431"><span class="id" title="variable">hd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:1432"><span class="id" title="variable">args</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">shape</span> <span class="id" title="var">wh</span> <span class="id" title="var">typ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Case"><span class="id" title="lemma">inversion_Case</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">typ</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;<span class="id" title="var">isdecl</span>&amp;?&amp;[]&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#whnf_non_ctor_finite_ind_typed"><span class="id" title="lemma">whnf_non_ctor_finite_ind_typed</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#isConstruct_app"><span class="id" title="definition">isConstruct_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app_mkApps"><span class="id" title="lemma">decompose_app_mkApps</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">hd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#isCoFinite"><span class="id" title="definition">isCoFinite</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">not_cofinite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#check_recursivity_kind"><span class="id" title="definition">check_recursivity_kind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_inductive_to_gen"><span class="id" title="lemma">declared_inductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isdecl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_minductive"><span class="id" title="definition">declared_minductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isdecl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isdecl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.MRProd.html#proj1"><span class="id" title="definition">proj1</span></a> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_finite"><span class="id" title="projection">ind_finite</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="whnf_proj_arg_whne" class="idref" href="#whnf_proj_arg_whne"><span class="id" title="lemma">whnf_proj_arg_whne</span></a> <a id="30e9702dcbf9c765344da6a52e95cee8" class="idref" href="#30e9702dcbf9c765344da6a52e95cee8"><span class="id" title="binder">Σ</span></a> <a id="42beec3a7b1629ea7e1ab9c49159e3f8" class="idref" href="#42beec3a7b1629ea7e1ab9c49159e3f8"><span class="id" title="binder">Γ</span></a> <a id="hd:1440" class="idref" href="#hd:1440"><span class="id" title="binder">hd</span></a> <a id="args:1441" class="idref" href="#args:1441"><span class="id" title="binder">args</span></a> <a id="p:1442" class="idref" href="#p:1442"><span class="id" title="binder">p</span></a> <a id="T:1443" class="idref" href="#T:1443"><span class="id" title="binder">T</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#30e9702dcbf9c765344da6a52e95cee8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hd:1440"><span class="id" title="variable">hd</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">c</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">c</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf"><span class="id" title="inductive">whnf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.flags"><span class="id" title="variable">flags</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#30e9702dcbf9c765344da6a52e95cee8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#42beec3a7b1629ea7e1ab9c49159e3f8"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hd:1440"><span class="id" title="variable">hd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:1441"><span class="id" title="variable">args</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#30e9702dcbf9c765344da6a52e95cee8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#42beec3a7b1629ea7e1ab9c49159e3f8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:1442"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hd:1440"><span class="id" title="variable">hd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:1441"><span class="id" title="variable">args</span></a>) <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#T:1443"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whne"><span class="id" title="inductive">whne</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.flags"><span class="id" title="variable">flags</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#30e9702dcbf9c765344da6a52e95cee8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#42beec3a7b1629ea7e1ab9c49159e3f8"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hd:1440"><span class="id" title="variable">hd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:1441"><span class="id" title="variable">args</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">shape</span> <span class="id" title="var">wh</span> <span class="id" title="var">typ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">typ'</span> := <span class="id" title="var">typ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Proj"><span class="id" title="lemma">inversion_Proj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">typ</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#whnf_non_ctor_non_cofix_ind_typed"><span class="id" title="lemma">whnf_non_ctor_non_cofix_ind_typed</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#isConstruct_app"><span class="id" title="definition">isConstruct_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app_mkApps"><span class="id" title="lemma">decompose_app_mkApps</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">hd</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hd</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInductiveInversion.html#invert_Proj_Construct"><span class="id" title="lemma">PCUICInductiveInversion.invert_Proj_Construct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">typ'</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">sq</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#isCoFix_app"><span class="id" title="definition">isCoFix_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app_mkApps"><span class="id" title="lemma">decompose_app_mkApps</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">hd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reduce_stack_whnf" class="idref" href="#reduce_stack_whnf"><span class="id" title="lemma">reduce_stack_whnf</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="256fd13189270968bf3e13ae8041c618" class="idref" href="#256fd13189270968bf3e13ae8041c618"><span class="id" title="binder">Γ</span></a> <a id="t:1446" class="idref" href="#t:1446"><span class="id" title="binder">t</span></a> <a id="7c06e6a0744086b5b1cdc225fbef94d0" class="idref" href="#7c06e6a0744086b5b1cdc225fbef94d0"><span class="id" title="binder">π</span></a> <a id="h:1448" class="idref" href="#h:1448"><span class="id" title="binder">h</span></a> <a id="4cb4ccbef0b504906c39b8c909bc1e96" class="idref" href="#4cb4ccbef0b504906c39b8c909bc1e96"><span class="id" title="binder">Σ</span></a> (<a id="547a7719a9a09a2d9a683c80ecd3499a" class="idref" href="#547a7719a9a09a2d9a683c80ecd3499a"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#4cb4ccbef0b504906c39b8c909bc1e96"><span class="id" title="variable">Σ</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">u</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> ρ<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#256fd13189270968bf3e13ae8041c618"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1446"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#7c06e6a0744086b5b1cdc225fbef94d0"><span class="id" title="variable">π</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#h:1448"><span class="id" title="variable">h</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf"><span class="id" title="inductive">whnf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.flags"><span class="id" title="variable">flags</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#4cb4ccbef0b504906c39b8c909bc1e96"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#256fd13189270968bf3e13ae8041c618"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context"><span class="id" title="definition">stack_context</span></a> ρ) (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">zipp</span></a> <span class="id" title="var">u</span> ρ)<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> π <span class="id" title="var">h</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_prop"><span class="id" title="lemma">reduce_stack_prop</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">P</span> := <span class="id" title="keyword">fun</span> <a id="x:1451" class="idref" href="#x:1451"><span class="id" title="binder"><span id="x:1454" class="id">x</span></span></a> <a id="y:1452" class="idref" href="#y:1452"><span class="id" title="binder"><span id="y:1455" class="id">y</span></span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">u</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> ρ<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#y:1452"><span class="id" title="variable">y</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf"><span class="id" title="inductive">whnf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.flags"><span class="id" title="variable">flags</span></a> <span class="id" title="var">Σ</span> (<span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context"><span class="id" title="definition">stack_context</span></a> ρ) (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">zipp</span></a> <span class="id" title="var">u</span> ρ)<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> π <span class="id" title="var">h</span> <span class="id" title="var">aux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_funelim</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#_reduce_stack"><span class="id" title="definition">_reduce_stack</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> π <span class="id" title="var">h</span> <span class="id" title="var">aux</span>); <span class="id" title="tactic">clear</span> -<span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intros</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ |- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="t':1457" class="idref" href="#t':1457"><span class="id" title="binder"><span id="t':1461" class="id">t'</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="b8bac7127e173f9709e7c6dd1b503081" class="idref" href="#b8bac7127e173f9709e7c6dd1b503081"><span class="id" title="binder"><span id="c7369c4026c9550d8c2ef13b70ebe0ad" class="id">π'</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack"><span class="id" title="definition">stack</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="hR:1460" class="idref" href="#hR:1460"><span class="id" title="binder"><span id="hR:1464" class="id">hR</span></span></a> : <span class="id" title="keyword">∀</span> <a id="575cd8fd4134a1baadf2ae1fc7a4bdc2" class="idref" href="#575cd8fd4134a1baadf2ae1fc7a4bdc2"><span class="id" title="binder"><span id="f8a0e1a7643fe5aeb12951bd83d2ebda" class="id">Σ</span></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#575cd8fd4134a1baadf2ae1fc7a4bdc2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R"><span class="id" title="definition">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#575cd8fd4134a1baadf2ae1fc7a4bdc2"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>), <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">intros</span> <span class="id" title="var">reduce</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="t':1465" class="idref" href="#t':1465"><span class="id" title="binder"><span id="t':1469" class="id">t'</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="9fa7feb9b5cd8308a0731662720d8e58" class="idref" href="#9fa7feb9b5cd8308a0731662720d8e58"><span class="id" title="binder"><span id="14bf44cea8f215e69f68772400c9764f" class="id">π'</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack"><span class="id" title="definition">stack</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="hR:1468" class="idref" href="#hR:1468"><span class="id" title="binder"><span id="hR:1472" class="id">hR</span></span></a> : <span class="id" title="keyword">∀</span> <a id="ce5b73deb0b1021983d864298ef541f6" class="idref" href="#ce5b73deb0b1021983d864298ef541f6"><span class="id" title="binder"><span id="c6025f5f51b52310a59988f3d7fad095" class="id">Σ</span></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ce5b73deb0b1021983d864298ef541f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#R"><span class="id" title="definition">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ce5b73deb0b1021983d864298ef541f6"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>), <span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">intros</span> <span class="id" title="var">haux</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">intros</span> ?<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span>[<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">f</span>] ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [ <span class="id" title="var">reduce</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">z</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="var">reduce</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">haux</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">t'</span> π'] <span class="id" title="var">H</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">haux</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">discr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">h</span> <span class="id" title="var">reduce</span> <span class="id" title="var">haux</span>; <span class="id" title="var">apply_funelim</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_discr"><span class="id" title="definition">red_discr</span></a> <span class="id" title="var">t</span> π); <span class="id" title="tactic">clear</span> -<span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">discr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">constructor</span> ; <span class="id" title="tactic">constructor</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">zipp</span></a> ; <span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> π) ; <span class="id" title="tactic">intros</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">constructor</span> ; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whne_mkApps"><span class="id" title="lemma">whne_mkApps</span></a> ; <span class="id" title="tactic">constructor</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">zipp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> π). <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> ρ <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hΣ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. <span class="id" title="var">zip</span> <span class="id" title="tactic">fold</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">h</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#welltyped_context"><span class="id" title="lemma">welltyped_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context_appstack"><span class="id" title="lemma">stack_context_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> <span class="id" title="var">h</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_App"><span class="id" title="lemma">inversion_App</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Sort"><span class="id" title="lemma">inversion_Sort</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">t0</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#ws_cumul_pb_Sort_Prod_inv"><span class="id" title="lemma">PCUICConversion.ws_cumul_pb_Sort_Prod_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">zipp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> π). <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> ρ <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hΣ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. <span class="id" title="var">zip</span> <span class="id" title="tactic">fold</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">h</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#welltyped_context"><span class="id" title="lemma">welltyped_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context_appstack"><span class="id" title="lemma">stack_context_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> <span class="id" title="var">h</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_App"><span class="id" title="lemma">inversion_App</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Prod"><span class="id" title="lemma">inversion_Prod</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">t0</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#ws_cumul_pb_Sort_Prod_inv"><span class="id" title="lemma">PCUICConversion.ws_cumul_pb_Sort_Prod_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">zipp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> π). <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> ρ <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hΣ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. <span class="id" title="var">zip</span> <span class="id" title="tactic">fold</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">h</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#welltyped_context"><span class="id" title="lemma">welltyped_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context_appstack"><span class="id" title="lemma">stack_context_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> <span class="id" title="var">h</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_App"><span class="id" title="lemma">inversion_App</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Prim"><span class="id" title="lemma">inversion_Prim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">t0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">prim_ty</span> &amp; <span class="id" title="var">cdecl</span> &amp; [? ? ? ?]); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#invert_cumul_prim_type_prod"><span class="id" title="lemma">PCUICConversion.invert_cumul_prim_type_prod</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">zipp</span></a>. <span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> π). <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> ρ <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whne_mkApps"><span class="id" title="lemma">whne_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whne_rel_nozeta"><span class="id" title="constructor">whne_rel_nozeta</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [ <span class="id" title="var">reduce</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">z</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="var">reduce</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">haux</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">t'</span> π'] <span class="id" title="var">Ha</span> <span class="id" title="var">eq'</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">haux</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">zipp</span></a>. <span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> π). <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whne_mkApps"><span class="id" title="lemma">whne_mkApps</span></a>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">eq</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [ <span class="id" title="var">reduce</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">z</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="var">reduce</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">haux</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">t'</span> π'] <span class="id" title="var">Ha</span> <span class="id" title="var">eq</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">haux</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">zipp</span></a>. <span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> π). <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whne_mkApps"><span class="id" title="lemma">whne_mkApps</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whne_letin_nozeta"><span class="id" title="constructor">whne_letin_nozeta</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">zipp</span></a>. <span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> π). <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whne_mkApps"><span class="id" title="lemma">whne_mkApps</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whne_const_nodelta"><span class="id" title="constructor">whne_const_nodelta</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [ <span class="id" title="var">reduce</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">z</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="var">reduce</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">haux</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">t'</span> π'] <span class="id" title="var">Ha</span> <span class="id" title="var">eq'</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">haux</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">zipp</span></a>. <span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> π). <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whne_mkApps"><span class="id" title="lemma">whne_mkApps</span></a>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">symmetry</span>. <span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup_correct'"><span class="id" title="lemma">abstract_env_lookup_correct'</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [ <span class="id" title="var">reduce</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">z</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="var">reduce</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">haux</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">t'</span> π'] <span class="id" title="var">Ha</span> <span class="id" title="var">eq</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">haux</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">zipp</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#decompose_stack_noStackApp"><span class="id" title="lemma">decompose_stack_noStackApp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span> <span class="id" title="keyword">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_mkApps"><span class="id" title="lemma">whnf_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whne_app"><span class="id" title="constructor">whne_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whne_lam_nobeta"><span class="id" title="constructor">whne_lam_nobeta</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">zipp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_mkApps"><span class="id" title="lemma">whnf_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whne_fix_nofix"><span class="id" title="constructor">whne_fix_nofix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">zipp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_fixapp"><span class="id" title="constructor">whnf_fixapp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">e</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">zipp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#decompose_stack_noStackApp"><span class="id" title="lemma">decompose_stack_noStackApp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span> <span class="id" title="keyword">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_fixapp"><span class="id" title="constructor">whnf_fixapp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">e</span> <span class="id" title="var">eq1</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq1</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> &lt;- <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#decompose_stack_at_appstack_None"><span class="id" title="lemma">decompose_stack_at_appstack_None</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>) ; [<span class="id" title="tactic">left</span> | <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>]. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span> ; <span class="id" title="var">now</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [ <span class="id" title="var">reduce</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">z</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">haux</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>) <span class="id" title="keyword">as</span> ?;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">reduce</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">a</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">eq3</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span> [ <span class="id" title="var">reduce</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">z</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">haux</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">reduce</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">eq3</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hΣ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">wfΣ</span> <span class="id" title="var">hΣ</span> <span class="id" title="var">eq4</span> <span class="id" title="var">ht</span> <span class="id" title="var">eq2</span> <span class="id" title="var">eq1</span> <span class="id" title="var">h</span> <span class="id" title="var">prf</span> <span class="id" title="var">haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">r</span>&amp;<span class="id" title="var">stacks</span>&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">stacks</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">stacks</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">eq4</span> <span class="id" title="tactic">in</span> <span class="id" title="var">stacks</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">narg</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">args</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="keyword">as</span> → <span class="id" title="tactic">by</span> (<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_at_length"><span class="id" title="lemma">decompose_stack_at_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_at_eq"><span class="id" title="lemma">decompose_stack_at_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq2</span> <span class="id" title="keyword">as</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Req_red"><span class="id" title="lemma">Req_red</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_welltyped"><span class="id" title="lemma">red_welltyped</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#tApp_mkApps"><span class="id" title="lemma">tApp_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">zipp</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#welltyped_zipc_zipp"><span class="id" title="lemma">welltyped_zipc_zipp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">zipp</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_appstack"><span class="id" title="lemma">decompose_stack_appstack</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> ρ) <span class="id" title="var">eqn</span>:<span class="id" title="var">decomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decomp</span> <span class="id" title="keyword">as</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">ty</span>&amp;<span class="id" title="var">typ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context_appstack"><span class="id" title="lemma">stack_context_appstack</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context_appstack"><span class="id" title="lemma">stack_context_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">typ</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context_appstack"><span class="id" title="lemma">stack_context_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">haux</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context_appstack"><span class="id" title="lemma">stack_context_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> × ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">noapp</span>&amp;<span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>); [<span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">e</span> | <span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>]; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">eq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whne_fixapp"><span class="id" title="constructor">whne_fixapp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_snoc"><span class="id" title="lemma">nth_error_snoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#whnf_fix_arg_whne"><span class="id" title="lemma">whnf_fix_arg_whne</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">zipp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_mkApps"><span class="id" title="lemma">whnf_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whne_case_noiota"><span class="id" title="constructor">whne_case_noiota</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">eq</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">reduce</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">z</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">haux</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">reduce</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">eq</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hΣ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">hΣ</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">ht</span> <span class="id" title="var">prf'</span> <span class="id" title="var">h</span> <span class="id" title="var">prf</span> <span class="id" title="var">haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">r</span>&amp;<span class="id" title="var">stacks</span>&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">stacks</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">stacks</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">prf'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">stacks</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span> <span class="id" title="keyword">as</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Req_red"><span class="id" title="lemma">Req_red</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_welltyped"><span class="id" title="lemma">red_welltyped</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Utils.MRSquash.html#sq"><span class="id" title="constructor">sq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">zip</span> <span class="id" title="tactic">fold</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#welltyped_context"><span class="id" title="lemma">welltyped_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">ty</span>&amp;<span class="id" title="var">typ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">zipp</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_appstack"><span class="id" title="lemma">decompose_stack_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">haux</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">decomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decomp</span> <span class="id" title="keyword">as</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context_appstack"><span class="id" title="lemma">stack_context_appstack</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context_appstack"><span class="id" title="lemma">stack_context_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">typ</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context_appstack"><span class="id" title="lemma">stack_context_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">haux</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context_appstack"><span class="id" title="lemma">stack_context_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> × ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_mkApps"><span class="id" title="lemma">whnf_mkApps</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whne_case"><span class="id" title="constructor">whne_case</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#whnf_case_arg_whne"><span class="id" title="lemma">whnf_case_arg_whne</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">noapp</span>&amp;<span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [ <span class="id" title="var">reduce</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">z</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="var">reduce</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">haux</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">t'</span> π''] <span class="id" title="var">Ha</span> <span class="id" title="var">eq''</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq''</span> <span class="id" title="tactic">in</span> <span class="id" title="var">haux</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [ <span class="id" title="var">reduce</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">z</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="var">reduce</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">haux</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">t'</span> π''] <span class="id" title="var">Ha</span> <span class="id" title="var">eq''</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq''</span> <span class="id" title="tactic">in</span> <span class="id" title="var">haux</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">zipp</span></a>. <span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> π). <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whne_mkApps"><span class="id" title="lemma">whne_mkApps</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whne_proj_noiota"><span class="id" title="constructor">whne_proj_noiota</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">eq</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">reduce</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">z</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">haux</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">reduce</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">eq</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hΣ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">hΣ</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">ht</span> <span class="id" title="var">prf'</span> <span class="id" title="var">h</span> <span class="id" title="var">prf</span> <span class="id" title="var">haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">r</span>&amp;<span class="id" title="var">stacks</span>&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">stacks</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">stacks</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">prf'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">stacks</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">prf'</span> <span class="id" title="keyword">as</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Req_red"><span class="id" title="lemma">Req_red</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_welltyped"><span class="id" title="lemma">red_welltyped</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Utils.MRSquash.html#sq"><span class="id" title="constructor">sq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">zip</span> <span class="id" title="tactic">fold</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#welltyped_context"><span class="id" title="lemma">welltyped_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">ty</span>&amp;<span class="id" title="var">typ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">zipp</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_appstack"><span class="id" title="lemma">decompose_stack_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">haux</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">decomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decomp</span> <span class="id" title="keyword">as</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context_appstack"><span class="id" title="lemma">stack_context_appstack</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context_appstack"><span class="id" title="lemma">stack_context_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">typ</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context_appstack"><span class="id" title="lemma">stack_context_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">haux</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context_appstack"><span class="id" title="lemma">stack_context_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> × ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_mkApps"><span class="id" title="lemma">whnf_mkApps</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whne_proj"><span class="id" title="constructor">whne_proj</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#whnf_proj_arg_whne"><span class="id" title="lemma">whnf_proj_arg_whne</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">noapp</span>&amp;<span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [ <span class="id" title="var">reduce</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">z</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="var">reduce</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">haux</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">t'</span> π''] <span class="id" title="var">Ha</span> <span class="id" title="var">eq'</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">haux</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [ <span class="id" title="var">reduce</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">z</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="var">reduce</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">haux</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">t'</span> π''] <span class="id" title="var">Ha</span> <span class="id" title="var">eq''</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq''</span> <span class="id" title="tactic">in</span> <span class="id" title="var">haux</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="reduce_term_complete" class="idref" href="#reduce_term_complete"><span class="id" title="lemma">reduce_term_complete</span></a> <a id="def9f6a1e05323124d6a088ce7aa85cf" class="idref" href="#def9f6a1e05323124d6a088ce7aa85cf"><span class="id" title="binder">Σ</span></a> (<a id="91469bfd5131d70089ba74f198108c91" class="idref" href="#91469bfd5131d70089ba74f198108c91"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#def9f6a1e05323124d6a088ce7aa85cf"><span class="id" title="variable">Σ</span></a>) <a id="7ef6ec32e202818f500157feb38b32fa" class="idref" href="#7ef6ec32e202818f500157feb38b32fa"><span class="id" title="binder">Γ</span></a> <a id="t:1476" class="idref" href="#t:1476"><span class="id" title="binder">t</span></a> <a id="h:1477" class="idref" href="#h:1477"><span class="id" title="binder">h</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf"><span class="id" title="inductive">whnf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce.flags"><span class="id" title="variable">flags</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#def9f6a1e05323124d6a088ce7aa85cf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#7ef6ec32e202818f500157feb38b32fa"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_term"><span class="id" title="definition">reduce_term</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#7ef6ec32e202818f500157feb38b32fa"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1476"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#h:1477"><span class="id" title="variable">h</span></a>)<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_whnf"><span class="id" title="lemma">reduce_stack_whnf</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">h</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_term"><span class="id" title="definition">reduce_term</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full"><span class="id" title="definition">reduce_stack_full</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">a</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span>&amp;<span class="id" title="var">stack_eq</span>&amp;<span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">stack_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">stack_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">decomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zip"><span class="id" title="definition">zip</span></a>, <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">zipp</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context_appstack"><span class="id" title="lemma">stack_context_appstack</span></a>, <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_appstack"><span class="id" title="lemma">decompose_stack_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Reduce"><span class="id" title="section">Reduce</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="ReduceFns" class="idref" href="#ReduceFns"><span class="id" title="section">ReduceFns</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="ReduceFns.cf" class="idref" href="#ReduceFns.cf"><span class="id" title="variable">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="ReduceFns.no" class="idref" href="#ReduceFns.no"><span class="id" title="variable">no</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#normalizing_flags"><span class="id" title="class">normalizing_flags</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="ReduceFns.X_type" class="idref" href="#ReduceFns.X_type"><span class="id" title="variable">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>} {<a id="ReduceFns.X" class="idref" href="#ReduceFns.X"><span class="id" title="variable">X</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#X_type:1480"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>} {<a id="ReduceFns.normalization_in" class="idref" href="#ReduceFns.normalization_in"><span class="id" title="variable">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="216c7333721f101fdd5334e190c7bbb0" class="idref" href="#216c7333721f101fdd5334e190c7bbb0"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#216c7333721f101fdd5334e190c7bbb0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#216c7333721f101fdd5334e190c7bbb0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#X:1481"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#216c7333721f101fdd5334e190c7bbb0"><span class="id" title="variable">Σ</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Opaque</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full"><span class="id" title="definition">reduce_stack_full</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="hnf" class="idref" href="#hnf"><span class="id" title="definition">hnf</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_term"><span class="id" title="definition">reduce_term</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.default"><span class="id" title="definition">RedFlags.default</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X_type"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="hnf_sound" class="idref" href="#hnf_sound"><span class="id" title="lemma">hnf_sound</span></a> {<a id="39ec9fcaf3ecb76e3c2e3c9277394930" class="idref" href="#39ec9fcaf3ecb76e3c2e3c9277394930"><span class="id" title="binder">Γ</span></a> <a id="t:1485" class="idref" href="#t:1485"><span class="id" title="binder">t</span></a> <a id="h:1486" class="idref" href="#h:1486"><span class="id" title="binder">h</span></a>} <a id="6d885315708338cf08d5e29770c585fb" class="idref" href="#6d885315708338cf08d5e29770c585fb"><span class="id" title="binder">Σ</span></a> (<a id="9afa19d46a74260938e8b3c4ddddc701" class="idref" href="#9afa19d46a74260938e8b3c4ddddc701"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#6d885315708338cf08d5e29770c585fb"><span class="id" title="variable">Σ</span></a>) : <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#6d885315708338cf08d5e29770c585fb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#39ec9fcaf3ecb76e3c2e3c9277394930"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1485"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hnf"><span class="id" title="definition">hnf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#39ec9fcaf3ecb76e3c2e3c9277394930"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1485"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#h:1486"><span class="id" title="variable">h</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hnf"><span class="id" title="definition">hnf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_term_sound"><span class="id" title="lemma">reduce_term_sound</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.default"><span class="id" title="definition">RedFlags.default</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#into_closed_red"><span class="id" title="lemma">into_closed_red</span></a>; <span class="id" title="var">fvs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="hnf_complete" class="idref" href="#hnf_complete"><span class="id" title="lemma">hnf_complete</span></a> {<a id="aba709fc19395bba0759016ec24f4dbd" class="idref" href="#aba709fc19395bba0759016ec24f4dbd"><span class="id" title="binder">Γ</span></a> <a id="t:1490" class="idref" href="#t:1490"><span class="id" title="binder">t</span></a> <a id="h:1491" class="idref" href="#h:1491"><span class="id" title="binder">h</span></a>} <a id="5c964073fec5d00f5bda9b65fd4e46a1" class="idref" href="#5c964073fec5d00f5bda9b65fd4e46a1"><span class="id" title="binder">Σ</span></a> (<a id="749d2a1b960ec0386cceed0287dc2257" class="idref" href="#749d2a1b960ec0386cceed0287dc2257"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#5c964073fec5d00f5bda9b65fd4e46a1"><span class="id" title="variable">Σ</span></a>) : <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf"><span class="id" title="inductive">whnf</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.default"><span class="id" title="definition">RedFlags.default</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#5c964073fec5d00f5bda9b65fd4e46a1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#aba709fc19395bba0759016ec24f4dbd"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hnf"><span class="id" title="definition">hnf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#aba709fc19395bba0759016ec24f4dbd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1490"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#h:1491"><span class="id" title="variable">h</span></a>)<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_term_complete"><span class="id" title="lemma">reduce_term_complete</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span>? <a id="reduce_to_sort" class="idref" href="#reduce_to_sort"><span class="id" title="definition">reduce_to_sort</span></a> (<a id="89ffc3a462e174b2b35e1cb606769736" class="idref" href="#89ffc3a462e174b2b35e1cb606769736"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) (<a id="t:1495" class="idref" href="#t:1495"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="h:1498" class="idref" href="#h:1498"><span class="id" title="binder">h</span></a> : <span class="id" title="keyword">∀</span> <a id="35faa2f4cc72e65057fe1754a795f20d" class="idref" href="#35faa2f4cc72e65057fe1754a795f20d"><span class="id" title="binder">Σ</span></a> (<a id="0c64ab755ae0630c8be565ade3f31f8f" class="idref" href="#0c64ab755ae0630c8be565ade3f31f8f"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#35faa2f4cc72e65057fe1754a795f20d"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#35faa2f4cc72e65057fe1754a795f20d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#89ffc3a462e174b2b35e1cb606769736"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1495"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result_comp"><span class="id" title="inductive">typing_result_comp</span></a> (<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="u:1499" class="idref" href="#u:1499"><span class="id" title="binder">u</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">∀</span> <a id="a7b112e79161769aedfad54af1dad93d" class="idref" href="#a7b112e79161769aedfad54af1dad93d"><span class="id" title="binder">Σ</span></a> (<a id="fef390bdb0e47e4c61a4ff2eb82be6f2" class="idref" href="#fef390bdb0e47e4c61a4ff2eb82be6f2"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a7b112e79161769aedfad54af1dad93d"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a7b112e79161769aedfad54af1dad93d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">;;;</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⊢</span></a> <span class="id" title="var">t</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:1499"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_to_sort:1506"><span class="id" title="definition">reduce_to_sort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cf268b57cb21218c87d67401c86aa022"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1504"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#h:1503"><span class="id" title="variable">h</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_sortc"><span class="id" title="definition">view_sortc</span></a> <span class="id" title="var">t</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_sort_sort"><span class="id" title="constructor">view_sort_sort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#s:1508"><span class="id" title="variable">s</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Checked_comp"><span class="id" title="constructor">Checked_comp</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_sort_other"><span class="id" title="constructor">view_sort_other</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1513"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_sort_other"><span class="id" title="constructor">_</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hnf"><span class="id" title="definition">hnf</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">h</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hnft:1519"><span class="id" title="variable">hnft</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eq:1516"><span class="id" title="variable">eq</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_sortc"><span class="id" title="definition">view_sortc</span></a> <span class="id" title="var">hnft</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_sort_sort"><span class="id" title="constructor">view_sort_sort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#s:1530"><span class="id" title="variable">s</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Checked_comp"><span class="id" title="constructor">Checked_comp</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_sort_other"><span class="id" title="constructor">view_sort_other</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hnft:1538"><span class="id" title="variable">hnft</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#r:1540"><span class="id" title="variable">r</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#TypeError_comp"><span class="id" title="constructor">TypeError_comp</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#NotASort"><span class="id" title="constructor">NotASort</span></a> <span class="id" title="var">hnft</span>) <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<span class="id" title="var">h</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [? <span class="id" title="var">hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">hΣ</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICClassification.html#wt_closed_red_refl"><span class="id" title="lemma">wt_closed_red_refl</span></a> <span class="id" title="var">hs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hnf_sound"><span class="id" title="lemma">hnf_sound</span></a> (<span class="id" title="var">h</span>:=<span class="id" title="var">h</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]]. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">X1</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">hΣ</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (@<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hnf_complete"><span class="id" title="lemma">hnf_complete</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">h</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wh</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (@<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hnf_sound"><span class="id" title="lemma">hnf_sound</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">h</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">r'</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContextConversion.html#closed_red_confluence"><span class="id" title="lemma">PCUICContextConversion.closed_red_confluence</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span> <span class="id" title="keyword">as</span> (?&amp;<span class="id" title="var">r1</span>&amp;<span class="id" title="var">r2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#invert_red_sort"><span class="id" title="lemma">invert_red_sort</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r2</span> <span class="id" title="keyword">as</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_red_inv"><span class="id" title="lemma">whnf_red_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">r1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reduce_to_sort_complete" class="idref" href="#reduce_to_sort_complete"><span class="id" title="lemma">reduce_to_sort_complete</span></a> {<a id="c098582fa005076eeeb2a5a8e122280b" class="idref" href="#c098582fa005076eeeb2a5a8e122280b"><span class="id" title="binder">Γ</span></a> <a id="t:1546" class="idref" href="#t:1546"><span class="id" title="binder">t</span></a> <a id="wt:1547" class="idref" href="#wt:1547"><span class="id" title="binder">wt</span></a>} <a id="1dad5882560683134ae12f63e3830a34" class="idref" href="#1dad5882560683134ae12f63e3830a34"><span class="id" title="binder">Σ</span></a> (<a id="5d9912eb8d5e0f9ae8f1ecdb2c4273c2" class="idref" href="#5d9912eb8d5e0f9ae8f1ecdb2c4273c2"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#1dad5882560683134ae12f63e3830a34"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="e:1550" class="idref" href="#e:1550"><span class="id" title="binder">e</span></a> <a id="p:1551" class="idref" href="#p:1551"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_to_sort"><span class="id" title="definition">reduce_to_sort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c098582fa005076eeeb2a5a8e122280b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1546"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#wt:1547"><span class="id" title="variable">wt</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#TypeError_comp"><span class="id" title="constructor">TypeError_comp</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#e:1550"><span class="id" title="variable">e</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:1551"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="s:1552" class="idref" href="#s:1552"><span class="id" title="binder">s</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red"><span class="id" title="definition">red</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#1dad5882560683134ae12f63e3830a34"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#c098582fa005076eeeb2a5a8e122280b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1546"><span class="id" title="variable">t</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#s:1552"><span class="id" title="variable">s</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">_</span> <span class="id" title="var">s</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">hΣ</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#into_closed_red"><span class="id" title="lemma">into_closed_red</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span> ; <span class="id" title="var">fvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span>? <a id="reduce_to_prod" class="idref" href="#reduce_to_prod"><span class="id" title="definition">reduce_to_prod</span></a> (<a id="cc7d0bb2c75613b3a08dfc239a9e38de" class="idref" href="#cc7d0bb2c75613b3a08dfc239a9e38de"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) (<a id="t:1554" class="idref" href="#t:1554"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="h:1557" class="idref" href="#h:1557"><span class="id" title="binder">h</span></a> : <span class="id" title="keyword">∀</span> <a id="93b57d94c1a1f1727714f670c06f4864" class="idref" href="#93b57d94c1a1f1727714f670c06f4864"><span class="id" title="binder">Σ</span></a> (<a id="00aa25037c4b963dcc61a7ce8080648f" class="idref" href="#00aa25037c4b963dcc61a7ce8080648f"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#93b57d94c1a1f1727714f670c06f4864"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#93b57d94c1a1f1727714f670c06f4864"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cc7d0bb2c75613b3a08dfc239a9e38de"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1554"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result_comp"><span class="id" title="inductive">typing_result_comp</span></a> (<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="na:1558" class="idref" href="#na:1558"><span class="id" title="binder">na</span></a> <a id="a:1559" class="idref" href="#a:1559"><span class="id" title="binder">a</span></a> <a id="b:1560" class="idref" href="#b:1560"><span class="id" title="binder">b</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">∀</span>  <a id="cfd82614abfb8dd99eac8c519c35f74f" class="idref" href="#cfd82614abfb8dd99eac8c519c35f74f"><span class="id" title="binder">Σ</span></a> (<a id="ec595f7ee1c8ffb285f4de5806e06aca" class="idref" href="#ec595f7ee1c8ffb285f4de5806e06aca"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cfd82614abfb8dd99eac8c519c35f74f"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cfd82614abfb8dd99eac8c519c35f74f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">;;;</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⊢</span></a> <span class="id" title="var">t</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#na:1558"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a:1559"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#b:1560"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_to_prod:1567"><span class="id" title="definition">reduce_to_prod</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#e37c69e773a918fa8d6accd60129f42a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1565"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#h:1564"><span class="id" title="variable">h</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_prodc"><span class="id" title="definition">view_prodc</span></a> <span class="id" title="var">t</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_prod_prod"><span class="id" title="constructor">view_prod_prod</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#na:1571"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a:1568"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#b:1569"><span class="id" title="variable">b</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Checked_comp"><span class="id" title="constructor">Checked_comp</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">(</span></a><span class="id" title="var">na</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <span class="id" title="var">a</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <span class="id" title="var">b</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">)</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_prod_other"><span class="id" title="constructor">view_prod_other</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1576"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_prod_other"><span class="id" title="constructor">_</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hnf"><span class="id" title="definition">hnf</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">h</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hnft:1582"><span class="id" title="variable">hnft</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eq:1579"><span class="id" title="variable">eq</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_prodc"><span class="id" title="definition">view_prodc</span></a> <span class="id" title="var">hnft</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_prod_prod"><span class="id" title="constructor">view_prod_prod</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#na:1595"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a:1588"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#b:1589"><span class="id" title="variable">b</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Checked_comp"><span class="id" title="constructor">Checked_comp</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">(</span></a><span class="id" title="var">na</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <span class="id" title="var">a</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <span class="id" title="var">b</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">)</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_prod_other"><span class="id" title="constructor">view_prod_other</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hnft:1603"><span class="id" title="variable">hnft</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_prod_other"><span class="id" title="constructor">_</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#TypeError_comp"><span class="id" title="constructor">TypeError_comp</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#NotAProduct"><span class="id" title="constructor">NotAProduct</span></a> <span class="id" title="var">t</span> <span class="id" title="var">hnft</span>) <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<span class="id" title="var">h</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [? <span class="id" title="var">hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">hΣ</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICClassification.html#wt_closed_red_refl"><span class="id" title="lemma">wt_closed_red_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hnf_sound"><span class="id" title="lemma">hnf_sound</span></a> (<span class="id" title="var">h</span>:=<span class="id" title="var">h</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">X3</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (@<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hnf_complete"><span class="id" title="lemma">hnf_complete</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">h</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wh</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (@<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hnf_sound"><span class="id" title="lemma">hnf_sound</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">h</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">r'</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContextConversion.html#closed_red_confluence"><span class="id" title="lemma">PCUICContextConversion.closed_red_confluence</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X3</span> <span class="id" title="keyword">as</span> (?&amp;<span class="id" title="var">r1</span>&amp;<span class="id" title="var">r2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#invert_red_prod"><span class="id" title="lemma">invert_red_prod</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r2</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;[-&gt; ? ?]); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_red_inv"><span class="id" title="lemma">whnf_red_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">r1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reduce_to_prod_complete" class="idref" href="#reduce_to_prod_complete"><span class="id" title="lemma">reduce_to_prod_complete</span></a> {<a id="e5879c4939f2f9b6a4063ddd70d23671" class="idref" href="#e5879c4939f2f9b6a4063ddd70d23671"><span class="id" title="binder">Γ</span></a> <a id="t:1610" class="idref" href="#t:1610"><span class="id" title="binder">t</span></a> <a id="wt:1611" class="idref" href="#wt:1611"><span class="id" title="binder">wt</span></a>} <a id="d1ca9e2860ccc9f8839673b9ea9fead2" class="idref" href="#d1ca9e2860ccc9f8839673b9ea9fead2"><span class="id" title="binder">Σ</span></a> (<a id="548cf5d9688a7599944d2d5d3c9176c9" class="idref" href="#548cf5d9688a7599944d2d5d3c9176c9"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#d1ca9e2860ccc9f8839673b9ea9fead2"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="e:1614" class="idref" href="#e:1614"><span class="id" title="binder">e</span></a> <a id="p:1615" class="idref" href="#p:1615"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_to_prod"><span class="id" title="definition">reduce_to_prod</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#e5879c4939f2f9b6a4063ddd70d23671"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1610"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#wt:1611"><span class="id" title="variable">wt</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#TypeError_comp"><span class="id" title="constructor">TypeError_comp</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#e:1614"><span class="id" title="variable">e</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:1615"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="na:1616" class="idref" href="#na:1616"><span class="id" title="binder">na</span></a> <a id="a:1617" class="idref" href="#a:1617"><span class="id" title="binder">a</span></a> <a id="b:1618" class="idref" href="#b:1618"><span class="id" title="binder">b</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red"><span class="id" title="definition">red</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#d1ca9e2860ccc9f8839673b9ea9fead2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#e5879c4939f2f9b6a4063ddd70d23671"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1610"><span class="id" title="variable">t</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#na:1616"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#a:1617"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#b:1618"><span class="id" title="variable">b</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">_</span> <span class="id" title="var">na</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">na</span>, <span class="id" title="var">a</span>, <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">hΣ</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#into_closed_red"><span class="id" title="lemma">into_closed_red</span></a>; <span class="id" title="var">fvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span>? <a id="reduce_to_ind" class="idref" href="#reduce_to_ind"><span class="id" title="definition">reduce_to_ind</span></a> (<a id="559421ab3fae7d1c631ff5d4cda86907" class="idref" href="#559421ab3fae7d1c631ff5d4cda86907"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) (<a id="t:1620" class="idref" href="#t:1620"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="h:1623" class="idref" href="#h:1623"><span class="id" title="binder">h</span></a> : <span class="id" title="keyword">∀</span> <a id="e03cfdc5e07c2fa77e95b16f23051560" class="idref" href="#e03cfdc5e07c2fa77e95b16f23051560"><span class="id" title="binder">Σ</span></a> (<a id="3b6985be0fb20bdc8b44f7e8f59e4fcd" class="idref" href="#3b6985be0fb20bdc8b44f7e8f59e4fcd"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#e03cfdc5e07c2fa77e95b16f23051560"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#e03cfdc5e07c2fa77e95b16f23051560"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#559421ab3fae7d1c631ff5d4cda86907"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1620"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result_comp"><span class="id" title="inductive">typing_result_comp</span></a> (<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="i:1624" class="idref" href="#i:1624"><span class="id" title="binder">i</span></a> <a id="u:1625" class="idref" href="#u:1625"><span class="id" title="binder">u</span></a> <a id="l:1626" class="idref" href="#l:1626"><span class="id" title="binder">l</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">∀</span> <a id="73466f0fc246a89f71c6cfdb83522120" class="idref" href="#73466f0fc246a89f71c6cfdb83522120"><span class="id" title="binder">Σ</span></a> (<a id="5ddf4e71e6bd25fb5352b95c83c4269d" class="idref" href="#5ddf4e71e6bd25fb5352b95c83c4269d"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#73466f0fc246a89f71c6cfdb83522120"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#73466f0fc246a89f71c6cfdb83522120"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">;;;</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⊢</span></a> <span class="id" title="var">t</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#i:1624"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:1625"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#l:1626"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_to_ind:1633"><span class="id" title="definition">reduce_to_ind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cdf70635b84974734886cff1f4e18a21"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#t:1631"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#h:1630"><span class="id" title="variable">h</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">t</span>) := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#thd:1640"><span class="id" title="variable">thd</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:1634"><span class="id" title="variable">args</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eq_decomp:1636"><span class="id" title="variable">eq_decomp</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_indc"><span class="id" title="definition">view_indc</span></a> <span class="id" title="var">thd</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_ind_tInd"><span class="id" title="constructor">view_ind_tInd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#i:1646"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:1650"><span class="id" title="variable">u</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Checked_comp"><span class="id" title="constructor">Checked_comp</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <span class="id" title="var">u</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <span class="id" title="var">args</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">)</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_ind_other"><span class="id" title="constructor">view_ind_other</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#thd:1659"><span class="id" title="variable">thd</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_ind_other"><span class="id" title="constructor">_</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.default"><span class="id" title="definition">RedFlags.default</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">h</span>) := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#hnft:1668"><span class="id" title="variable">hnft</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#706fd9b9b94fc56bc11440736e1ec838"><span class="id" title="variable">π</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eq:1665"><span class="id" title="variable">eq</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_indc"><span class="id" title="definition">view_indc</span></a> <span class="id" title="var">hnft</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_ind_tInd"><span class="id" title="constructor">view_ind_tInd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#i':1684"><span class="id" title="variable">i'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:1689"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> π) := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#l:1705"><span class="id" title="variable">l</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">_</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#eq_decomp':1700"><span class="id" title="variable">eq_decomp'</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Checked_comp"><span class="id" title="constructor">Checked_comp</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">(</span></a><span class="id" title="var">i'</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <span class="id" title="var">u</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <span class="id" title="var">l</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_ind_other"><span class="id" title="constructor">view_ind_other</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_ind_other"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#view_ind_other"><span class="id" title="constructor">_</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#TypeError_comp"><span class="id" title="constructor">TypeError_comp</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#NotAnInductive"><span class="id" title="constructor">NotAnInductive</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">h</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span>  <span class="id" title="keyword">as</span> [? <span class="id" title="var">h</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Xeq</span> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <span class="id" title="var">i</span> <span class="id" title="var">u</span>) <span class="id" title="var">args</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">etransitivity</span>. 2: <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#mkApps_decompose_app"><span class="id" title="definition">mkApps_decompose_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">eq_decomp</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Xeq</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">hΣ</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>); <span class="id" title="var">sq</span>; <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICClassification.html#wt_closed_red_refl"><span class="id" title="lemma">wt_closed_red_refl</span></a> <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_sound"><span class="id" title="lemma">reduce_stack_sound</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.default"><span class="id" title="definition">RedFlags.default</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (π <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#appstack"><span class="id" title="definition">appstack</span></a> <span class="id" title="var">l</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="keyword">as</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full"><span class="id" title="definition">reduce_stack_full</span></a> <span class="id" title="keyword">as</span> (?&amp;<span class="id" title="var">_</span>&amp;<span class="id" title="var">stack_val</span>&amp;?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">stack_val</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">decomp</span>: <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> π <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> π<a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">stack_val</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decomp</span> <span class="id" title="keyword">as</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">eq_decomp'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">X3</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">hΣ</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_whnf"><span class="id" title="lemma">reduce_stack_whnf</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.default"><span class="id" title="definition">RedFlags.default</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">h</span> <span class="id" title="var">_</span>  <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">wh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full"><span class="id" title="definition">reduce_stack_full</span></a> <span class="id" title="keyword">as</span> ((<span class="id" title="var">hd</span>&amp;π')&amp;<span class="id" title="var">r'</span>&amp;<span class="id" title="var">stack_valid</span>&amp;(<span class="id" title="var">notapp</span>&amp;<span class="id" title="var">_</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wh</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">wh</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Req_red"><span class="id" title="lemma">Req_red</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">r'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#Pr"><span class="id" title="definition">Pr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">stack_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#into_closed_red"><span class="id" title="lemma">into_closed_red</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r'</span>; <span class="id" title="var">fvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContextConversion.html#closed_red_confluence"><span class="id" title="lemma">PCUICContextConversion.closed_red_confluence</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r'</span> <span class="id" title="keyword">as</span> (?&amp;<span class="id" title="var">r1</span>&amp;<span class="id" title="var">r2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : <span class="id" title="tactic">exact</span> <span class="id" title="var">X3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="args:1729" class="idref" href="#args:1729"><span class="id" title="binder"><span id="args:1730" class="id">args</span></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> π' <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#appstack"><span class="id" title="definition">appstack</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:1729"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="keyword">as</span> (?&amp;-&gt;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">∃</span> (<a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> π'<a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">decomp</span>: <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> π' <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a> π'<a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">stack_valid</span>; <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">decompose_stack</span></a>; <span class="id" title="var">cbn</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_eq"><span class="id" title="lemma">decompose_stack_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decomp</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">zipp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#stack_context_appstack"><span class="id" title="lemma">stack_context_appstack</span></a>, <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#decompose_stack_appstack"><span class="id" title="lemma">decompose_stack_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#zipc_appstack"><span class="id" title="lemma">zipc_appstack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_red_inv"><span class="id" title="lemma">whnf_red_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#invert_red_mkApps_tInd"><span class="id" title="lemma">invert_red_mkApps_tInd</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r1</span> <span class="id" title="keyword">as</span> (?&amp;[-&gt; <span class="id" title="var">_</span> ?]); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_red_mkApps_inv"><span class="id" title="lemma">whnf_red_mkApps_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r2</span> <span class="id" title="keyword">as</span> (?&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span> <span class="id" title="var">i0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reduce_to_ind_complete" class="idref" href="#reduce_to_ind_complete"><span class="id" title="lemma">reduce_to_ind_complete</span></a>  <a id="42c25edf14a4fb419b4d3612ec234788" class="idref" href="#42c25edf14a4fb419b4d3612ec234788"><span class="id" title="binder">Σ</span></a> (<a id="66bee080c10be488c178c5fb6d23583a" class="idref" href="#66bee080c10be488c178c5fb6d23583a"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#42c25edf14a4fb419b4d3612ec234788"><span class="id" title="variable">Σ</span></a>) <a id="b05ed7cddebb8f5c7932ff472800b864" class="idref" href="#b05ed7cddebb8f5c7932ff472800b864"><span class="id" title="binder">Γ</span></a> <a id="ty:1734" class="idref" href="#ty:1734"><span class="id" title="binder">ty</span></a> <a id="wat:1735" class="idref" href="#wat:1735"><span class="id" title="binder">wat</span></a> <a id="e:1736" class="idref" href="#e:1736"><span class="id" title="binder">e</span></a> <a id="p:1737" class="idref" href="#p:1737"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_to_ind"><span class="id" title="definition">reduce_to_ind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#b05ed7cddebb8f5c7932ff472800b864"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ty:1734"><span class="id" title="variable">ty</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#wat:1735"><span class="id" title="variable">wat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#TypeError_comp"><span class="id" title="constructor">TypeError_comp</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#e:1736"><span class="id" title="variable">e</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#p:1737"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="ind:1738" class="idref" href="#ind:1738"><span class="id" title="binder">ind</span></a> <a id="u:1739" class="idref" href="#u:1739"><span class="id" title="binder">u</span></a> <a id="args:1740" class="idref" href="#args:1740"><span class="id" title="binder">args</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red"><span class="id" title="definition">red</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#42c25edf14a4fb419b4d3612ec234788"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#b05ed7cddebb8f5c7932ff472800b864"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ty:1734"><span class="id" title="variable">ty</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ind:1738"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:1739"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#args:1740"><span class="id" title="variable">args</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">_</span> <span class="id" title="var">ind</span> <span class="id" title="var">u</span> <span class="id" title="var">args'</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">ind</span>, <span class="id" title="var">u</span>, <span class="id" title="var">args'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">hΣ</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#into_closed_red"><span class="id" title="lemma">into_closed_red</span></a> ; <span class="id" title="var">fvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="arity_ass" class="idref" href="#arity_ass"><span class="id" title="definition">arity_ass</span></a> := <a class="idref" href="MetaRocq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a> <a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="mkAssumArity" class="idref" href="#mkAssumArity"><span class="id" title="definition">mkAssumArity</span></a> (<a id="l:1741" class="idref" href="#l:1741"><span class="id" title="binder">l</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#arity_ass"><span class="id" title="definition">arity_ass</span></a>) (<a id="s:1742" class="idref" href="#s:1742"><span class="id" title="binder">s</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#sort"><span class="id" title="abbreviation">sort</span></a>) : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#l:1741"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#s:1742"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">na</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">A</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">na</span> <span class="id" title="var">A</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#mkAssumArity:1743"><span class="id" title="definition">mkAssumArity</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#l:1741"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#s:1742"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="arity_ass_context" class="idref" href="#arity_ass_context"><span class="id" title="definition">arity_ass_context</span></a> := <a class="idref" href="MetaRocq.Utils.MRList.html#rev_map"><span class="id" title="definition">rev_map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:1747" class="idref" href="#pat:1747"><span class="id" title="binder">(</span></a><a id="na:1746" class="idref" href="#na:1746"><span class="id" title="binder"><span id="pat:1747" class="id">na</span></span></a><a id="pat:1747" class="idref" href="#pat:1747"><span class="id" title="binder">,</span></a> <a id="A:1745" class="idref" href="#A:1745"><span class="id" title="binder"><span id="pat:1747" class="id">A</span></span></a><a id="pat:1747" class="idref" href="#pat:1747"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#na:1746"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#A:1745"><span class="id" title="variable">A</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="assumption_context_arity_ass_context" class="idref" href="#assumption_context_arity_ass_context"><span class="id" title="lemma">assumption_context_arity_ass_context</span></a> <a id="l:1748" class="idref" href="#l:1748"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#assumption_context"><span class="id" title="inductive">assumption_context</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#arity_ass_context"><span class="id" title="definition">arity_ass_context</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#l:1748"><span class="id" title="variable">l</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#arity_ass_context"><span class="id" title="definition">arity_ass_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_map_spec"><span class="id" title="lemma">rev_map_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_ind"><span class="id" title="lemma">MRList.rev_ind</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev_app_distr"><span class="id" title="lemma">rev_app_distr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mkAssumArity_it_mkProd_or_LetIn" class="idref" href="#mkAssumArity_it_mkProd_or_LetIn"><span class="id" title="lemma">mkAssumArity_it_mkProd_or_LetIn</span></a> (<a id="l:1749" class="idref" href="#l:1749"><span class="id" title="binder">l</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#arity_ass"><span class="id" title="definition">arity_ass</span></a>) (<a id="s:1750" class="idref" href="#s:1750"><span class="id" title="binder">s</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#sort"><span class="id" title="abbreviation">sort</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#mkAssumArity"><span class="id" title="definition">mkAssumArity</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#l:1749"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#s:1750"><span class="id" title="variable">s</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#arity_ass_context"><span class="id" title="definition">arity_ass_context</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#l:1749"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#s:1750"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#arity_ass_context"><span class="id" title="definition">arity_ass_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_map_spec"><span class="id" title="lemma">rev_map_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="isArity_mkAssumArity" class="idref" href="#isArity_mkAssumArity"><span class="id" title="lemma">isArity_mkAssumArity</span></a> <a id="l:1751" class="idref" href="#l:1751"><span class="id" title="binder">l</span></a> <a id="s:1752" class="idref" href="#s:1752"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#isArity"><span class="id" title="definition">isArity</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#mkAssumArity"><span class="id" title="definition">mkAssumArity</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#l:1751"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#s:1752"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|(<span class="id" title="var">na</span> &amp; <span class="id" title="var">A</span>) <span class="id" title="var">l</span> <span class="id" title="var">IH</span>]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="conv_arity" class="idref" href="#conv_arity"><span class="id" title="record">conv_arity</span></a> {<a id="372491c0fd95438936d675ead46aea2a" class="idref" href="#372491c0fd95438936d675ead46aea2a"><span class="id" title="binder">Γ</span></a> <a id="T:1754" class="idref" href="#T:1754"><span class="id" title="binder">T</span></a>} : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">build_conv_arity</span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="conv_ar_context" class="idref" href="#conv_ar_context"><span class="id" title="projection">conv_ar_context</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#arity_ass"><span class="id" title="definition">arity_ass</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="conv_ar_univ" class="idref" href="#conv_ar_univ"><span class="id" title="projection">conv_ar_univ</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#sort"><span class="id" title="abbreviation">sort</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="conv_ar_red" class="idref" href="#conv_ar_red"><span class="id" title="projection">conv_ar_red</span></a> : <span class="id" title="keyword">∀</span> <a id="6c60d3c3e44a3c630c0867d0920bf327" class="idref" href="#6c60d3c3e44a3c630c0867d0920bf327"><span class="id" title="binder">Σ</span></a> (<a id="d517c4d16aad9afc7a9436bbf79ef040" class="idref" href="#d517c4d16aad9afc7a9436bbf79ef040"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#6c60d3c3e44a3c630c0867d0920bf327"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#6c60d3c3e44a3c630c0867d0920bf327"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#372491c0fd95438936d675ead46aea2a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#T:1754"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#mkAssumArity"><span class="id" title="definition">mkAssumArity</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#conv_ar_context:1756"><span class="id" title="method">conv_ar_context</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#conv_ar_univ:1757"><span class="id" title="method">conv_ar_univ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#conv_arity"><span class="id" title="record">conv_arity</span></a> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="conv_arity_Is_conv_to_Arity" class="idref" href="#conv_arity_Is_conv_to_Arity"><span class="id" title="lemma">conv_arity_Is_conv_to_Arity</span></a> {<a id="334eff19478dd5a7b138b8e4dcde1525" class="idref" href="#334eff19478dd5a7b138b8e4dcde1525"><span class="id" title="binder">Γ</span></a> <a id="T:1762" class="idref" href="#T:1762"><span class="id" title="binder">T</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_closed_context"><span class="id" title="abbreviation">is_closed_context</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#334eff19478dd5a7b138b8e4dcde1525"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#334eff19478dd5a7b138b8e4dcde1525"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#T:1762"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#conv_arity"><span class="id" title="record">conv_arity</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#334eff19478dd5a7b138b8e4dcde1525"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#T:1762"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="2967900875537b1a97e0e6850616168f" class="idref" href="#2967900875537b1a97e0e6850616168f"><span class="id" title="binder">Σ</span></a> (<a id="5ddc98f5c4566a93f0c6546dfa3b36a8" class="idref" href="#5ddc98f5c4566a93f0c6546dfa3b36a8"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#2967900875537b1a97e0e6850616168f"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#Is_conv_to_Arity"><span class="id" title="definition">Is_conv_to_Arity</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#2967900875537b1a97e0e6850616168f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#334eff19478dd5a7b138b8e4dcde1525"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#T:1762"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">clΓ</span> <span class="id" title="var">clT</span> [<span class="id" title="var">asses</span> <span class="id" title="var">univ</span> <span class="id" title="var">r</span>] <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">r</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="tactic">split</span>; [<span class="id" title="var">sq</span>|]; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#isArity_mkAssumArity"><span class="id" title="lemma">isArity_mkAssumArity</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="isArity_red" class="idref" href="#isArity_red"><span class="id" title="lemma">isArity_red</span></a> <a id="8a4821ffa92845b157cb145302ed3b81" class="idref" href="#8a4821ffa92845b157cb145302ed3b81"><span class="id" title="binder">Σ</span></a> <a id="9ea3c15d4a66e51f38967fd16e6fca3b" class="idref" href="#9ea3c15d4a66e51f38967fd16e6fca3b"><span class="id" title="binder">Γ</span></a> <a id="u:1767" class="idref" href="#u:1767"><span class="id" title="binder">u</span></a> <a id="v:1768" class="idref" href="#v:1768"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#isArity"><span class="id" title="definition">isArity</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:1767"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red"><span class="id" title="definition">red</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#8a4821ffa92845b157cb145302ed3b81"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#9ea3c15d4a66e51f38967fd16e6fca3b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#u:1767"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#v:1768"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#isArity"><span class="id" title="definition">isArity</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#v:1768"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">arity_u</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">r</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red_rect_n1"><span class="id" title="definition">red_rect_n1</span></a>; [<span class="id" title="var">easy</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#isArity_red1"><span class="id" title="lemma">isArity_red1</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Is_conv_to_Arity_red" class="idref" href="#Is_conv_to_Arity_red"><span class="id" title="lemma">Is_conv_to_Arity_red</span></a> <a id="557e346faeae775dd4490c57788226dc" class="idref" href="#557e346faeae775dd4490c57788226dc"><span class="id" title="binder">Σ</span></a> {<a id="61e1176f860b1a7eec814f83fb9d4375" class="idref" href="#61e1176f860b1a7eec814f83fb9d4375"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#557e346faeae775dd4490c57788226dc"><span class="id" title="variable">Σ</span></a>} <a id="17c99e1c9802d3ef0bad99f2e4f90134" class="idref" href="#17c99e1c9802d3ef0bad99f2e4f90134"><span class="id" title="binder">Γ</span></a> <a id="T:1772" class="idref" href="#T:1772"><span class="id" title="binder">T</span></a> <a id="T':1773" class="idref" href="#T':1773"><span class="id" title="binder">T'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#Is_conv_to_Arity"><span class="id" title="definition">Is_conv_to_Arity</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#557e346faeae775dd4490c57788226dc"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#17c99e1c9802d3ef0bad99f2e4f90134"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#T:1772"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#557e346faeae775dd4490c57788226dc"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#17c99e1c9802d3ef0bad99f2e4f90134"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#T:1772"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#T':1773"><span class="id" title="variable">T'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#Is_conv_to_Arity"><span class="id" title="definition">Is_conv_to_Arity</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#557e346faeae775dd4490c57788226dc"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#17c99e1c9802d3ef0bad99f2e4f90134"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#T':1773"><span class="id" title="variable">T'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#Is_conv_to_Arity"><span class="id" title="definition">Is_conv_to_Arity</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">T''</span> (<span class="id" title="var">redT''</span> &amp; <span class="id" title="var">is_arity</span>)] <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICContextConversion.html#closed_red_confluence"><span class="id" title="lemma">PCUICContextConversion.closed_red_confluence</span></a> <span class="id" title="tactic">red</span> <span class="id" title="var">redT''</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">a</span> &amp; <span class="id" title="var">reda'</span> &amp; <span class="id" title="var">reda''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">easy</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">is_arity</span> <span class="id" title="var">reda''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#isArity_red"><span class="id" title="lemma">isArity_red</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">reda''</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Instance</span> <a id="wellfounded" class="idref" href="#wellfounded"><span class="id" title="instance">wellfounded</span></a> <a id="cb453c0a8a5ff012956f0e297aa3c831" class="idref" href="#cb453c0a8a5ff012956f0e297aa3c831"><span class="id" title="binder">Σ</span></a> <a id="77cb6af6162f3afcbf19f3bc6ca544db" class="idref" href="#77cb6af6162f3afcbf19f3bc6ca544db"><span class="id" title="binder">wfΣ</span></a> {<a id="normalization:1776" class="idref" href="#normalization:1776"><span class="id" title="binder">normalization</span></a>:<a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cb453c0a8a5ff012956f0e297aa3c831"><span class="id" title="variable">Σ</span></a>} : <span class="id" title="class">WellFounded</span> (@<a class="idref" href="MetaRocq.SafeChecker.PCUICWfReduction.html#hnf_subterm_rel"><span class="id" title="definition">hnf_subterm_rel</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cb453c0a8a5ff012956f0e297aa3c831"><span class="id" title="variable">Σ</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaRocq.SafeChecker.PCUICWfReduction.html#wf_hnf_subterm"><span class="id" title="instance">wf_hnf_subterm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">normalization</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#e13e9e4849f1b26670f1b852ea178571"><span class="id" title="definition">heΣ</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#ReduceFns"><span class="id" title="section">ReduceFns</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
