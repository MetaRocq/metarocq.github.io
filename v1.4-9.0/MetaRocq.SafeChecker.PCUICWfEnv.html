<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./index.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaRocq.SafeChecker.PCUICWfEnv</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Utils.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Common</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Common.config.html#"><span class="id" title="library">config</span></a> <a class="idref" href="MetaRocq.Common.uGraph.html#"><span class="id" title="library">uGraph</span></a> <a class="idref" href="MetaRocq.Common.EnvMap.html#"><span class="id" title="library">EnvMap</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#"><span class="id" title="library">PCUICAst</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#"><span class="id" title="library">PCUICAstUtils</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#"><span class="id" title="library">PCUICEquality</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#"><span class="id" title="library">PCUICReduction</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICReflect.html#"><span class="id" title="library">PCUICReflect</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#"><span class="id" title="library">PCUICSafeLemmata</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#"><span class="id" title="library">PCUICTyping</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICGlobalEnv.html#"><span class="id" title="library">PCUICGlobalEnv</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#"><span class="id" title="library">PCUICWfUniverses</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.SafeChecker</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICEqualityDec.html#"><span class="id" title="library">PCUICEqualityDec</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="level_mem" class="idref" href="#level_mem"><span class="id" title="definition">level_mem</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.t"><span class="id" title="definition">Level.t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="X:1" class="idref" href="#X:1"><span class="id" title="binder">X</span></a> <a id="l:2" class="idref" href="#l:2"><span class="id" title="binder">l</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.mem"><span class="id" title="definition">LevelSet.mem</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#l:2"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:1"><span class="id" title="variable">X</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="on_global_decls" class="idref" href="#on_global_decls"><span class="id" title="definition">on_global_decls</span></a> {<a id="cf:3" class="idref" href="#cf:3"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="9c6d78f4cdf6dede5e109a175164bdaa" class="idref" href="#9c6d78f4cdf6dede5e109a175164bdaa"><span class="id" title="binder">Σ</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_global_decls_data"><span class="id" title="record">on_global_decls_data</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) (<span class="id" title="var">cf</span>:=<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#cf:3"><span class="id" title="variable">cf</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9c6d78f4cdf6dede5e109a175164bdaa"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9c6d78f4cdf6dede5e109a175164bdaa"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9c6d78f4cdf6dede5e109a175164bdaa"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>).<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="abstract_env_struct" class="idref" href="#abstract_env_struct"><span class="id" title="record">abstract_env_struct</span></a> {<a id="cf:5" class="idref" href="#cf:5"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="abstract_env_impl:6" class="idref" href="#abstract_env_impl:6"><span class="id" title="binder">abstract_env_impl</span></a> <a id="abstract_env_ext_impl:7" class="idref" href="#abstract_env_ext_impl:7"><span class="id" title="binder">abstract_env_ext_impl</span></a> : <span class="id" title="keyword">Type</span>) := {<br/>
&nbsp;&nbsp;<br/>
<br/>
&nbsp;&nbsp;<a id="abstract_env_rel" class="idref" href="#abstract_env_rel"><span class="id" title="projection">abstract_env_rel</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl:6"><span class="id" title="variable">abstract_env_impl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>;<br/>
&nbsp;&nbsp;<a id="abstract_env_ext_rel" class="idref" href="#abstract_env_ext_rel"><span class="id" title="projection">abstract_env_ext_rel</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl:7"><span class="id" title="variable">abstract_env_ext_impl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>;<br/>
<br/>
&nbsp;&nbsp;<br/>
<br/>
&nbsp;&nbsp;<a id="abstract_env_init" class="idref" href="#abstract_env_init"><span class="id" title="projection">abstract_env_init</span></a> (<a id="cs:11" class="idref" href="#cs:11"><span class="id" title="binder">cs</span></a>:<a class="idref" href="MetaRocq.Common.Universes.html#ContextSet.t"><span class="id" title="definition">ContextSet.t</span></a>) (<a id="retro:12" class="idref" href="#retro:12"><span class="id" title="binder">retro</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.t"><span class="id" title="record">Retroknowledge.t</span></a>) : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_global_univs"><span class="id" title="definition">on_global_univs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#cs:11"><span class="id" title="variable">cs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl:6"><span class="id" title="variable">abstract_env_impl</span></a>;<br/>
&nbsp;&nbsp;<a id="abstract_env_add_decl" class="idref" href="#abstract_env_add_decl"><span class="id" title="projection">abstract_env_add_decl</span></a> <a id="X:14" class="idref" href="#X:14"><span class="id" title="binder">X</span></a> (<a id="kn:15" class="idref" href="#kn:15"><span class="id" title="binder">kn</span></a>:<a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a>) (<a id="d:16" class="idref" href="#d:16"><span class="id" title="binder">d</span></a>:<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_decl"><span class="id" title="inductive">global_decl</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="9e57768f7d1333d5d23f870b726fb0dd" class="idref" href="#9e57768f7d1333d5d23f870b726fb0dd"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel:9"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:14"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9e57768f7d1333d5d23f870b726fb0dd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#on_global_decls"><span class="id" title="definition">on_global_decls</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9e57768f7d1333d5d23f870b726fb0dd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#kn:15"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#d:16"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl:6"><span class="id" title="variable">abstract_env_impl</span></a>;<br/>
&nbsp;&nbsp;<a id="abstract_env_add_udecl" class="idref" href="#abstract_env_add_udecl"><span class="id" title="projection">abstract_env_add_udecl</span></a> <a id="X:19" class="idref" href="#X:19"><span class="id" title="binder">X</span></a> <a id="udecl:20" class="idref" href="#udecl:20"><span class="id" title="binder">udecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="c3655209f64c4a3ac42c320568dce6f3" class="idref" href="#c3655209f64c4a3ac42c320568dce6f3"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel:9"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:19"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#c3655209f64c4a3ac42c320568dce6f3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_udecl"><span class="id" title="definition">on_udecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#c3655209f64c4a3ac42c320568dce6f3"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#udecl:20"><span class="id" title="variable">udecl</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl:7"><span class="id" title="variable">abstract_env_ext_impl</span></a> ;<br/>
&nbsp;&nbsp;<a id="abstract_pop_decls" class="idref" href="#abstract_pop_decls"><span class="id" title="projection">abstract_pop_decls</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl:6"><span class="id" title="variable">abstract_env_impl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl:6"><span class="id" title="variable">abstract_env_impl</span></a> ;<br/>
<br/>
&nbsp;&nbsp;<br/>
<br/>
&nbsp;&nbsp;<a id="abstract_env_lookup" class="idref" href="#abstract_env_lookup"><span class="id" title="projection">abstract_env_lookup</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl:7"><span class="id" title="variable">abstract_env_ext_impl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_decl"><span class="id" title="inductive">global_decl</span></a>;<br/>
&nbsp;&nbsp;<a id="abstract_primitive_constant" class="idref" href="#abstract_primitive_constant"><span class="id" title="projection">abstract_primitive_constant</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl:7"><span class="id" title="variable">abstract_env_ext_impl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Primitive.html#prim_tag"><span class="id" title="inductive">Primitive.prim_tag</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a>;<br/>
<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<a id="abstract_env_level_mem" class="idref" href="#abstract_env_level_mem"><span class="id" title="projection">abstract_env_level_mem</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl:7"><span class="id" title="variable">abstract_env_ext_impl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.t"><span class="id" title="definition">Level.t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>;<br/>
&nbsp;&nbsp;<a id="abstract_env_leqb_level_n" class="idref" href="#abstract_env_leqb_level_n"><span class="id" title="projection">abstract_env_leqb_level_n</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl:7"><span class="id" title="variable">abstract_env_ext_impl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.t"><span class="id" title="definition">Level.t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.t"><span class="id" title="definition">Level.t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>;<br/>
&nbsp;&nbsp;<a id="abstract_env_guard" class="idref" href="#abstract_env_guard"><span class="id" title="projection">abstract_env_guard</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl:7"><span class="id" title="variable">abstract_env_ext_impl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#FixCoFix"><span class="id" title="inductive">FixCoFix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#mfixpoint"><span class="id" title="definition">mfixpoint</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>;<br/>
&nbsp;&nbsp;<a id="abstract_env_is_consistent" class="idref" href="#abstract_env_is_consistent"><span class="id" title="projection">abstract_env_is_consistent</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl:6"><span class="id" title="variable">abstract_env_impl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.t"><span class="id" title="definition">LevelSet.t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Common.uGraph.html#GoodConstraintSet.t"><span class="id" title="definition">GoodConstraintSet.t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> ;<br/>
<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="abstract_env_fixguard" class="idref" href="#abstract_env_fixguard"><span class="id" title="definition">abstract_env_fixguard</span></a>  {<a id="cf:30" class="idref" href="#cf:30"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="abstract_env_impl:31" class="idref" href="#abstract_env_impl:31"><span class="id" title="binder">abstract_env_impl</span></a> <a id="abstract_env_ext_impl:32" class="idref" href="#abstract_env_ext_impl:32"><span class="id" title="binder">abstract_env_ext_impl</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="abstract_env_struct0:33" class="idref" href="#abstract_env_struct0:33"><span class="id" title="binder">!</span></a><a id="abstract_env_struct0:33" class="idref" href="#abstract_env_struct0:33"><span class="id" title="binder">abstract_env_struct</span></a> <a id="abstract_env_struct0:33" class="idref" href="#abstract_env_struct0:33"><span class="id" title="binder">abstract_env_impl</span></a> <a id="abstract_env_struct0:33" class="idref" href="#abstract_env_struct0:33"><span class="id" title="binder">abstract_env_ext_impl</span></a>}<br/>
(<a id="X:34" class="idref" href="#X:34"><span class="id" title="binder">X</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl:32"><span class="id" title="variable">abstract_env_ext_impl</span></a>) := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_guard"><span class="id" title="method">abstract_env_guard</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:34"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#Fix"><span class="id" title="constructor">Fix</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="abstract_env_cofixguard" class="idref" href="#abstract_env_cofixguard"><span class="id" title="definition">abstract_env_cofixguard</span></a>  {<a id="cf:35" class="idref" href="#cf:35"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="abstract_env_impl:36" class="idref" href="#abstract_env_impl:36"><span class="id" title="binder">abstract_env_impl</span></a> <a id="abstract_env_ext_impl:37" class="idref" href="#abstract_env_ext_impl:37"><span class="id" title="binder">abstract_env_ext_impl</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="abstract_env_struct0:38" class="idref" href="#abstract_env_struct0:38"><span class="id" title="binder">!</span></a><a id="abstract_env_struct0:38" class="idref" href="#abstract_env_struct0:38"><span class="id" title="binder">abstract_env_struct</span></a> <a id="abstract_env_struct0:38" class="idref" href="#abstract_env_struct0:38"><span class="id" title="binder">abstract_env_impl</span></a> <a id="abstract_env_struct0:38" class="idref" href="#abstract_env_struct0:38"><span class="id" title="binder">abstract_env_ext_impl</span></a>}<br/>
(<a id="X:39" class="idref" href="#X:39"><span class="id" title="binder">X</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl:37"><span class="id" title="variable">abstract_env_ext_impl</span></a>) := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_guard"><span class="id" title="method">abstract_env_guard</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:39"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#CoFix"><span class="id" title="constructor">CoFix</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="abstract_env_compare_universe" class="idref" href="#abstract_env_compare_universe"><span class="id" title="definition">abstract_env_compare_universe</span></a> {<a id="cf:40" class="idref" href="#cf:40"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="abstract_env_impl:41" class="idref" href="#abstract_env_impl:41"><span class="id" title="binder">abstract_env_impl</span></a> <a id="abstract_env_ext_impl:42" class="idref" href="#abstract_env_ext_impl:42"><span class="id" title="binder">abstract_env_ext_impl</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="abstract_env_struct0:43" class="idref" href="#abstract_env_struct0:43"><span class="id" title="binder">!</span></a><a id="abstract_env_struct0:43" class="idref" href="#abstract_env_struct0:43"><span class="id" title="binder">abstract_env_struct</span></a> <a id="abstract_env_struct0:43" class="idref" href="#abstract_env_struct0:43"><span class="id" title="binder">abstract_env_impl</span></a> <a id="abstract_env_struct0:43" class="idref" href="#abstract_env_struct0:43"><span class="id" title="binder">abstract_env_ext_impl</span></a>}<br/>
(<a id="X:44" class="idref" href="#X:44"><span class="id" title="binder">X</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl:42"><span class="id" title="variable">abstract_env_ext_impl</span></a>) : <a class="idref" href="MetaRocq.Common.BasicAst.html#conv_pb"><span class="id" title="inductive">conv_pb</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Universe.t"><span class="id" title="definition">Universe.t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Universe.t"><span class="id" title="definition">Universe.t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICEqualityDec.html#check_cmpb_universe_gen"><span class="id" title="definition">check_cmpb_universe_gen</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_leqb_level_n"><span class="id" title="method">abstract_env_leqb_level_n</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:44"><span class="id" title="variable">X</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="abstract_env_compare_sort" class="idref" href="#abstract_env_compare_sort"><span class="id" title="definition">abstract_env_compare_sort</span></a> {<a id="cf:45" class="idref" href="#cf:45"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="abstract_env_impl:46" class="idref" href="#abstract_env_impl:46"><span class="id" title="binder">abstract_env_impl</span></a> <a id="abstract_env_ext_impl:47" class="idref" href="#abstract_env_ext_impl:47"><span class="id" title="binder">abstract_env_ext_impl</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="abstract_env_struct0:48" class="idref" href="#abstract_env_struct0:48"><span class="id" title="binder">!</span></a><a id="abstract_env_struct0:48" class="idref" href="#abstract_env_struct0:48"><span class="id" title="binder">abstract_env_struct</span></a> <a id="abstract_env_struct0:48" class="idref" href="#abstract_env_struct0:48"><span class="id" title="binder">abstract_env_impl</span></a> <a id="abstract_env_struct0:48" class="idref" href="#abstract_env_struct0:48"><span class="id" title="binder">abstract_env_ext_impl</span></a>}<br/>
&nbsp;&nbsp;(<a id="X:49" class="idref" href="#X:49"><span class="id" title="binder">X</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl:47"><span class="id" title="variable">abstract_env_ext_impl</span></a>) : <a class="idref" href="MetaRocq.Common.BasicAst.html#conv_pb"><span class="id" title="inductive">conv_pb</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICEqualityDec.html#check_cmpb_sort_gen"><span class="id" title="definition">check_cmpb_sort_gen</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_leqb_level_n"><span class="id" title="method">abstract_env_leqb_level_n</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:49"><span class="id" title="variable">X</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="abstract_env_check_constraints" class="idref" href="#abstract_env_check_constraints"><span class="id" title="definition">abstract_env_check_constraints</span></a> {<a id="cf:50" class="idref" href="#cf:50"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="abstract_env_impl:51" class="idref" href="#abstract_env_impl:51"><span class="id" title="binder">abstract_env_impl</span></a> <a id="abstract_env_ext_impl:52" class="idref" href="#abstract_env_ext_impl:52"><span class="id" title="binder">abstract_env_ext_impl</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="abstract_env_struct0:53" class="idref" href="#abstract_env_struct0:53"><span class="id" title="binder">!</span></a><a id="abstract_env_struct0:53" class="idref" href="#abstract_env_struct0:53"><span class="id" title="binder">abstract_env_struct</span></a> <a id="abstract_env_struct0:53" class="idref" href="#abstract_env_struct0:53"><span class="id" title="binder">abstract_env_impl</span></a> <a id="abstract_env_struct0:53" class="idref" href="#abstract_env_struct0:53"><span class="id" title="binder">abstract_env_ext_impl</span></a>}<br/>
&nbsp;&nbsp;(<a id="X:54" class="idref" href="#X:54"><span class="id" title="binder">X</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl:52"><span class="id" title="variable">abstract_env_ext_impl</span></a>) : <a class="idref" href="MetaRocq.Common.Universes.html#ConstraintSet.t"><span class="id" title="definition">ConstraintSet.t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.uGraph.html#check_constraints_gen"><span class="id" title="definition">check_constraints_gen</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_leqb_level_n"><span class="id" title="method">abstract_env_leqb_level_n</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:54"><span class="id" title="variable">X</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="abstract_env_ext_wf_universeb" class="idref" href="#abstract_env_ext_wf_universeb"><span class="id" title="definition">abstract_env_ext_wf_universeb</span></a> {<a id="cf:55" class="idref" href="#cf:55"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="abstract_env_impl:56" class="idref" href="#abstract_env_impl:56"><span class="id" title="binder">abstract_env_impl</span></a> <a id="abstract_env_ext_impl:57" class="idref" href="#abstract_env_ext_impl:57"><span class="id" title="binder">abstract_env_ext_impl</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="abstract_env_struct0:58" class="idref" href="#abstract_env_struct0:58"><span class="id" title="binder">!</span></a><a id="abstract_env_struct0:58" class="idref" href="#abstract_env_struct0:58"><span class="id" title="binder">abstract_env_struct</span></a> <a id="abstract_env_struct0:58" class="idref" href="#abstract_env_struct0:58"><span class="id" title="binder">abstract_env_impl</span></a> <a id="abstract_env_struct0:58" class="idref" href="#abstract_env_struct0:58"><span class="id" title="binder">abstract_env_ext_impl</span></a>}<br/>
(<a id="X:59" class="idref" href="#X:59"><span class="id" title="binder">X</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl:57"><span class="id" title="variable">abstract_env_ext_impl</span></a>) : <a class="idref" href="MetaRocq.Common.Universes.html#Universe.t"><span class="id" title="definition">Universe.t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="u:60" class="idref" href="#u:60"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#Universe.t"><span class="id" title="definition">Universe.t</span></a>) ⇒ <a class="idref" href="MetaRocq.Common.Universes.html#LevelExprSet.for_all"><span class="id" title="definition">LevelExprSet.for_all</span></a> (<span class="id" title="keyword">fun</span> <a id="l:61" class="idref" href="#l:61"><span class="id" title="binder">l</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_level_mem"><span class="id" title="method">abstract_env_level_mem</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:59"><span class="id" title="variable">X</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#LevelExpr.get_level"><span class="id" title="definition">LevelExpr.get_level</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#l:61"><span class="id" title="variable">l</span></a>)) <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#u:60"><span class="id" title="variable">u</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="abstract_env_ext_wf_sortb" class="idref" href="#abstract_env_ext_wf_sortb"><span class="id" title="definition">abstract_env_ext_wf_sortb</span></a> {<a id="cf:62" class="idref" href="#cf:62"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="abstract_env_impl:63" class="idref" href="#abstract_env_impl:63"><span class="id" title="binder">abstract_env_impl</span></a> <a id="abstract_env_ext_impl:64" class="idref" href="#abstract_env_ext_impl:64"><span class="id" title="binder">abstract_env_ext_impl</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="abstract_env_struct0:65" class="idref" href="#abstract_env_struct0:65"><span class="id" title="binder">!</span></a><a id="abstract_env_struct0:65" class="idref" href="#abstract_env_struct0:65"><span class="id" title="binder">abstract_env_struct</span></a> <a id="abstract_env_struct0:65" class="idref" href="#abstract_env_struct0:65"><span class="id" title="binder">abstract_env_impl</span></a> <a id="abstract_env_struct0:65" class="idref" href="#abstract_env_struct0:65"><span class="id" title="binder">abstract_env_ext_impl</span></a>}<br/>
(<a id="X:66" class="idref" href="#X:66"><span class="id" title="binder">X</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl:64"><span class="id" title="variable">abstract_env_ext_impl</span></a>) : <a class="idref" href="MetaRocq.Common.Universes.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#Sort.on_sort"><span class="id" title="definition">Sort.on_sort</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf_universeb"><span class="id" title="definition">abstract_env_ext_wf_universeb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:66"><span class="id" title="variable">X</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="abstract_env_level_mem'" class="idref" href="#abstract_env_level_mem'"><span class="id" title="definition">abstract_env_level_mem'</span></a> {<a id="cf:67" class="idref" href="#cf:67"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="abstract_env_impl:68" class="idref" href="#abstract_env_impl:68"><span class="id" title="binder">abstract_env_impl</span></a> <a id="abstract_env_ext_impl:69" class="idref" href="#abstract_env_ext_impl:69"><span class="id" title="binder">abstract_env_ext_impl</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="abstract_env_struct0:70" class="idref" href="#abstract_env_struct0:70"><span class="id" title="binder">!</span></a><a id="abstract_env_struct0:70" class="idref" href="#abstract_env_struct0:70"><span class="id" title="binder">abstract_env_struct</span></a> <a id="abstract_env_struct0:70" class="idref" href="#abstract_env_struct0:70"><span class="id" title="binder">abstract_env_impl</span></a> <a id="abstract_env_struct0:70" class="idref" href="#abstract_env_struct0:70"><span class="id" title="binder">abstract_env_ext_impl</span></a>}<br/>
(<a id="X:71" class="idref" href="#X:71"><span class="id" title="binder">X</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl:69"><span class="id" title="variable">abstract_env_ext_impl</span></a>) : <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.t"><span class="id" title="definition">LevelSet.t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.t"><span class="id" title="definition">Level.t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="levels:72" class="idref" href="#levels:72"><span class="id" title="binder">levels</span></a> <a id="l:73" class="idref" href="#l:73"><span class="id" title="binder">l</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.mem"><span class="id" title="definition">LevelSet.mem</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#l:73"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#levels:72"><span class="id" title="variable">levels</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_level_mem"><span class="id" title="method">abstract_env_level_mem</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:71"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#l:73"><span class="id" title="variable">l</span></a>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="abstract_env_prop" class="idref" href="#abstract_env_prop"><span class="id" title="record">abstract_env_prop</span></a> {<a id="cf:74" class="idref" href="#cf:74"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="abstract_env_impl:75" class="idref" href="#abstract_env_impl:75"><span class="id" title="binder">abstract_env_impl</span></a> <a id="abstract_env_ext_impl:76" class="idref" href="#abstract_env_ext_impl:76"><span class="id" title="binder">abstract_env_ext_impl</span></a>: <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;`{<a id="abstract_env_struct0:77" class="idref" href="#abstract_env_struct0:77"><span class="id" title="binder">!</span></a><a id="abstract_env_struct0:77" class="idref" href="#abstract_env_struct0:77"><span class="id" title="binder">abstract_env_struct</span></a> <a id="abstract_env_struct0:77" class="idref" href="#abstract_env_struct0:77"><span class="id" title="binder">abstract_env_impl</span></a> <a id="abstract_env_struct0:77" class="idref" href="#abstract_env_struct0:77"><span class="id" title="binder">abstract_env_ext_impl</span></a>} : <span class="id" title="keyword">Prop</span> := {<br/>
<br/>
&nbsp;&nbsp;<a id="abstract_env_ext_exists" class="idref" href="#abstract_env_ext_exists"><span class="id" title="projection">abstract_env_ext_exists</span></a> <a id="X:79" class="idref" href="#X:79"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="27bd8530b8ebec6f60d17615e08f6ce1" class="idref" href="#27bd8530b8ebec6f60d17615e08f6ce1"><span class="id" title="binder">Σ</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:79"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#27bd8530b8ebec6f60d17615e08f6ce1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>;<br/>
&nbsp;&nbsp;<a id="abstract_env_ext_wf" class="idref" href="#abstract_env_ext_wf"><span class="id" title="projection">abstract_env_ext_wf</span></a> <a id="X:82" class="idref" href="#X:82"><span class="id" title="binder">X</span></a> {<a id="af0c8f8f5ce7afdccb859d2482b046b5" class="idref" href="#af0c8f8f5ce7afdccb859d2482b046b5"><span class="id" title="binder">Σ</span></a>} : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:82"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#af0c8f8f5ce7afdccb859d2482b046b5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#af0c8f8f5ce7afdccb859d2482b046b5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> ;<br/>
&nbsp;&nbsp;<a id="abstract_env_ext_irr" class="idref" href="#abstract_env_ext_irr"><span class="id" title="projection">abstract_env_ext_irr</span></a> <a id="X:85" class="idref" href="#X:85"><span class="id" title="binder">X</span></a> {<a id="fc85eefe06c558ba688df7af8e52608e" class="idref" href="#fc85eefe06c558ba688df7af8e52608e"><span class="id" title="binder">Σ</span></a> <a id="315dfc7fc6f061c16a48fa1e48ee7261" class="idref" href="#315dfc7fc6f061c16a48fa1e48ee7261"><span class="id" title="binder">Σ'</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:85"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#fc85eefe06c558ba688df7af8e52608e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:85"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#315dfc7fc6f061c16a48fa1e48ee7261"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#fc85eefe06c558ba688df7af8e52608e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#315dfc7fc6f061c16a48fa1e48ee7261"><span class="id" title="variable">Σ'</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="abstract_env_exists" class="idref" href="#abstract_env_exists"><span class="id" title="projection">abstract_env_exists</span></a> <a id="X:89" class="idref" href="#X:89"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="e7d7d1a5c8faf52a5c71ecfd041f3db5" class="idref" href="#e7d7d1a5c8faf52a5c71ecfd041f3db5"><span class="id" title="binder">Σ</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:89"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#e7d7d1a5c8faf52a5c71ecfd041f3db5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>;<br/>
&nbsp;&nbsp;<a id="abstract_env_wf" class="idref" href="#abstract_env_wf"><span class="id" title="projection">abstract_env_wf</span></a> <a id="X:92" class="idref" href="#X:92"><span class="id" title="binder">X</span></a> {<a id="fc189c80b71ecc5231145e0c7fc7178c" class="idref" href="#fc189c80b71ecc5231145e0c7fc7178c"><span class="id" title="binder">Σ</span></a>} : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:92"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#fc189c80b71ecc5231145e0c7fc7178c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#fc189c80b71ecc5231145e0c7fc7178c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>;<br/>
&nbsp;&nbsp;<a id="abstract_env_irr" class="idref" href="#abstract_env_irr"><span class="id" title="projection">abstract_env_irr</span></a> <a id="X:95" class="idref" href="#X:95"><span class="id" title="binder">X</span></a> {<a id="cd6537d2e99017ef8ef9bcdef499a786" class="idref" href="#cd6537d2e99017ef8ef9bcdef499a786"><span class="id" title="binder">Σ</span></a> <a id="c15b08ac6a8948936390bda0270985b4" class="idref" href="#c15b08ac6a8948936390bda0270985b4"><span class="id" title="binder">Σ'</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:95"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#cd6537d2e99017ef8ef9bcdef499a786"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:95"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#c15b08ac6a8948936390bda0270985b4"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#cd6537d2e99017ef8ef9bcdef499a786"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#c15b08ac6a8948936390bda0270985b4"><span class="id" title="variable">Σ'</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="abstract_env_init_correct" class="idref" href="#abstract_env_init_correct"><span class="id" title="projection">abstract_env_init_correct</span></a> <a id="univs:99" class="idref" href="#univs:99"><span class="id" title="binder">univs</span></a> <a id="retro:100" class="idref" href="#retro:100"><span class="id" title="binder">retro</span></a> <a id="cuniv:101" class="idref" href="#cuniv:101"><span class="id" title="binder">cuniv</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_init"><span class="id" title="method">abstract_env_init</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#univs:99"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#retro:100"><span class="id" title="variable">retro</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#cuniv:101"><span class="id" title="variable">cuniv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#univs:99"><span class="id" title="variable">univs</span></a>; <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>; <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#retro:100"><span class="id" title="variable">retro</span></a> |} ;<br/>
&nbsp;&nbsp;<a id="abstract_env_add_decl_correct" class="idref" href="#abstract_env_add_decl_correct"><span class="id" title="projection">abstract_env_add_decl_correct</span></a> <a id="X:103" class="idref" href="#X:103"><span class="id" title="binder">X</span></a> <a id="186118668d07fd138a3ef5a9238c626f" class="idref" href="#186118668d07fd138a3ef5a9238c626f"><span class="id" title="binder">Σ</span></a> <a id="kn:105" class="idref" href="#kn:105"><span class="id" title="binder">kn</span></a> <a id="d:106" class="idref" href="#d:106"><span class="id" title="binder">d</span></a> <a id="H:107" class="idref" href="#H:107"><span class="id" title="binder">H</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:103"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#186118668d07fd138a3ef5a9238c626f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_add_decl"><span class="id" title="method">abstract_env_add_decl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:103"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#kn:105"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#d:106"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#H:107"><span class="id" title="variable">H</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#186118668d07fd138a3ef5a9238c626f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#kn:105"><span class="id" title="variable">kn</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#d:106"><span class="id" title="variable">d</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>);<br/>
&nbsp;&nbsp;<a id="abstract_env_add_udecl_rel" class="idref" href="#abstract_env_add_udecl_rel"><span class="id" title="projection">abstract_env_add_udecl_rel</span></a> <a id="X:109" class="idref" href="#X:109"><span class="id" title="binder">X</span></a> {<a id="34ae1c9c84b00c7df18c2fc2612b37e3" class="idref" href="#34ae1c9c84b00c7df18c2fc2612b37e3"><span class="id" title="binder">Σ</span></a>} <a id="udecl:111" class="idref" href="#udecl:111"><span class="id" title="binder">udecl</span></a> <a id="H:112" class="idref" href="#H:112"><span class="id" title="binder">H</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:109"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#34ae1c9c84b00c7df18c2fc2612b37e3"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#34ae1c9c84b00c7df18c2fc2612b37e3"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#udecl:111"><span class="id" title="variable">udecl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_add_udecl"><span class="id" title="method">abstract_env_add_udecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:109"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#udecl:111"><span class="id" title="variable">udecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#H:112"><span class="id" title="variable">H</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#34ae1c9c84b00c7df18c2fc2612b37e3"><span class="id" title="variable">Σ</span></a>;<br/>
&nbsp;&nbsp;<a id="abstract_pop_decls_correct" class="idref" href="#abstract_pop_decls_correct"><span class="id" title="projection">abstract_pop_decls_correct</span></a> <a id="X:114" class="idref" href="#X:114"><span class="id" title="binder">X</span></a> <a id="decls:115" class="idref" href="#decls:115"><span class="id" title="binder">decls</span></a> (<a id="prf:118" class="idref" href="#prf:118"><span class="id" title="binder">prf</span></a> : <span class="id" title="keyword">∀</span> <a id="0825dac73746aacc9ef4b9d8e6b9d8f6" class="idref" href="#0825dac73746aacc9ef4b9d8e6b9d8f6"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:114"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#0825dac73746aacc9ef4b9d8e6b9d8f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="d:117" class="idref" href="#d:117"><span class="id" title="binder">d</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#0825dac73746aacc9ef4b9d8e6b9d8f6"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#d:117"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#decls:115"><span class="id" title="variable">decls</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X':119" class="idref" href="#X':119"><span class="id" title="binder">X'</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:114"><span class="id" title="variable">X</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="3f8c1c10906746294e3c27001291be1f" class="idref" href="#3f8c1c10906746294e3c27001291be1f"><span class="id" title="binder">Σ</span></a> <a id="216cfadee808a06ccf92b683947f8d56" class="idref" href="#216cfadee808a06ccf92b683947f8d56"><span class="id" title="binder">Σ'</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:114"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#3f8c1c10906746294e3c27001291be1f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X':119"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#216cfadee808a06ccf92b683947f8d56"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#216cfadee808a06ccf92b683947f8d56"><span class="id" title="variable">Σ'</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#decls:115"><span class="id" title="variable">decls</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#3f8c1c10906746294e3c27001291be1f"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#216cfadee808a06ccf92b683947f8d56"><span class="id" title="variable">Σ'</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#3f8c1c10906746294e3c27001291be1f"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#216cfadee808a06ccf92b683947f8d56"><span class="id" title="variable">Σ'</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>);<br/>
<br/>
&nbsp;&nbsp;<a id="abstract_env_lookup_correct" class="idref" href="#abstract_env_lookup_correct"><span class="id" title="projection">abstract_env_lookup_correct</span></a> <a id="X:123" class="idref" href="#X:123"><span class="id" title="binder">X</span></a> {<a id="a5a0b10493a2c4ce9fd6f9cda880e118" class="idref" href="#a5a0b10493a2c4ce9fd6f9cda880e118"><span class="id" title="binder">Σ</span></a>} <a id="kn:125" class="idref" href="#kn:125"><span class="id" title="binder">kn</span></a> <a id="decl:126" class="idref" href="#decl:126"><span class="id" title="binder">decl</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:123"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#a5a0b10493a2c4ce9fd6f9cda880e118"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#kn:125"><span class="id" title="variable">kn</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#decl:126"><span class="id" title="variable">decl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#a5a0b10493a2c4ce9fd6f9cda880e118"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup"><span class="id" title="method">abstract_env_lookup</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:123"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#kn:125"><span class="id" title="variable">kn</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#decl:126"><span class="id" title="variable">decl</span></a> ;<br/>
<br/>
&nbsp;&nbsp;<a id="abstract_env_leqb_level_n_correct" class="idref" href="#abstract_env_leqb_level_n_correct"><span class="id" title="projection">abstract_env_leqb_level_n_correct</span></a> <a id="X:128" class="idref" href="#X:128"><span class="id" title="binder">X</span></a> {<a id="15b074cf36512f8adc75ec6a926bd245" class="idref" href="#15b074cf36512f8adc75ec6a926bd245"><span class="id" title="binder">Σ</span></a>} (<a id="e30326d980c1ffe5350cb6ffb0e56fca" class="idref" href="#e30326d980c1ffe5350cb6ffb0e56fca"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:128"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#15b074cf36512f8adc75ec6a926bd245"><span class="id" title="variable">Σ</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="uctx:131" class="idref" href="#uctx:131"><span class="id" title="binder">uctx</span></a> := <a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICEqualityDec.html#wf_ext_gc_of_uctx"><span class="id" title="lemma">wf_ext_gc_of_uctx</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf:84"><span class="id" title="method">abstract_env_ext_wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:128"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#e30326d980c1ffe5350cb6ffb0e56fca"><span class="id" title="variable">wfΣ</span></a>)<a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">).π1</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.uGraph.html#leqb_level_n_spec_gen"><span class="id" title="definition">leqb_level_n_spec_gen</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#uctx:131"><span class="id" title="variable">uctx</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_leqb_level_n"><span class="id" title="method">abstract_env_leqb_level_n</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:128"><span class="id" title="variable">X</span></a>);<br/>
&nbsp;&nbsp;<a id="abstract_env_level_mem_correct" class="idref" href="#abstract_env_level_mem_correct"><span class="id" title="projection">abstract_env_level_mem_correct</span></a> <a id="X:133" class="idref" href="#X:133"><span class="id" title="binder">X</span></a> {<a id="c58622cdefcec1fabde0203fafbe0044" class="idref" href="#c58622cdefcec1fabde0203fafbe0044"><span class="id" title="binder">Σ</span></a>} (<a id="b75c55659b5420de7a98d44b84231cd7" class="idref" href="#b75c55659b5420de7a98d44b84231cd7"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:133"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#c58622cdefcec1fabde0203fafbe0044"><span class="id" title="variable">Σ</span></a>) <a id="l:136" class="idref" href="#l:136"><span class="id" title="binder">l</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.In"><span class="id" title="definition">LevelSet.In</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#l:136"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#c58622cdefcec1fabde0203fafbe0044"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_level_mem"><span class="id" title="method">abstract_env_level_mem</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:133"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#l:136"><span class="id" title="variable">l</span></a>;<br/>
&nbsp;&nbsp;<a id="abstract_env_is_consistent_correct" class="idref" href="#abstract_env_is_consistent_correct"><span class="id" title="projection">abstract_env_is_consistent_correct</span></a> <a id="X:138" class="idref" href="#X:138"><span class="id" title="binder">X</span></a> <a id="c64a4e18afb901fc0065484d2bee7e79" class="idref" href="#c64a4e18afb901fc0065484d2bee7e79"><span class="id" title="binder">Σ</span></a> <a id="uctx:140" class="idref" href="#uctx:140"><span class="id" title="binder">uctx</span></a> <a id="udecl:141" class="idref" href="#udecl:141"><span class="id" title="binder">udecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:138"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#c64a4e18afb901fc0065484d2bee7e79"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#ConstraintSet.For_all"><span class="id" title="definition">ConstraintSet.For_all</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#declared_cstr_levels"><span class="id" title="definition">declared_cstr_levels</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.union"><span class="id" title="definition">LevelSet.union</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#udecl:141"><span class="id" title="variable">udecl</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_levels"><span class="id" title="definition">global_levels</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#c64a4e18afb901fc0065484d2bee7e79"><span class="id" title="variable">Σ</span></a>))) <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#udecl:141"><span class="id" title="variable">udecl</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.uGraph.html#gc_of_uctx"><span class="id" title="definition">gc_of_uctx</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#udecl:141"><span class="id" title="variable">udecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#uctx:140"><span class="id" title="variable">uctx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#consistent_extension_on"><span class="id" title="definition">consistent_extension_on</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_uctx"><span class="id" title="definition">global_uctx</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#c64a4e18afb901fc0065484d2bee7e79"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#udecl:141"><span class="id" title="variable">udecl</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_is_consistent"><span class="id" title="method">abstract_env_is_consistent</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:138"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#uctx:140"><span class="id" title="variable">uctx</span></a> ;<br/>
<br/>
&nbsp;&nbsp;<a id="abstract_env_guard_correct" class="idref" href="#abstract_env_guard_correct"><span class="id" title="projection">abstract_env_guard_correct</span></a> <a id="X:143" class="idref" href="#X:143"><span class="id" title="binder">X</span></a> {<a id="1edcac3d5f3653f51d57fce50ace22de" class="idref" href="#1edcac3d5f3653f51d57fce50ace22de"><span class="id" title="binder">Σ</span></a>} (<a id="df64a223cf74ea28808e58cb4de65ff4" class="idref" href="#df64a223cf74ea28808e58cb4de65ff4"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:143"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#1edcac3d5f3653f51d57fce50ace22de"><span class="id" title="variable">Σ</span></a>) <a id="fix_cofix:146" class="idref" href="#fix_cofix:146"><span class="id" title="binder">fix_cofix</span></a> <a id="37be1d81644590fade30460b9f01c098" class="idref" href="#37be1d81644590fade30460b9f01c098"><span class="id" title="binder">Γ</span></a> <a id="mfix:148" class="idref" href="#mfix:148"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#guard"><span class="id" title="method">guard</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#fix_cofix:146"><span class="id" title="variable">fix_cofix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#1edcac3d5f3653f51d57fce50ace22de"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#37be1d81644590fade30460b9f01c098"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#mfix:148"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_guard"><span class="id" title="method">abstract_env_guard</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:143"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#fix_cofix:146"><span class="id" title="variable">fix_cofix</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#37be1d81644590fade30460b9f01c098"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#mfix:148"><span class="id" title="variable">mfix</span></a>;<br/>
&nbsp;&nbsp;<a id="abstract_primitive_constant_correct" class="idref" href="#abstract_primitive_constant_correct"><span class="id" title="projection">abstract_primitive_constant_correct</span></a> <a id="X:150" class="idref" href="#X:150"><span class="id" title="binder">X</span></a> <a id="tag:151" class="idref" href="#tag:151"><span class="id" title="binder">tag</span></a> <a id="18b3bad72da93e7ecd0c75efd41cf5f3" class="idref" href="#18b3bad72da93e7ecd0c75efd41cf5f3"><span class="id" title="binder">Σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:150"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#18b3bad72da93e7ecd0c75efd41cf5f3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_primitive_constant"><span class="id" title="method">abstract_primitive_constant</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:150"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#tag:151"><span class="id" title="variable">tag</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">PCUICEnvironment.primitive_constant</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#18b3bad72da93e7ecd0c75efd41cf5f3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#tag:151"><span class="id" title="variable">tag</span></a><br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="abstract_env_impl" class="idref" href="#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a> {<a id="cf:154" class="idref" href="#cf:154"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} := <a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="X:155" class="idref" href="#X:155"><span class="id" title="binder">X</span></a> <a id="Y:156" class="idref" href="#Y:156"><span class="id" title="binder">Y</span></a> <a id="Z:157" class="idref" href="#Z:157"><span class="id" title="binder">Z</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_prop"><span class="id" title="class">abstract_env_prop</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:155"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#Y:156"><span class="id" title="variable">Y</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#Z:157"><span class="id" title="variable">Z</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="abstract_env_impl_abstract_env_struct" class="idref" href="#abstract_env_impl_abstract_env_struct"><span class="id" title="instance">abstract_env_impl_abstract_env_struct</span></a> {<a id="cf:158" class="idref" href="#cf:158"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="f4adfe1a8bf469b494466d894337915b" class="idref" href="#f4adfe1a8bf469b494466d894337915b"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>) : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_struct"><span class="id" title="class">abstract_env_struct</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#f4adfe1a8bf469b494466d894337915b"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#f4adfe1a8bf469b494466d894337915b"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">Σ</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="abstract_env_impl_abstract_env_prop" class="idref" href="#abstract_env_impl_abstract_env_prop"><span class="id" title="instance">abstract_env_impl_abstract_env_prop</span></a> {<a id="cf:160" class="idref" href="#cf:160"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="dfdd3098104d36f1db39d747b93a3be1" class="idref" href="#dfdd3098104d36f1db39d747b93a3be1"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>) : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_prop"><span class="id" title="class">abstract_env_prop</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#dfdd3098104d36f1db39d747b93a3be1"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#dfdd3098104d36f1db39d747b93a3be1"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">Σ</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2.π2.π2</span></a>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="abstract_env_cored" class="idref" href="#abstract_env_cored"><span class="id" title="definition">abstract_env_cored</span></a> {<a id="cf:162" class="idref" href="#cf:162"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="_X:163" class="idref" href="#_X:163"><span class="id" title="binder">_X</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>) (<a id="X:164" class="idref" href="#X:164"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#_X:163"><span class="id" title="variable">_X</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) {<a id="21cf5898776f6ec56c2f57dbda99cece" class="idref" href="#21cf5898776f6ec56c2f57dbda99cece"><span class="id" title="binder">Σ</span></a> <a id="cbbfa63f6956881b3ca62728b49fccbf" class="idref" href="#cbbfa63f6956881b3ca62728b49fccbf"><span class="id" title="binder">Σ'</span></a> <a id="47707ffe6e85ebfabd84f9b53dcaf992" class="idref" href="#47707ffe6e85ebfabd84f9b53dcaf992"><span class="id" title="binder">Γ</span></a> <a id="u:168" class="idref" href="#u:168"><span class="id" title="binder">u</span></a> <a id="v:169" class="idref" href="#v:169"><span class="id" title="binder">v</span></a>} : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:164"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#21cf5898776f6ec56c2f57dbda99cece"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:164"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#cbbfa63f6956881b3ca62728b49fccbf"><span class="id" title="variable">Σ'</span></a><br/>
<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#cored"><span class="id" title="inductive">cored</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#21cf5898776f6ec56c2f57dbda99cece"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#47707ffe6e85ebfabd84f9b53dcaf992"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#u:168"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#v:169"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#cored"><span class="id" title="inductive">cored</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#cbbfa63f6956881b3ca62728b49fccbf"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#47707ffe6e85ebfabd84f9b53dcaf992"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#u:168"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#v:169"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HΣ</span> <span class="id" title="var">HΣ'</span> <span class="id" title="var">Hred</span>. <span class="id" title="var">erewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">HΣ'</span>); <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="abstract_env_ext_sq_wf" class="idref" href="#abstract_env_ext_sq_wf"><span class="id" title="definition">abstract_env_ext_sq_wf</span></a> {<a id="cf:170" class="idref" href="#cf:170"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="X:171" class="idref" href="#X:171"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>) (<a id="x:172" class="idref" href="#x:172"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:171"><span class="id" title="variable">X</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>)<br/>
&nbsp;&nbsp;<a id="c1c5c8c67a0dc9808d5f39ed656267e7" class="idref" href="#c1c5c8c67a0dc9808d5f39ed656267e7"><span class="id" title="binder">Σ</span></a> (<a id="cc7e5607216c194d13ca9ce5c14fbf91" class="idref" href="#cc7e5607216c194d13ca9ce5c14fbf91"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#x:172"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#c1c5c8c67a0dc9808d5f39ed656267e7"><span class="id" title="variable">Σ</span></a>) : <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#c1c5c8c67a0dc9808d5f39ed656267e7"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="9897e19d536bda84609b8ab92c34be9b" class="idref" href="#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">&quot;</span></a>Σ '∼' X" := (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <span class="id" title="var">X</span> <span class="id" title="var">Σ</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>
<span class="id" title="keyword">Notation</span> <a id="bac0a333394e2541f259f5481a301f86" class="idref" href="#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">&quot;</span></a>Σ '∼_ext' X" := (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <span class="id" title="var">X</span> <span class="id" title="var">Σ</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="abstract_make_wf_env_ext" class="idref" href="#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> {<a id="cf:175" class="idref" href="#cf:175"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="X_type:176" class="idref" href="#X_type:176"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>} (<a id="X:177" class="idref" href="#X:177"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X_type:176"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>)<br/>
&nbsp;&nbsp;<a id="univs:178" class="idref" href="#univs:178"><span class="id" title="binder">univs</span></a> (<a id="prf:180" class="idref" href="#prf:180"><span class="id" title="binder">prf</span></a> : <span class="id" title="keyword">∀</span> <a id="1e1aaa9c2472685a6034e69f58121c1e" class="idref" href="#1e1aaa9c2472685a6034e69f58121c1e"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:177"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#1e1aaa9c2472685a6034e69f58121c1e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#1e1aaa9c2472685a6034e69f58121c1e"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#univs:178"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X_type:176"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_add_udecl"><span class="id" title="method">abstract_env_add_udecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:177"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#univs:178"><span class="id" title="variable">univs</span></a> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>). <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">prf</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="abstract_make_wf_env_ext_correct" class="idref" href="#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> {<a id="cf:181" class="idref" href="#cf:181"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="X_type:182" class="idref" href="#X_type:182"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>} (<a id="X:183" class="idref" href="#X:183"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X_type:182"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>)  <a id="univs:184" class="idref" href="#univs:184"><span class="id" title="binder">univs</span></a> <a id="prf:185" class="idref" href="#prf:185"><span class="id" title="binder">prf</span></a> :<br/>
<span class="id" title="keyword">let</span> <a id="X':186" class="idref" href="#X':186"><span class="id" title="binder">X'</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:183"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#univs:184"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#prf:185"><span class="id" title="variable">prf</span></a> <span class="id" title="tactic">in</span><br/>
<span class="id" title="keyword">∀</span> <a id="13ce99c998910778525c07f31a0be534" class="idref" href="#13ce99c998910778525c07f31a0be534"><span class="id" title="binder">Σ</span></a> <a id="b2039cd6be2eb27689ce11d622372484" class="idref" href="#b2039cd6be2eb27689ce11d622372484"><span class="id" title="binder">Σ'</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:183"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#13ce99c998910778525c07f31a0be534"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X':186"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#b2039cd6be2eb27689ce11d622372484"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#b2039cd6be2eb27689ce11d622372484"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#13ce99c998910778525c07f31a0be534"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#univs:184"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_add_udecl_rel"><span class="id" title="method">abstract_env_add_udecl_rel</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ'</span> , <span class="id" title="var">H0</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">X</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.MSets.MSetFacts.html#"><span class="id" title="library">MSetFacts</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Classes.Morphisms.html#"><span class="id" title="library">Morphisms</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="consistent_proper" class="idref" href="#consistent_proper"><span class="id" title="instance">consistent_proper</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#CS.Equal"><span class="id" title="definition">CS.Equal</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) <a class="idref" href="MetaRocq.Common.Universes.html#consistent"><span class="id" title="definition">consistent</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">c'</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Universes.html#consistent"><span class="id" title="definition">consistent</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">eq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_udecl_mono" class="idref" href="#on_udecl_mono"><span class="id" title="lemma">on_udecl_mono</span></a> {<a id="cf:189" class="idref" href="#cf:189"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="b2a195965d386570a3ea1c826f7e2031" class="idref" href="#b2a195965d386570a3ea1c826f7e2031"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>} {<a id="591be96b4d58a141a290ccad600608b6" class="idref" href="#591be96b4d58a141a290ccad600608b6"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#b2a195965d386570a3ea1c826f7e2031"><span class="id" title="variable">Σ</span></a>} : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_udecl"><span class="id" title="definition">on_udecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#b2a195965d386570a3ea1c826f7e2031"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Monomorphic_ctx"><span class="id" title="constructor">Monomorphic_ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSetFact.empty_iff"><span class="id" title="lemma">LevelSetFact.empty_iff</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Universes.html#ConstraintSetFact.empty_iff"><span class="id" title="lemma">ConstraintSetFact.empty_iff</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#univs_ext_constraints"><span class="id" title="definition">univs_ext_constraints</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Universes.html#CS_union_empty"><span class="id" title="lemma">CS_union_empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#consistent_extension_on_empty"><span class="id" title="lemma">consistent_extension_on_empty</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="abstract_env_empty_ext" class="idref" href="#abstract_env_empty_ext"><span class="id" title="definition">abstract_env_empty_ext</span></a> {<a id="cf:192" class="idref" href="#cf:192"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="X_type:193" class="idref" href="#X_type:193"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>}<br/>
&nbsp;&nbsp;(<a id="X:194" class="idref" href="#X:194"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X_type:193"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X_type:193"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_add_udecl"><span class="id" title="method">abstract_env_add_udecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:194"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Monomorphic_ctx"><span class="id" title="constructor">Monomorphic_ctx</span></a> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#on_udecl_mono"><span class="id" title="lemma">on_udecl_mono</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="abstract_env_empty_ext_rel" class="idref" href="#abstract_env_empty_ext_rel"><span class="id" title="definition">abstract_env_empty_ext_rel</span></a> {<a id="cf:195" class="idref" href="#cf:195"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="X_type:196" class="idref" href="#X_type:196"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>}<br/>
&nbsp;&nbsp;&nbsp;(<a id="X:197" class="idref" href="#X:197"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X_type:196"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) {<a id="6c81dc2354ff9366d001c562d294efbf" class="idref" href="#6c81dc2354ff9366d001c562d294efbf"><span class="id" title="binder">Σ</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:197"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#6c81dc2354ff9366d001c562d294efbf"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#6c81dc2354ff9366d001c562d294efbf"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Monomorphic_ctx"><span class="id" title="constructor">Monomorphic_ctx</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>  <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_empty_ext"><span class="id" title="definition">abstract_env_empty_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:197"><span class="id" title="variable">X</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#6c81dc2354ff9366d001c562d294efbf"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_empty_ext"><span class="id" title="definition">abstract_env_empty_ext</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_add_udecl_rel"><span class="id" title="method">abstract_env_add_udecl_rel</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="abstract_env_empty" class="idref" href="#abstract_env_empty"><span class="id" title="definition">abstract_env_empty</span></a> {<a id="cf:199" class="idref" href="#cf:199"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="X_type:200" class="idref" href="#X_type:200"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>} : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X_type:200"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_init"><span class="id" title="method">abstract_env_init</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Universes.html#LS.singleton"><span class="id" title="definition">LS.singleton</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.lzero"><span class="id" title="constructor">Level.lzero</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#CS.empty"><span class="id" title="definition">CS.empty</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.empty"><span class="id" title="definition">Retroknowledge.empty</span></a> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">red</span>. <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">exact</span> 1%<span class="id" title="var">positive</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span> ? ?. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="abstract_env_is_consistent_empty" class="idref" href="#abstract_env_is_consistent_empty"><span class="id" title="definition">abstract_env_is_consistent_empty</span></a> {<a id="cf:201" class="idref" href="#cf:201"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="X_type:202" class="idref" href="#X_type:202"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.uGraph.html#VSet.t"><span class="id" title="definition">VSet.t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Common.uGraph.html#GoodConstraintSet.t"><span class="id" title="definition">GoodConstraintSet.t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="uctx:203" class="idref" href="#uctx:203"><span class="id" title="binder">uctx</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_is_consistent"><span class="id" title="method">abstract_env_is_consistent</span></a> (@<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_empty"><span class="id" title="definition">abstract_env_empty</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#cf:201"><span class="id" title="variable">cf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X_type:202"><span class="id" title="variable">X_type</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#uctx:203"><span class="id" title="variable">uctx</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="abstract_env_compare_universe_correct" class="idref" href="#abstract_env_compare_universe_correct"><span class="id" title="lemma">abstract_env_compare_universe_correct</span></a> {<a id="cf:204" class="idref" href="#cf:204"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="X_type:205" class="idref" href="#X_type:205"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>}<br/>
&nbsp;&nbsp;(<a id="X:206" class="idref" href="#X:206"><span class="id" title="binder">X</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X_type:205"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) {<a id="2008e4a6f6b0fd127aa6f855da30ec04" class="idref" href="#2008e4a6f6b0fd127aa6f855da30ec04"><span class="id" title="binder">Σ</span></a>} (<a id="48638b74f451317d58f1cdb5f0638078" class="idref" href="#48638b74f451317d58f1cdb5f0638078"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:206"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#2008e4a6f6b0fd127aa6f855da30ec04"><span class="id" title="variable">Σ</span></a>) <a id="conv_pb:209" class="idref" href="#conv_pb:209"><span class="id" title="binder">conv_pb</span></a> <a id="u:210" class="idref" href="#u:210"><span class="id" title="binder">u</span></a> <a id="u':211" class="idref" href="#u':211"><span class="id" title="binder">u'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#wf_universe"><span class="id" title="definition">wf_universe</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#2008e4a6f6b0fd127aa6f855da30ec04"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#u:210"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#wf_universe"><span class="id" title="definition">wf_universe</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#2008e4a6f6b0fd127aa6f855da30ec04"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#u':211"><span class="id" title="variable">u'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#compare_universe"><span class="id" title="definition">compare_universe</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#2008e4a6f6b0fd127aa6f855da30ec04"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#conv_pb:209"><span class="id" title="variable">conv_pb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#u:210"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#u':211"><span class="id" title="variable">u'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_compare_universe"><span class="id" title="definition">abstract_env_compare_universe</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:206"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#conv_pb:209"><span class="id" title="variable">conv_pb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#u:210"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#u':211"><span class="id" title="variable">u'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfu</span> <span class="id" title="var">wfu'</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">X</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">Hleq</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_leqb_level_n_correct"><span class="id" title="method">abstract_env_leqb_level_n_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICEqualityDec.html#uctx'_eq"><span class="id" title="lemma">uctx'_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hleq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICEqualityDec.html#compare_universeP_gen"><span class="id" title="lemma">compare_universeP_gen</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">pb</span> := <span class="id" title="var">conv_pb</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hleq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRReflect.html#reflect_reflectT"><span class="id" title="lemma">reflect_reflectT</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hleq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.MRReflect.html#introT"><span class="id" title="lemma">introT</span></a>.<br/>
&nbsp;&nbsp;1: <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.MRReflect.html#elimT"><span class="id" title="lemma">elimT</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="abstract_env_compare_sort_correct" class="idref" href="#abstract_env_compare_sort_correct"><span class="id" title="lemma">abstract_env_compare_sort_correct</span></a> {<a id="cf:212" class="idref" href="#cf:212"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="X_type:213" class="idref" href="#X_type:213"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>}<br/>
&nbsp;&nbsp;(<a id="X:214" class="idref" href="#X:214"><span class="id" title="binder">X</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X_type:213"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) {<a id="b9d6d0fb1df238201dff677e7114a90a" class="idref" href="#b9d6d0fb1df238201dff677e7114a90a"><span class="id" title="binder">Σ</span></a>} (<a id="0aaf10bcdf2dd32bad12472a49ce8eff" class="idref" href="#0aaf10bcdf2dd32bad12472a49ce8eff"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:214"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#b9d6d0fb1df238201dff677e7114a90a"><span class="id" title="variable">Σ</span></a>) <a id="conv_pb:217" class="idref" href="#conv_pb:217"><span class="id" title="binder">conv_pb</span></a> <a id="s:218" class="idref" href="#s:218"><span class="id" title="binder">s</span></a> <a id="s':219" class="idref" href="#s':219"><span class="id" title="binder">s'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#wf_sort"><span class="id" title="definition">wf_sort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#b9d6d0fb1df238201dff677e7114a90a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#s:218"><span class="id" title="variable">s</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#wf_sort"><span class="id" title="definition">wf_sort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#b9d6d0fb1df238201dff677e7114a90a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#s':219"><span class="id" title="variable">s'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#compare_sort"><span class="id" title="definition">compare_sort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#b9d6d0fb1df238201dff677e7114a90a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#conv_pb:217"><span class="id" title="variable">conv_pb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#s:218"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#s':219"><span class="id" title="variable">s'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_compare_sort"><span class="id" title="definition">abstract_env_compare_sort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:214"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#conv_pb:217"><span class="id" title="variable">conv_pb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#s:218"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#s':219"><span class="id" title="variable">s'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfu</span> <span class="id" title="var">wfu'</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">X</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">Hleq</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_leqb_level_n_correct"><span class="id" title="method">abstract_env_leqb_level_n_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICEqualityDec.html#uctx'_eq"><span class="id" title="lemma">uctx'_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hleq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICEqualityDec.html#compare_sortP_gen"><span class="id" title="lemma">compare_sortP_gen</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">pb</span> := <span class="id" title="var">conv_pb</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hleq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRReflect.html#reflect_reflectT"><span class="id" title="lemma">reflect_reflectT</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hleq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.MRReflect.html#introT"><span class="id" title="lemma">introT</span></a>.<br/>
&nbsp;&nbsp;1: <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.MRReflect.html#elimT"><span class="id" title="lemma">elimT</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="check_constraints_spec" class="idref" href="#check_constraints_spec"><span class="id" title="lemma">check_constraints_spec</span></a> {<a id="cf:220" class="idref" href="#cf:220"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="X_type:221" class="idref" href="#X_type:221"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="X:222" class="idref" href="#X:222"><span class="id" title="binder">X</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X_type:221"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>)  {<a id="040392d02029c4b11f0a5052d1a2cc1b" class="idref" href="#040392d02029c4b11f0a5052d1a2cc1b"><span class="id" title="binder">Σ</span></a>} (<a id="4023a8b6bc04b9a8db5cb5f159297a3f" class="idref" href="#4023a8b6bc04b9a8db5cb5f159297a3f"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:222"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#040392d02029c4b11f0a5052d1a2cc1b"><span class="id" title="variable">Σ</span></a>) <a id="ctrs:225" class="idref" href="#ctrs:225"><span class="id" title="binder">ctrs</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.uGraph.html#uctx_invariants"><span class="id" title="definition">uctx_invariants</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_uctx"><span class="id" title="definition">global_ext_uctx</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#040392d02029c4b11f0a5052d1a2cc1b"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#ctrs:225"><span class="id" title="variable">ctrs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_check_constraints"><span class="id" title="definition">abstract_env_check_constraints</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:222"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#ctrs:225"><span class="id" title="variable">ctrs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#040392d02029c4b11f0a5052d1a2cc1b"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#ctrs:225"><span class="id" title="variable">ctrs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Huctx</span> <span class="id" title="var">HH</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">X</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">Hleq</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_leqb_level_n_correct"><span class="id" title="method">abstract_env_leqb_level_n_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICEqualityDec.html#uctx'_eq"><span class="id" title="lemma">uctx'_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hleq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Common.uGraph.html#check_constraints_spec_gen"><span class="id" title="lemma">check_constraints_spec_gen</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_uctx"><span class="id" title="definition">global_ext_uctx</span></a> <span class="id" title="var">Σ</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICGlobalEnv.html#wf_ext_global_uctx_invariants"><span class="id" title="definition">wf_ext_global_uctx_invariants</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICGlobalEnv.html#global_ext_uctx_consistent"><span class="id" title="definition">global_ext_uctx_consistent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICGlobalEnv.html#wf_ext_global_uctx_invariants"><span class="id" title="definition">wf_ext_global_uctx_invariants</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="check_constraints_complete" class="idref" href="#check_constraints_complete"><span class="id" title="lemma">check_constraints_complete</span></a> {<a id="cf:226" class="idref" href="#cf:226"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="X_type:227" class="idref" href="#X_type:227"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="X:228" class="idref" href="#X:228"><span class="id" title="binder">X</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X_type:227"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>)  {<a id="fd00ad96bddd6de4e947f2f06459212f" class="idref" href="#fd00ad96bddd6de4e947f2f06459212f"><span class="id" title="binder">Σ</span></a>} (<a id="1fdcf9a56c7e66b603a04d6e5b9ed9c0" class="idref" href="#1fdcf9a56c7e66b603a04d6e5b9ed9c0"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:228"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#fd00ad96bddd6de4e947f2f06459212f"><span class="id" title="variable">Σ</span></a>) <a id="ctrs:231" class="idref" href="#ctrs:231"><span class="id" title="binder">ctrs</span></a> (<a id="H:232" class="idref" href="#H:232"><span class="id" title="binder">H</span></a> : <a class="idref" href="MetaRocq.Common.config.html#check_univs"><span class="id" title="method">check_univs</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.uGraph.html#uctx_invariants"><span class="id" title="definition">uctx_invariants</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_uctx"><span class="id" title="definition">global_ext_uctx</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#fd00ad96bddd6de4e947f2f06459212f"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#ctrs:231"><span class="id" title="variable">ctrs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#fd00ad96bddd6de4e947f2f06459212f"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#ctrs:231"><span class="id" title="variable">ctrs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_check_constraints"><span class="id" title="definition">abstract_env_check_constraints</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:228"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#ctrs:231"><span class="id" title="variable">ctrs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Huctx</span> <span class="id" title="var">HH</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">X</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">Hleq</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_leqb_level_n_correct"><span class="id" title="method">abstract_env_leqb_level_n_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICEqualityDec.html#uctx'_eq"><span class="id" title="lemma">uctx'_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hleq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Common.uGraph.html#check_constraints_complete_gen"><span class="id" title="lemma">check_constraints_complete_gen</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_uctx"><span class="id" title="definition">global_ext_uctx</span></a> <span class="id" title="var">Σ</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICGlobalEnv.html#wf_ext_global_uctx_invariants"><span class="id" title="definition">wf_ext_global_uctx_invariants</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICGlobalEnv.html#global_ext_uctx_consistent"><span class="id" title="definition">global_ext_uctx_consistent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICGlobalEnv.html#wf_ext_global_uctx_invariants"><span class="id" title="definition">wf_ext_global_uctx_invariants</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">H0</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="abstract_env_check_constraints_correct" class="idref" href="#abstract_env_check_constraints_correct"><span class="id" title="lemma">abstract_env_check_constraints_correct</span></a> {<a id="cf:233" class="idref" href="#cf:233"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="X_type:234" class="idref" href="#X_type:234"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="X:235" class="idref" href="#X:235"><span class="id" title="binder">X</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X_type:234"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) {<a id="793c4565b869a2f872db694b0162b014" class="idref" href="#793c4565b869a2f872db694b0162b014"><span class="id" title="binder">Σ</span></a>} (<a id="1a10d16a518b12f35128d1bb3f9b10df" class="idref" href="#1a10d16a518b12f35128d1bb3f9b10df"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:235"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#793c4565b869a2f872db694b0162b014"><span class="id" title="variable">Σ</span></a>) <a id="ctrs:238" class="idref" href="#ctrs:238"><span class="id" title="binder">ctrs</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.config.html#check_univs"><span class="id" title="method">check_univs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.uGraph.html#uctx_invariants"><span class="id" title="definition">uctx_invariants</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_uctx"><span class="id" title="definition">global_ext_uctx</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#793c4565b869a2f872db694b0162b014"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#ctrs:238"><span class="id" title="variable">ctrs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#793c4565b869a2f872db694b0162b014"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#ctrs:238"><span class="id" title="variable">ctrs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_check_constraints"><span class="id" title="definition">abstract_env_check_constraints</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:235"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#ctrs:238"><span class="id" title="variable">ctrs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#check_constraints_complete"><span class="id" title="lemma">check_constraints_complete</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#check_constraints_spec"><span class="id" title="lemma">check_constraints_spec</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="abstract_env_ext_wf_universeb_correct" class="idref" href="#abstract_env_ext_wf_universeb_correct"><span class="id" title="lemma">abstract_env_ext_wf_universeb_correct</span></a> {<a id="cf:239" class="idref" href="#cf:239"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="X_type:240" class="idref" href="#X_type:240"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>}<br/>
( <a id="X:241" class="idref" href="#X:241"><span class="id" title="binder">X</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X_type:240"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) {<a id="22337bb881c42df2da37d2d05d2544db" class="idref" href="#22337bb881c42df2da37d2d05d2544db"><span class="id" title="binder">Σ</span></a>} (<a id="18a6e8e8367e0534e0d30e92f21dcec0" class="idref" href="#18a6e8e8367e0534e0d30e92f21dcec0"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:241"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#22337bb881c42df2da37d2d05d2544db"><span class="id" title="variable">Σ</span></a>) <a id="u:244" class="idref" href="#u:244"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_universeb"><span class="id" title="definition">wf_universeb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#22337bb881c42df2da37d2d05d2544db"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#u:244"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf_universeb"><span class="id" title="definition">abstract_env_ext_wf_universeb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:241"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#u:244"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span> <span class="id" title="keyword">as</span> [ [] ?]; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">is_ok</span> <span class="id" title="var">t_ne</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">this</span> ⇒ //; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">b</span> := <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.Raw.mem"><span class="id" title="definition">LevelSet.Raw.mem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">b'</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_level_mem"><span class="id" title="method">abstract_env_level_mem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hbb'</span> : <span class="id" title="var">b</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">b'</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">b'</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#eq_true_iff_eq"><span class="id" title="lemma">eq_true_iff_eq</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_level_mem_correct"><span class="id" title="method">abstract_env_level_mem_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">wfΣ</span> (<a class="idref" href="MetaRocq.Common.Universes.html#LevelExpr.get_level"><span class="id" title="definition">LevelExpr.get_level</span></a> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">erewrite</span> &lt;- (<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.Raw.mem_spec"><span class="id" title="lemma">LevelSet.Raw.mem_spec</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.this"><span class="id" title="projection">LevelSet.this</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> <span class="id" title="var">Σ</span>)) (<a class="idref" href="MetaRocq.Common.Universes.html#LevelExpr.get_level"><span class="id" title="definition">LevelExpr.get_level</span></a> <span class="id" title="var">a</span>)). }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hbb'</span>, <span class="id" title="var">b</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="abstract_env_ext_wf_sortb_correct" class="idref" href="#abstract_env_ext_wf_sortb_correct"><span class="id" title="lemma">abstract_env_ext_wf_sortb_correct</span></a> {<a id="cf:245" class="idref" href="#cf:245"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="X_type:246" class="idref" href="#X_type:246"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>}<br/>
( <a id="X:247" class="idref" href="#X:247"><span class="id" title="binder">X</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X_type:246"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) {<a id="501ab271531919b68468ce50b3f5c9ad" class="idref" href="#501ab271531919b68468ce50b3f5c9ad"><span class="id" title="binder">Σ</span></a>} (<a id="0b3bc7fa1ba65006952669677e42f011" class="idref" href="#0b3bc7fa1ba65006952669677e42f011"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:247"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#501ab271531919b68468ce50b3f5c9ad"><span class="id" title="variable">Σ</span></a>) <a id="s:250" class="idref" href="#s:250"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_sortb"><span class="id" title="definition">wf_sortb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#501ab271531919b68468ce50b3f5c9ad"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#s:250"><span class="id" title="variable">s</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf_sortb"><span class="id" title="definition">abstract_env_ext_wf_sortb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:247"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#s:250"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [| |<span class="id" title="var">u</span>]; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf_universeb_correct"><span class="id" title="lemma">abstract_env_ext_wf_universeb_correct</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="abstract_env_level_mem_correct'" class="idref" href="#abstract_env_level_mem_correct'"><span class="id" title="lemma">abstract_env_level_mem_correct'</span></a> {<a id="cf:251" class="idref" href="#cf:251"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="X_type:252" class="idref" href="#X_type:252"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>}<br/>
( <a id="X:253" class="idref" href="#X:253"><span class="id" title="binder">X</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X_type:252"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) {<a id="502932cb5c683f7d8457df62e646fd3a" class="idref" href="#502932cb5c683f7d8457df62e646fd3a"><span class="id" title="binder">Σ</span></a>} (<a id="33e4414b2b8f906e61010b183cb67c0f" class="idref" href="#33e4414b2b8f906e61010b183cb67c0f"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:253"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#502932cb5c683f7d8457df62e646fd3a"><span class="id" title="variable">Σ</span></a>) <a id="levels:256" class="idref" href="#levels:256"><span class="id" title="binder">levels</span></a> <a id="u:257" class="idref" href="#u:257"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.mem"><span class="id" title="definition">LevelSet.mem</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#u:257"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.union"><span class="id" title="definition">LevelSet.union</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#levels:256"><span class="id" title="variable">levels</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#502932cb5c683f7d8457df62e646fd3a"><span class="id" title="variable">Σ</span></a>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_level_mem'"><span class="id" title="definition">abstract_env_level_mem'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:253"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#levels:256"><span class="id" title="variable">levels</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#u:257"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_level_mem'"><span class="id" title="definition">abstract_env_level_mem'</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.uGraph.html#wGraph.VSetProp.Dec.F.union_b"><span class="id" title="lemma">wGraph.VSetProp.Dec.F.union_b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">b0</span> := <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.mem"><span class="id" title="definition">LevelSet.mem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">b</span> := <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.mem"><span class="id" title="definition">LevelSet.mem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">b'</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_level_mem"><span class="id" title="method">abstract_env_level_mem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hbb'</span> : <span class="id" title="var">b</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">b'</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">b'</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#eq_true_iff_eq"><span class="id" title="lemma">eq_true_iff_eq</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_level_mem_correct"><span class="id" title="method">abstract_env_level_mem_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">u</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.In"><span class="id" title="definition">LevelSet.In</span></a>. <span class="id" title="var">now</span> <span class="id" title="var">erewrite</span> &lt;- (<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.Raw.mem_spec"><span class="id" title="lemma">LevelSet.Raw.mem_spec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">u</span>). }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hbb'</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_consistent_extension_on_consistent" class="idref" href="#wf_consistent_extension_on_consistent"><span class="id" title="lemma">wf_consistent_extension_on_consistent</span></a> {<a id="cf:258" class="idref" href="#cf:258"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="94d0c84ed07cc9827b73907d01f025a5" class="idref" href="#94d0c84ed07cc9827b73907d01f025a5"><span class="id" title="binder">Σ</span></a>} <a id="udecl:260" class="idref" href="#udecl:260"><span class="id" title="binder">udecl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#94d0c84ed07cc9827b73907d01f025a5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#consistent_extension_on"><span class="id" title="definition">consistent_extension_on</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_uctx"><span class="id" title="definition">global_uctx</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#94d0c84ed07cc9827b73907d01f025a5"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#udecl:260"><span class="id" title="variable">udecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#consistent"><span class="id" title="definition">consistent</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#ConstraintSet.union"><span class="id" title="definition">ConstraintSet.union</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#udecl:260"><span class="id" title="variable">udecl</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_constraints"><span class="id" title="definition">global_constraints</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#94d0c84ed07cc9827b73907d01f025a5"><span class="id" title="variable">Σ</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hext</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICGlobalEnv.html#wf_consistent"><span class="id" title="lemma">wf_consistent</span></a> <span class="id" title="var">_</span> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">val</span> <span class="id" title="var">Hval</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hext</span> <span class="id" title="var">val</span> <span class="id" title="var">Hval</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">val'</span> [<span class="id" title="var">Hval'</span> <span class="id" title="var">Hval''</span>]]. <span class="id" title="tactic">∃</span> <span class="id" title="var">val'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [[<span class="id" title="var">l</span> <span class="id" title="var">ct</span>] <span class="id" title="var">l'</span>] [<span class="id" title="var">Hl</span>|<span class="id" title="var">Hl</span>]%<a class="idref" href="MetaRocq.Common.Universes.html#CS.union_spec"><span class="id" title="lemma">CS.union_spec</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hval</span> <span class="id" title="var">_</span> <span class="id" title="var">Hl</span>); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">erewrite</span> &lt;- (<span class="id" title="var">Hval''</span> <span class="id" title="var">l0</span>). <span class="id" title="var">erewrite</span> &lt;- (<span class="id" title="var">Hval''</span> <span class="id" title="var">l'0</span>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hs</span> <span class="id" title="var">_</span>] <span class="id" title="var">_</span>]. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hs</span> <span class="id" title="var">_</span> <span class="id" title="var">Hl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hs</span> <span class="id" title="var">_</span>] <span class="id" title="var">_</span>]. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hs</span> <span class="id" title="var">_</span> <span class="id" title="var">Hl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">erewrite</span> &lt;- (<span class="id" title="var">Hval''</span> <span class="id" title="var">l0</span>). <span class="id" title="var">erewrite</span> &lt;- (<span class="id" title="var">Hval''</span> <span class="id" title="var">l'0</span>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hs</span> <span class="id" title="var">_</span>] <span class="id" title="var">_</span>]. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hs</span> <span class="id" title="var">_</span> <span class="id" title="var">Hl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hs</span> <span class="id" title="var">_</span>] <span class="id" title="var">_</span>]. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hs</span> <span class="id" title="var">_</span> <span class="id" title="var">Hl</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="abstract_env_lookup_correct'" class="idref" href="#abstract_env_lookup_correct'"><span class="id" title="lemma">abstract_env_lookup_correct'</span></a> {<a id="cf:261" class="idref" href="#cf:261"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="X_type:262" class="idref" href="#X_type:262"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>}<br/>
( <a id="X:263" class="idref" href="#X:263"><span class="id" title="binder">X</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X_type:262"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) {<a id="749c6f5b74080e309a38b3d99d675867" class="idref" href="#749c6f5b74080e309a38b3d99d675867"><span class="id" title="binder">Σ</span></a>} <a id="kn:265" class="idref" href="#kn:265"><span class="id" title="binder">kn</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:263"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#749c6f5b74080e309a38b3d99d675867"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#749c6f5b74080e309a38b3d99d675867"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#kn:265"><span class="id" title="variable">kn</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup"><span class="id" title="method">abstract_env_lookup</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#X:263"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#kn:265"><span class="id" title="variable">kn</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">wfΣ</span>; <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">HΣ</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">X</span> <span class="id" title="var">wfΣ</span>); <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">odecl</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="var">case_eq</span> <span class="id" title="var">odecl</span> ⇒ [<span class="id" title="var">decl</span> <span class="id" title="var">Hdecl</span>| <span class="id" title="var">Hnotin</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup_correct"><span class="id" title="method">abstract_env_lookup_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">kn</span> <span class="id" title="var">decl</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_global_Some_iff_In_NoDup"><span class="id" title="lemma">lookup_global_Some_iff_In_NoDup</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HΣ</span> <span class="id" title="keyword">as</span> [[] <span class="id" title="var">_</span>]. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#NoDup_on_global_decls"><span class="id" title="lemma">NoDup_on_global_decls</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_global_None"><span class="id" title="lemma">lookup_global_None</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnotin</span>. <span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup"><span class="id" title="method">abstract_env_lookup</span></a> <span class="id" title="var">X</span> <span class="id" title="var">kn</span>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">decl</span> <span class="id" title="var">Hdecl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup_correct"><span class="id" title="method">abstract_env_lookup_correct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdecl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hnotin</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">decl</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
