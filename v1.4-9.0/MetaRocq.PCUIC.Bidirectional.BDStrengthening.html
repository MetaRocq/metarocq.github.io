<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./index.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaRocq.PCUIC.Bidirectional.BDStrengthening</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#"><span class="id" title="library">Bool</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#"><span class="id" title="library">List</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.Arith.html#"><span class="id" title="library">Arith</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.micromega.Lia.html#"><span class="id" title="library">Lia</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Strings.String.html#"><span class="id" title="library">String</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Utils.utils.html#"><span class="id" title="library">utils</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#"><span class="id" title="library">monad_utils</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Common</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Common.config.html#"><span class="id" title="library">config</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#"><span class="id" title="library">PCUICAst</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#"><span class="id" title="library">PCUICAstUtils</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICGlobalEnv.html#"><span class="id" title="library">PCUICGlobalEnv</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICTactics.html#"><span class="id" title="library">PCUICTactics</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#"><span class="id" title="library">PCUICCumulativity</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICInduction.html#"><span class="id" title="library">PCUICInduction</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#"><span class="id" title="library">PCUICLiftSubst</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#"><span class="id" title="library">PCUICUnivSubst</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#"><span class="id" title="library">PCUICEquality</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICUtils.html#"><span class="id" title="library">PCUICUtils</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#"><span class="id" title="library">PCUICPosition</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#"><span class="id" title="library">PCUICTyping</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#"><span class="id" title="library">PCUICSigmaCalculus</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#"><span class="id" title="library">PCUICOnFreeVars</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#"><span class="id" title="library">PCUICClosed</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConfluence.html#"><span class="id" title="library">PCUICConfluence</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#"><span class="id" title="library">PCUICSpine</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICInductiveInversion.html#"><span class="id" title="library">PCUICInductiveInversion</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICParallelReductionConfluence.html#"><span class="id" title="library">PCUICParallelReductionConfluence</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#"><span class="id" title="library">PCUICWellScopedCumulativity</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#"><span class="id" title="library">PCUICClosed</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICRenameDef.html#"><span class="id" title="library">PCUICRenameDef</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICInstConv.html#"><span class="id" title="library">PCUICInstConv</span></a> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#"><span class="id" title="library">PCUICClosedTyp</span></a> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#"><span class="id" title="library">PCUICWeakeningEnvTyp</span></a> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICRenameTyp.html#"><span class="id" title="library">PCUICRenameTyp</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#"><span class="id" title="library">PCUICRenameConv</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICGuardCondition.html#"><span class="id" title="library">PCUICGuardCondition</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICWeakeningConv.html#"><span class="id" title="library">PCUICWeakeningConv</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#"><span class="id" title="library">BDTyping</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDToPCUIC.html#"><span class="id" title="library">BDToPCUIC</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDFromPCUIC.html#"><span class="id" title="library">BDFromPCUIC</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ssr.ssrbool.html#"><span class="id" title="library">ssrbool</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib.Program</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Program.Equality.html#"><span class="id" title="library">Equality</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">case_inequalities</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [?<span class="id" title="var">x</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> ?<span class="id" title="var">y</span>] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [?<span class="id" title="var">x</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> ?<span class="id" title="var">y</span>] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_spec"><span class="id" title="lemma">Nat.ltb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftnP_shiftn" class="idref" href="#shiftnP_shiftn"><span class="id" title="lemma">shiftnP_shiftn</span></a> <a id="P:1" class="idref" href="#P:1"><span class="id" title="binder">P</span></a> <a id="f:2" class="idref" href="#f:2"><span class="id" title="binder">f</span></a> <a id="i:3" class="idref" href="#i:3"><span class="id" title="binder">i</span></a> : <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#i:3"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:1"><span class="id" title="variable">P</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#i:3"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:2"><span class="id" title="variable">f</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#44b19bd81f7a1388073ea8a65e6fa993"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#i:3"><span class="id" title="variable">i</span></a> (<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:1"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:2"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !/<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_spec"><span class="id" title="lemma">Nat.ltb_spec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">i</span>) ⇒ /=.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">case_inequalities</span> ⇒ //=; <span class="id" title="var">lia_f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_rename" class="idref" href="#on_free_vars_rename"><span class="id" title="lemma">on_free_vars_rename</span></a> <a id="P:4" class="idref" href="#P:4"><span class="id" title="binder">P</span></a> <a id="f:5" class="idref" href="#f:5"><span class="id" title="binder">f</span></a> <a id="t:6" class="idref" href="#t:6"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:4"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:5"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:6"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:4"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:5"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:6"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">P</span>, <span class="id" title="var">f</span> |- × <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">cbn</span> ⇒ //.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_map"><span class="id" title="lemma">forallb_map</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_forallb_eq_forallb"><span class="id" title="lemma">All_forallb_eq_forallb</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt1</span> <span class="id" title="var">IHt2</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#shiftnP_shiftn"><span class="id" title="lemma">shiftnP_shiftn</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt1</span> <span class="id" title="var">IHt2</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#shiftnP_shiftn"><span class="id" title="lemma">shiftnP_shiftn</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt1</span> <span class="id" title="var">IHt2</span> <span class="id" title="var">IHt3</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#shiftnP_shiftn"><span class="id" title="lemma">shiftnP_shiftn</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt1</span> <span class="id" title="var">IHt2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">IHpar</span>&amp;<span class="id" title="var">ctx</span>&amp;<span class="id" title="var">IHret</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_map"><span class="id" title="lemma">forallb_map</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_forallb_eq_forallb"><span class="id" title="lemma">All_forallb_eq_forallb</span></a> ; <span class="id" title="var">tea</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHret</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#shiftnP_shiftn"><span class="id" title="lemma">shiftnP_shiftn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_map"><span class="id" title="lemma">forallb_map</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_forallb_eq_forallb"><span class="id" title="lemma">All_forallb_eq_forallb</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename_branch"><span class="id" title="abbreviation">PCUICSigmaCalculus.rename_branch</span></a> /= <span class="id" title="var">e</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#shiftnP_shiftn"><span class="id" title="lemma">shiftnP_shiftn</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_map"><span class="id" title="lemma">forallb_map</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_forallb_eq_forallb"><span class="id" title="lemma">All_forallb_eq_forallb</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? [? <span class="id" title="var">ebod</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a> <span class="id" title="var">ebod</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#shiftnP_shiftn"><span class="id" title="lemma">shiftnP_shiftn</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_map"><span class="id" title="lemma">forallb_map</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_forallb_eq_forallb"><span class="id" title="lemma">All_forallb_eq_forallb</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? [? <span class="id" title="var">ebod</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a> <span class="id" title="var">ebod</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#shiftnP_shiftn"><span class="id" title="lemma">shiftnP_shiftn</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Alli_impl_le" class="idref" href="#Alli_impl_le"><span class="id" title="lemma">Alli_impl_le</span></a> {<a id="A:7" class="idref" href="#A:7"><span class="id" title="binder">A</span></a> <a id="P:8" class="idref" href="#P:8"><span class="id" title="binder">P</span></a> <a id="Q:9" class="idref" href="#Q:9"><span class="id" title="binder">Q</span></a>} {<a id="l:10" class="idref" href="#l:10"><span class="id" title="binder">l</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#A:7"><span class="id" title="variable">A</span></a>} {<a id="n:11" class="idref" href="#n:11"><span class="id" title="binder">n</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#Alli"><span class="id" title="inductive">Alli</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:8"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#n:11"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#l:10"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="m:12" class="idref" href="#m:12"><span class="id" title="binder">m</span></a> <a id="x:13" class="idref" href="#x:13"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#m:12"><span class="id" title="variable">m</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#n:11"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#l:10"><span class="id" title="variable">l</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:8"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#m:12"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#x:13"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#Q:9"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#m:12"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#x:13"><span class="id" title="variable">x</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#Alli"><span class="id" title="inductive">Alli</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#Q:9"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#n:11"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#l:10"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="addnP_strengthen_lift" class="idref" href="#addnP_strengthen_lift"><span class="id" title="lemma">addnP_strengthen_lift</span></a> <a id="i:14" class="idref" href="#i:14"><span class="id" title="binder">i</span></a> <a id="k:15" class="idref" href="#k:15"><span class="id" title="binder">k</span></a> <a id="k':16" class="idref" href="#k':16"><span class="id" title="binder">k'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#i:14"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k':16"><span class="id" title="variable">k'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#i:14"><span class="id" title="variable">i</span></a>) (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k':16"><span class="id" title="variable">k'</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k:15"><span class="id" title="variable">k</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>)<a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#lift_renaming"><span class="id" title="definition">lift_renaming</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k:15"><span class="id" title="variable">k</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.pred"><span class="id" title="definition">Nat.pred</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k':16"><span class="id" title="variable">k'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#i:14"><span class="id" title="variable">i</span></a>)<a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRPrelude.html#44b19bd81f7a1388073ea8a65e6fa993"><span class="id" title="notation">=1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#lift_renaming"><span class="id" title="definition">lift_renaming</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.pred"><span class="id" title="definition">Nat.pred</span></a> <span class="id" title="var">k'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">a</span>) ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">case_inequalities</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">case_inequalities</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_ctx_free_vars_strengthenP" class="idref" href="#on_ctx_free_vars_strengthenP"><span class="id" title="lemma">on_ctx_free_vars_strengthenP</span></a> <a id="de99c0e007bd311d76da1801ff347713" class="idref" href="#de99c0e007bd311d76da1801ff347713"><span class="id" title="binder">Γ</span></a> <a id="345d70b1c8548f3dac9b9e6a0c608286" class="idref" href="#345d70b1c8548f3dac9b9e6a0c608286"><span class="id" title="binder">Γ'</span></a> <a id="77b123b72f981ac9f32fe4acd853b00e" class="idref" href="#77b123b72f981ac9f32fe4acd853b00e"><span class="id" title="binder">Γ''</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#de99c0e007bd311d76da1801ff347713"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#77b123b72f981ac9f32fe4acd853b00e"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#77b123b72f981ac9f32fe4acd853b00e"><span class="id" title="variable">Γ''</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#345d70b1c8548f3dac9b9e6a0c608286"><span class="id" title="variable">Γ'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>) (<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#de99c0e007bd311d76da1801ff347713"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#345d70b1c8548f3dac9b9e6a0c608286"><span class="id" title="variable">Γ'</span></a><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#345d70b1c8548f3dac9b9e6a0c608286"><span class="id" title="variable">Γ'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> 0 <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#77b123b72f981ac9f32fe4acd853b00e"><span class="id" title="variable">Γ''</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hΓ</span> <span class="id" title="var">hΓ''</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICInstConv.html#on_ctx_free_vars_app"><span class="id" title="lemma">on_ctx_free_vars_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ; <span class="id" title="tactic">split</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#alli_fold_context_k_prop"><span class="id" title="lemma">alli_fold_context_k_prop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#alli_Alli"><span class="id" title="lemma">alli_Alli</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hΓ''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#alli_Alli"><span class="id" title="lemma">alli_Alli</span></a>, <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#Alli_impl_le"><span class="id" title="lemma">Alli_impl_le</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">i</span> [? [?|] ?] /= ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> /<a class="idref" href="MetaRocq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a> /= !<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICInstConv.html#addnP_xpredT"><span class="id" title="lemma">addnP_xpredT</span></a> ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#implyP"><span class="id" title="lemma">implyP</span></a> ⇒ <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#lift_rename"><span class="id" title="lemma">lift_rename</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#on_free_vars_rename"><span class="id" title="lemma">on_free_vars_rename</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#addnP_strengthen_lift"><span class="id" title="lemma">addnP_strengthen_lift</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> /<a class="idref" href="MetaRocq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a> /= !<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICInstConv.html#addnP_xpredT"><span class="id" title="lemma">addnP_xpredT</span></a> ⇒ ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#implyP"><span class="id" title="lemma">implyP</span></a> ⇒ <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#lift_rename"><span class="id" title="lemma">lift_rename</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#on_free_vars_rename"><span class="id" title="lemma">on_free_vars_rename</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#addnP_strengthen_lift"><span class="id" title="lemma">addnP_strengthen_lift</span></a> //.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#lift_context_length"><span class="id" title="lemma">lift_context_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#alli_Alli"><span class="id" title="lemma">alli_Alli</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forall_nth_error_Alli"><span class="id" title="lemma">forall_nth_error_Alli</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">i</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ'</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_Some"><span class="id" title="lemma">nth_error_Some</span></a> ; <span class="id" title="tactic">congruence</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">case_inequalities</span> ⇒ //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP_add"><span class="id" title="lemma">addnP_add</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#lift_context_length"><span class="id" title="lemma">lift_context_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_proper"><span class="id" title="instance">on_ctx_free_vars_proper</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;3: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_inequalities</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_inequalities</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_tip" class="idref" href="#on_free_vars_ctx_tip"><span class="id" title="lemma">on_free_vars_ctx_tip</span></a> <a id="P:20" class="idref" href="#P:20"><span class="id" title="binder">P</span></a> <a id="d:21" class="idref" href="#d:21"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:20"><span class="id" title="variable">P</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#d:21"><span class="id" title="variable">d</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:20"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#d:21"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a> // <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP0"><span class="id" title="lemma">shiftnP0</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_it_mkLambda_or_LetIn" class="idref" href="#on_free_vars_it_mkLambda_or_LetIn"><span class="id" title="lemma">on_free_vars_it_mkLambda_or_LetIn</span></a> {<a id="P:22" class="idref" href="#P:22"><span class="id" title="binder">P</span></a> <a id="da040409d18a8979ea60ea19ee07df4c" class="idref" href="#da040409d18a8979ea60ea19ee07df4c"><span class="id" title="binder">Δ</span></a> <a id="t:24" class="idref" href="#t:24"><span class="id" title="binder">t</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:22"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkLambda_or_LetIn"><span class="id" title="definition">it_mkLambda_or_LetIn</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#da040409d18a8979ea60ea19ee07df4c"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:24"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:22"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#da040409d18a8979ea60ea19ee07df4c"><span class="id" title="variable">Δ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#da040409d18a8979ea60ea19ee07df4c"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:22"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:24"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">P</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a> ⇒ <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP0"><span class="id" title="lemma">shiftnP0</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#it_mkLambda_or_LetIn_app"><span class="id" title="lemma">it_mkLambda_or_LetIn_app</span></a> /= /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.mkLambda_or_LetIn"><span class="id" title="definition">mkLambda_or_LetIn</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_app"><span class="id" title="lemma">on_free_vars_ctx_app</span></a> /= <span class="id" title="var">IHΔ</span> !<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICTactics.html#lengths"><span class="id" title="definition">lengths</span></a> /= <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#on_free_vars_ctx_tip"><span class="id" title="lemma">on_free_vars_ctx_tip</span></a> /=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> /<a class="idref" href="MetaRocq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a> /=. <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_app"><span class="id" title="lemma">on_free_vars_ctx_app</span></a> /= <span class="id" title="var">IHΔ</span> !<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICTactics.html#lengths"><span class="id" title="definition">lengths</span></a> /= <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#on_free_vars_ctx_tip"><span class="id" title="lemma">on_free_vars_ctx_tip</span></a> /=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> /<a class="idref" href="MetaRocq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a> /=. <span class="id" title="tactic">ring</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_case_predicate_context" class="idref" href="#on_free_vars_case_predicate_context"><span class="id" title="lemma">on_free_vars_case_predicate_context</span></a> `{<a id="H:25" class="idref" href="#H:25"><span class="id" title="binder">checker_flags</span></a>} <a id="e023703f3460855264e8fbe327a7ed6a" class="idref" href="#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="binder">Σ</span></a> <a id="ci:27" class="idref" href="#ci:27"><span class="id" title="binder">ci</span></a> <a id="mdecl:28" class="idref" href="#mdecl:28"><span class="id" title="binder">mdecl</span></a> <a id="idecl:29" class="idref" href="#idecl:29"><span class="id" title="binder">idecl</span></a> <a id="p:30" class="idref" href="#p:30"><span class="id" title="binder">p</span></a> <a id="P:31" class="idref" href="#P:31"><span class="id" title="binder">P</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#ci:27"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#mdecl:28"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#idecl:29"><span class="id" title="variable">idecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:31"><span class="id" title="variable">P</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:30"><span class="id" title="variable">p</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_predicate"><span class="id" title="definition">wf_predicate</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#mdecl:28"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#idecl:29"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:30"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_context_upto_names"><span class="id" title="abbreviation">eq_context_upto_names</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:30"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context"><span class="id" title="definition">ind_predicate_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#ci:27"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#mdecl:28"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#idecl:29"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:31"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#ci:27"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#mdecl:28"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#idecl:29"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:30"><span class="id" title="variable">p</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_predicate_context_gen"><span class="id" title="definition">case_predicate_context_gen</span></a> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#pre_case_predicate_context_gen"><span class="id" title="definition">pre_case_predicate_context_gen</span></a> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_map2_cstr_args"><span class="id" title="lemma">on_free_vars_map2_cstr_args</span></a>.<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k_length"><span class="id" title="lemma">fold_context_k_length</span></a> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a> ; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_subst_context0"><span class="id" title="lemma">on_free_vars_ctx_subst_context0</span></a>.<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_rev"><span class="id" title="lemma">forallb_rev</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_subst_instance"><span class="id" title="lemma">on_free_vars_ctx_subst_instance</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_rev"><span class="id" title="lemma">List.length_rev</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_ctx_on_free_vars_shift"><span class="id" title="lemma">closedn_ctx_on_free_vars_shift</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> <span class="id" title="var">p</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <span class="id" title="var">mdecl</span>)).<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closed_ind_predicate_context"><span class="id" title="lemma">closed_ind_predicate_context</span></a> ; <span class="id" title="var">tea</span> ; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#declared_minductive_closed"><span class="id" title="lemma">declared_minductive_closed</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_predicate_length_pars"><span class="id" title="lemma">wf_predicate_length_pars</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#onNpars"><span class="id" title="projection">onNpars</span></a>, <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#on_declared_minductive"><span class="id" title="lemma">on_declared_minductive</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_case_branch_context" class="idref" href="#on_free_vars_case_branch_context"><span class="id" title="lemma">on_free_vars_case_branch_context</span></a> `{<a id="H:32" class="idref" href="#H:32"><span class="id" title="binder">checker_flags</span></a>} {<a id="4a3db5069015eacb9ec70510dc094686" class="idref" href="#4a3db5069015eacb9ec70510dc094686"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a> } {<a id="adeb7fe766d8eb9ca4acca511939a065" class="idref" href="#adeb7fe766d8eb9ca4acca511939a065"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#4a3db5069015eacb9ec70510dc094686"><span class="id" title="variable">Σ</span></a>} {<a id="P:35" class="idref" href="#P:35"><span class="id" title="binder">P</span></a> <a id="ci:36" class="idref" href="#ci:36"><span class="id" title="binder">ci</span></a> <a id="mdecl:37" class="idref" href="#mdecl:37"><span class="id" title="binder">mdecl</span></a> <a id="idecl:38" class="idref" href="#idecl:38"><span class="id" title="binder">idecl</span></a> <a id="p:39" class="idref" href="#p:39"><span class="id" title="binder">p</span></a> <a id="br:40" class="idref" href="#br:40"><span class="id" title="binder">br</span></a> <a id="cdecl:41" class="idref" href="#cdecl:41"><span class="id" title="binder">cdecl</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="brctx:42" class="idref" href="#brctx:42"><span class="id" title="binder">brctx</span></a> := <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_context"><span class="id" title="definition">case_branch_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#ci:36"><span class="id" title="variable">ci</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#mdecl:37"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:39"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#forget_types"><span class="id" title="definition">forget_types</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#br:40"><span class="id" title="variable">br</span></a>)) <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#cdecl:41"><span class="id" title="variable">cdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_constructor"><span class="id" title="definition">declared_constructor</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#4a3db5069015eacb9ec70510dc094686"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#ci:36"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#mdecl:37"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#idecl:38"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#cdecl:41"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_predicate"><span class="id" title="definition">wf_predicate</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#mdecl:37"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#idecl:38"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:39"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_branch"><span class="id" title="definition">wf_branch</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#cdecl:41"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#br:40"><span class="id" title="variable">br</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:35"><span class="id" title="variable">P</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:39"><span class="id" title="variable">p</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:35"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#brctx:42"><span class="id" title="variable">brctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">brctx</span> <span class="id" title="var">decli</span> <span class="id" title="var">wfp</span> <span class="id" title="var">wfb</span> <span class="id" title="var">havp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">brctx</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_context"><span class="id" title="definition">case_branch_context</span></a> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_context_gen"><span class="id" title="definition">case_branch_context_gen</span></a> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#pre_case_branch_context_gen"><span class="id" title="definition">pre_case_branch_context_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_map2_cstr_args"><span class="id" title="lemma">on_free_vars_map2_cstr_args</span></a>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">len</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_branch_length"><span class="id" title="lemma">wf_branch_length</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_inst_case_context"><span class="id" title="lemma">on_free_vars_ctx_inst_case_context</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#test_context_k_closed_on_free_vars_ctx"><span class="id" title="lemma">test_context_k_closed_on_free_vars_ctx</span></a> -<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_ctx_on_free_vars"><span class="id" title="lemma">closedn_ctx_on_free_vars</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_predicate_length_pars"><span class="id" title="lemma">wf_predicate_length_pars</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#onNpars"><span class="id" title="projection">onNpars</span></a>.<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInductives.html#oi"><span class="id" title="definition">PCUICInductives.oi</span></a>.<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <span class="id" title="var">decli</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICInstConv.html#closedn_ctx_cstr_branch_context"><span class="id" title="lemma">closedn_ctx_cstr_branch_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="substP_shiftnP" class="idref" href="#substP_shiftnP"><span class="id" title="lemma">substP_shiftnP</span></a> <a id="k:43" class="idref" href="#k:43"><span class="id" title="binder">k</span></a> <a id="n:44" class="idref" href="#n:44"><span class="id" title="binder">n</span></a> <a id="p:45" class="idref" href="#p:45"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#substP"><span class="id" title="definition">substP</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k:43"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#n:44"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:45"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> (<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k:43"><span class="id" title="variable">k</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#n:44"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:45"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaRocq.Utils.MRPrelude.html#44b19bd81f7a1388073ea8a65e6fa993"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#44b19bd81f7a1388073ea8a65e6fa993"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k:43"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:45"><span class="id" title="variable">p</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#44b19bd81f7a1388073ea8a65e6fa993"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#substP"><span class="id" title="definition">substP</span></a> /= /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">case_inequalities</span> ⇒ //=.<br/>
&nbsp;&nbsp;1-2: <span class="id" title="var">exfalso</span> ; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.sub_add_distr"><span class="id" title="lemma">Nat.sub_add_distr</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#orb_diag"><span class="id" title="lemma">orb_diag</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_subst" class="idref" href="#on_free_vars_subst"><span class="id" title="lemma">on_free_vars_subst</span></a> (<a id="p:46" class="idref" href="#p:46"><span class="id" title="binder">p</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="k:47" class="idref" href="#k:47"><span class="id" title="binder">k</span></a> <a id="s:48" class="idref" href="#s:48"><span class="id" title="binder">s</span></a> <a id="t:49" class="idref" href="#t:49"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:46"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#s:48"><span class="id" title="variable">s</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> (<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k:47"><span class="id" title="variable">k</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#s:48"><span class="id" title="variable">s</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:46"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:49"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k:47"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:46"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#s:48"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k:47"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:49"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#substP_shiftnP"><span class="id" title="lemma">substP_shiftnP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_subst_gen"><span class="id" title="lemma">on_free_vars_subst_gen</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Corollary</span> <a id="on_free_vars_subst0" class="idref" href="#on_free_vars_subst0"><span class="id" title="lemma">on_free_vars_subst0</span></a> (<a id="p:50" class="idref" href="#p:50"><span class="id" title="binder">p</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="s:51" class="idref" href="#s:51"><span class="id" title="binder">s</span></a> <a id="t:52" class="idref" href="#t:52"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:50"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#s:51"><span class="id" title="variable">s</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#s:51"><span class="id" title="variable">s</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:50"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:52"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:50"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#s:51"><span class="id" title="variable">s</span></a> 0 <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:52"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP0"><span class="id" title="lemma">shiftnP0</span></a> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#on_free_vars_subst"><span class="id" title="lemma">on_free_vars_subst</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_case_branch_type" class="idref" href="#on_free_vars_case_branch_type"><span class="id" title="lemma">on_free_vars_case_branch_type</span></a> `{<a id="H:53" class="idref" href="#H:53"><span class="id" title="binder">checker_flags</span></a>} {<a id="7674e0ce7f4ec5e4ff169924724c4b41" class="idref" href="#7674e0ce7f4ec5e4ff169924724c4b41"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a> } {<a id="bc5a68328f26fe8774c702b73a23df47" class="idref" href="#bc5a68328f26fe8774c702b73a23df47"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#7674e0ce7f4ec5e4ff169924724c4b41"><span class="id" title="variable">Σ</span></a>} {<a id="P:56" class="idref" href="#P:56"><span class="id" title="binder">P</span></a>} {<a id="ci:57" class="idref" href="#ci:57"><span class="id" title="binder">ci</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#case_info"><span class="id" title="record">case_info</span></a>} {<a id="mdecl:58" class="idref" href="#mdecl:58"><span class="id" title="binder">mdecl</span></a> <a id="idecl:59" class="idref" href="#idecl:59"><span class="id" title="binder">idecl</span></a> <a id="p:60" class="idref" href="#p:60"><span class="id" title="binder">p</span></a> <a id="br:61" class="idref" href="#br:61"><span class="id" title="binder">br</span></a> <a id="i:62" class="idref" href="#i:62"><span class="id" title="binder">i</span></a> <a id="cdecl:63" class="idref" href="#cdecl:63"><span class="id" title="binder">cdecl</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="predctx:64" class="idref" href="#predctx:64"><span class="id" title="binder">predctx</span></a> := <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#ci:57"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#mdecl:58"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#idecl:59"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:60"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ptm:65" class="idref" href="#ptm:65"><span class="id" title="binder">ptm</span></a> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkLambda_or_LetIn"><span class="id" title="definition">it_mkLambda_or_LetIn</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#predctx:64"><span class="id" title="variable">predctx</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:60"><span class="id" title="variable">p</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="brctxty:66" class="idref" href="#brctxty:66"><span class="id" title="binder">brctxty</span></a> := <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_type"><span class="id" title="definition">case_branch_type</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#ci:57"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#mdecl:58"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#idecl:59"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:60"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#br:61"><span class="id" title="variable">br</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#ptm:65"><span class="id" title="variable">ptm</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#i:62"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#cdecl:63"><span class="id" title="variable">cdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_constructor"><span class="id" title="definition">declared_constructor</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#7674e0ce7f4ec5e4ff169924724c4b41"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#ci:57"><span class="id" title="variable">ci</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#ci_ind"><span class="id" title="projection">ci_ind</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#i:62"><span class="id" title="variable">i</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#mdecl:58"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#idecl:59"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#cdecl:63"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_predicate"><span class="id" title="definition">wf_predicate</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#mdecl:58"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#idecl:59"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:60"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_context_upto_names"><span class="id" title="abbreviation">eq_context_upto_names</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:60"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context"><span class="id" title="definition">ind_predicate_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#ci:57"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#mdecl:58"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#idecl:59"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_branch"><span class="id" title="definition">wf_branch</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#cdecl:63"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#br:61"><span class="id" title="variable">br</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:56"><span class="id" title="variable">P</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:60"><span class="id" title="variable">p</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:60"><span class="id" title="variable">p</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:56"><span class="id" title="variable">P</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#p:60"><span class="id" title="variable">p</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#br:61"><span class="id" title="variable">br</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:56"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#brctxty:66"><span class="id" title="variable">brctxty</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">predctx</span> <span class="id" title="var">ptm</span> <span class="id" title="var">brctxty</span> <span class="id" title="var">decli</span> <span class="id" title="var">wfp</span> <span class="id" title="var">allctx</span> <span class="id" title="var">wfb</span> <span class="id" title="var">havp</span> <span class="id" title="var">havr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">brctxty</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_type"><span class="id" title="definition">case_branch_type</span></a> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_type_gen"><span class="id" title="definition">case_branch_type_gen</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_mkApps"><span class="id" title="lemma">on_free_vars_mkApps</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb_app"><span class="id" title="lemma">forallb_app</span></a> ; <span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_branch_length"><span class="id" title="lemma">wf_branch_length</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_lift0"><span class="id" title="lemma">on_free_vars_lift0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP_shiftnP"><span class="id" title="lemma">addnP_shiftnP</span></a> /<span class="id" title="var">ptm</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#on_free_vars_it_mkLambda_or_LetIn"><span class="id" title="lemma">on_free_vars_it_mkLambda_or_LetIn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">predctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#on_free_vars_case_predicate_context"><span class="id" title="lemma">on_free_vars_case_predicate_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">decli</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">predctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_predicate_context_length"><span class="id" title="lemma">case_predicate_context_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">eassumption</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_map"><span class="id" title="lemma">forallb_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#declared_constructor_closed_indices"><span class="id" title="lemma">declared_constructor_closed_indices</span></a> <span class="id" title="var">decli</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_impl"><span class="id" title="lemma">forallb_impl</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_branch_length"><span class="id" title="lemma">wf_branch_length</span></a> <span class="id" title="var">wfb</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#on_free_vars_subst"><span class="id" title="lemma">on_free_vars_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_rev"><span class="id" title="lemma">forallb_rev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_rev"><span class="id" title="lemma">List.length_rev</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> -<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> <span class="id" title="var">p</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#puinst"><span class="id" title="projection">puinst</span></a> <span class="id" title="var">p</span>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <span class="id" title="var">mdecl</span>))<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions_subst_instance"><span class="id" title="lemma">context_assumptions_subst_instance</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#onNpars"><span class="id" title="projection">onNpars</span></a>, <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_predicate_length_pars"><span class="id" title="lemma">wf_predicate_length_pars</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInductives.html#oi"><span class="id" title="definition">PCUICInductives.oi</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">decli.p1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#on_free_vars_subst"><span class="id" title="lemma">on_free_vars_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#foron_free_vars_extended_subst"><span class="id" title="lemma">foron_free_vars_extended_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_subst_instance"><span class="id" title="lemma">on_free_vars_ctx_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closed_ctx_on_free_vars"><span class="id" title="lemma">closed_ctx_on_free_vars</span></a>, <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#declared_inductive_closed_params"><span class="id" title="lemma">declared_inductive_closed_params</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">decli</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst_length"><span class="id" title="lemma">extended_subst_length</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_instance_length"><span class="id" title="lemma">subst_instance_length</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions_subst_instance"><span class="id" title="lemma">context_assumptions_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_lift_impl"><span class="id" title="lemma">on_free_vars_lift_impl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#on_free_vars_subst"><span class="id" title="lemma">on_free_vars_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_impl"><span class="id" title="lemma">forallb_impl</span></a> ; [|<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closed_inds"><span class="id" title="lemma">closed_inds</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closed_on_free_vars"><span class="id" title="lemma">closed_on_free_vars</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_subst_instance"><span class="id" title="lemma">on_free_vars_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_on_free_vars"><span class="id" title="lemma">closedn_on_free_vars</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_assoc"><span class="id" title="lemma">Nat.add_assoc</span></a>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_mkApps"><span class="id" title="lemma">on_free_vars_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ; <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb_app"><span class="id" title="lemma">forallb_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_map"><span class="id" title="lemma">forallb_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_impl"><span class="id" title="lemma">forallb_impl</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_lift0"><span class="id" title="lemma">on_free_vars_lift0</span></a> // (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_branch_length"><span class="id" title="lemma">wf_branch_length</span></a> <span class="id" title="var">wfb</span>) <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP_shiftnP"><span class="id" title="lemma">addnP_shiftnP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_branch_length"><span class="id" title="lemma">wf_branch_length</span></a> <span class="id" title="var">wfb</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_to_extended_list"><span class="id" title="lemma">on_free_vars_to_extended_list</span></a>.<br/>

<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="unlift_renaming" class="idref" href="#unlift_renaming"><span class="id" title="definition">unlift_renaming</span></a> <a id="n:67" class="idref" href="#n:67"><span class="id" title="binder">n</span></a> <a id="k:68" class="idref" href="#k:68"><span class="id" title="binder">k</span></a> <a id="i:69" class="idref" href="#i:69"><span class="id" title="binder">i</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#i:69"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k:68"><span class="id" title="variable">k</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#i:69"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#i:69"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#n:67"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="unlift" class="idref" href="#unlift"><span class="id" title="definition">unlift</span></a> <a id="n:70" class="idref" href="#n:70"><span class="id" title="binder">n</span></a> <a id="k:71" class="idref" href="#k:71"><span class="id" title="binder">k</span></a> := <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> (<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#unlift_renaming"><span class="id" title="definition">unlift_renaming</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#n:70"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k:71"><span class="id" title="variable">k</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_unlift" class="idref" href="#lift_unlift"><span class="id" title="lemma">lift_unlift</span></a> <a id="n:72" class="idref" href="#n:72"><span class="id" title="binder">n</span></a> <a id="k:73" class="idref" href="#k:73"><span class="id" title="binder">k</span></a> : <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#unlift_renaming"><span class="id" title="definition">unlift_renaming</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#n:72"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k:73"><span class="id" title="variable">k</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#lift_renaming"><span class="id" title="definition">lift_renaming</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#n:72"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k:73"><span class="id" title="variable">k</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#44b19bd81f7a1388073ea8a65e6fa993"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#ren_id"><span class="id" title="definition">ren_id</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#unlift_renaming"><span class="id" title="definition">unlift_renaming</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#lift_renaming"><span class="id" title="definition">lift_renaming</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#ren_id"><span class="id" title="definition">ren_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">case_inequalities</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Corollary</span> <a id="lift_unlift_term" class="idref" href="#lift_unlift_term"><span class="id" title="lemma">lift_unlift_term</span></a> {<a id="n:74" class="idref" href="#n:74"><span class="id" title="binder">n</span></a> <a id="k:75" class="idref" href="#k:75"><span class="id" title="binder">k</span></a>} <a id="t:76" class="idref" href="#t:76"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#unlift"><span class="id" title="definition">unlift</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#n:74"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k:75"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#n:74"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k:75"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:76"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:76"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#lift_rename"><span class="id" title="lemma">lift_rename</span></a> /<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#unlift"><span class="id" title="definition">unlift</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_compose"><span class="id" title="lemma">rename_compose</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#lift_unlift"><span class="id" title="lemma">lift_unlift</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename_ren_id"><span class="id" title="lemma">rename_ren_id</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Corollary</span> <a id="lift_unlift_context" class="idref" href="#lift_unlift_context"><span class="id" title="lemma">lift_unlift_context</span></a> {<a id="n:77" class="idref" href="#n:77"><span class="id" title="binder">n</span></a> <a id="k:78" class="idref" href="#k:78"><span class="id" title="binder">k</span></a>} <a id="d3a38663d0c0158490276dc8366282f4" class="idref" href="#d3a38663d0c0158490276dc8366282f4"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename_context"><span class="id" title="definition">rename_context</span></a> (<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#unlift_renaming"><span class="id" title="definition">unlift_renaming</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#n:77"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k:78"><span class="id" title="variable">k</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename_context"><span class="id" title="definition">rename_context</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#lift_renaming"><span class="id" title="definition">lift_renaming</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#n:77"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k:78"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#d3a38663d0c0158490276dc8366282f4"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#d3a38663d0c0158490276dc8366282f4"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k_id"><span class="id" title="lemma">fold_context_k_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename_context"><span class="id" title="definition">rename_context</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k_compose"><span class="id" title="lemma">fold_context_k_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k_proper"><span class="id" title="instance">fold_context_k_proper</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ?.<br/>
&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename_ren_id"><span class="id" title="lemma">rename_ren_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_compose"><span class="id" title="lemma">rename_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename_proper"><span class="id" title="instance">rename_proper</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#shiftn_lift_renaming"><span class="id" title="lemma">shiftn_lift_renaming</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> /<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#unlift_renaming"><span class="id" title="definition">unlift_renaming</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#lift_renaming"><span class="id" title="definition">lift_renaming</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#ren_id"><span class="id" title="definition">ren_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">case_inequalities</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="OnFreeVars" class="idref" href="#OnFreeVars"><span class="id" title="section">OnFreeVars</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="OnFreeVars.cf" class="idref" href="#OnFreeVars.cf"><span class="id" title="variable">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="da5d27cd71b4f049882bfe94ea69b53a" class="idref" href="#da5d27cd71b4f049882bfe94ea69b53a"><span class="id" title="variable">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) (<a id="021c9bacca441c2e175eab5fba544ade" class="idref" href="#021c9bacca441c2e175eab5fba544ade"><span class="id" title="variable">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#213a0dec94e9cf112034b0b076aaefbc"><span class="id" title="variable">Σ</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a id="OnFreeVars.Pinfer" class="idref" href="#OnFreeVars.Pinfer"><span class="id" title="variable">Pinfer</span></a> <a id="7f0b6c4481d58aa56d12a792961f7b07" class="idref" href="#7f0b6c4481d58aa56d12a792961f7b07"><span class="id" title="binder">Γ</span></a> <a id="t:84" class="idref" href="#t:84"><span class="id" title="binder">t</span></a> <a id="T:85" class="idref" href="#T:85"><span class="id" title="binder">T</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:86" class="idref" href="#P:86"><span class="id" title="binder">P</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:86"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#7f0b6c4481d58aa56d12a792961f7b07"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:86"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:84"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:86"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T:85"><span class="id" title="variable">T</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a id="OnFreeVars.Psort" class="idref" href="#OnFreeVars.Psort"><span class="id" title="variable">Psort</span></a> (<a id="18cec236fc3c0c2d2d1c24ec4f512077" class="idref" href="#18cec236fc3c0c2d2d1c24ec4f512077"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) (<a id="t:88" class="idref" href="#t:88"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="u:89" class="idref" href="#u:89"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#sort"><span class="id" title="abbreviation">sort</span></a>) := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a id="OnFreeVars.Pprod" class="idref" href="#OnFreeVars.Pprod"><span class="id" title="variable">Pprod</span></a> <a id="db027aca38788e2b507c990d428e4c0e" class="idref" href="#db027aca38788e2b507c990d428e4c0e"><span class="id" title="binder">Γ</span></a> <a id="t:91" class="idref" href="#t:91"><span class="id" title="binder">t</span></a> (<a id="na:92" class="idref" href="#na:92"><span class="id" title="binder">na</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) <a id="A:93" class="idref" href="#A:93"><span class="id" title="binder">A</span></a> <a id="B:94" class="idref" href="#B:94"><span class="id" title="binder">B</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:95" class="idref" href="#P:95"><span class="id" title="binder">P</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:95"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#db027aca38788e2b507c990d428e4c0e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:95"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:91"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:95"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#A:93"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> 1 <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:95"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#B:94"><span class="id" title="variable">B</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a id="OnFreeVars.Pind" class="idref" href="#OnFreeVars.Pind"><span class="id" title="variable">Pind</span></a> <a id="8390bcd372144a00bd1845dbd75d2a34" class="idref" href="#8390bcd372144a00bd1845dbd75d2a34"><span class="id" title="binder">Γ</span></a> (<a id="ind:97" class="idref" href="#ind:97"><span class="id" title="binder">ind</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#inductive"><span class="id" title="record">inductive</span></a>) <a id="t:98" class="idref" href="#t:98"><span class="id" title="binder">t</span></a> (<a id="u:99" class="idref" href="#u:99"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#Instance.t"><span class="id" title="definition">Instance.t</span></a>) <a id="args:100" class="idref" href="#args:100"><span class="id" title="binder">args</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:101" class="idref" href="#P:101"><span class="id" title="binder">P</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:101"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#8390bcd372144a00bd1845dbd75d2a34"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:101"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:98"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:101"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#args:100"><span class="id" title="variable">args</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a id="OnFreeVars.Pcheck" class="idref" href="#OnFreeVars.Pcheck"><span class="id" title="variable">Pcheck</span></a> (<a id="16cf05dce72d654f34695685c2af4841" class="idref" href="#16cf05dce72d654f34695685c2af4841"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) (<a id="t:103" class="idref" href="#t:103"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="T:104" class="idref" href="#T:104"><span class="id" title="binder">T</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a id="OnFreeVars.Pj" class="idref" href="#OnFreeVars.Pj"><span class="id" title="variable">Pj</span></a> (<a id="679ee3ec1ad0fc855e729f07ee59c066" class="idref" href="#679ee3ec1ad0fc855e729f07ee59c066"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) (<a id="j:106" class="idref" href="#j:106"><span class="id" title="binder">j</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.judgment"><span class="id" title="definition">judgment</span></a>) := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a id="5efe156e4133bda7838528c483927556" class="idref" href="#5efe156e4133bda7838528c483927556"><span class="id" title="variable">PΓ</span></a> (<a id="367e0b75814c690d9518e83afce12d6f" class="idref" href="#367e0b75814c690d9518e83afce12d6f"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a id="50b760dada71a2f1663554ffc32d52a1" class="idref" href="#50b760dada71a2f1663554ffc32d52a1"><span class="id" title="variable">PΓ_rel</span></a> (<a id="21b110d90ed5334f39e3c13b8af174d2" class="idref" href="#21b110d90ed5334f39e3c13b8af174d2"><span class="id" title="binder">Γ</span></a> <a id="bb400cba05b2e9e46ef91fcb907610fd" class="idref" href="#bb400cba05b2e9e46ef91fcb907610fd"><span class="id" title="binder">Γ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="bidirectional_on_free_vars" class="idref" href="#bidirectional_on_free_vars"><span class="id" title="lemma">bidirectional_on_free_vars</span></a> : <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#env_prop_bd"><span class="id" title="definition">env_prop_bd</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#da5d27cd71b4f049882bfe94ea69b53a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#OnFreeVars.Pcheck"><span class="id" title="variable">Pcheck</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#OnFreeVars.Pinfer"><span class="id" title="variable">Pinfer</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#OnFreeVars.Psort"><span class="id" title="variable">Psort</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#OnFreeVars.Pprod"><span class="id" title="variable">Pprod</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#OnFreeVars.Pind"><span class="id" title="variable">Pind</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#OnFreeVars.Pj"><span class="id" title="variable">Pj</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#5efe156e4133bda7838528c483927556"><span class="id" title="variable">PΓ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#50b760dada71a2f1663554ffc32d52a1"><span class="id" title="variable">PΓ_rel</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#bidir_ind_env"><span class="id" title="lemma">bidir_ind_env</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">HΓ</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#alli_Alli"><span class="id" title="lemma">alli_Alli</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#Alli_nth_error"><span class="id" title="lemma">Alli_nth_error</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HΓ</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_lift0"><span class="id" title="lemma">on_free_vars_lift0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: <span class="id" title="var">HΓ</span> ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#implyP"><span class="id" title="lemma">implyP</span></a> /(<span class="id" title="var">_</span> <span class="id" title="var">Hn</span>) /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="tactic">until</span> <span class="id" title="var">bty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hbty</span> ? ? /= /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ; <span class="id" title="tactic">split</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hbty</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_snoc"><span class="id" title="lemma">on_ctx_free_vars_snoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ; <span class="id" title="tactic">split</span> ; <span class="id" title="var">tea</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="tactic">until</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ht</span> ? ? /= /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] ? /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ; <span class="id" title="tactic">split</span> ; <span class="id" title="var">tea</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Ht</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_snoc"><span class="id" title="lemma">on_ctx_free_vars_snoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ; <span class="id" title="tactic">split</span> ; <span class="id" title="var">tea</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="tactic">until</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">_</span> <span class="id" title="var">HAB</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ? ? /= /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <span class="id" title="var">HAB</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_subst1"><span class="id" title="lemma">on_free_vars_subst1</span></a> ; <span class="id" title="var">tea</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closed_on_free_vars"><span class="id" title="lemma">closed_on_free_vars</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance"><span class="id" title="lemma">closedn_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#declared_constant_closed_type"><span class="id" title="lemma">declared_constant_closed_type</span></a> ; <span class="id" title="var">tea</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closed_on_free_vars"><span class="id" title="lemma">closed_on_free_vars</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance"><span class="id" title="lemma">closedn_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#declared_inductive_closed_type"><span class="id" title="lemma">declared_inductive_closed_type</span></a> ; <span class="id" title="var">tea</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closed_on_free_vars"><span class="id" title="lemma">closed_on_free_vars</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#declared_constructor_closed_type"><span class="id" title="lemma">declared_constructor_closed_type</span></a> ; <span class="id" title="var">tea</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ ? ? /= /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#and5P"><span class="id" title="lemma">and5P</span></a> [] ? ? <span class="id" title="var">Hctx</span> ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_mkApps"><span class="id" title="lemma">on_free_vars_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#on_free_vars_it_mkLambda_or_LetIn"><span class="id" title="lemma">on_free_vars_it_mkLambda_or_LetIn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#test_context_k_closed_on_free_vars_ctx"><span class="id" title="lemma">test_context_k_closed_on_free_vars_ctx</span></a> -<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_ctx_on_free_vars"><span class="id" title="lemma">closedn_ctx_on_free_vars</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_predicate_context_length"><span class="id" title="lemma">case_predicate_context_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#on_free_vars_case_predicate_context"><span class="id" title="lemma">on_free_vars_case_predicate_context</span></a> ; <span class="id" title="var">eassumption</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb_app"><span class="id" title="lemma">forallb_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_forallb"><span class="id" title="lemma">All_forallb</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_skipn"><span class="id" title="lemma">All_skipn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="tactic">until</span> <span class="id" title="var">args</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ ? <span class="id" title="var">_</span> ? <span class="id" title="var">largs</span> ? ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#on_free_vars_subst0"><span class="id" title="lemma">on_free_vars_subst0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> ; <span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ; <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_rev"><span class="id" title="lemma">forallb_rev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_forallb"><span class="id" title="lemma">All_forallb</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_on_free_vars"><span class="id" title="lemma">closedn_on_free_vars</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance"><span class="id" title="lemma">closedn_subst_instance</span></a> /= <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_rev"><span class="id" title="lemma">List.length_rev</span></a> <span class="id" title="var">largs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#declared_projection_closed_type"><span class="id" title="lemma">declared_projection_closed_type</span></a> ; <span class="id" title="var">tea</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="tactic">until</span> <span class="id" title="var">decl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ ? <span class="id" title="var">ndec</span> ? ? ? ? ? ? ? /= <span class="id" title="var">Hmfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_nth_error"><span class="id" title="lemma">forallb_nth_error</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <span class="id" title="var">ndec</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: <span class="id" title="var">Hmfix</span> ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="tactic">until</span> <span class="id" title="var">decl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ ? <span class="id" title="var">ndec</span> ? ? ? ? ? ? ? /= <span class="id" title="var">Hmfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_nth_error"><span class="id" title="lemma">forallb_nth_error</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <span class="id" title="var">ndec</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: <span class="id" title="var">Hmfix</span> ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X0</span>; <span class="id" title="var">cbn</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">prim_type</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ? ? ? ? ? ? <span class="id" title="var">_</span> <span class="id" title="var">HT</span> <span class="id" title="var">Hred</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">HΓ</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HT</span> <span class="id" title="var">_</span> <span class="id" title="var">HΓ</span> <span class="id" title="var">Ht</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#red_on_free_vars"><span class="id" title="lemma">red_on_free_vars</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hred</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: <span class="id" title="var">Hred</span> ⇒ /= /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ? ? ? ? ? ? <span class="id" title="var">_</span> <span class="id" title="var">HT</span> <span class="id" title="var">Hred</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">HΓ</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HT</span> <span class="id" title="var">_</span> <span class="id" title="var">HΓ</span> <span class="id" title="var">Ht</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#red_on_free_vars"><span class="id" title="lemma">red_on_free_vars</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hred</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_mkApps"><span class="id" title="lemma">on_free_vars_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hred</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: <span class="id" title="var">Hred</span> ⇒ /= /<a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="infering_on_free_vars" class="idref" href="#infering_on_free_vars"><span class="id" title="lemma">infering_on_free_vars</span></a> <a id="P:110" class="idref" href="#P:110"><span class="id" title="binder">P</span></a> <a id="5fed251aa58d6913e63540c17d3d6121" class="idref" href="#5fed251aa58d6913e63540c17d3d6121"><span class="id" title="binder">Γ</span></a> <a id="t:112" class="idref" href="#t:112"><span class="id" title="binder">t</span></a> <a id="T:113" class="idref" href="#T:113"><span class="id" title="binder">T</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:110"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#5fed251aa58d6913e63540c17d3d6121"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:110"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:112"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#da5d27cd71b4f049882bfe94ea69b53a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#7d12f9d53f0b9126052444bb63d23b40"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#5fed251aa58d6913e63540c17d3d6121"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#7d12f9d53f0b9126052444bb63d23b40"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:112"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#7d12f9d53f0b9126052444bb63d23b40"><span class="id" title="notation">▹</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T:113"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:110"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T:113"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#bidirectional_on_free_vars"><span class="id" title="lemma">bidirectional_on_free_vars</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span>&amp;<span class="id" title="var">_</span>&amp;<span class="id" title="var">_</span>&amp;<span class="id" title="var">_</span>&amp;<span class="id" title="var">p</span>&amp;<span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">p</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="infering_prod_on_free_vars" class="idref" href="#infering_prod_on_free_vars"><span class="id" title="lemma">infering_prod_on_free_vars</span></a> <a id="P:114" class="idref" href="#P:114"><span class="id" title="binder">P</span></a> <a id="799b9f0182e743f0bacfeeb6ad1620c4" class="idref" href="#799b9f0182e743f0bacfeeb6ad1620c4"><span class="id" title="binder">Γ</span></a> <a id="t:116" class="idref" href="#t:116"><span class="id" title="binder">t</span></a> <a id="na:117" class="idref" href="#na:117"><span class="id" title="binder">na</span></a> <a id="A:118" class="idref" href="#A:118"><span class="id" title="binder">A</span></a> <a id="B:119" class="idref" href="#B:119"><span class="id" title="binder">B</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:114"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#799b9f0182e743f0bacfeeb6ad1620c4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:114"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:116"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#da5d27cd71b4f049882bfe94ea69b53a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#ba275c629abef9b1fb9a1488eb7e3172"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#799b9f0182e743f0bacfeeb6ad1620c4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#ba275c629abef9b1fb9a1488eb7e3172"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:116"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#ba275c629abef9b1fb9a1488eb7e3172"><span class="id" title="notation">▹</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#ba275c629abef9b1fb9a1488eb7e3172"><span class="id" title="notation">Π</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#ba275c629abef9b1fb9a1488eb7e3172"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#na:117"><span class="id" title="variable">na</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#ba275c629abef9b1fb9a1488eb7e3172"><span class="id" title="notation">,</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#A:118"><span class="id" title="variable">A</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#ba275c629abef9b1fb9a1488eb7e3172"><span class="id" title="notation">,</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#B:119"><span class="id" title="variable">B</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#ba275c629abef9b1fb9a1488eb7e3172"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:114"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#A:118"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> 1 <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:114"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#B:119"><span class="id" title="variable">B</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#bidirectional_on_free_vars"><span class="id" title="lemma">bidirectional_on_free_vars</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#OnFreeVars"><span class="id" title="section">OnFreeVars</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_type" class="idref" href="#on_free_vars_type"><span class="id" title="lemma">on_free_vars_type</span></a> `{<a id="H:120" class="idref" href="#H:120"><span class="id" title="binder">checker_flags</span></a>} <a id="P:121" class="idref" href="#P:121"><span class="id" title="binder">P</span></a> <a id="89c991e573d576d4ce9b4ce8f6af8d89" class="idref" href="#89c991e573d576d4ce9b4ce8f6af8d89"><span class="id" title="binder">Σ</span></a> (<a id="4e10e979c7ff6a0e7c46d6e669772122" class="idref" href="#4e10e979c7ff6a0e7c46d6e669772122"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#89c991e573d576d4ce9b4ce8f6af8d89"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>) <a id="d026dae317ef64f38f5001f86b39608a" class="idref" href="#d026dae317ef64f38f5001f86b39608a"><span class="id" title="binder">Γ</span></a> <a id="t:125" class="idref" href="#t:125"><span class="id" title="binder">t</span></a> <a id="T:126" class="idref" href="#T:126"><span class="id" title="binder">T</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:121"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#d026dae317ef64f38f5001f86b39608a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:121"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:125"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#89c991e573d576d4ce9b4ce8f6af8d89"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#d026dae317ef64f38f5001f86b39608a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:125"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T:126"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="T':127" class="idref" href="#T':127"><span class="id" title="binder">T'</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:121"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T':127"><span class="id" title="variable">T'</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#89c991e573d576d4ce9b4ce8f6af8d89"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#d026dae317ef64f38f5001f86b39608a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:125"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T':127"><span class="id" title="variable">T'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">oΓ</span> <span class="id" title="var">ot</span> <span class="id" title="var">ty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing_wf_local"><span class="id" title="lemma">typing_wf_local</span></a> ; <span class="id" title="var">tea</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDFromPCUIC.html#typing_infering"><span class="id" title="lemma">typing_infering</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ty</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T'</span> []] ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">T'</span> ; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">edestruct</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#bidirectional_on_free_vars"><span class="id" title="lemma">bidirectional_on_free_vars</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span>&amp;<span class="id" title="var">_</span>&amp;<span class="id" title="var">_</span>&amp;<span class="id" title="var">_</span>&amp;?&amp;<span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDToPCUIC.html#infering_typing"><span class="id" title="lemma">infering_typing</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="BDRenaming" class="idref" href="#BDRenaming"><span class="id" title="section">BDRenaming</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span> `{<a id="BDRenaming.cf" class="idref" href="#BDRenaming.cf"><span class="id" title="variable">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>}.<br/>
<span class="id" title="keyword">Context</span> (<a id="ca348d92561cf71fc699f5384c9195aa" class="idref" href="#ca348d92561cf71fc699f5384c9195aa"><span class="id" title="variable">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>).<br/>
<span class="id" title="keyword">Context</span> (<a id="87cfe8b1030f8588556c261ce0ff3e1d" class="idref" href="#87cfe8b1030f8588556c261ce0ff3e1d"><span class="id" title="variable">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#ca348d92561cf71fc699f5384c9195aa"><span class="id" title="variable">Σ</span></a>).<br/>

<br/>
<span class="id" title="keyword">Let</span> <a id="BDRenaming.Pinfer" class="idref" href="#BDRenaming.Pinfer"><span class="id" title="variable">Pinfer</span></a> <a id="176f8993380a4cc2dc0087cc17e85ccb" class="idref" href="#176f8993380a4cc2dc0087cc17e85ccb"><span class="id" title="binder">Γ</span></a> <a id="t:132" class="idref" href="#t:132"><span class="id" title="binder">t</span></a> <a id="T:133" class="idref" href="#T:133"><span class="id" title="binder">T</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:134" class="idref" href="#P:134"><span class="id" title="binder">P</span></a> <a id="98fbe40c8c0cdcc6c557ee9493a7a4f3" class="idref" href="#98fbe40c8c0cdcc6c557ee9493a7a4f3"><span class="id" title="binder">Δ</span></a> <a id="f:136" class="idref" href="#f:136"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICRenameDef.html#urenaming"><span class="id" title="definition">urenaming</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:134"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#176f8993380a4cc2dc0087cc17e85ccb"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#98fbe40c8c0cdcc6c557ee9493a7a4f3"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:136"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:134"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#176f8993380a4cc2dc0087cc17e85ccb"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:134"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:132"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#ca348d92561cf71fc699f5384c9195aa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#7d12f9d53f0b9126052444bb63d23b40"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#98fbe40c8c0cdcc6c557ee9493a7a4f3"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#7d12f9d53f0b9126052444bb63d23b40"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:136"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:132"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#7d12f9d53f0b9126052444bb63d23b40"><span class="id" title="notation">▹</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:136"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T:133"><span class="id" title="variable">T</span></a>.<br/>

<br/>
<span class="id" title="keyword">Let</span> <a id="BDRenaming.Psort" class="idref" href="#BDRenaming.Psort"><span class="id" title="variable">Psort</span></a> <a id="c91bc42e648d459a7dfac8df37a90ce6" class="idref" href="#c91bc42e648d459a7dfac8df37a90ce6"><span class="id" title="binder">Γ</span></a> <a id="t:138" class="idref" href="#t:138"><span class="id" title="binder">t</span></a> <a id="u:139" class="idref" href="#u:139"><span class="id" title="binder">u</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:140" class="idref" href="#P:140"><span class="id" title="binder">P</span></a> <a id="7ad7086e24b5d6403889caf601674ed4" class="idref" href="#7ad7086e24b5d6403889caf601674ed4"><span class="id" title="binder">Δ</span></a> <a id="f:142" class="idref" href="#f:142"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICRenameDef.html#urenaming"><span class="id" title="definition">urenaming</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:140"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#c91bc42e648d459a7dfac8df37a90ce6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#7ad7086e24b5d6403889caf601674ed4"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:142"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:140"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#c91bc42e648d459a7dfac8df37a90ce6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:140"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:138"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#ca348d92561cf71fc699f5384c9195aa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#707f18806b9c6c5459796f0e7eb6c13a"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#7ad7086e24b5d6403889caf601674ed4"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#707f18806b9c6c5459796f0e7eb6c13a"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:142"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:138"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#707f18806b9c6c5459796f0e7eb6c13a"><span class="id" title="notation">▹□</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#u:139"><span class="id" title="variable">u</span></a>.<br/>

<br/>
<span class="id" title="keyword">Let</span> <a id="BDRenaming.Pprod" class="idref" href="#BDRenaming.Pprod"><span class="id" title="variable">Pprod</span></a> <a id="fe49019c6210adf8ca767b17fb500606" class="idref" href="#fe49019c6210adf8ca767b17fb500606"><span class="id" title="binder">Γ</span></a> <a id="t:144" class="idref" href="#t:144"><span class="id" title="binder">t</span></a> <a id="na:145" class="idref" href="#na:145"><span class="id" title="binder">na</span></a> <a id="A:146" class="idref" href="#A:146"><span class="id" title="binder">A</span></a> <a id="B:147" class="idref" href="#B:147"><span class="id" title="binder">B</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:148" class="idref" href="#P:148"><span class="id" title="binder">P</span></a> <a id="c12d8f3f506f78daeb59031e5dce5975" class="idref" href="#c12d8f3f506f78daeb59031e5dce5975"><span class="id" title="binder">Δ</span></a> <a id="f:150" class="idref" href="#f:150"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICRenameDef.html#urenaming"><span class="id" title="definition">urenaming</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:148"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#fe49019c6210adf8ca767b17fb500606"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#c12d8f3f506f78daeb59031e5dce5975"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:150"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:148"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#fe49019c6210adf8ca767b17fb500606"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:148"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:144"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#ca348d92561cf71fc699f5384c9195aa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#ba275c629abef9b1fb9a1488eb7e3172"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#c12d8f3f506f78daeb59031e5dce5975"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#ba275c629abef9b1fb9a1488eb7e3172"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:150"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:144"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#ba275c629abef9b1fb9a1488eb7e3172"><span class="id" title="notation">▹</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#ba275c629abef9b1fb9a1488eb7e3172"><span class="id" title="notation">Π</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#ba275c629abef9b1fb9a1488eb7e3172"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#na:145"><span class="id" title="variable">na</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#ba275c629abef9b1fb9a1488eb7e3172"><span class="id" title="notation">,</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:150"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#A:146"><span class="id" title="variable">A</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#ba275c629abef9b1fb9a1488eb7e3172"><span class="id" title="notation">,</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> 1 <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:150"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#B:147"><span class="id" title="variable">B</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#ba275c629abef9b1fb9a1488eb7e3172"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Let</span> <a id="BDRenaming.Pind" class="idref" href="#BDRenaming.Pind"><span class="id" title="variable">Pind</span></a> <a id="646e4bc5bf1c33aade7489a0a12cfdca" class="idref" href="#646e4bc5bf1c33aade7489a0a12cfdca"><span class="id" title="binder">Γ</span></a> <a id="ind:152" class="idref" href="#ind:152"><span class="id" title="binder">ind</span></a> <a id="t:153" class="idref" href="#t:153"><span class="id" title="binder">t</span></a> <a id="u:154" class="idref" href="#u:154"><span class="id" title="binder">u</span></a> <a id="args:155" class="idref" href="#args:155"><span class="id" title="binder">args</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:156" class="idref" href="#P:156"><span class="id" title="binder">P</span></a> <a id="865702c63590ceb5264a037d192ae87e" class="idref" href="#865702c63590ceb5264a037d192ae87e"><span class="id" title="binder">Δ</span></a> <a id="f:158" class="idref" href="#f:158"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICRenameDef.html#urenaming"><span class="id" title="definition">urenaming</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:156"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#646e4bc5bf1c33aade7489a0a12cfdca"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#865702c63590ceb5264a037d192ae87e"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:158"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:156"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#646e4bc5bf1c33aade7489a0a12cfdca"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:156"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:153"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#ca348d92561cf71fc699f5384c9195aa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#e5e2c8b58d59263dd3ef7fdd28f1a2d0"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#865702c63590ceb5264a037d192ae87e"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#e5e2c8b58d59263dd3ef7fdd28f1a2d0"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:158"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:153"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#e5e2c8b58d59263dd3ef7fdd28f1a2d0"><span class="id" title="notation">▹{</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#ind:152"><span class="id" title="variable">ind</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#e5e2c8b58d59263dd3ef7fdd28f1a2d0"><span class="id" title="notation">}</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#e5e2c8b58d59263dd3ef7fdd28f1a2d0"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#u:154"><span class="id" title="variable">u</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#e5e2c8b58d59263dd3ef7fdd28f1a2d0"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:158"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#args:155"><span class="id" title="variable">args</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#e5e2c8b58d59263dd3ef7fdd28f1a2d0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Let</span> <a id="BDRenaming.Pcheck" class="idref" href="#BDRenaming.Pcheck"><span class="id" title="variable">Pcheck</span></a> <a id="00fa08a48618f45bbe35fe42185c5c1e" class="idref" href="#00fa08a48618f45bbe35fe42185c5c1e"><span class="id" title="binder">Γ</span></a> <a id="t:160" class="idref" href="#t:160"><span class="id" title="binder">t</span></a> <a id="T:161" class="idref" href="#T:161"><span class="id" title="binder">T</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:162" class="idref" href="#P:162"><span class="id" title="binder">P</span></a> <a id="df741f1932b64d046f79345362bbbe0f" class="idref" href="#df741f1932b64d046f79345362bbbe0f"><span class="id" title="binder">Δ</span></a> <a id="f:164" class="idref" href="#f:164"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICRenameDef.html#urenaming"><span class="id" title="definition">urenaming</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:162"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#00fa08a48618f45bbe35fe42185c5c1e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#df741f1932b64d046f79345362bbbe0f"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:164"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:162"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#00fa08a48618f45bbe35fe42185c5c1e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:162"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:160"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:162"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T:161"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#ca348d92561cf71fc699f5384c9195aa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#2156277975d910c7729e1eb34893c780"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#df741f1932b64d046f79345362bbbe0f"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#2156277975d910c7729e1eb34893c780"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:164"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:160"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#2156277975d910c7729e1eb34893c780"><span class="id" title="notation">◃</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:164"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T:161"><span class="id" title="variable">T</span></a>.<br/>

<br/>
<span class="id" title="keyword">Let</span> <a id="BDRenaming.Pj" class="idref" href="#BDRenaming.Pj"><span class="id" title="variable">Pj</span></a> <a id="a52908bb5f2e5bdad21b63fa91512fb7" class="idref" href="#a52908bb5f2e5bdad21b63fa91512fb7"><span class="id" title="binder">Γ</span></a> <a id="j:166" class="idref" href="#j:166"><span class="id" title="binder">j</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:167" class="idref" href="#P:167"><span class="id" title="binder">P</span></a> <a id="298d15191315d12fd2f332d52f62104c" class="idref" href="#298d15191315d12fd2f332d52f62104c"><span class="id" title="binder">Δ</span></a> <a id="f:169" class="idref" href="#f:169"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICRenameDef.html#urenaming"><span class="id" title="definition">urenaming</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:167"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#a52908bb5f2e5bdad21b63fa91512fb7"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#298d15191315d12fd2f332d52f62104c"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:169"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:167"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#a52908bb5f2e5bdad21b63fa91512fb7"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_sorting"><span class="id" title="definition">lift_sorting</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="t:170" class="idref" href="#t:170"><span class="id" title="binder">t</span></a> <a id="T:171" class="idref" href="#T:171"><span class="id" title="binder">T</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:167"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:170"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:167"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T:171"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#ca348d92561cf71fc699f5384c9195aa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#2156277975d910c7729e1eb34893c780"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#298d15191315d12fd2f332d52f62104c"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#2156277975d910c7729e1eb34893c780"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:169"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:170"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#2156277975d910c7729e1eb34893c780"><span class="id" title="notation">◃</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:169"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T:171"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="T:172" class="idref" href="#T:172"><span class="id" title="binder">T</span></a> <a id="u:173" class="idref" href="#u:173"><span class="id" title="binder">u</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:167"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T:172"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#ca348d92561cf71fc699f5384c9195aa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#707f18806b9c6c5459796f0e7eb6c13a"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#298d15191315d12fd2f332d52f62104c"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#707f18806b9c6c5459796f0e7eb6c13a"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:169"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T:172"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#707f18806b9c6c5459796f0e7eb6c13a"><span class="id" title="notation">▹□</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#u:173"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#j:166"><span class="id" title="variable">j</span></a>.<br/>

<br/>
<span class="id" title="keyword">Let</span> <a id="744e85c55966d46d1ddc6c70bb9d8ea8" class="idref" href="#744e85c55966d46d1ddc6c70bb9d8ea8"><span class="id" title="variable">PΓ</span></a> := <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#All_local_env"><span class="id" title="inductive">All_local_env</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#BDRenaming.Pj"><span class="id" title="variable">Pj</span></a>.<br/>

<br/>
<span class="id" title="keyword">Let</span> <a id="aade1b071a25d0752a781653daf8176e" class="idref" href="#aade1b071a25d0752a781653daf8176e"><span class="id" title="variable">PΓ_rel</span></a> <a id="f725d127ca1df4e98ec9c182d8b10016" class="idref" href="#f725d127ca1df4e98ec9c182d8b10016"><span class="id" title="binder">Γ</span></a> <a id="3c4a2dbda2b172eb4413f970f2d43905" class="idref" href="#3c4a2dbda2b172eb4413f970f2d43905"><span class="id" title="binder">Γ'</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:176" class="idref" href="#P:176"><span class="id" title="binder">P</span></a> <a id="96ab57af289a116c61607735b6c1bce0" class="idref" href="#96ab57af289a116c61607735b6c1bce0"><span class="id" title="binder">Δ</span></a> <a id="f:178" class="idref" href="#f:178"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICRenameDef.html#urenaming"><span class="id" title="definition">urenaming</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:176"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f725d127ca1df4e98ec9c182d8b10016"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#96ab57af289a116c61607735b6c1bce0"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:178"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:176"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f725d127ca1df4e98ec9c182d8b10016"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:176"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#3c4a2dbda2b172eb4413f970f2d43905"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#:::'wf_local_bd_rel'_x_x_x"><span class="id" title="notation">wf_local_bd_rel</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#ca348d92561cf71fc699f5384c9195aa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#96ab57af289a116c61607735b6c1bce0"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#:::'wf_local_bd_rel'_x_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename_context"><span class="id" title="definition">rename_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:178"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#3c4a2dbda2b172eb4413f970f2d43905"><span class="id" title="variable">Γ'</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#:::'wf_local_bd_rel'_x_x_x"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rename_telescope" class="idref" href="#rename_telescope"><span class="id" title="lemma">rename_telescope</span></a> <a id="P:179" class="idref" href="#P:179"><span class="id" title="binder">P</span></a> <a id="f:180" class="idref" href="#f:180"><span class="id" title="binder">f</span></a> <a id="bec8080d891bb4c9bb44cd1cc5bbd275" class="idref" href="#bec8080d891bb4c9bb44cd1cc5bbd275"><span class="id" title="binder">Γ</span></a> <a id="e7e3bd9ae25c58ea3389e3988bf4faa7" class="idref" href="#e7e3bd9ae25c58ea3389e3988bf4faa7"><span class="id" title="binder">Δ</span></a> <a id="tel:183" class="idref" href="#tel:183"><span class="id" title="binder">tel</span></a> <a id="tys:184" class="idref" href="#tys:184"><span class="id" title="binder">tys</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICRenameDef.html#urenaming"><span class="id" title="definition">urenaming</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:179"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#bec8080d891bb4c9bb44cd1cc5bbd275"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#e7e3bd9ae25c58ea3389e3988bf4faa7"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:180"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:179"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#bec8080d891bb4c9bb44cd1cc5bbd275"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:179"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#tys:184"><span class="id" title="variable">tys</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:179"><span class="id" title="variable">P</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#tel:183"><span class="id" title="variable">tel</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#ctx_inst"><span class="id" title="inductive">PCUICTyping.ctx_inst</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#BDRenaming.Pcheck"><span class="id" title="variable">Pcheck</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#bec8080d891bb4c9bb44cd1cc5bbd275"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#tys:184"><span class="id" title="variable">tys</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#tel:183"><span class="id" title="variable">tel</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#ctx_inst"><span class="id" title="inductive">PCUICTyping.ctx_inst</span></a> (<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#checking"><span class="id" title="inductive">checking</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#ca348d92561cf71fc699f5384c9195aa"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#e7e3bd9ae25c58ea3389e3988bf4faa7"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:180"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#tys:184"><span class="id" title="variable">tys</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename_telescope"><span class="id" title="definition">rename_telescope</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:180"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#tel:183"><span class="id" title="variable">tel</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ur</span> <span class="id" title="var">hΓ</span> <span class="id" title="var">htys</span> <span class="id" title="var">htel</span> <span class="id" title="var">ins</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ins</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Δ</span>, <span class="id" title="var">ur</span>, <span class="id" title="var">hΓ</span>, <span class="id" title="var">htys</span>, <span class="id" title="var">htel</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICRenameTyp.html#rename_telescope_cons"><span class="id" title="lemma">rename_telescope_cons</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">htys</span> ⇒ /= /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_app"><span class="id" title="lemma">on_free_vars_ctx_app</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#on_free_vars_ctx_tip"><span class="id" title="lemma">on_free_vars_ctx_tip</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">htel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : <span class="id" title="var">htel</span> ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.PCUIC.Typing.PCUICRenameTyp.html#rename_subst_telescope"><span class="id" title="lemma">rename_subst_telescope</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHins</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#subst_context_subst_telescope"><span class="id" title="lemma">subst_context_subst_telescope</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_subst_context0"><span class="id" title="lemma">on_free_vars_ctx_subst_context0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICRenameTyp.html#rename_telescope_cons"><span class="id" title="lemma">rename_telescope_cons</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_app"><span class="id" title="lemma">on_free_vars_ctx_app</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#on_free_vars_ctx_tip"><span class="id" title="lemma">on_free_vars_ctx_tip</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">htel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : <span class="id" title="var">htel</span> ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] /= ? ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.PCUIC.Typing.PCUICRenameTyp.html#rename_subst_telescope"><span class="id" title="lemma">rename_subst_telescope</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHins</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#subst_context_subst_telescope"><span class="id" title="lemma">subst_context_subst_telescope</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_subst_context0"><span class="id" title="lemma">on_free_vars_ctx_subst_context0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="bidirectional_renaming" class="idref" href="#bidirectional_renaming"><span class="id" title="lemma">bidirectional_renaming</span></a> : <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#env_prop_bd"><span class="id" title="definition">env_prop_bd</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#ca348d92561cf71fc699f5384c9195aa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#BDRenaming.Pcheck"><span class="id" title="variable">Pcheck</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#BDRenaming.Pinfer"><span class="id" title="variable">Pinfer</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#BDRenaming.Psort"><span class="id" title="variable">Psort</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#BDRenaming.Pprod"><span class="id" title="variable">Pprod</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#BDRenaming.Pind"><span class="id" title="variable">Pind</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#BDRenaming.Pj"><span class="id" title="variable">Pj</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#744e85c55966d46d1ddc6c70bb9d8ea8"><span class="id" title="variable">PΓ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#aade1b071a25d0752a781653daf8176e"><span class="id" title="variable">PΓ_rel</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#bidir_ind_env"><span class="id" title="lemma">bidir_ind_env</span></a>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span> <span class="id" title="var">P</span> <span class="id" title="var">Δ</span> <span class="id" title="var">f</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_sorting_impl"><span class="id" title="lemma">lift_sorting_impl</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">Hj</span>) ⇒ //; <span class="id" title="tactic">intros</span> ?? [<span class="id" title="var">Ht</span> <span class="id" title="var">IHt</span>] **.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hΓ</span>. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#All_local_env_impl"><span class="id" title="lemma">All_local_env_impl</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">hΓ</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">Γ</span> <span class="id" title="var">hΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span> <span class="id" title="var">P</span> <span class="id" title="var">Δ</span> <span class="id" title="var">f</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_sorting_impl"><span class="id" title="lemma">lift_sorting_impl</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">Hj</span>) ⇒ //; <span class="id" title="tactic">intros</span> ?? <span class="id" title="var">IHt</span> **.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HΓ</span> <span class="id" title="var">P</span> <span class="id" title="var">Δ</span> <span class="id" title="var">f</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span> <span class="id" title="var">hΓ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#All_local_env_fold"><span class="id" title="lemma">All_local_env_fold</span></a>. <span class="id" title="tactic">change</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">Γ</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename_context"><span class="id" title="definition">rename_context</span></a> <span class="id" title="var">f</span> <span class="id" title="var">Γ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">HΓ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hΓ'</span> |- × <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#All_local_rel_ind1"><span class="id" title="definition">All_local_rel_ind1</span></a>. 1: <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_snoc"><span class="id" title="lemma">on_free_vars_ctx_snoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hΓ'</span>. <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">hΓ'</span> ⇒ [<span class="id" title="var">hΓ'</span>] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [<span class="id" title="var">onb</span> <span class="id" title="var">ont</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#All_local_env_snoc"><span class="id" title="definition">All_local_env_snoc</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#urenaming_context"><span class="id" title="lemma">urenaming_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hf</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_sorting_f_it_impl"><span class="id" title="lemma">lift_sorting_f_it_impl</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">X</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> ⇒ //; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">onb</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intros</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_concat"><span class="id" title="lemma">on_ctx_free_vars_concat</span></a> <span class="id" title="var">hΓ</span> /= <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_on_ctx_free_vars"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars</span></a> //.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">n</span> <span class="id" title="var">decl</span> <span class="id" title="var">isdecl</span> <span class="id" title="var">P</span> <span class="id" title="var">Δ</span> <span class="id" title="var">f</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span> <span class="id" title="var">ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">hf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isdecl</span> <span class="id" title="keyword">as</span> <span class="id" title="var">h</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">decl'</span> [<span class="id" title="var">isdecl'</span> [? [<span class="id" title="var">h1</span> <span class="id" title="var">h2</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#lift0_rename"><span class="id" title="lemma">lift0_rename</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_compose"><span class="id" title="lemma">rename_compose</span></a> <span class="id" title="var">h1</span> -<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#lift0_rename"><span class="id" title="lemma">lift0_rename</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">P</span> <span class="id" title="var">Δ</span> <span class="id" title="var">f</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span> /= /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">X0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_sorting_f_it_impl"><span class="id" title="lemma">lift_sorting_f_it_impl</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">X0</span> ⇒ //= <span class="id" title="var">IH</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">X2</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#urenaming_vass"><span class="id" title="lemma">urenaming_vass</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_snoc"><span class="id" title="lemma">on_ctx_free_vars_snoc</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ; <span class="id" title="tactic">split</span> ; <span class="id" title="var">tea</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">P</span> <span class="id" title="var">Δ</span> <span class="id" title="var">f</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span> /= /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">X0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_sorting_f_it_impl"><span class="id" title="lemma">lift_sorting_f_it_impl</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">X0</span> ⇒ //= <span class="id" title="var">IH</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">X2</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#urenaming_vass"><span class="id" title="lemma">urenaming_vass</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_snoc"><span class="id" title="lemma">on_ctx_free_vars_snoc</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ; <span class="id" title="tactic">split</span> ; <span class="id" title="var">tea</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">P</span> <span class="id" title="var">Δ</span> <span class="id" title="var">f</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span> /= /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] ? /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">X0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_sorting_f_it_impl"><span class="id" title="lemma">lift_sorting_f_it_impl</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">X0</span> ⇒ //= <span class="id" title="var">IH</span>. <span class="id" title="var">all</span>: <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">X2</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#urenaming_vdef"><span class="id" title="lemma">urenaming_vdef</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_snoc"><span class="id" title="lemma">on_ctx_free_vars_snoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ; <span class="id" title="tactic">split</span> ; <span class="id" title="var">tea</span>).<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">P</span> <span class="id" title="var">Δ</span> <span class="id" title="var">f</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span> /= /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_subst0"><span class="id" title="lemma">rename_subst0</span></a> ; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">X2</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#infering_prod_on_free_vars"><span class="id" title="lemma">infering_prod_on_free_vars</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;4: <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">assumption</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">P</span> <span class="id" title="var">Δ</span> <span class="id" title="var">f</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span> /= <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_subst_instance"><span class="id" title="lemma">rename_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_closed"><span class="id" title="lemma">rename_closed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#declared_constant_closed_type"><span class="id" title="lemma">declared_constant_closed_type</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span> ; <span class="id" title="var">tea</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">P</span> <span class="id" title="var">Δ</span> <span class="id" title="var">f</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span> /= <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_subst_instance"><span class="id" title="lemma">rename_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_closed"><span class="id" title="lemma">rename_closed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#declared_inductive_closed_type"><span class="id" title="lemma">declared_inductive_closed_type</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span> ; <span class="id" title="var">tea</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">P</span> <span class="id" title="var">Δ</span> <span class="id" title="var">f</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span> /= <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_closed"><span class="id" title="lemma">rename_closed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#declared_constructor_closed_type"><span class="id" title="lemma">declared_constructor_closed_type</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span> ; <span class="id" title="var">tea</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">P</span> <span class="id" title="var">Δ</span> <span class="id" title="var">f</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span> /= /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] <span class="id" title="var">on_pars</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] ? /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] ? /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] ? /<a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a> <span class="id" title="var">on_brs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_mkApps"><span class="id" title="lemma">rename_mkApps</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_it_mkLambda_or_LetIn"><span class="id" title="lemma">rename_it_mkLambda_or_LetIn</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#map_skipn"><span class="id" title="lemma">map_skipn</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICRenameTyp.html#rename_case_predicate_context"><span class="id" title="lemma">rename_case_predicate_context</span></a> // <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_predicate_context_length"><span class="id" title="lemma">case_predicate_context_length</span></a> // <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICRenameTyp.html#rename_predicate_preturn"><span class="id" title="lemma">rename_predicate_preturn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">X2</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.Typing.PCUICRenameTyp.html#rename_case_predicate_context"><span class="id" title="lemma">rename_case_predicate_context</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_predicate_context_length"><span class="id" title="lemma">case_predicate_context_length</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#urenaming_context"><span class="id" title="lemma">urenaming_context</span></a> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_predicate_context_length"><span class="id" title="lemma">case_predicate_context_length</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">predctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_concat"><span class="id" title="lemma">on_ctx_free_vars_concat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ; <span class="id" title="tactic">split</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_on_ctx_free_vars"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#on_free_vars_case_predicate_context"><span class="id" title="lemma">on_free_vars_case_predicate_context</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_wf_predicate"><span class="id" title="lemma">rename_wf_predicate</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.Typing.PCUICRenameTyp.html#rename_case_predicate_context"><span class="id" title="lemma">rename_case_predicate_context</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">X5</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#on_free_vars_case_predicate_context"><span class="id" title="lemma">on_free_vars_case_predicate_context</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -[<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>](<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_closedn_ctx"><span class="id" title="lemma">rename_closedn_ctx</span></a> <span class="id" title="var">f</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#declared_inductive_closed_params"><span class="id" title="lemma">declared_inductive_closed_params</span></a> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance_context"><span class="id" title="lemma">closedn_subst_instance_context</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_context_telescope"><span class="id" title="lemma">rename_context_telescope</span></a> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICRenameTyp.html#rename_telescope_shiftn0"><span class="id" title="lemma">rename_telescope_shiftn0</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#rename_telescope"><span class="id" title="lemma">rename_telescope</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev_involutive"><span class="id" title="lemma">rev_involutive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_subst_instance"><span class="id" title="lemma">on_free_vars_ctx_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closed_ctx_on_free_vars"><span class="id" title="lemma">closed_ctx_on_free_vars</span></a>, <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#declared_inductive_closed_params"><span class="id" title="lemma">declared_inductive_closed_params</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="MetaRocq.Utils.MRList.html#firstn_map"><span class="id" title="lemma">firstn_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#bidirectional_on_free_vars"><span class="id" title="lemma">bidirectional_on_free_vars</span></a>, (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All_firstn"><span class="id" title="lemma">All_firstn</span></a> (<span class="id" title="var">n</span> := <span class="id" title="var">ci</span>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#ci_npar"><span class="id" title="projection">ci_npar</span></a>))) <span class="id" title="tactic">in</span> <span class="id" title="var">X</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#conv_renameP"><span class="id" title="lemma">conv_renameP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_wf_branches"><span class="id" title="lemma">rename_wf_branches</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2i_All2_mix_left"><span class="id" title="lemma">All2i_All2_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X9</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2i_All_mix_right"><span class="id" title="lemma">All2i_All_mix_right</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X9</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2i_nth_hyp"><span class="id" title="lemma">All2i_nth_hyp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2i_map_right"><span class="id" title="lemma">All2i_map_right</span></a>, (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2i_impl"><span class="id" title="lemma">All2i_impl</span></a> <span class="id" title="var">X9</span>) ⇒ <span class="id" title="var">i</span> <span class="id" title="var">cdecl</span> <span class="id" title="var">br</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">brctxty</span> := <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_type"><span class="id" title="definition">case_branch_type</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [<span class="id" title="var">Hnth</span> [ [<span class="id" title="var">wfbr</span> [<span class="id" title="var">eqbctx</span> [<span class="id" title="var">wfbctx</span> [<span class="id" title="var">IHbctx</span> [<span class="id" title="var">Hbod</span> <span class="id" title="var">IHbod</span>]]]]] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [<span class="id" title="var">on_ctx</span> <span class="id" title="var">on_bod</span>] ]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#test_context_k_closed_on_free_vars_ctx"><span class="id" title="lemma">test_context_k_closed_on_free_vars_ctx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">on_ctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_closed_constructor_body"><span class="id" title="lemma">rename_closed_constructor_body</span></a> <span class="id" title="var">mdecl</span> <span class="id" title="var">cdecl</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#declared_constructor_closed"><span class="id" title="lemma">declared_constructor_closed</span></a> (<span class="id" title="var">c</span>:=<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ci</span>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#ci_ind"><span class="id" title="projection">ci_ind</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">i</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_cstr_branch_context"><span class="id" title="lemma">rename_cstr_branch_context</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#declared_inductive_closed_params"><span class="id" title="lemma">declared_inductive_closed_params</span></a> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_closedn_ctx"><span class="id" title="lemma">rename_closedn_ctx</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#closed_cstr_branch_context"><span class="id" title="lemma">closed_cstr_branch_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_type"><span class="id" title="definition">case_branch_type</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_type_fst"><span class="id" title="lemma">case_branch_type_fst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_case_branch_context_gen"><span class="id" title="lemma">rename_case_branch_context_gen</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2-3:<span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id" title="tactic">exact</span> (<a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#declared_inductive_closed_params"><span class="id" title="lemma">declared_inductive_closed_params</span></a> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_branch_length"><span class="id" title="lemma">wf_branch_length</span></a> <span class="id" title="var">wfbr</span>) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_predicate_length_pars"><span class="id" title="lemma">wf_predicate_length_pars</span></a> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.PCUIC.PCUICGlobalEnv.html#declared_minductive_ind_npars"><span class="id" title="lemma">declared_minductive_ind_npars</span></a> ; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <span class="id" title="var">P</span> <span class="id" title="var">brctxty</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_type_fst"><span class="id" title="lemma">case_branch_type_fst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (@<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#on_free_vars_case_branch_context"><span class="id" title="lemma">on_free_vars_case_branch_context</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ci</span>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#ci_ind"><span class="id" title="projection">ci_ind</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">i</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">brctx'</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename_context"><span class="id" title="definition">rename_context</span></a> <span class="id" title="var">f</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHbctx</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICRenameTyp.html#rename_case_branch_type"><span class="id" title="lemma">rename_case_branch_type</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHbod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_type_fst"><span class="id" title="lemma">case_branch_type_fst</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">relativize</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <span class="id" title="var">br</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> ; [<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#urenaming_context"><span class="id" title="lemma">urenaming_context</span></a>|] ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_context_length"><span class="id" title="lemma">case_branch_context_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_type_length"><span class="id" title="lemma">case_branch_type_length</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_branch_length"><span class="id" title="lemma">wf_branch_length</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">relativize</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <span class="id" title="var">br</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_concat"><span class="id" title="lemma">on_ctx_free_vars_concat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_type_length"><span class="id" title="lemma">case_branch_type_length</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_branch_length"><span class="id" title="lemma">wf_branch_length</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ; <span class="id" title="tactic">split</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_on_ctx_free_vars"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_type_length"><span class="id" title="lemma">case_branch_type_length</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_branch_length"><span class="id" title="lemma">wf_branch_length</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_type_length"><span class="id" title="lemma">case_branch_type_length</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_branch_length"><span class="id" title="lemma">wf_branch_length</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#on_free_vars_case_branch_type"><span class="id" title="lemma">on_free_vars_case_branch_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">assumption</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">P</span> <span class="id" title="var">Δ</span> <span class="id" title="var">f</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span> /= ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_subst0"><span class="id" title="lemma">rename_subst0</span></a> /= <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_subst_instance"><span class="id" title="lemma">rename_subst_instance</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_rev"><span class="id" title="lemma">List.length_rev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_closedn"><span class="id" title="lemma">rename_closedn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> ; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#declared_projection_closed_type"><span class="id" title="lemma">declared_projection_closed_type</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">P</span> <span class="id" title="var">Δ</span> <span class="id" title="var">f</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span> /= /<a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a> <span class="id" title="var">ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#map_dtype"><span class="id" title="lemma">map_dtype</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICGuardCondition.html#fix_guard_rename"><span class="id" title="definition">fix_guard_rename</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">H0</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_mix"><span class="id" title="lemma">All_mix</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">ht</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">X0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">d</span> [] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] <span class="id" title="var">hT</span> <span class="id" title="var">hb</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">p</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_sorting_it_impl_gen"><span class="id" title="lemma">lift_sorting_it_impl_gen</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">p</span> ⇒ // <span class="id" title="var">IHp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_mix"><span class="id" title="lemma">All_mix</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">ht</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">X2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">d</span> [] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] <span class="id" title="var">hT</span> <span class="id" title="var">hb</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#on_def_body"><span class="id" title="definition">on_def_body</span></a> !<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_fix_context"><span class="id" title="lemma">rename_fix_context</span></a> !<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename_context_length"><span class="id" title="lemma">rename_context_length</span></a> -!(<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#fix_context_length"><span class="id" title="lemma">fix_context_length</span></a> <span class="id" title="var">mfix</span>) -!<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename_shiftn"><span class="id" title="lemma">rename_shiftn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hb</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#urenaming_context"><span class="id" title="lemma">urenaming_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hf</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_fix_context"><span class="id" title="lemma">on_ctx_free_vars_fix_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hΓ</span>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#fix_context_length"><span class="id" title="lemma">fix_context_length</span></a> <span class="id" title="var">mfix</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">hΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">p</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP0"><span class="id" title="lemma">shiftnP0</span></a> <span class="id" title="var">P</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">hT</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_lift_impl"><span class="id" title="lemma">on_free_vars_lift_impl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hT</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_sorting_f_it_impl"><span class="id" title="lemma">lift_sorting_f_it_impl</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">p</span> ⇒ //= <span class="id" title="var">IHp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICRenameTyp.html#rename_wf_fixpoint"><span class="id" title="lemma">rename_wf_fixpoint</span></a>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">P</span> <span class="id" title="var">Δ</span> <span class="id" title="var">f</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span> /= /<a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a> <span class="id" title="var">ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#map_dtype"><span class="id" title="lemma">map_dtype</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICGuardCondition.html#cofix_guard_rename"><span class="id" title="definition">cofix_guard_rename</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">H0</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_mix"><span class="id" title="lemma">All_mix</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">ht</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">X0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">d</span> [] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] <span class="id" title="var">hT</span> <span class="id" title="var">hb</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">p</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_sorting_it_impl_gen"><span class="id" title="lemma">lift_sorting_it_impl_gen</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">p</span> ⇒ // <span class="id" title="var">IHp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_mix"><span class="id" title="lemma">All_mix</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">ht</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">X2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">d</span> [] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] <span class="id" title="var">hT</span> <span class="id" title="var">hb</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#on_def_body"><span class="id" title="definition">on_def_body</span></a> !<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_fix_context"><span class="id" title="lemma">rename_fix_context</span></a> !<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename_context_length"><span class="id" title="lemma">rename_context_length</span></a> -!(<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#fix_context_length"><span class="id" title="lemma">fix_context_length</span></a> <span class="id" title="var">mfix</span>) -!<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename_shiftn"><span class="id" title="lemma">rename_shiftn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hb</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#urenaming_context"><span class="id" title="lemma">urenaming_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hf</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_fix_context"><span class="id" title="lemma">on_ctx_free_vars_fix_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hΓ</span>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#fix_context_length"><span class="id" title="lemma">fix_context_length</span></a> <span class="id" title="var">mfix</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">hΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">p</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP0"><span class="id" title="lemma">shiftnP0</span></a> <span class="id" title="var">P</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">hT</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_lift_impl"><span class="id" title="lemma">on_free_vars_lift_impl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hT</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_sorting_f_it_impl"><span class="id" title="lemma">lift_sorting_f_it_impl</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">p</span> ⇒ //= <span class="id" title="var">IHp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp</span> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICRenameTyp.html#rename_wf_cofixpoint"><span class="id" title="lemma">rename_wf_cofixpoint</span></a>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Δ</span> <span class="id" title="var">f</span> <span class="id" title="var">hf</span> <span class="id" title="var">ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICRenameTyp.html#rename_prim_type"><span class="id" title="lemma">rename_prim_type</span></a>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#prim_val_tag_map"><span class="id" title="lemma">prim_val_tag_map</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X0</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <span class="id" title="var">hty</span>; <span class="id" title="var">tea</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <span class="id" title="var">hdef</span>; <span class="id" title="var">tea</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">solve_all</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Δ</span> <span class="id" title="var">f</span> <span class="id" title="var">hf</span> <span class="id" title="var">ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <span class="id" title="var">f</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <span class="id" title="var">u</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#red_rename"><span class="id" title="lemma">red_rename</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#infering_on_free_vars"><span class="id" title="lemma">infering_on_free_vars</span></a>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Δ</span> <span class="id" title="var">f</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span> <span class="id" title="var">ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <span class="id" title="var">f</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">na</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#red_rename"><span class="id" title="lemma">red_rename</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#infering_on_free_vars"><span class="id" title="lemma">infering_on_free_vars</span></a>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Δ</span> <span class="id" title="var">f</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span> <span class="id" title="var">ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <span class="id" title="var">f</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">ui</span>)) -<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_mkApps"><span class="id" title="lemma">rename_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#red_rename"><span class="id" title="lemma">red_rename</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#infering_on_free_vars"><span class="id" title="lemma">infering_on_free_vars</span></a>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Δ</span> <span class="id" title="var">f</span> <span class="id" title="var">hf</span> <span class="id" title="var">hΓ</span> <span class="id" title="var">ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#cumul_renameP"><span class="id" title="lemma">cumul_renameP</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#infering_on_free_vars"><span class="id" title="lemma">infering_on_free_vars</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;4: <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">assumption</span>.<br/>

<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#BDRenaming"><span class="id" title="section">BDRenaming</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closedn_ctx_lift_inv" class="idref" href="#closedn_ctx_lift_inv"><span class="id" title="lemma">closedn_ctx_lift_inv</span></a> <a id="n:185" class="idref" href="#n:185"><span class="id" title="binder">n</span></a> <a id="k:186" class="idref" href="#k:186"><span class="id" title="binder">k</span></a> <a id="k':187" class="idref" href="#k':187"><span class="id" title="binder">k'</span></a> <a id="483c47e7100adec85d58e3dde43d0c71" class="idref" href="#483c47e7100adec85d58e3dde43d0c71"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k:186"><span class="id" title="variable">k</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k':187"><span class="id" title="variable">k'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#closedn_ctx"><span class="id" title="abbreviation">closedn_ctx</span></a> (<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k':187"><span class="id" title="variable">k'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#n:185"><span class="id" title="variable">n</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#n:185"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k:186"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#483c47e7100adec85d58e3dde43d0c71"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#closedn_ctx"><span class="id" title="abbreviation">closedn_ctx</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#k':187"><span class="id" title="variable">k'</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#483c47e7100adec85d58e3dde43d0c71"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">le</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">d</span> ?]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#lift_context_snoc"><span class="id" title="lemma">lift_context_snoc</span></a> !<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_ctx_cons"><span class="id" title="lemma">closedn_ctx_cons</span></a> /=;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>⇒ [<span class="id" title="var">clΓ</span> <span class="id" title="var">cld</span>]; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span> //;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cld</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">cld</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">k'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">k'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span>) <span class="id" title="tactic">in</span> × <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>⇒ [<span class="id" title="var">clb</span> <span class="id" title="var">clt</span>]; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> <span class="id" title="var">d</span>) ⇒ /= //. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">clb</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_lift_inv"><span class="id" title="lemma">closedn_lift_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">clb</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_lift_inv"><span class="id" title="lemma">closedn_lift_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">clt</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="urenaming_strengthen" class="idref" href="#urenaming_strengthen"><span class="id" title="lemma">urenaming_strengthen</span></a> <a id="P:189" class="idref" href="#P:189"><span class="id" title="binder">P</span></a> <a id="b838c91eeed7d5415552bab7722f140b" class="idref" href="#b838c91eeed7d5415552bab7722f140b"><span class="id" title="binder">Γ</span></a> <a id="483d02a9f2396024ade1c7d186d734f1" class="idref" href="#483d02a9f2396024ade1c7d186d734f1"><span class="id" title="binder">Γ'</span></a> <a id="a02c49958c46fe1a84c331f92d899b37" class="idref" href="#a02c49958c46fe1a84c331f92d899b37"><span class="id" title="binder">Γ''</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICRenameDef.html#urenaming"><span class="id" title="definition">urenaming</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#a02c49958c46fe1a84c331f92d899b37"><span class="id" title="variable">Γ''</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#483d02a9f2396024ade1c7d186d734f1"><span class="id" title="variable">Γ'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:189"><span class="id" title="variable">P</span></a>) (<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#b838c91eeed7d5415552bab7722f140b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#483d02a9f2396024ade1c7d186d734f1"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#483d02a9f2396024ade1c7d186d734f1"><span class="id" title="variable">Γ'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> 0 <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#a02c49958c46fe1a84c331f92d899b37"><span class="id" title="variable">Γ''</span></a>) (<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#b838c91eeed7d5415552bab7722f140b"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#a02c49958c46fe1a84c331f92d899b37"><span class="id" title="variable">Γ''</span></a>) (<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#unlift_renaming"><span class="id" title="definition">unlift_renaming</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#483d02a9f2396024ade1c7d186d734f1"><span class="id" title="variable">Γ'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#a02c49958c46fe1a84c331f92d899b37"><span class="id" title="variable">Γ''</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICWeakeningConv.html#rename_context_lift_context"><span class="id" title="lemma">rename_context_lift_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">decl'</span> <span class="id" title="var">pi</span> <span class="id" title="var">nthi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">pi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_spec0"><span class="id" title="lemma">Nat.ltb_spec0</span></a> <span class="id" title="var">i</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ''</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">iΓ''</span>|<span class="id" title="var">iΓ''</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#nth_error_app_context_lt"><span class="id" title="lemma">nth_error_app_context_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">nthi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k_length"><span class="id" title="lemma">fold_context_k_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICRenameTyp.html#nth_error_rename_context"><span class="id" title="lemma">nth_error_rename_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">nthi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MROption.html#option_map_Some"><span class="id" title="lemma">option_map_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">nthi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">decl''</span> []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> ; <span class="id" title="tactic">split</span> ; [<span class="id" title="tactic">idtac</span>|<span class="id" title="tactic">split</span> ; [<span class="id" title="tactic">idtac</span>|<span class="id" title="tactic">split</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#unlift_renaming"><span class="id" title="definition">unlift_renaming</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">iΓ''</span>) ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_spec0"><span class="id" title="lemma">Nat.ltb_spec0</span></a> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#nth_error_app_context_lt"><span class="id" title="lemma">nth_error_app_context_lt</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_compose"><span class="id" title="lemma">rename_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename_proper"><span class="id" title="instance">rename_proper</span></a> ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#rshiftk_S"><span class="id" title="lemma">rshiftk_S</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#lift_renaming_spec"><span class="id" title="lemma">lift_renaming_spec</span></a> -(<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#shiftn_rshiftk"><span class="id" title="lemma">shiftn_rshiftk</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) !<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#shiftn_add"><span class="id" title="lemma">shiftn_add</span></a> -<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#lift_renaming_spec"><span class="id" title="lemma">lift_renaming_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.sub_add"><span class="id" title="lemma">Nat.sub_add</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#lift_unlift"><span class="id" title="lemma">lift_unlift</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) /<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#ren_id"><span class="id" title="definition">ren_id</span></a> /<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#unlift_renaming"><span class="id" title="definition">unlift_renaming</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: (<span class="id" title="var">iΓ''</span>) ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_spec0"><span class="id" title="lemma">Nat.ltb_spec0</span></a> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> ; <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> <span class="id" title="var">decl''</span>) ; <span class="id" title="tactic">rewrite</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#rename_compose"><span class="id" title="lemma">rename_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename_proper"><span class="id" title="instance">rename_proper</span></a> ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="var">i</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">_</span>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rshiftk"><span class="id" title="definition">rshiftk</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">i</span>) (<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ''</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">i</span>) (<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#lift_renaming"><span class="id" title="definition">lift_renaming</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ'</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> 0) <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#shiftn_lift_renaming"><span class="id" title="lemma">shiftn_lift_renaming</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#lift_renaming_spec"><span class="id" title="lemma">lift_renaming_spec</span></a> -(<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#shiftn_rshiftk"><span class="id" title="lemma">shiftn_rshiftk</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#shiftn_add"><span class="id" title="lemma">shiftn_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#lift_renaming_spec"><span class="id" title="lemma">lift_renaming_spec</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.sub_add"><span class="id" title="lemma">Nat.sub_add</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#lift_unlift"><span class="id" title="lemma">lift_unlift</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) /<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#ren_id"><span class="id" title="definition">ren_id</span></a> /<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#unlift_renaming"><span class="id" title="definition">unlift_renaming</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: (<span class="id" title="var">iΓ''</span>) ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_spec0"><span class="id" title="lemma">Nat.ltb_spec0</span></a> →.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">nthi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_spec0"><span class="id" title="lemma">Nat.ltb_spec0</span></a> <span class="id" title="var">i</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ''</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ'</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">iΓ'</span>|<span class="id" title="var">iΓ'</span>] ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> × ; [<span class="id" title="tactic">congruence</span>|..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.nlt_ge"><span class="id" title="lemma">Nat.nlt_ge</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">iΓ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#nth_error_app_context_ge"><span class="id" title="lemma">nth_error_app_context_ge</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_app"><span class="id" title="lemma">length_app</span></a> /= <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename_context_length"><span class="id" title="lemma">rename_context_length</span></a> // <span class="id" title="tactic">in</span> <span class="id" title="var">nthi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> ; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#unlift_renaming"><span class="id" title="definition">unlift_renaming</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_inequalities</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#nth_error_app_context_ge"><span class="id" title="lemma">nth_error_app_context_ge</span></a> ; [<span class="id" title="var">lia</span>|..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">nthi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename_proper"><span class="id" title="instance">rename_proper</span></a> ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#unlift_renaming"><span class="id" title="definition">unlift_renaming</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_inequalities</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_inequalities</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> <span class="id" title="var">decl'</span>) ; <span class="id" title="tactic">rewrite</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename_proper"><span class="id" title="instance">rename_proper</span></a> ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#unlift_renaming"><span class="id" title="definition">unlift_renaming</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_inequalities</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_inequalities</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="typing_renaming_cond_P" class="idref" href="#typing_renaming_cond_P"><span class="id" title="lemma">typing_renaming_cond_P</span></a> `{<a id="H:193" class="idref" href="#H:193"><span class="id" title="binder">checker_flags</span></a>} {<a id="P:194" class="idref" href="#P:194"><span class="id" title="binder">P</span></a> <a id="f:195" class="idref" href="#f:195"><span class="id" title="binder">f</span></a> <a id="0d82cc8b7f207b2b18c7ca2bdebdd1ca" class="idref" href="#0d82cc8b7f207b2b18c7ca2bdebdd1ca"><span class="id" title="binder">Σ</span></a> <a id="233c8f5f4890e0afc448c71b7d21a4cd" class="idref" href="#233c8f5f4890e0afc448c71b7d21a4cd"><span class="id" title="binder">Γ</span></a> <a id="93f6336e81fff8ee2c80caf15acb00a7" class="idref" href="#93f6336e81fff8ee2c80caf15acb00a7"><span class="id" title="binder">Δ</span></a> <a id="t:199" class="idref" href="#t:199"><span class="id" title="binder">t</span></a> <a id="T:200" class="idref" href="#T:200"><span class="id" title="binder">T</span></a>} {<a id="86f04b5c8147d7b4b1c62ffa007516c1" class="idref" href="#86f04b5c8147d7b4b1c62ffa007516c1"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#0d82cc8b7f207b2b18c7ca2bdebdd1ca"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICRenameDef.html#renaming"><span class="id" title="definition">renaming</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:194"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#0d82cc8b7f207b2b18c7ca2bdebdd1ca"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#233c8f5f4890e0afc448c71b7d21a4cd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#93f6336e81fff8ee2c80caf15acb00a7"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:195"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:194"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#233c8f5f4890e0afc448c71b7d21a4cd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:194"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:199"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#0d82cc8b7f207b2b18c7ca2bdebdd1ca"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#233c8f5f4890e0afc448c71b7d21a4cd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:199"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T:200"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="T':202" class="idref" href="#T':202"><span class="id" title="binder">T'</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">[×</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#P:194"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T':202"><span class="id" title="variable">T'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">),</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#0d82cc8b7f207b2b18c7ca2bdebdd1ca"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#233c8f5f4890e0afc448c71b7d21a4cd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:199"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T':202"><span class="id" title="variable">T'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">),</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#0d82cc8b7f207b2b18c7ca2bdebdd1ca"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#233c8f5f4890e0afc448c71b7d21a4cd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T':202"><span class="id" title="variable">T'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T:200"><span class="id" title="variable">T</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#0d82cc8b7f207b2b18c7ca2bdebdd1ca"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#93f6336e81fff8ee2c80caf15acb00a7"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:195"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:199"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#f:195"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T':202"><span class="id" title="variable">T'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">)]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ [<span class="id" title="var">ur</span> <span class="id" title="var">wfΔ</span>] <span class="id" title="var">fvΓ</span> <span class="id" title="var">fvt</span> <span class="id" title="var">tyt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">tyt</span>) ⇒ /<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing_wf_local"><span class="id" title="lemma">typing_wf_local</span></a> <span class="id" title="var">wfΓ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">tyt</span>) ⇒ /<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDFromPCUIC.html#typing_infering"><span class="id" title="lemma">typing_infering</span></a> [<span class="id" title="var">T'</span> [<span class="id" title="var">inf</span> <span class="id" title="var">cum</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#infering_on_free_vars"><span class="id" title="lemma">infering_on_free_vars</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">inf</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">inf'</span> := <span class="id" title="var">inf</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDToPCUIC.html#infering_typing"><span class="id" title="lemma">infering_typing</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">inf</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">T'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ws_cumul_pb_forget_cumul"><span class="id" title="lemma">ws_cumul_pb_forget_cumul</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#bidirectional_renaming"><span class="id" title="lemma">bidirectional_renaming</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">inf'</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDToPCUIC.html#infering_typing"><span class="id" title="lemma">infering_typing</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="strengthening" class="idref" href="#strengthening"><span class="id" title="lemma">strengthening</span></a> `{<a id="cf:203" class="idref" href="#cf:203"><span class="id" title="binder">cf</span></a>: <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="c27827c3cdb017ea2f080dc5adaf2a36" class="idref" href="#c27827c3cdb017ea2f080dc5adaf2a36"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="42633adfb04672f24e22b73e0b66cad1" class="idref" href="#42633adfb04672f24e22b73e0b66cad1"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#c27827c3cdb017ea2f080dc5adaf2a36"><span class="id" title="variable">Σ</span></a>} <a id="2a8cf6d089ac10dd7be69b56b732374d" class="idref" href="#2a8cf6d089ac10dd7be69b56b732374d"><span class="id" title="binder">Γ</span></a> <a id="28798271ebd2a0809fd5e4db029899ba" class="idref" href="#28798271ebd2a0809fd5e4db029899ba"><span class="id" title="binder">Γ'</span></a> <a id="3dab106698a3184f72b09d4b1fff4dad" class="idref" href="#3dab106698a3184f72b09d4b1fff4dad"><span class="id" title="binder">Γ''</span></a> <a id="t:209" class="idref" href="#t:209"><span class="id" title="binder">t</span></a> <a id="T:210" class="idref" href="#T:210"><span class="id" title="binder">T</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#c27827c3cdb017ea2f080dc5adaf2a36"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#2a8cf6d089ac10dd7be69b56b732374d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#28798271ebd2a0809fd5e4db029899ba"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#28798271ebd2a0809fd5e4db029899ba"><span class="id" title="variable">Γ'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> 0 <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#3dab106698a3184f72b09d4b1fff4dad"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#28798271ebd2a0809fd5e4db029899ba"><span class="id" title="variable">Γ'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#3dab106698a3184f72b09d4b1fff4dad"><span class="id" title="variable">Γ''</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:209"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T:210"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="T':211" class="idref" href="#T':211"><span class="id" title="binder">T'</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">[×</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#3dab106698a3184f72b09d4b1fff4dad"><span class="id" title="variable">Γ''</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#28798271ebd2a0809fd5e4db029899ba"><span class="id" title="variable">Γ'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>) <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T':211"><span class="id" title="variable">T'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#c27827c3cdb017ea2f080dc5adaf2a36"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#2a8cf6d089ac10dd7be69b56b732374d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#28798271ebd2a0809fd5e4db029899ba"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#28798271ebd2a0809fd5e4db029899ba"><span class="id" title="variable">Γ'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> 0 <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#3dab106698a3184f72b09d4b1fff4dad"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#28798271ebd2a0809fd5e4db029899ba"><span class="id" title="variable">Γ'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#3dab106698a3184f72b09d4b1fff4dad"><span class="id" title="variable">Γ''</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>  <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:209"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T':211"><span class="id" title="variable">T'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#c27827c3cdb017ea2f080dc5adaf2a36"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#2a8cf6d089ac10dd7be69b56b732374d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#28798271ebd2a0809fd5e4db029899ba"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#28798271ebd2a0809fd5e4db029899ba"><span class="id" title="variable">Γ'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> 0 <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#3dab106698a3184f72b09d4b1fff4dad"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T':211"><span class="id" title="variable">T'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T:210"><span class="id" title="variable">T</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#c27827c3cdb017ea2f080dc5adaf2a36"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a>  <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#2a8cf6d089ac10dd7be69b56b732374d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#3dab106698a3184f72b09d4b1fff4dad"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:209"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#unlift"><span class="id" title="definition">unlift</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#28798271ebd2a0809fd5e4db029899ba"><span class="id" title="variable">Γ'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#3dab106698a3184f72b09d4b1fff4dad"><span class="id" title="variable">Γ''</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#T':211"><span class="id" title="variable">T'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">)]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span>) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hty</span> ⇒ /<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing_wf_local"><span class="id" title="lemma">typing_wf_local</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#All_local_env_app_inv"><span class="id" title="definition">All_local_env_app_inv</span></a> [] /<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#All_local_env_app_inv"><span class="id" title="definition">All_local_env_app_inv</span></a> [] //.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">wfΓ''</span> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <span class="id" title="var">Γ''</span><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#All_local_env_app"><span class="id" title="lemma">All_local_env_app</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- (<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#lift_unlift_context"><span class="id" title="lemma">lift_unlift_context</span></a> <span class="id" title="var">Γ''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDToPCUIC.html#bidirectional_to_pcuic"><span class="id" title="lemma">bidirectional_to_pcuic</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICWeakeningConv.html#rename_context_lift_context"><span class="id" title="lemma">rename_context_lift_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#bidirectional_renaming"><span class="id" title="lemma">bidirectional_renaming</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#All_local_app_rel"><span class="id" title="lemma">All_local_app_rel</span></a>, <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDFromPCUIC.html#bidirectional_from_pcuic"><span class="id" title="lemma">bidirectional_from_pcuic</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#type_Prop_wf"><span class="id" title="lemma">type_Prop_wf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing_wf_local"><span class="id" title="lemma">typing_wf_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#urenaming_strengthen"><span class="id" title="lemma">urenaming_strengthen</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#on_ctx_free_vars_strengthenP"><span class="id" title="lemma">on_ctx_free_vars_strengthenP</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_on_ctx_free_vars_xpredT"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars_xpredT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#wf_local_closed_context"><span class="id" title="lemma">wf_local_closed_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_lift_context"><span class="id" title="lemma">on_free_vars_ctx_lift_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hty</span> ⇒ /<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing_wf_local"><span class="id" title="lemma">typing_wf_local</span></a> /<a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#closed_wf_local"><span class="id" title="lemma">closed_wf_local</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_ctx_app"><span class="id" title="lemma">closedn_ctx_app</span></a> ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [<span class="id" title="var">_</span>] /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_length"><span class="id" title="lemma">app_context_length</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a> ⇒ <span class="id" title="var">hΓ''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#closedn_ctx_lift_inv"><span class="id" title="lemma">closedn_ctx_lift_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hΓ''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (@<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_ctx_on_free_vars_shift"><span class="id" title="lemma">closedn_ctx_on_free_vars_shift</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">hΓ''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_xpredT"><span class="id" title="lemma">shiftnP_xpredT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#typing_renaming_cond_P"><span class="id" title="lemma">typing_renaming_cond_P</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hty</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T'</span> [? ?]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">T'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">erewrite</span> &lt;- (<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#lift_unlift_term"><span class="id" title="lemma">lift_unlift_term</span></a> <span class="id" title="var">t</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#urenaming_strengthen"><span class="id" title="lemma">urenaming_strengthen</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>: <span class="id" title="var">wfΓ''</span> ⇒ /<a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#wf_local_closed_context"><span class="id" title="lemma">wf_local_closed_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_app"><span class="id" title="lemma">on_free_vars_ctx_app</span></a> ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#on_ctx_free_vars_strengthenP"><span class="id" title="lemma">on_ctx_free_vars_strengthenP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_on_ctx_free_vars_xpredT"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars_xpredT</span></a> ; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_lift"><span class="id" title="lemma">on_free_vars_lift</span></a> -<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_xpredT"><span class="id" title="lemma">shiftnP_xpredT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hty</span> ⇒ /<a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#subject_closed"><span class="id" title="lemma">subject_closed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">X</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#X:212"><span class="id" title="variable">X</span></a>]<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_assoc"><span class="id" title="lemma">Nat.add_assoc</span></a> ⇒ <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_lift_inv"><span class="id" title="lemma">closedn_lift_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_on_free_vars"><span class="id" title="lemma">closedn_on_free_vars</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="strengthening_type" class="idref" href="#strengthening_type"><span class="id" title="lemma">strengthening_type</span></a> `{<a id="cf:213" class="idref" href="#cf:213"><span class="id" title="binder">cf</span></a>: <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="e86bbde777236a61b5ad1abac5d71e29" class="idref" href="#e86bbde777236a61b5ad1abac5d71e29"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="8de84b1700b99c86f5e439ecbe593eda" class="idref" href="#8de84b1700b99c86f5e439ecbe593eda"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">PCUICTyping.wf</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#e86bbde777236a61b5ad1abac5d71e29"><span class="id" title="variable">Σ</span></a>} <a id="e94552e84324b5892c5ac140d3d1c118" class="idref" href="#e94552e84324b5892c5ac140d3d1c118"><span class="id" title="binder">Γ</span></a> <a id="2c4222b1d2cdd5b7ad68b7b7984497ee" class="idref" href="#2c4222b1d2cdd5b7ad68b7b7984497ee"><span class="id" title="binder">Γ'</span></a> <a id="3f9efa7aa45bb88b26a4fe4a509e3f3c" class="idref" href="#3f9efa7aa45bb88b26a4fe4a509e3f3c"><span class="id" title="binder">Γ''</span></a> <a id="t:219" class="idref" href="#t:219"><span class="id" title="binder">t</span></a> <a id="s:220" class="idref" href="#s:220"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#e86bbde777236a61b5ad1abac5d71e29"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#e94552e84324b5892c5ac140d3d1c118"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#2c4222b1d2cdd5b7ad68b7b7984497ee"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#2c4222b1d2cdd5b7ad68b7b7984497ee"><span class="id" title="variable">Γ'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> 0 <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#3f9efa7aa45bb88b26a4fe4a509e3f3c"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#2c4222b1d2cdd5b7ad68b7b7984497ee"><span class="id" title="variable">Γ'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#3f9efa7aa45bb88b26a4fe4a509e3f3c"><span class="id" title="variable">Γ''</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:219"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#s:220"><span class="id" title="variable">s</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="s':221" class="idref" href="#s':221"><span class="id" title="binder">s'</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#e86bbde777236a61b5ad1abac5d71e29"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#e94552e84324b5892c5ac140d3d1c118"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#3f9efa7aa45bb88b26a4fe4a509e3f3c"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#t:219"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#s':221"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#leq_sort"><span class="id" title="definition">leq_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#e86bbde777236a61b5ad1abac5d71e29"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#s':221"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#s:220"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">H'</span> := <span class="id" title="var">H</span>); <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#strengthening"><span class="id" title="lemma">strengthening</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T'</span> [? <span class="id" title="var">HT</span> <span class="id" title="var">Hcumul</span> <span class="id" title="var">HT'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hcumul'</span> := <span class="id" title="var">Hcumul</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#type_closed"><span class="id" title="lemma">type_closed</span></a> <span class="id" title="var">HT</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_on_free_vars"><span class="id" title="lemma">closedn_on_free_vars</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#type_closed"><span class="id" title="lemma">type_closed</span></a> <span class="id" title="var">HT'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_on_free_vars"><span class="id" title="lemma">closedn_on_free_vars</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#wf_local_closed_context"><span class="id" title="lemma">wf_local_closed_context</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing_wf_local"><span class="id" title="lemma">typing_wf_local</span></a> <span class="id" title="var">H'</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#into_ws_cumul_pb"><span class="id" title="lemma">into_ws_cumul_pb</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcumul</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#ws_cumul_pb_Sort_r_inv"><span class="id" title="lemma">PCUICConversion.ws_cumul_pb_Sort_r_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcumul</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s'</span> [<span class="id" title="var">Hred</span> <span class="id" title="var">Hcumul</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#closed_red_red"><span class="id" title="definition">closed_red_red</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hred</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">HT''</span>:=<span class="id" title="var">HT'</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICValidity.html#validity"><span class="id" title="lemma">PCUICValidity.validity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HT'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; ? &amp; ? &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">s'</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red"><span class="id" title="definition">PCUICReduction.red</span></a> <span class="id" title="var">Σ</span> (<span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <span class="id" title="var">Γ''</span>) (<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#unlift"><span class="id" title="definition">unlift</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ'</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ''</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="var">T'</span>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <span class="id" title="var">s'</span>)).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <span class="id" title="var">s'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#unlift"><span class="id" title="definition">unlift</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ'</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ''</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <span class="id" title="var">s'</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICRenameConv.html#red_rename"><span class="id" title="lemma">red_rename</span></a>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#urenaming_strengthen"><span class="id" title="lemma">urenaming_strengthen</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2-3: <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing_wf_local"><span class="id" title="lemma">typing_wf_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HT''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#wf_local_closed_context"><span class="id" title="lemma">wf_local_closed_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HT''</span>. <span class="id" title="var">revert</span> <span class="id" title="var">HT''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_app"><span class="id" title="lemma">on_free_vars_ctx_app</span></a> ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#on_ctx_free_vars_strengthenP"><span class="id" title="lemma">on_ctx_free_vars_strengthenP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_on_ctx_free_vars_xpredT"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars_xpredT</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#type_Cumul"><span class="id" title="constructor">type_Cumul</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSR.html#subject_reduction"><span class="id" title="lemma">PCUICSR.subject_reduction</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">liftSort</span> : <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDStrengthening.html#unlift"><span class="id" title="definition">unlift</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ'</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ''</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <span class="id" title="var">s'</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <span class="id" title="var">s'</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">liftSort</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">liftSort</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#cumulAlgo_cumulSpec"><span class="id" title="lemma">PCUICConversion.cumulAlgo_cumulSpec</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#ws_cumul_pb_red_r_inv"><span class="id" title="lemma">PCUICConversion.ws_cumul_pb_red_r_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ws_cumul_pb_refl"><span class="id" title="lemma">ws_cumul_pb_refl</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#typing_closed_ctx"><span class="id" title="lemma">PCUICInversion.typing_closed_ctx</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
