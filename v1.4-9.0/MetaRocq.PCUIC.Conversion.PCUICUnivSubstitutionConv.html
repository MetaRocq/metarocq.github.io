<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./index.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Classes.CRelationClasses.html#"><span class="id" title="library">CRelationClasses</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Utils.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Common</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Common.config.html#"><span class="id" title="library">config</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#"><span class="id" title="library">Universes</span></a> <a class="idref" href="MetaRocq.Common.uGraph.html#"><span class="id" title="library">uGraph</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#"><span class="id" title="library">PCUICAst</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICOnOne.html#"><span class="id" title="library">PCUICOnOne</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#"><span class="id" title="library">PCUICAstUtils</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICInduction.html#"><span class="id" title="library">PCUICInduction</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#"><span class="id" title="library">PCUICLiftSubst</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#"><span class="id" title="library">PCUICEquality</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#"><span class="id" title="library">PCUICUnivSubst</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#"><span class="id" title="library">PCUICCases</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#"><span class="id" title="library">PCUICCumulativity</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#"><span class="id" title="library">PCUICTyping</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#"><span class="id" title="library">PCUICReduction</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#"><span class="id" title="library">PCUICWeakeningEnv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#"><span class="id" title="library">PCUICClosed</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#"><span class="id" title="library">PCUICPosition</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Equations.Prop</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">DepElim</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">cf</span> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab140"></a><h1 class="section">Universe Substitution lemmas for typing derivations.</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Goal</span> <span class="id" title="var">Selector</span> "!".<br/>

<br/>
<span class="id" title="keyword">Create HintDb</span> <span class="id" title="var">univ_subst</span>.<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">aa</span> := <span class="id" title="var">rdest</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">univ_subst</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts"><span class="id" title="module">NonEmptySetFacts</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_level_val" class="idref" href="#subst_instance_level_val"><span class="id" title="lemma">subst_instance_level_val</span></a> <a id="u:1" class="idref" href="#u:1"><span class="id" title="binder">u</span></a> <a id="l:2" class="idref" href="#l:2"><span class="id" title="binder">l</span></a> <a id="v:3" class="idref" href="#v:3"><span class="id" title="binder">v</span></a> <a id="v':4" class="idref" href="#v':4"><span class="id" title="binder">v'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H1:6" class="idref" href="#H1:6"><span class="id" title="binder">H1</span></a> : <span class="id" title="keyword">∀</span> <a id="s:5" class="idref" href="#s:5"><span class="id" title="binder">s</span></a>, <a class="idref" href="MetaRocq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:3"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:5"><span class="id" title="variable">s</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':4"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:5"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H2:8" class="idref" href="#H2:8"><span class="id" title="binder">H2</span></a> : <span class="id" title="keyword">∀</span> <a id="n:7" class="idref" href="#n:7"><span class="id" title="binder">n</span></a>, <a class="idref" href="MetaRocq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:3"><span class="id" title="variable">v</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:7"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:1"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.lzero"><span class="id" title="constructor">Level.lzero</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#valuation_poly"><span class="id" title="projection">valuation_poly</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':4"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:7"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:3"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:1"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:2"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':4"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:2"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_valuation" class="idref" href="#eq_valuation"><span class="id" title="lemma">eq_valuation</span></a> <a id="v:9" class="idref" href="#v:9"><span class="id" title="binder">v</span></a> <a id="v':10" class="idref" href="#v':10"><span class="id" title="binder">v'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H1:12" class="idref" href="#H1:12"><span class="id" title="binder">H1</span></a> : <span class="id" title="keyword">∀</span> <a id="s:11" class="idref" href="#s:11"><span class="id" title="binder">s</span></a>, <a class="idref" href="MetaRocq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:9"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:11"><span class="id" title="variable">s</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':10"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:11"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H2:14" class="idref" href="#H2:14"><span class="id" title="binder">H2</span></a> : <span class="id" title="keyword">∀</span> <a id="n:13" class="idref" href="#n:13"><span class="id" title="binder">n</span></a>, <a class="idref" href="MetaRocq.Common.Universes.html#valuation_poly"><span class="id" title="projection">valuation_poly</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:9"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:13"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#valuation_poly"><span class="id" title="projection">valuation_poly</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':10"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:13"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> <a id="u:15" class="idref" href="#u:15"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#sort"><span class="id" title="abbreviation">sort</span></a>, <a class="idref" href="MetaRocq.Common.Universes.html#Sort.to_csort"><span class="id" title="definition">Sort.to_csort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:9"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:15"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Sort.to_csort"><span class="id" title="definition">Sort.to_csort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':10"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:15"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [| | <span class="id" title="var">u</span>]; <span class="id" title="var">cbnr</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">He</span> : <span class="id" title="keyword">∀</span> <a id="e:16" class="idref" href="#e:16"><span class="id" title="binder"><span id="e:17" class="id">e</span></span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#LevelExpr.t"><span class="id" title="definition">LevelExpr.t</span></a>, <a class="idref" href="MetaRocq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <span class="id" title="var">v</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e:16"><span class="id" title="variable">e</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <span class="id" title="var">v'</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e:16"><span class="id" title="variable">e</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [[] <span class="id" title="var">b</span>]; <span class="id" title="var">cbnr</span>; <span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">H1</span> ?<span class="id" title="var">H2</span>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Common.Universes.html#val_fold_right"><span class="id" title="lemma">val_fold_right</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> ((<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Universes.html#Universe.exprs"><span class="id" title="definition">Universe.exprs</span></a> <span class="id" title="var">u</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">).2</span></a>)); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_level_expr_val" class="idref" href="#subst_instance_level_expr_val"><span class="id" title="lemma">subst_instance_level_expr_val</span></a> <a id="u:18" class="idref" href="#u:18"><span class="id" title="binder">u</span></a> <a id="expr:19" class="idref" href="#expr:19"><span class="id" title="binder">expr</span></a> <a id="v:20" class="idref" href="#v:20"><span class="id" title="binder">v</span></a> <a id="v':21" class="idref" href="#v':21"><span class="id" title="binder">v'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H1:23" class="idref" href="#H1:23"><span class="id" title="binder">H1</span></a> : <span class="id" title="keyword">∀</span> <a id="s:22" class="idref" href="#s:22"><span class="id" title="binder">s</span></a>, <a class="idref" href="MetaRocq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:20"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:22"><span class="id" title="variable">s</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':21"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:22"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H2:25" class="idref" href="#H2:25"><span class="id" title="binder">H2</span></a> : <span class="id" title="keyword">∀</span> <a id="n:24" class="idref" href="#n:24"><span class="id" title="binder">n</span></a>, <a class="idref" href="MetaRocq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:20"><span class="id" title="variable">v</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:24"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:18"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.lzero"><span class="id" title="constructor">Level.lzero</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#valuation_poly"><span class="id" title="projection">valuation_poly</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':21"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:24"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:20"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:18"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#expr:19"><span class="id" title="variable">expr</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':21"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#expr:19"><span class="id" title="variable">expr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">expr</span> <span class="id" title="keyword">as</span> [[] <span class="id" title="var">b</span>]; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H2</span>, <a class="idref" href="MetaRocq.Utils.MRList.html#nth_nth_error"><span class="id" title="lemma">nth_nth_error</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="var">cbnr</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_universe_val" class="idref" href="#subst_instance_universe_val"><span class="id" title="lemma">subst_instance_universe_val</span></a> <a id="u:26" class="idref" href="#u:26"><span class="id" title="binder">u</span></a> <a id="exprs:27" class="idref" href="#exprs:27"><span class="id" title="binder">exprs</span></a> <a id="v:28" class="idref" href="#v:28"><span class="id" title="binder">v</span></a> <a id="v':29" class="idref" href="#v':29"><span class="id" title="binder">v'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H1:31" class="idref" href="#H1:31"><span class="id" title="binder">H1</span></a> : <span class="id" title="keyword">∀</span> <a id="s:30" class="idref" href="#s:30"><span class="id" title="binder">s</span></a>, <a class="idref" href="MetaRocq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:28"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:30"><span class="id" title="variable">s</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':29"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:30"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H2:33" class="idref" href="#H2:33"><span class="id" title="binder">H2</span></a> : <span class="id" title="keyword">∀</span> <a id="n:32" class="idref" href="#n:32"><span class="id" title="binder">n</span></a>, <a class="idref" href="MetaRocq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:28"><span class="id" title="variable">v</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:32"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:26"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.lzero"><span class="id" title="constructor">Level.lzero</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#valuation_poly"><span class="id" title="projection">valuation_poly</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':29"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:32"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:28"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_universe"><span class="id" title="instance">subst_instance_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:26"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#exprs:27"><span class="id" title="variable">exprs</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':29"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#exprs:27"><span class="id" title="variable">exprs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#val_caract"><span class="id" title="lemma">val_caract</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">Xe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#val_le_caract"><span class="id" title="lemma">val_le_caract</span></a>. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a>. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_expr_val"><span class="id" title="lemma">subst_instance_level_expr_val</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">v'</span>:=<span class="id" title="var">v'</span>); <span class="id" title="var">tea</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.MRProd.html#:::x_'.p1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Universes.html#val_caract"><span class="id" title="lemma">val_caract</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> <span class="id" title="var">u</span>) <span class="id" title="var">exprs</span>) <span class="id" title="var">v</span> <span class="id" title="var">_</span><a class="idref" href="MetaRocq.Utils.MRProd.html#:::x_'.p1'"><span class="id" title="notation">).</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#:::x_'.p1'"><span class="id" title="notation">p1</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#:::x_'.p1'"><span class="id" title="notation">eq_refl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">e</span> [<span class="id" title="var">He1</span> &lt;-]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e0</span> [<span class="id" title="var">He0</span> -&gt;]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_expr_val"><span class="id" title="lemma">subst_instance_level_expr_val</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_sort_val" class="idref" href="#subst_instance_sort_val"><span class="id" title="lemma">subst_instance_sort_val</span></a> <a id="u:34" class="idref" href="#u:34"><span class="id" title="binder">u</span></a> <a id="s:35" class="idref" href="#s:35"><span class="id" title="binder">s</span></a> <a id="v:36" class="idref" href="#v:36"><span class="id" title="binder">v</span></a> <a id="v':37" class="idref" href="#v':37"><span class="id" title="binder">v'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H1:39" class="idref" href="#H1:39"><span class="id" title="binder">H1</span></a> : <span class="id" title="keyword">∀</span> <a id="s:38" class="idref" href="#s:38"><span class="id" title="binder">s</span></a>, <a class="idref" href="MetaRocq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:36"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:38"><span class="id" title="variable">s</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':37"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:38"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H2:41" class="idref" href="#H2:41"><span class="id" title="binder">H2</span></a> : <span class="id" title="keyword">∀</span> <a id="n:40" class="idref" href="#n:40"><span class="id" title="binder">n</span></a>, <a class="idref" href="MetaRocq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:36"><span class="id" title="variable">v</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:40"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:34"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.lzero"><span class="id" title="constructor">Level.lzero</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#valuation_poly"><span class="id" title="projection">valuation_poly</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':37"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:40"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Universes.html#Sort.to_csort"><span class="id" title="definition">Sort.to_csort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:36"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_sort"><span class="id" title="instance">subst_instance_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:34"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:35"><span class="id" title="variable">s</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Sort.to_csort"><span class="id" title="definition">Sort.to_csort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':37"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:35"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [ | | <span class="id" title="var">exprs</span>]; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_universe_val"><span class="id" title="lemma">subst_instance_universe_val</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="subst_instance_valuation" class="idref" href="#subst_instance_valuation"><span class="id" title="definition">subst_instance_valuation</span></a> (<a id="u:42" class="idref" href="#u:42"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#Instance.t"><span class="id" title="definition">Instance.t</span></a>) (<a id="v:43" class="idref" href="#v:43"><span class="id" title="binder">v</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#valuation"><span class="id" title="record">valuation</span></a>) :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="MetaRocq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> := <a class="idref" href="MetaRocq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:43"><span class="id" title="variable">v</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#valuation_poly"><span class="id" title="projection">valuation_poly</span></a> := <span class="id" title="keyword">fun</span> <a id="i:44" class="idref" href="#i:44"><span class="id" title="binder">i</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:43"><span class="id" title="variable">v</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i:44"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:42"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.lzero"><span class="id" title="constructor">Level.lzero</span></a>) |}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_level_val'" class="idref" href="#subst_instance_level_val'"><span class="id" title="lemma">subst_instance_level_val'</span></a> <a id="u:45" class="idref" href="#u:45"><span class="id" title="binder">u</span></a> <a id="l:46" class="idref" href="#l:46"><span class="id" title="binder">l</span></a> <a id="v:47" class="idref" href="#v:47"><span class="id" title="binder">v</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:47"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:45"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:46"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_valuation"><span class="id" title="definition">subst_instance_valuation</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:45"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:47"><span class="id" title="variable">v</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:46"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_val"><span class="id" title="lemma">subst_instance_level_val</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_universe_val'" class="idref" href="#subst_instance_universe_val'"><span class="id" title="lemma">subst_instance_universe_val'</span></a> <a id="u:48" class="idref" href="#u:48"><span class="id" title="binder">u</span></a> <a id="exprs:49" class="idref" href="#exprs:49"><span class="id" title="binder">exprs</span></a> <a id="v:50" class="idref" href="#v:50"><span class="id" title="binder">v</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:50"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_universe"><span class="id" title="instance">subst_instance_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:48"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#exprs:49"><span class="id" title="variable">exprs</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_valuation"><span class="id" title="definition">subst_instance_valuation</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:48"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:50"><span class="id" title="variable">v</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#exprs:49"><span class="id" title="variable">exprs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_universe_val"><span class="id" title="lemma">subst_instance_universe_val</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_sort_val'" class="idref" href="#subst_instance_sort_val'"><span class="id" title="lemma">subst_instance_sort_val'</span></a> <a id="u:51" class="idref" href="#u:51"><span class="id" title="binder">u</span></a> <a id="l:52" class="idref" href="#l:52"><span class="id" title="binder">l</span></a> <a id="v:53" class="idref" href="#v:53"><span class="id" title="binder">v</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Universes.html#Sort.to_csort"><span class="id" title="definition">Sort.to_csort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:53"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_sort"><span class="id" title="instance">subst_instance_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:51"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:52"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Sort.to_csort"><span class="id" title="definition">Sort.to_csort</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_valuation"><span class="id" title="definition">subst_instance_valuation</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:51"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:53"><span class="id" title="variable">v</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:52"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_sort_val"><span class="id" title="lemma">subst_instance_sort_val</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_universe_make'" class="idref" href="#subst_instance_universe_make'"><span class="id" title="lemma">subst_instance_universe_make'</span></a> (<a id="l:54" class="idref" href="#l:54"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#LevelExpr.t"><span class="id" title="definition">LevelExpr.t</span></a>) <a id="u:55" class="idref" href="#u:55"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:55"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Universe.make"><span class="id" title="definition">Universe.make</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:54"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Universe.make"><span class="id" title="definition">Universe.make</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:55"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:54"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_universe_make" class="idref" href="#subst_instance_universe_make"><span class="id" title="lemma">subst_instance_universe_make</span></a> <a id="l:56" class="idref" href="#l:56"><span class="id" title="binder">l</span></a> <a id="u:57" class="idref" href="#u:57"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_universe"><span class="id" title="instance">subst_instance_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:57"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Universe.make'"><span class="id" title="definition">Universe.make'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:56"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Universe.make'"><span class="id" title="definition">Universe.make'</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:57"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:56"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbnr</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_nth_error"><span class="id" title="lemma">nth_nth_error</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="var">cbnr</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="SubstUnivPreserving" class="idref" href="#SubstUnivPreserving"><span class="id" title="inductive, record"><span id="SubstUnivPreserving" class="id">SubstUnivPreserving</span></span></a> <a id="eq_universe:58" class="idref" href="#eq_universe:58"><span class="id" title="binder">eq_universe</span></a> {<a id="A:59" class="idref" href="#A:59"><span class="id" title="binder">A</span></a>} `{<a id="H:60" class="idref" href="#H:60"><span class="id" title="binder">UnivSubst</span></a> <a id="H:60" class="idref" href="#H:60"><span class="id" title="binder">A</span></a>} (<a id="eqA:61" class="idref" href="#eqA:61"><span class="id" title="binder">eqA</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:59"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:59"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) := <a id="Build_SubstUnivPreserving" class="idref" href="#Build_SubstUnivPreserving"><span class="id" title="constructor, projection"><span id="Build_SubstUnivPreserving" class="id">Build_SubstUnivPreserving</span></span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="u:63" class="idref" href="#u:63"><span class="id" title="binder">u</span></a> <a id="u1:64" class="idref" href="#u1:64"><span class="id" title="binder">u1</span></a> <a id="u2:65" class="idref" href="#u2:65"><span class="id" title="binder">u2</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_universe_instance"><span class="id" title="definition">cmp_universe_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#eq_universe:58"><span class="id" title="variable">eq_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:64"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:65"><span class="id" title="variable">u2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#eqA:61"><span class="id" title="variable">eqA</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:64"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:63"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:65"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:63"><span class="id" title="variable">u</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_equal_inst_inst" class="idref" href="#subst_equal_inst_inst"><span class="id" title="lemma">subst_equal_inst_inst</span></a> <a id="Re:67" class="idref" href="#Re:67"><span class="id" title="binder">Re</span></a> <a id="Re':68" class="idref" href="#Re':68"><span class="id" title="binder">Re'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserving"><span class="id" title="class">SubstUnivPreserving</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Re:67"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Re':68"><span class="id" title="variable">Re'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="u:69" class="idref" href="#u:69"><span class="id" title="binder">u</span></a> <a id="u1:70" class="idref" href="#u1:70"><span class="id" title="binder">u1</span></a> <a id="u2:71" class="idref" href="#u2:71"><span class="id" title="binder">u2</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_universe_instance"><span class="id" title="definition">cmp_universe_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Re:67"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:70"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:71"><span class="id" title="variable">u2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_universe_instance"><span class="id" title="definition">cmp_universe_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Re':68"><span class="id" title="variable">Re'</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:70"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:69"><span class="id" title="variable">u</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:71"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:69"><span class="id" title="variable">u</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hRe</span> <span class="id" title="var">u</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">u</span>; <span class="id" title="var">cbnr</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">u1</span> <span class="id" title="var">u2</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_universe_instance"><span class="id" title="definition">cmp_universe_instance</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">hRe</span> (<a class="idref" href="MetaRocq.Common.Universes.html#Universe.make'"><span class="id" title="definition">Universe.make'</span></a> <span class="id" title="var">a</span>) <span class="id" title="var">u1</span> <span class="id" title="var">u2</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> !<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_universe_make"><span class="id" title="lemma">subst_instance_universe_make</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">IHu</span> <span class="id" title="var">u1</span> <span class="id" title="var">u2</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_equal_inst_global_inst" class="idref" href="#subst_equal_inst_global_inst"><span class="id" title="lemma">subst_equal_inst_global_inst</span></a> <a id="5f7f8a3a36b9c7b682466610e664c174" class="idref" href="#5f7f8a3a36b9c7b682466610e664c174"><span class="id" title="binder">Σ</span></a> <a id="cmp_universe:73" class="idref" href="#cmp_universe:73"><span class="id" title="binder">cmp_universe</span></a> <a id="pb:74" class="idref" href="#pb:74"><span class="id" title="binder">pb</span></a> <a id="gr:75" class="idref" href="#gr:75"><span class="id" title="binder">gr</span></a> <a id="napp:76" class="idref" href="#napp:76"><span class="id" title="binder">napp</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserving"><span class="id" title="class">SubstUnivPreserving</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_universe:73"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a>) (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_universe:73"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="u:77" class="idref" href="#u:77"><span class="id" title="binder">u</span></a> <a id="u1:78" class="idref" href="#u1:78"><span class="id" title="binder">u1</span></a> <a id="u2:79" class="idref" href="#u2:79"><span class="id" title="binder">u2</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_universe_instance"><span class="id" title="definition">cmp_universe_instance</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_universe:73"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:78"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:79"><span class="id" title="variable">u2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_global_instance"><span class="id" title="abbreviation">cmp_global_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#5f7f8a3a36b9c7b682466610e664c174"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_universe:73"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:74"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#gr:75"><span class="id" title="variable">gr</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#napp:76"><span class="id" title="variable">napp</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:78"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:77"><span class="id" title="variable">u</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:79"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:77"><span class="id" title="variable">u</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">subst_conv</span> <span class="id" title="var">u</span> <span class="id" title="var">u1</span> <span class="id" title="var">u2</span> <span class="id" title="var">Ru1u2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_global_instance_gen"><span class="id" title="definition">cmp_global_instance</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_global_instance_gen"><span class="id" title="definition">cmp_global_instance_gen</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_opt_variance"><span class="id" title="definition">cmp_opt_variance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#global_variance_gen"><span class="id" title="definition">global_variance_gen</span></a> <span class="id" title="keyword">as</span> [| |<span class="id" title="var">v</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_equal_inst_inst"><span class="id" title="lemma">subst_equal_inst_inst</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_equal_inst_inst"><span class="id" title="lemma">subst_equal_inst_inst</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_term_upto_univ_subst_instance" class="idref" href="#eq_term_upto_univ_subst_instance"><span class="id" title="lemma">eq_term_upto_univ_subst_instance</span></a> <a id="27bd8530b8ebec6f60d17615e08f6ce1" class="idref" href="#27bd8530b8ebec6f60d17615e08f6ce1"><span class="id" title="binder">Σ</span></a> <a id="cmp_universe:81" class="idref" href="#cmp_universe:81"><span class="id" title="binder">cmp_universe</span></a> <a id="cmp_sort:82" class="idref" href="#cmp_sort:82"><span class="id" title="binder">cmp_sort</span></a> <a id="pb:83" class="idref" href="#pb:83"><span class="id" title="binder">pb</span></a> <a id="napp:84" class="idref" href="#napp:84"><span class="id" title="binder">napp</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserving"><span class="id" title="class">SubstUnivPreserving</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_universe:81"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a>) (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_universe:81"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserving"><span class="id" title="class">SubstUnivPreserving</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_universe:81"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a>) (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_sort:82"><span class="id" title="variable">cmp_sort</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserving"><span class="id" title="class">SubstUnivPreserving</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_universe:81"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a>) (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_sort:82"><span class="id" title="variable">cmp_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:83"><span class="id" title="variable">pb</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="t:85" class="idref" href="#t:85"><span class="id" title="binder">t</span></a> <a id="u1:86" class="idref" href="#u1:86"><span class="id" title="binder">u1</span></a> <a id="u2:87" class="idref" href="#u2:87"><span class="id" title="binder">u2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_universe_instance"><span class="id" title="definition">cmp_universe_instance</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_universe:81"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:86"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:87"><span class="id" title="variable">u2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_term_upto_univ_napp"><span class="id" title="inductive">eq_term_upto_univ_napp</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#27bd8530b8ebec6f60d17615e08f6ce1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_universe:81"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_sort:82"><span class="id" title="variable">cmp_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:83"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#napp:84"><span class="id" title="variable">napp</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:86"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:85"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:87"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:85"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hsubst_conv</span> <span class="id" title="var">hsubst_sort_conv</span> <span class="id" title="var">hsubst_sort_pb</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">napp</span>, <span class="id" title="var">pb</span>, <span class="id" title="var">hsubst_sort_pb</span> |- × <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">u1</span> <span class="id" title="var">u2</span> <span class="id" title="var">hu</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_equal_inst_inst"><span class="id" title="lemma">subst_equal_inst_inst</span></a>, <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_equal_inst_global_inst"><span class="id" title="lemma">subst_equal_inst_global_inst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_predicate"><span class="id" title="definition">eq_predicate</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_branches"><span class="id" title="definition">eq_branches</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_branch"><span class="id" title="definition">eq_branch</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_mfixpoint"><span class="id" title="definition">eq_mfixpoint</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_All2"><span class="id" title="lemma">All_All2</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">rdest</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_equal_inst_inst"><span class="id" title="lemma">subst_equal_inst_inst</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">hty</span> &amp; <span class="id" title="var">hdef</span> &amp; <span class="id" title="var">harr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /= -!<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_universe_make"><span class="id" title="lemma">subst_instance_universe_make</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">hsubst_conv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="eq_universe_SubstUnivPreserving" class="idref" href="#eq_universe_SubstUnivPreserving"><span class="id" title="instance">eq_universe_SubstUnivPreserving</span></a> {<a id="cf:88" class="idref" href="#cf:88"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="b5efc3a648f758b1ca8c887ced227415" class="idref" href="#b5efc3a648f758b1ca8c887ced227415"><span class="id" title="binder">φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserving"><span class="id" title="class">SubstUnivPreserving</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#eq_universe"><span class="id" title="definition">eq_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b5efc3a648f758b1ca8c887ced227415"><span class="id" title="variable">φ</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#eq_universe"><span class="id" title="definition">eq_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b5efc3a648f758b1ca8c887ced227415"><span class="id" title="variable">φ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">exprs</span> <span class="id" title="var">u1</span> <span class="id" title="var">u2</span> <span class="id" title="var">hu</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfold_univ_rel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">He</span> : <span class="id" title="keyword">∀</span> <a id="e:90" class="idref" href="#e:90"><span class="id" title="binder"><span id="e:91" class="id">e</span></span></a>, <a class="idref" href="MetaRocq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <span class="id" title="var">v</span> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> <span class="id" title="var">u1</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e:90"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <span class="id" title="var">v</span> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> <span class="id" title="var">u2</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e:90"><span class="id" title="variable">e</span></a>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [[] <span class="id" title="var">b</span>]; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">u1</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">l1</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall2_nth_error_Some_l"><span class="id" title="lemma">Forall2_nth_error_Some_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hu</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l2</span> [-&gt; <span class="id" title="var">H2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <span class="id" title="var">v</span> <span class="id" title="var">Hv</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall2_nth_error_None_l"><span class="id" title="lemma">Forall2_nth_error_None_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hu</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">u2</span> <span class="id" title="var">n</span>); [<span class="id" title="tactic">discriminate</span>|<span class="id" title="tactic">reflexivity</span>]. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#val_caract"><span class="id" title="lemma">val_caract</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">Xe</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Xe</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e'</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#val_le_caract"><span class="id" title="lemma">val_le_caract</span></a>. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.MRProd.html#:::x_'.p1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Universes.html#val_caract"><span class="id" title="lemma">val_caract</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> <span class="id" title="var">u2</span>) <span class="id" title="var">exprs</span>) <span class="id" title="var">v</span> <span class="id" title="var">_</span><a class="idref" href="MetaRocq.Utils.MRProd.html#:::x_'.p1'"><span class="id" title="notation">).</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#:::x_'.p1'"><span class="id" title="notation">p1</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#:::x_'.p1'"><span class="id" title="notation">eq_refl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">e</span> [<span class="id" title="var">He1</span> <span class="id" title="var">He2</span>]]]. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">He1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e0</span> [<span class="id" title="var">He0</span> <span class="id" title="var">He1</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">eapply</span> <span class="id" title="var">He</span>]. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="leq_universe_SubstUnivPreserving" class="idref" href="#leq_universe_SubstUnivPreserving"><span class="id" title="instance">leq_universe_SubstUnivPreserving</span></a> {<a id="cf:92" class="idref" href="#cf:92"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="f67c606130aab04d7ca05d33ea60caf2" class="idref" href="#f67c606130aab04d7ca05d33ea60caf2"><span class="id" title="binder">φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserving"><span class="id" title="class">SubstUnivPreserving</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#leq_universe"><span class="id" title="definition">leq_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f67c606130aab04d7ca05d33ea60caf2"><span class="id" title="variable">φ</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#leq_universe"><span class="id" title="definition">leq_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f67c606130aab04d7ca05d33ea60caf2"><span class="id" title="variable">φ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">exprs</span> <span class="id" title="var">u1</span> <span class="id" title="var">u2</span> <span class="id" title="var">hu</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfold_univ_rel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">He</span> : <span class="id" title="keyword">∀</span> <a id="e:94" class="idref" href="#e:94"><span class="id" title="binder"><span id="e:95" class="id">e</span></span></a>, <a class="idref" href="MetaRocq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <span class="id" title="var">v</span> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> <span class="id" title="var">u1</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e:94"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <span class="id" title="var">v</span> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> <span class="id" title="var">u2</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e:94"><span class="id" title="variable">e</span></a>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [[] <span class="id" title="var">b</span>]; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">u1</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">l1</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall2_nth_error_Some_l"><span class="id" title="lemma">Forall2_nth_error_Some_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hu</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l2</span> [-&gt; <span class="id" title="var">H2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <span class="id" title="var">v</span> <span class="id" title="var">Hv</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall2_nth_error_None_l"><span class="id" title="lemma">Forall2_nth_error_None_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hu</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">u2</span> <span class="id" title="var">n</span>); [<span class="id" title="tactic">discriminate</span>|<span class="id" title="tactic">reflexivity</span>]. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ZArith.BinInt.html#Z.sub_0_r"><span class="id" title="lemma">Z.sub_0_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ZArith.Znat.html#Nat2Z.inj_le"><span class="id" title="lemma">Nat2Z.inj_le</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MetaRocq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <span class="id" title="var">v</span> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u2</span> <span class="id" title="var">exprs</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">val2</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">eq</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#val_caract"><span class="id" title="lemma">val_caract</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e</span> [<span class="id" title="var">inet</span> <span class="id" title="var">vale</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">inet</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e'</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MetaRocq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <span class="id" title="var">v</span> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u1</span> <span class="id" title="var">exprs</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">val1</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">eq</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#val_caract"><span class="id" title="lemma">val_caract</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">eq'</span> [<span class="id" title="var">e''</span> [<span class="id" title="var">ine''</span> <span class="id" title="var">vale''</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">val1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ine''</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e0</span> [<span class="id" title="var">ine0</span> <span class="id" title="var">eq</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">He</span> <span class="id" title="var">e0</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">e''</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e0</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="compare_universe_substu" class="idref" href="#compare_universe_substu"><span class="id" title="instance">compare_universe_substu</span></a> {<a id="cf:96" class="idref" href="#cf:96"><span class="id" title="binder">cf</span></a>} <a id="24a54bc4d26f83bce8cd036ffddc6655" class="idref" href="#24a54bc4d26f83bce8cd036ffddc6655"><span class="id" title="binder">φ</span></a> <a id="pb:98" class="idref" href="#pb:98"><span class="id" title="binder">pb</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserving"><span class="id" title="class">SubstUnivPreserving</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#eq_universe"><span class="id" title="definition">eq_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#24a54bc4d26f83bce8cd036ffddc6655"><span class="id" title="variable">φ</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#compare_universe"><span class="id" title="definition">compare_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#24a54bc4d26f83bce8cd036ffddc6655"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:98"><span class="id" title="variable">pb</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pb</span>; <span class="id" title="var">tc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">u</span> <span class="id" title="var">ui</span> <span class="id" title="var">ui'</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#leq_universe_SubstUnivPreserving"><span class="id" title="instance">leq_universe_SubstUnivPreserving</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_universe_instance_impl'"><span class="id" title="lemma">cmp_universe_instance_impl'</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">tc</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="compare_sort_substu" class="idref" href="#compare_sort_substu"><span class="id" title="instance">compare_sort_substu</span></a> {<a id="cf:99" class="idref" href="#cf:99"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="af20a51caeffa70d7dd114fd35e9dfe4" class="idref" href="#af20a51caeffa70d7dd114fd35e9dfe4"><span class="id" title="binder">φ</span></a> <a id="pb:101" class="idref" href="#pb:101"><span class="id" title="binder">pb</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserving"><span class="id" title="class">SubstUnivPreserving</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#eq_universe"><span class="id" title="definition">eq_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#af20a51caeffa70d7dd114fd35e9dfe4"><span class="id" title="variable">φ</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#compare_sort"><span class="id" title="definition">compare_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#af20a51caeffa70d7dd114fd35e9dfe4"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:101"><span class="id" title="variable">pb</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">u1</span> <span class="id" title="var">u2</span> <span class="id" title="var">hu</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [| | <span class="id" title="var">u</span>]; <span class="id" title="var">cbnr</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Universes.html#compare_sort_type"><span class="id" title="lemma">compare_sort_type</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Build_SubstUnivPreserving"><span class="id" title="definition">Build_SubstUnivPreserving</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="subst_instance_def" class="idref" href="#subst_instance_def"><span class="id" title="instance">subst_instance_def</span></a> {<a id="A:102" class="idref" href="#A:102"><span class="id" title="binder">A</span></a>} `(<a id="H:103" class="idref" href="#H:103"><span class="id" title="binder">UnivSubst</span></a> <a id="H:103" class="idref" href="#H:103"><span class="id" title="binder">A</span></a>) : <a class="idref" href="MetaRocq.Common.Universes.html#UnivSubst"><span class="id" title="class">UnivSubst</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:102"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="u:104" class="idref" href="#u:104"><span class="id" title="binder">u</span></a> ⇒ <a class="idref" href="MetaRocq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:104"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:104"><span class="id" title="variable">u</span></a>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="subst_instance_prod" class="idref" href="#subst_instance_prod"><span class="id" title="instance">subst_instance_prod</span></a> {<a id="A:105" class="idref" href="#A:105"><span class="id" title="binder">A</span></a> <a id="B:106" class="idref" href="#B:106"><span class="id" title="binder">B</span></a>} `(<a id="H:107" class="idref" href="#H:107"><span class="id" title="binder">UnivSubst</span></a> <a id="H:107" class="idref" href="#H:107"><span class="id" title="binder">A</span></a>) `(<a id="H0:108" class="idref" href="#H0:108"><span class="id" title="binder">UnivSubst</span></a> <a id="H0:108" class="idref" href="#H0:108"><span class="id" title="binder">B</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Universes.html#UnivSubst"><span class="id" title="class">UnivSubst</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:105"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#B:106"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="u:109" class="idref" href="#u:109"><span class="id" title="binder">u</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.MRProd.html#map_pair"><span class="id" title="definition">map_pair</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:109"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:109"><span class="id" title="variable">u</span></a>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="subst_instance_nat" class="idref" href="#subst_instance_nat"><span class="id" title="instance">subst_instance_nat</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#UnivSubst"><span class="id" title="class">UnivSubst</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <a id="n:110" class="idref" href="#n:110"><span class="id" title="binder">n</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:110"><span class="id" title="variable">n</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_level_two" class="idref" href="#subst_instance_level_two"><span class="id" title="lemma">subst_instance_level_two</span></a> <a id="u1:111" class="idref" href="#u1:111"><span class="id" title="binder">u1</span></a> <a id="u2:112" class="idref" href="#u2:112"><span class="id" title="binder">u2</span></a> <a id="l:113" class="idref" href="#l:113"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:111"><span class="id" title="variable">u1</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:112"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:113"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:111"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:112"><span class="id" title="variable">u2</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:113"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_nth"><span class="id" title="lemma">map_nth</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> <span class="id" title="var">u1</span>)); <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_level_expr_two" class="idref" href="#subst_instance_level_expr_two"><span class="id" title="lemma">subst_instance_level_expr_two</span></a> <a id="u1:114" class="idref" href="#u1:114"><span class="id" title="binder">u1</span></a> <a id="u2:115" class="idref" href="#u2:115"><span class="id" title="binder">u2</span></a> <a id="e:116" class="idref" href="#e:116"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:114"><span class="id" title="variable">u1</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:115"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e:116"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:114"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:115"><span class="id" title="variable">u2</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e:116"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [[] <span class="id" title="var">b</span>]; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a>. <span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_nth_error"><span class="id" title="lemma">nth_nth_error</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="var">cbnr</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_univ0_two" class="idref" href="#subst_instance_univ0_two"><span class="id" title="lemma">subst_instance_univ0_two</span></a> <a id="u1:117" class="idref" href="#u1:117"><span class="id" title="binder">u1</span></a> <a id="u2:118" class="idref" href="#u2:118"><span class="id" title="binder">u2</span></a> <a id="exprs:119" class="idref" href="#exprs:119"><span class="id" title="binder">exprs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_universe"><span class="id" title="instance">subst_instance_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:117"><span class="id" title="variable">u1</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_universe"><span class="id" title="instance">subst_instance_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:118"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#exprs:119"><span class="id" title="variable">exprs</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_universe"><span class="id" title="instance">subst_instance_universe</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:117"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:118"><span class="id" title="variable">u2</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#exprs:119"><span class="id" title="variable">exprs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_universe"><span class="id" title="instance">subst_instance_universe</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.eq_univ'"><span class="id" title="lemma">eq_univ'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hl</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l'</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l''</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_expr_two"><span class="id" title="lemma">subst_instance_level_expr_two</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>. 2: <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_expr_two"><span class="id" title="lemma">subst_instance_level_expr_two</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a>. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_univ_two" class="idref" href="#subst_instance_univ_two"><span class="id" title="lemma">subst_instance_univ_two</span></a> <a id="u1:120" class="idref" href="#u1:120"><span class="id" title="binder">u1</span></a> <a id="u2:121" class="idref" href="#u2:121"><span class="id" title="binder">u2</span></a> <a id="s:122" class="idref" href="#s:122"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_sort"><span class="id" title="instance">subst_instance_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:120"><span class="id" title="variable">u1</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_sort"><span class="id" title="instance">subst_instance_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:121"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:122"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_sort"><span class="id" title="instance">subst_instance_sort</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:120"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:121"><span class="id" title="variable">u2</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:122"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>; <span class="id" title="var">cbnr</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_univ0_two"><span class="id" title="lemma">subst_instance_univ0_two</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_two_instance" class="idref" href="#subst_instance_two_instance"><span class="id" title="lemma">subst_instance_two_instance</span></a> <a id="u1:123" class="idref" href="#u1:123"><span class="id" title="binder">u1</span></a> <a id="u2:124" class="idref" href="#u2:124"><span class="id" title="binder">u2</span></a> (<a id="u:125" class="idref" href="#u:125"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#Instance.t"><span class="id" title="definition">Instance.t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:123"><span class="id" title="variable">u1</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:124"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:125"><span class="id" title="variable">u</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:123"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:124"><span class="id" title="variable">u2</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:125"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /= /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_instance"><span class="id" title="instance">subst_instance_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#map_ext"><span class="id" title="lemma">map_ext</span></a>, <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_two"><span class="id" title="lemma">subst_instance_level_two</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_two" class="idref" href="#subst_instance_two"><span class="id" title="lemma">subst_instance_two</span></a> <a id="u1:126" class="idref" href="#u1:126"><span class="id" title="binder">u1</span></a> <a id="u2:127" class="idref" href="#u2:127"><span class="id" title="binder">u2</span></a> (<a id="t:128" class="idref" href="#t:128"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:126"><span class="id" title="variable">u1</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:127"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:128"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:126"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:127"><span class="id" title="variable">u2</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:128"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_two_instance"><span class="id" title="lemma">subst_instance_two_instance</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_map_eq"><span class="id" title="lemma">All_map_eq</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_univ_two"><span class="id" title="lemma">subst_instance_univ_two</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_predicate_map_predicate"><span class="id" title="lemma">map_predicate_map_predicate</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_predicate_eq_spec"><span class="id" title="lemma">map_predicate_eq_spec</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_instance"><span class="id" title="instance">subst_instance_instance</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_two_instance"><span class="id" title="lemma">subst_instance_two_instance</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_map_eq"><span class="id" title="lemma">All_map_eq</span></a>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_map_eq"><span class="id" title="lemma">All_map_eq</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#map_def_map_def"><span class="id" title="lemma">map_def_map_def</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_map_eq"><span class="id" title="lemma">All_map_eq</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#map_def_map_def"><span class="id" title="lemma">map_def_map_def</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mapu_prim_compose_rew"><span class="id" title="lemma">mapu_prim_compose_rew</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_two"><span class="id" title="lemma">subst_instance_level_two</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_two_context" class="idref" href="#subst_instance_two_context"><span class="id" title="lemma">subst_instance_two_context</span></a> <a id="u1:129" class="idref" href="#u1:129"><span class="id" title="binder">u1</span></a> <a id="u2:130" class="idref" href="#u2:130"><span class="id" title="binder">u2</span></a> (<a id="176f8993380a4cc2dc0087cc17e85ccb" class="idref" href="#176f8993380a4cc2dc0087cc17e85ccb"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:129"><span class="id" title="variable">u1</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:130"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#176f8993380a4cc2dc0087cc17e85ccb"><span class="id" title="variable">Γ</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:129"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:130"><span class="id" title="variable">u2</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#176f8993380a4cc2dc0087cc17e85ccb"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [? [] ?]; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a>; <span class="id" title="var">cbn</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_two"><span class="id" title="lemma">subst_instance_two</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_cstr_two" class="idref" href="#subst_instance_cstr_two"><span class="id" title="lemma">subst_instance_cstr_two</span></a> <a id="u1:132" class="idref" href="#u1:132"><span class="id" title="binder">u1</span></a> <a id="u2:133" class="idref" href="#u2:133"><span class="id" title="binder">u2</span></a> <a id="c:134" class="idref" href="#c:134"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:132"><span class="id" title="variable">u1</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:133"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:134"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:132"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:133"><span class="id" title="variable">u2</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:134"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [[? ?] ?]; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_two"><span class="id" title="lemma">subst_instance_level_two</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="In_subst_instance_cstrs" class="idref" href="#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a> <a id="u:135" class="idref" href="#u:135"><span class="id" title="binder">u</span></a> <a id="c:136" class="idref" href="#c:136"><span class="id" title="binder">c</span></a> <a id="ctrs:137" class="idref" href="#ctrs:137"><span class="id" title="binder">ctrs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#CS.In"><span class="id" title="definition">CS.In</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:136"><span class="id" title="variable">c</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:135"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctrs:137"><span class="id" title="variable">ctrs</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="c':138" class="idref" href="#c':138"><span class="id" title="binder">c'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:136"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:135"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c':138"><span class="id" title="variable">c'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#CS.In"><span class="id" title="definition">CS.In</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c':138"><span class="id" title="variable">c'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctrs:137"><span class="id" title="variable">ctrs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Universes.html#CS.fold_spec"><span class="id" title="lemma">CS.fold_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="MetaRocq.Common.Universes.html#CS.In"><span class="id" title="definition">CS.In</span></a> <span class="id" title="var">c</span> <a class="idref" href="MetaRocq.Common.Universes.html#CS.empty"><span class="id" title="definition">CS.empty</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="c':139" class="idref" href="#c':139"><span class="id" title="binder"><span id="c':140" class="id">c'</span></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="var">c</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a> <span class="id" title="var">u</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c':139"><span class="id" title="variable">c'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c':139"><span class="id" title="variable">c'</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#CS.elements"><span class="id" title="definition">CS.elements</span></a> <span class="id" title="var">ctrs</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaRocq.Common.Universes.html#CS.elements"><span class="id" title="definition">CS.elements</span></a> <span class="id" title="var">ctrs</span>), <a class="idref" href="MetaRocq.Common.Universes.html#CS.empty"><span class="id" title="definition">CS.empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">pcuicfo</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>. <span class="id" title="var">etransitivity</span>. 1: <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">HH</span>|<span class="id" title="var">HH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">l1</span> <span class="id" title="var">a</span>] <span class="id" title="var">l2</span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#CS.add_spec"><span class="id" title="lemma">CS.add_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HH</span>|<span class="id" title="var">HH</span>]. 2: <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">left</span>; <span class="id" title="tactic">reflexivity</span>]. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c'</span> ?]. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">c'</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">left</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">l1</span> <span class="id" title="var">a</span>] <span class="id" title="var">l2</span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#CS.add_spec"><span class="id" title="lemma">CS.add_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c'</span> [<span class="id" title="var">HH1</span> [?|?]]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">c'</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">l1</span> <span class="id" title="var">c'</span>] <span class="id" title="var">l2</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#CS.add_spec"><span class="id" title="lemma">CS.add_spec</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">c'</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Universes.html#ConstraintSetFact.empty_iff"><span class="id" title="lemma">ConstraintSetFact.empty_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="c':141" class="idref" href="#c':141"><span class="id" title="binder"><span id="c':142" class="id">c'</span></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="var">c</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a> <span class="id" title="var">u</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c':141"><span class="id" title="variable">c'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c':141"><span class="id" title="variable">c'</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#CS.elements"><span class="id" title="definition">CS.elements</span></a> <span class="id" title="var">ctrs</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRUtils.html#iff_ex"><span class="id" title="lemma">iff_ex</span></a>; <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#and_iff_compat_l"><span class="id" title="lemma">and_iff_compat_l</span></a>. <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. 1: <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#CS.elements_spec1"><span class="id" title="lemma">CS.elements_spec1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. 1: <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Sorting.SetoidList.html#InA_alt"><span class="id" title="lemma">SetoidList.InA_alt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? [[] ?]].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="In_subst_instance_cstrs'" class="idref" href="#In_subst_instance_cstrs'"><span class="id" title="lemma">In_subst_instance_cstrs'</span></a> <a id="u:143" class="idref" href="#u:143"><span class="id" title="binder">u</span></a> <a id="c:144" class="idref" href="#c:144"><span class="id" title="binder">c</span></a> <a id="ctrs:145" class="idref" href="#ctrs:145"><span class="id" title="binder">ctrs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#CS.In"><span class="id" title="definition">CS.In</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:144"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctrs:145"><span class="id" title="variable">ctrs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#CS.In"><span class="id" title="definition">CS.In</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:143"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:144"><span class="id" title="variable">c</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:143"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctrs:145"><span class="id" title="variable">ctrs</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_cstrs_two" class="idref" href="#subst_instance_cstrs_two"><span class="id" title="lemma">subst_instance_cstrs_two</span></a> <a id="u1:146" class="idref" href="#u1:146"><span class="id" title="binder">u1</span></a> <a id="u2:147" class="idref" href="#u2:147"><span class="id" title="binder">u2</span></a> <a id="ctrs:148" class="idref" href="#ctrs:148"><span class="id" title="binder">ctrs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#CS.Equal"><span class="id" title="definition">CS.Equal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:146"><span class="id" title="variable">u1</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:147"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctrs:148"><span class="id" title="variable">ctrs</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:146"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:147"><span class="id" title="variable">u2</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctrs:148"><span class="id" title="variable">ctrs</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hc</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c'</span> [<span class="id" title="var">eq</span> <span class="id" title="var">Hc'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc'</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c''</span> [<span class="id" title="var">eq'</span> <span class="id" title="var">Hc''</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">c''</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_cstr_two"><span class="id" title="lemma">subst_instance_cstr_two</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c'</span> [<span class="id" title="var">eq</span> <span class="id" title="var">Hc'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a> <span class="id" title="var">u2</span> <span class="id" title="var">c'</span>). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_cstr_two"><span class="id" title="lemma">subst_instance_cstr_two</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs'"><span class="id" title="lemma">In_subst_instance_cstrs'</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_propositional_subst_instance_univ" class="idref" href="#is_propositional_subst_instance_univ"><span class="id" title="lemma">is_propositional_subst_instance_univ</span></a> <a id="u:149" class="idref" href="#u:149"><span class="id" title="binder">u</span></a> <a id="l:150" class="idref" href="#l:150"><span class="id" title="binder">l</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Universes.html#Sort.is_propositional"><span class="id" title="definition">Sort.is_propositional</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_sort"><span class="id" title="instance">subst_instance_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:149"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:150"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Sort.is_propositional"><span class="id" title="definition">Sort.is_propositional</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:150"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbnr</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_prop_subst_instance_univ" class="idref" href="#is_prop_subst_instance_univ"><span class="id" title="lemma">is_prop_subst_instance_univ</span></a> <a id="u:151" class="idref" href="#u:151"><span class="id" title="binder">u</span></a> <a id="l:152" class="idref" href="#l:152"><span class="id" title="binder">l</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Universes.html#Sort.is_prop"><span class="id" title="definition">Sort.is_prop</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_sort"><span class="id" title="instance">subst_instance_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:151"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:152"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Sort.is_prop"><span class="id" title="definition">Sort.is_prop</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:152"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbnr</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_sprop_subst_instance_univ" class="idref" href="#is_sprop_subst_instance_univ"><span class="id" title="lemma">is_sprop_subst_instance_univ</span></a> <a id="u:153" class="idref" href="#u:153"><span class="id" title="binder">u</span></a> <a id="l:154" class="idref" href="#l:154"><span class="id" title="binder">l</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Universes.html#Sort.is_sprop"><span class="id" title="definition">Sort.is_sprop</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_sort"><span class="id" title="instance">subst_instance_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:153"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:154"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Sort.is_sprop"><span class="id" title="definition">Sort.is_sprop</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:154"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbnr</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_prop_subst_instance" class="idref" href="#is_prop_subst_instance"><span class="id" title="lemma">is_prop_subst_instance</span></a> <a id="u:155" class="idref" href="#u:155"><span class="id" title="binder">u</span></a> <a id="x0:156" class="idref" href="#x0:156"><span class="id" title="binder">x0</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#Sort.is_prop"><span class="id" title="definition">Sort.is_prop</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#x0:156"><span class="id" title="variable">x0</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Sort.is_prop"><span class="id" title="definition">Sort.is_prop</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_sort"><span class="id" title="instance">subst_instance_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:155"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#x0:156"><span class="id" title="variable">x0</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#is_prop_subst_instance_univ"><span class="id" title="lemma">is_prop_subst_instance_univ</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sup_subst_instance_univ0" class="idref" href="#sup_subst_instance_univ0"><span class="id" title="lemma">sup_subst_instance_univ0</span></a> <a id="ui:157" class="idref" href="#ui:157"><span class="id" title="binder">ui</span></a> <a id="u1:158" class="idref" href="#u1:158"><span class="id" title="binder">u1</span></a> <a id="u2:159" class="idref" href="#u2:159"><span class="id" title="binder">u2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ui:157"><span class="id" title="variable">ui</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Universe.sup"><span class="id" title="definition">Universe.sup</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:158"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:159"><span class="id" title="variable">u2</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Universe.sup"><span class="id" title="definition">Universe.sup</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ui:157"><span class="id" title="variable">ui</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:158"><span class="id" title="variable">u1</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ui:157"><span class="id" title="variable">ui</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:159"><span class="id" title="variable">u2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.eq_univ'"><span class="id" title="lemma">eq_univ'</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">y</span> [<span class="id" title="var">H</span> <span class="id" title="var">H'</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelExprSet.union_spec"><span class="id" title="lemma">LevelExprSet.union_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelExprSet.union_spec"><span class="id" title="lemma">LevelExprSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>]; [<span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelExprSet.union_spec"><span class="id" title="lemma">LevelExprSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">y</span> [<span class="id" title="var">H</span> <span class="id" title="var">H'</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelExprSet.union_spec"><span class="id" title="lemma">LevelExprSet.union_spec</span></a>|<span class="id" title="tactic">reflexivity</span>]; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sup_subst_instance_univ" class="idref" href="#sup_subst_instance_univ"><span class="id" title="lemma">sup_subst_instance_univ</span></a> <a id="u:160" class="idref" href="#u:160"><span class="id" title="binder">u</span></a> <a id="s1:161" class="idref" href="#s1:161"><span class="id" title="binder">s1</span></a> <a id="s2:162" class="idref" href="#s2:162"><span class="id" title="binder">s2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_sort"><span class="id" title="instance">subst_instance_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:160"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Sort.sup"><span class="id" title="definition">Sort.sup</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s1:161"><span class="id" title="variable">s1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s2:162"><span class="id" title="variable">s2</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Sort.sup"><span class="id" title="definition">Sort.sup</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_sort"><span class="id" title="instance">subst_instance_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:160"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s1:161"><span class="id" title="variable">s1</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_sort"><span class="id" title="instance">subst_instance_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:160"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s2:162"><span class="id" title="variable">s2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s1</span>, <span class="id" title="var">s2</span>; <span class="id" title="var">cbnr</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#sup_subst_instance_univ0"><span class="id" title="lemma">sup_subst_instance_univ0</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="consistent_instance_declared" class="idref" href="#consistent_instance_declared"><span class="id" title="lemma">consistent_instance_declared</span></a> {<a id="cf:163" class="idref" href="#cf:163"><span class="id" title="binder">cf</span></a>: <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="lvs:164" class="idref" href="#lvs:164"><span class="id" title="binder">lvs</span></a> <a id="b4710e2edd67afbb0f77627539b184d0" class="idref" href="#b4710e2edd67afbb0f77627539b184d0"><span class="id" title="binder">φ</span></a> <a id="uctx:166" class="idref" href="#uctx:166"><span class="id" title="binder">uctx</span></a> <a id="u:167" class="idref" href="#u:167"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance"><span class="id" title="definition">consistent_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#lvs:164"><span class="id" title="variable">lvs</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b4710e2edd67afbb0f77627539b184d0"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#uctx:166"><span class="id" title="variable">uctx</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:167"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="l:168" class="idref" href="#l:168"><span class="id" title="binder">l</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Universes.html#LS.mem"><span class="id" title="definition">LS.mem</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:168"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#lvs:164"><span class="id" title="variable">lvs</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:167"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance"><span class="id" title="definition">consistent_instance</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">uctx</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">ctx</span>].<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span>; [<span class="id" title="tactic">reflexivity</span>|<span class="id" title="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="monomorphic_level_notin_AUContext" class="idref" href="#monomorphic_level_notin_AUContext"><span class="id" title="lemma">monomorphic_level_notin_AUContext</span></a> <a id="s:169" class="idref" href="#s:169"><span class="id" title="binder">s</span></a> <a id="1668470898ea5c54a812f2d8767c991b" class="idref" href="#1668470898ea5c54a812f2d8767c991b"><span class="id" title="binder">φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#LS.In"><span class="id" title="definition">LS.In</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Level.level"><span class="id" title="constructor">Level.level</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:169"><span class="id" title="variable">s</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#AUContext.levels"><span class="id" title="definition">AUContext.levels</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#1668470898ea5c54a812f2d8767c991b"><span class="id" title="variable">φ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> φ <span class="id" title="keyword">as</span> [φ1 φ2].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.Utils.MRProd.html#proj1"><span class="id" title="definition">proj1</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#LevelSetProp.of_list_1"><span class="id" title="lemma">LevelSetProp.of_list_1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Sorting.SetoidList.html#InA_alt"><span class="id" title="lemma">SetoidList.InA_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? [? <span class="id" title="var">H</span>]]; <span class="id" title="tactic">subst</span>. <span class="id" title="var">revert</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Utils.MRList.html#mapi"><span class="id" title="definition">mapi</span></a>; <span class="id" title="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> φ1; <span class="id" title="var">cbn</span>. 1: <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="satisfies_equal_sets" class="idref" href="#satisfies_equal_sets"><span class="id" title="instance">satisfies_equal_sets</span></a> <a id="v:171" class="idref" href="#v:171"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Morphisms.Proper</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#respectful"><span class="id" title="definition">Morphisms.respectful</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#CS.Equal"><span class="id" title="definition">CS.Equal</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#satisfies"><span class="id" title="definition">satisfies</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:171"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> φ1 φ2 <span class="id" title="var">H</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span> <span class="id" title="var">c</span> <span class="id" title="var">Hc</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">HH</span>, <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="satisfies_subsets" class="idref" href="#satisfies_subsets"><span class="id" title="instance">satisfies_subsets</span></a> <a id="v:172" class="idref" href="#v:172"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Morphisms.Proper</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#respectful"><span class="id" title="definition">Morphisms.respectful</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#CS.Subset"><span class="id" title="definition">CS.Subset</span></a> (<span class="id" title="keyword">fun</span> <a id="A:173" class="idref" href="#A:173"><span class="id" title="binder">A</span></a> <a id="B:174" class="idref" href="#B:174"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Prop</span> ⇒ <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#B:174"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:173"><span class="id" title="variable">A</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#satisfies"><span class="id" title="definition">satisfies</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:172"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> φ1 φ2 <span class="id" title="var">H</span> <span class="id" title="var">H2</span> <span class="id" title="var">c</span> <span class="id" title="var">Hc</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>, <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">subst_instance_cstrs_two</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">satisfies_equal_sets</span> <span class="id" title="var">satisfies_subsets</span> : <span class="id" title="var">univ_subst</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="satisfies0_subst_instance_ctr" class="idref" href="#satisfies0_subst_instance_ctr"><span class="id" title="lemma">satisfies0_subst_instance_ctr</span></a> <a id="u:175" class="idref" href="#u:175"><span class="id" title="binder">u</span></a> <a id="v:176" class="idref" href="#v:176"><span class="id" title="binder">v</span></a> <a id="c:177" class="idref" href="#c:177"><span class="id" title="binder">c</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Universes.html#satisfies0"><span class="id" title="inductive">satisfies0</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:176"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:175"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:177"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#satisfies0"><span class="id" title="inductive">satisfies0</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_valuation"><span class="id" title="definition">subst_instance_valuation</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:175"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:176"><span class="id" title="variable">v</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:177"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">l1</span> []] <span class="id" title="var">l2</span>]; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a>; <span class="id" title="var">cbn</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> &lt;- ?<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_val'"><span class="id" title="lemma">subst_instance_level_val'</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_val'"><span class="id" title="lemma">subst_instance_level_val'</span></a>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="satisfies_subst_instance_ctr" class="idref" href="#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a> <a id="u:178" class="idref" href="#u:178"><span class="id" title="binder">u</span></a> <a id="v:179" class="idref" href="#v:179"><span class="id" title="binder">v</span></a> <a id="ctrs:180" class="idref" href="#ctrs:180"><span class="id" title="binder">ctrs</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Universes.html#satisfies"><span class="id" title="definition">satisfies</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:179"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:178"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctrs:180"><span class="id" title="variable">ctrs</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#satisfies"><span class="id" title="definition">satisfies</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_valuation"><span class="id" title="definition">subst_instance_valuation</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:178"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:179"><span class="id" title="variable">v</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctrs:180"><span class="id" title="variable">ctrs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hv</span> <span class="id" title="var">c</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies0_subst_instance_ctr"><span class="id" title="lemma">satisfies0_subst_instance_ctr</span></a>; <span class="id" title="var">tas</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a>. <span class="id" title="tactic">∃</span> <span class="id" title="var">c</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c'</span> [? <span class="id" title="var">Hc'</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies0_subst_instance_ctr"><span class="id" title="lemma">satisfies0_subst_instance_ctr</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
global constraints are monomorphic 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="not_var_global_levels" class="idref" href="#not_var_global_levels"><span class="id" title="lemma">not_var_global_levels</span></a> {<a id="cf:181" class="idref" href="#cf:181"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="a79e40464235e89aff1db6e8d131ce66" class="idref" href="#a79e40464235e89aff1db6e8d131ce66"><span class="id" title="binder">Σ</span></a>} (<a id="ecac4268dea11ae153e45b0787190ad7" class="idref" href="#ecac4268dea11ae153e45b0787190ad7"><span class="id" title="binder">hΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a79e40464235e89aff1db6e8d131ce66"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#LS.For_all"><span class="id" title="definition">LS.For_all</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.is_var"><span class="id" title="definition">Level.is_var</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_levels"><span class="id" title="definition">global_levels</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a79e40464235e89aff1db6e8d131ce66"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hΣ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">onu</span> <span class="id" title="var">ond</span>]. <span class="id" title="tactic">apply</span> <span class="id" title="var">onu</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="wf_ext_wk" class="idref" href="#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> {<a id="cf:184" class="idref" href="#cf:184"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="140a8189dc044d625ce3311ee7ac5019" class="idref" href="#140a8189dc044d625ce3311ee7ac5019"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>)<br/>
&nbsp;&nbsp;:= <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#140a8189dc044d625ce3311ee7ac5019"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#on_udecl_prop"><span class="id" title="definition">on_udecl_prop</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#140a8189dc044d625ce3311ee7ac5019"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#140a8189dc044d625ce3311ee7ac5019"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_ext_wk_wf" class="idref" href="#wf_ext_wk_wf"><span class="id" title="lemma">wf_ext_wk_wf</span></a> {<a id="cf:186" class="idref" href="#cf:186"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="13ce99c998910778525c07f31a0be534" class="idref" href="#13ce99c998910778525c07f31a0be534"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#13ce99c998910778525c07f31a0be534"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#13ce99c998910778525c07f31a0be534"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">wf_ext_wk_wf</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="not_var_global_ext_levels" class="idref" href="#not_var_global_ext_levels"><span class="id" title="lemma">not_var_global_ext_levels</span></a> {<a id="cf:188" class="idref" href="#cf:188"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="37ec568f87ae2731db728c4dee5dd212" class="idref" href="#37ec568f87ae2731db728c4dee5dd212"><span class="id" title="binder">Σ</span></a> (<a id="e9e158723175eb5e4f4316ba06564ca5" class="idref" href="#e9e158723175eb5e4f4316ba06564ca5"><span class="id" title="binder">hΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#37ec568f87ae2731db728c4dee5dd212"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Monomorphic_ctx"><span class="id" title="constructor">Monomorphic_ctx</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#LS.For_all"><span class="id" title="definition">LS.For_all</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.is_var"><span class="id" title="definition">Level.is_var</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#37ec568f87ae2731db728c4dee5dd212"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Monomorphic_ctx"><span class="id" title="constructor">Monomorphic_ctx</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">hΣ</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="levels_global_constraint" class="idref" href="#levels_global_constraint"><span class="id" title="lemma">levels_global_constraint</span></a> {<a id="cf:191" class="idref" href="#cf:191"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="7a30855d6487ab608271d9196ba33291" class="idref" href="#7a30855d6487ab608271d9196ba33291"><span class="id" title="binder">Σ</span></a> (<a id="89e07726ca65fa1dba390c4d964c2c2d" class="idref" href="#89e07726ca65fa1dba390c4d964c2c2d"><span class="id" title="binder">hΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7a30855d6487ab608271d9196ba33291"><span class="id" title="variable">Σ</span></a>) <a id="c:194" class="idref" href="#c:194"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#CS.In"><span class="id" title="definition">CS.In</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:194"><span class="id" title="variable">c</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_constraints"><span class="id" title="definition">global_constraints</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7a30855d6487ab608271d9196ba33291"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#LS.In"><span class="id" title="definition">LS.In</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:194"><span class="id" title="variable">c</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1.1</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_levels"><span class="id" title="definition">global_levels</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7a30855d6487ab608271d9196ba33291"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#LS.In"><span class="id" title="definition">LS.In</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:194"><span class="id" title="variable">c</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_levels"><span class="id" title="definition">global_levels</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7a30855d6487ab608271d9196ba33291"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">inc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hΣ</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">c</span> <span class="id" title="var">inc</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">l</span> <span class="id" title="var">eq</span>] <span class="id" title="var">r</span>]; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="levels_global_ext_constraint" class="idref" href="#levels_global_ext_constraint"><span class="id" title="lemma">levels_global_ext_constraint</span></a> {<a id="cf:195" class="idref" href="#cf:195"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="0d82cc8b7f207b2b18c7ca2bdebdd1ca" class="idref" href="#0d82cc8b7f207b2b18c7ca2bdebdd1ca"><span class="id" title="binder">Σ</span></a> <a id="2316fe99f045f0569a9e0cd032c88614" class="idref" href="#2316fe99f045f0569a9e0cd032c88614"><span class="id" title="binder">φ</span></a> (<a id="b823dad1d6ccc2b23081bdb488b60ffe" class="idref" href="#b823dad1d6ccc2b23081bdb488b60ffe"><span class="id" title="binder">hΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#0d82cc8b7f207b2b18c7ca2bdebdd1ca"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2316fe99f045f0569a9e0cd032c88614"><span class="id" title="variable">φ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a id="c:199" class="idref" href="#c:199"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#CS.In"><span class="id" title="definition">CS.In</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:199"><span class="id" title="variable">c</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#0d82cc8b7f207b2b18c7ca2bdebdd1ca"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2316fe99f045f0569a9e0cd032c88614"><span class="id" title="variable">φ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#LS.In"><span class="id" title="definition">LS.In</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:199"><span class="id" title="variable">c</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1.1</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#0d82cc8b7f207b2b18c7ca2bdebdd1ca"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2316fe99f045f0569a9e0cd032c88614"><span class="id" title="variable">φ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#LS.In"><span class="id" title="definition">LS.In</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:199"><span class="id" title="variable">c</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#0d82cc8b7f207b2b18c7ca2bdebdd1ca"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2316fe99f045f0569a9e0cd032c88614"><span class="id" title="variable">φ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#CS.union_spec"><span class="id" title="lemma">CS.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hΣ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">hΣ</span> <span class="id" title="var">H</span>φ], <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hc</span>|<span class="id" title="var">H</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>φ. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">l1</span> <span class="id" title="var">c</span>] <span class="id" title="var">l2</span>]; <span class="id" title="tactic">exact</span> (<span class="id" title="var">H</span>φ <span class="id" title="var">_</span> <span class="id" title="var">Hc</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#levels_global_constraint"><span class="id" title="lemma">levels_global_constraint</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LS.union_spec"><span class="id" title="lemma">LS.union_spec</span></a>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_monomorphic_cstr" class="idref" href="#is_monomorphic_cstr"><span class="id" title="definition">is_monomorphic_cstr</span></a> (<a id="c:200" class="idref" href="#c:200"><span class="id" title="binder">c</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#UnivConstraint.t"><span class="id" title="definition">UnivConstraint.t</span></a>)<br/>
&nbsp;&nbsp;:= <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Level.is_var"><span class="id" title="definition">Level.is_var</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:200"><span class="id" title="variable">c</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1.1</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Level.is_var"><span class="id" title="definition">Level.is_var</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:200"><span class="id" title="variable">c</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="monomorphic_global_constraint" class="idref" href="#monomorphic_global_constraint"><span class="id" title="lemma">monomorphic_global_constraint</span></a> {<a id="cf:201" class="idref" href="#cf:201"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="eb108301922c3577e58b724777773441" class="idref" href="#eb108301922c3577e58b724777773441"><span class="id" title="binder">Σ</span></a> (<a id="a3390b8d939183ce0a8000dea2c370d8" class="idref" href="#a3390b8d939183ce0a8000dea2c370d8"><span class="id" title="binder">hΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#eb108301922c3577e58b724777773441"><span class="id" title="variable">Σ</span></a>) <a id="c:204" class="idref" href="#c:204"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#CS.In"><span class="id" title="definition">CS.In</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:204"><span class="id" title="variable">c</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_constraints"><span class="id" title="definition">global_constraints</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#eb108301922c3577e58b724777773441"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#is_monomorphic_cstr"><span class="id" title="definition">is_monomorphic_cstr</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:204"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#levels_global_constraint"><span class="id" title="lemma">levels_global_constraint</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#not_var_global_levels"><span class="id" title="lemma">not_var_global_levels</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#not_var_global_levels"><span class="id" title="lemma">not_var_global_levels</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="monomorphic_global_constraint_ext" class="idref" href="#monomorphic_global_constraint_ext"><span class="id" title="lemma">monomorphic_global_constraint_ext</span></a> {<a id="cf:205" class="idref" href="#cf:205"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="72f91791bbb602d0bfaf8d99438cd4c7" class="idref" href="#72f91791bbb602d0bfaf8d99438cd4c7"><span class="id" title="binder">Σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="18b86075535a6bbb3f0e41167a981e3f" class="idref" href="#18b86075535a6bbb3f0e41167a981e3f"><span class="id" title="binder">hΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#72f91791bbb602d0bfaf8d99438cd4c7"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Monomorphic_ctx"><span class="id" title="constructor">Monomorphic_ctx</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a id="c:208" class="idref" href="#c:208"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#CS.In"><span class="id" title="definition">CS.In</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:208"><span class="id" title="variable">c</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#72f91791bbb602d0bfaf8d99438cd4c7"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Monomorphic_ctx"><span class="id" title="constructor">Monomorphic_ctx</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#is_monomorphic_cstr"><span class="id" title="definition">is_monomorphic_cstr</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:208"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#levels_global_ext_constraint"><span class="id" title="lemma">levels_global_ext_constraint</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#not_var_global_ext_levels"><span class="id" title="lemma">not_var_global_ext_levels</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#not_var_global_ext_levels"><span class="id" title="lemma">not_var_global_ext_levels</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">monomorphic_global_constraint</span> <span class="id" title="var">monomorphic_global_constraint_ext</span><br/>
&nbsp;&nbsp;: <span class="id" title="var">univ_subst</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_monom_cstr" class="idref" href="#subst_instance_monom_cstr"><span class="id" title="lemma">subst_instance_monom_cstr</span></a> <a id="inst:209" class="idref" href="#inst:209"><span class="id" title="binder">inst</span></a> <a id="c:210" class="idref" href="#c:210"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#is_monomorphic_cstr"><span class="id" title="definition">is_monomorphic_cstr</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:210"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst:209"><span class="id" title="variable">inst</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:210"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:210"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [[[] ?] []]; <span class="id" title="var">cbnr</span>; <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equal_subst_instance_cstrs_mono" class="idref" href="#equal_subst_instance_cstrs_mono"><span class="id" title="lemma">equal_subst_instance_cstrs_mono</span></a> <a id="u:211" class="idref" href="#u:211"><span class="id" title="binder">u</span></a> <a id="cstrs:212" class="idref" href="#cstrs:212"><span class="id" title="binder">cstrs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#CS.For_all"><span class="id" title="definition">CS.For_all</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#is_monomorphic_cstr"><span class="id" title="definition">is_monomorphic_cstr</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cstrs:212"><span class="id" title="variable">cstrs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#CS.Equal"><span class="id" title="definition">CS.Equal</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:211"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cstrs:212"><span class="id" title="variable">cstrs</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cstrs:212"><span class="id" title="variable">cstrs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span> <span class="id" title="var">c</span>. <span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c'</span> [<span class="id" title="var">eq</span> <span class="id" title="var">Hc'</span>]]. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_monom_cstr"><span class="id" title="lemma">subst_instance_monom_cstr</span></a>; <span class="id" title="var">aa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_monom_cstr"><span class="id" title="lemma">subst_instance_monom_cstr</span></a>; <span class="id" title="var">aa</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_cstrs_union" class="idref" href="#subst_instance_cstrs_union"><span class="id" title="lemma">subst_instance_cstrs_union</span></a> <a id="u:213" class="idref" href="#u:213"><span class="id" title="binder">u</span></a> <a id="d4f3661c96a2b875ed8065676f698f5e" class="idref" href="#d4f3661c96a2b875ed8065676f698f5e"><span class="id" title="binder">φ</span></a> <a id="066ce05168b6c2544a573a1626ee7eb2" class="idref" href="#066ce05168b6c2544a573a1626ee7eb2"><span class="id" title="binder">φ'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#CS.Equal"><span class="id" title="definition">CS.Equal</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:213"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#CS.union"><span class="id" title="definition">CS.union</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#d4f3661c96a2b875ed8065676f698f5e"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#066ce05168b6c2544a573a1626ee7eb2"><span class="id" title="variable">φ'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#CS.union"><span class="id" title="definition">CS.union</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:213"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#d4f3661c96a2b875ed8065676f698f5e"><span class="id" title="variable">φ</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:213"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#066ce05168b6c2544a573a1626ee7eb2"><span class="id" title="variable">φ'</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c'</span> [<span class="id" title="var">eq</span> <span class="id" title="var">Hc</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#CS.union_spec"><span class="id" title="lemma">CS.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#CS.union_spec"><span class="id" title="lemma">CS.union_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span>; [<span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>]; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs'"><span class="id" title="lemma">In_subst_instance_cstrs'</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#CS.union_spec"><span class="id" title="lemma">CS.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hc</span>|<span class="id" title="var">Hc</span>]; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c'</span>[<span class="id" title="var">eq</span> <span class="id" title="var">Hc</span>]]; <span class="id" title="tactic">∃</span> <span class="id" title="var">c'</span>; <span class="id" title="var">aa</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#CS.union_spec"><span class="id" title="lemma">CS.union_spec</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>]; <span class="id" title="var">aa</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#CS.For_all"><span class="id" title="definition">CS.For_all</span></a> : <span class="id" title="var">univ_subst</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_context_set" class="idref" href="#sub_context_set"><span class="id" title="definition">sub_context_set</span></a> (<a id="95e297f56136cb1f92a1bf59e8f66017" class="idref" href="#95e297f56136cb1f92a1bf59e8f66017"><span class="id" title="binder">φ</span></a> <a id="cf228c39173564b65f86c030e9b20cd2" class="idref" href="#cf228c39173564b65f86c030e9b20cd2"><span class="id" title="binder">φ'</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#ContextSet.t"><span class="id" title="definition">ContextSet.t</span></a>)<br/>
&nbsp;&nbsp;:= <a class="idref" href="MetaRocq.Common.Universes.html#LS.Subset"><span class="id" title="definition">LS.Subset</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#95e297f56136cb1f92a1bf59e8f66017"><span class="id" title="variable">φ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cf228c39173564b65f86c030e9b20cd2"><span class="id" title="variable">φ'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#CS.Subset"><span class="id" title="definition">CS.Subset</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#95e297f56136cb1f92a1bf59e8f66017"><span class="id" title="variable">φ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cf228c39173564b65f86c030e9b20cd2"><span class="id" title="variable">φ'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="global_ext_context_set" class="idref" href="#global_ext_context_set"><span class="id" title="definition">global_ext_context_set</span></a> <a id="ccf293e838f888857628a551bd743fea" class="idref" href="#ccf293e838f888857628a551bd743fea"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#ContextSet.t"><span class="id" title="definition">ContextSet.t</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ccf293e838f888857628a551bd743fea"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ccf293e838f888857628a551bd743fea"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="sub_context_set_trans" class="idref" href="#sub_context_set_trans"><span class="id" title="instance">sub_context_set_trans</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.RelationClasses.html#Transitive"><span class="id" title="class">RelationClasses.Transitive</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#sub_context_set"><span class="id" title="definition">sub_context_set</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; (<span class="id" title="var">etransitivity</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>]).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="consistent_ext_trans_polymorphic_case_aux" class="idref" href="#consistent_ext_trans_polymorphic_case_aux"><span class="id" title="lemma">consistent_ext_trans_polymorphic_case_aux</span></a> {<a id="cf:219" class="idref" href="#cf:219"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="997ee4d95757579da4f10261f924b415" class="idref" href="#997ee4d95757579da4f10261f924b415"><span class="id" title="binder">Σ</span></a> <a id="51672599cf96477e500c47507be95ccd" class="idref" href="#51672599cf96477e500c47507be95ccd"><span class="id" title="binder">φ1</span></a> <a id="ed6a4188041b84f3da8e345526966222" class="idref" href="#ed6a4188041b84f3da8e345526966222"><span class="id" title="binder">φ2</span></a> <a id="08924183a7e86a82b37d4d0936cf0f31" class="idref" href="#08924183a7e86a82b37d4d0936cf0f31"><span class="id" title="binder">φ'</span></a> <a id="udecl:224" class="idref" href="#udecl:224"><span class="id" title="binder">udecl</span></a> <a id="inst:225" class="idref" href="#inst:225"><span class="id" title="binder">inst</span></a> <a id="inst':226" class="idref" href="#inst':226"><span class="id" title="binder">inst'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#997ee4d95757579da4f10261f924b415"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Polymorphic_ctx"><span class="id" title="constructor">Polymorphic_ctx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#51672599cf96477e500c47507be95ccd"><span class="id" title="variable">φ1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ed6a4188041b84f3da8e345526966222"><span class="id" title="variable">φ2</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#valid_constraints0"><span class="id" title="definition">valid_constraints0</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#997ee4d95757579da4f10261f924b415"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Polymorphic_ctx"><span class="id" title="constructor">Polymorphic_ctx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#51672599cf96477e500c47507be95ccd"><span class="id" title="variable">φ1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ed6a4188041b84f3da8e345526966222"><span class="id" title="variable">φ2</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst:225"><span class="id" title="variable">inst</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl:224"><span class="id" title="variable">udecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#valid_constraints0"><span class="id" title="definition">valid_constraints0</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#997ee4d95757579da4f10261f924b415"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#08924183a7e86a82b37d4d0936cf0f31"><span class="id" title="variable">φ'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst':226"><span class="id" title="variable">inst'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ed6a4188041b84f3da8e345526966222"><span class="id" title="variable">φ2</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#valid_constraints0"><span class="id" title="definition">valid_constraints0</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#997ee4d95757579da4f10261f924b415"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#08924183a7e86a82b37d4d0936cf0f31"><span class="id" title="variable">φ'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst':226"><span class="id" title="variable">inst'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst:225"><span class="id" title="variable">inst</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl:224"><span class="id" title="variable">udecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">HΣ</span> <span class="id" title="var">H</span>φ] <span class="id" title="var">H3</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">v</span> <span class="id" title="var">Hv</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_cstrs_two"><span class="id" title="lemma">subst_instance_cstrs_two</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a>; <span class="id" title="var">tas</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#satisfies_union"><span class="id" title="lemma">satisfies_union</span></a>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#equal_subst_instance_cstrs_mono"><span class="id" title="lemma">equal_subst_instance_cstrs_mono</span></a>; <span class="id" title="var">aa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#satisfies_union"><span class="id" title="lemma">satisfies_union</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hv</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="consistent_ext_trans_polymorphic_cases" class="idref" href="#consistent_ext_trans_polymorphic_cases"><span class="id" title="lemma">consistent_ext_trans_polymorphic_cases</span></a> {<a id="cf:227" class="idref" href="#cf:227"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="4777383971b98f432d32d2aebb274914" class="idref" href="#4777383971b98f432d32d2aebb274914"><span class="id" title="binder">Σ</span></a> <a id="074daca6c1cff022fcfe6283ab14ca60" class="idref" href="#074daca6c1cff022fcfe6283ab14ca60"><span class="id" title="binder">φ</span></a> <a id="61fcd04d74a1d97eef0eb22c9deb41df" class="idref" href="#61fcd04d74a1d97eef0eb22c9deb41df"><span class="id" title="binder">φ'</span></a> <a id="udecl:231" class="idref" href="#udecl:231"><span class="id" title="binder">udecl</span></a> <a id="inst:232" class="idref" href="#inst:232"><span class="id" title="binder">inst</span></a> <a id="inst':233" class="idref" href="#inst':233"><span class="id" title="binder">inst'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#4777383971b98f432d32d2aebb274914"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#074daca6c1cff022fcfe6283ab14ca60"><span class="id" title="variable">φ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#4777383971b98f432d32d2aebb274914"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#074daca6c1cff022fcfe6283ab14ca60"><span class="id" title="variable">φ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Polymorphic_ctx"><span class="id" title="constructor">Polymorphic_ctx</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl:231"><span class="id" title="variable">udecl</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst:232"><span class="id" title="variable">inst</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#4777383971b98f432d32d2aebb274914"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#61fcd04d74a1d97eef0eb22c9deb41df"><span class="id" title="variable">φ'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#074daca6c1cff022fcfe6283ab14ca60"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst':233"><span class="id" title="variable">inst'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#4777383971b98f432d32d2aebb274914"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#61fcd04d74a1d97eef0eb22c9deb41df"><span class="id" title="variable">φ'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Polymorphic_ctx"><span class="id" title="constructor">Polymorphic_ctx</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl:231"><span class="id" title="variable">udecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst':233"><span class="id" title="variable">inst'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst:232"><span class="id" title="variable">inst</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HΣ</span>φ [<span class="id" title="var">H</span> [<span class="id" title="var">H0</span> <span class="id" title="var">H1</span>]] <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;2: <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_instance_length"><span class="id" title="lemma">subst_instance_instance_length</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_map"><span class="id" title="lemma">forallb_map</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb_forall"><span class="id" title="lemma">forallb_forall</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">Hl</span>. &nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb_forall"><span class="id" title="lemma">forallb_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">H</span> <span class="id" title="var">H2</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet_mem_union"><span class="id" title="definition">LevelSet_mem_union</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet_mem_union"><span class="id" title="definition">LevelSet_mem_union</span></a>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#consistent_instance_declared"><span class="id" title="lemma">consistent_instance_declared</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_nth'"><span class="id" title="lemma">forallb_nth'</span></a> <span class="id" title="var">n</span> <a class="idref" href="MetaRocq.Common.Universes.html#Level.lzero"><span class="id" title="constructor">Level.lzero</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [[? [<span class="id" title="var">H2</span> ?]]|<span class="id" title="var">H2</span>]; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LS.mem_spec"><span class="id" title="lemma">LS.mem_spec</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels_InSet"><span class="id" title="lemma">global_ext_levels_InSet</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;×  <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LS.mem_spec"><span class="id" title="lemma">LS.mem_spec</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels_InSet"><span class="id" title="lemma">global_ext_levels_InSet</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LS.mem_spec"><span class="id" title="lemma">LS.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> φ <span class="id" title="keyword">as</span> [|[φ1 φ2]]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSetFact.empty_iff"><span class="id" title="lemma">LevelSetFact.empty_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#monomorphic_level_notin_AUContext"><span class="id" title="lemma">monomorphic_level_notin_AUContext</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#consistent_instance_declared"><span class="id" title="lemma">consistent_instance_declared</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_nth'"><span class="id" title="lemma">forallb_nth'</span></a> <span class="id" title="var">n</span> <a class="idref" href="MetaRocq.Common.Universes.html#Level.lzero"><span class="id" title="constructor">Level.lzero</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [[? [<span class="id" title="var">H2</span> ?]]|<span class="id" title="var">H2</span>]; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LS.mem_spec"><span class="id" title="lemma">LS.mem_spec</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels_InSet"><span class="id" title="lemma">global_ext_levels_InSet</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance"><span class="id" title="definition">consistent_instance</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.config.html#check_univs"><span class="id" title="method">check_univs</span></a>; [|<span class="id" title="tactic">trivial</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> φ <span class="id" title="keyword">as</span> [|[φ1 φ2]]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">v</span> <span class="id" title="var">Hv</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_cstrs_two"><span class="id" title="lemma">subst_instance_cstrs_two</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#equal_subst_instance_cstrs_mono"><span class="id" title="lemma">equal_subst_instance_cstrs_mono</span></a>; <span class="id" title="var">aa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#satisfies_union"><span class="id" title="lemma">satisfies_union</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">Hc</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#satisfies_union"><span class="id" title="lemma">satisfies_union</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">H2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#consistent_ext_trans_polymorphic_case_aux"><span class="id" title="lemma">consistent_ext_trans_polymorphic_case_aux</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="consistent_ext_trans" class="idref" href="#consistent_ext_trans"><span class="id" title="lemma">consistent_ext_trans</span></a> {<a id="cf:234" class="idref" href="#cf:234"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="882fcf1fe94e59b388c5dc19a766ec48" class="idref" href="#882fcf1fe94e59b388c5dc19a766ec48"><span class="id" title="binder">Σ</span></a> <a id="9bbdd4a9dea8293b291bfef904fcadbf" class="idref" href="#9bbdd4a9dea8293b291bfef904fcadbf"><span class="id" title="binder">φ</span></a> <a id="155580d2965731d53a780ac53a628cd0" class="idref" href="#155580d2965731d53a780ac53a628cd0"><span class="id" title="binder">φ'</span></a> <a id="udecl:238" class="idref" href="#udecl:238"><span class="id" title="binder">udecl</span></a> <a id="inst:239" class="idref" href="#inst:239"><span class="id" title="binder">inst</span></a> <a id="inst':240" class="idref" href="#inst':240"><span class="id" title="binder">inst'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#882fcf1fe94e59b388c5dc19a766ec48"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9bbdd4a9dea8293b291bfef904fcadbf"><span class="id" title="variable">φ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#882fcf1fe94e59b388c5dc19a766ec48"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9bbdd4a9dea8293b291bfef904fcadbf"><span class="id" title="variable">φ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl:238"><span class="id" title="variable">udecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst:239"><span class="id" title="variable">inst</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#882fcf1fe94e59b388c5dc19a766ec48"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#155580d2965731d53a780ac53a628cd0"><span class="id" title="variable">φ'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9bbdd4a9dea8293b291bfef904fcadbf"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst':240"><span class="id" title="variable">inst'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#882fcf1fe94e59b388c5dc19a766ec48"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#155580d2965731d53a780ac53a628cd0"><span class="id" title="variable">φ'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl:238"><span class="id" title="variable">udecl</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst':240"><span class="id" title="variable">inst'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst:239"><span class="id" title="variable">inst</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HΣ</span>φ <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">udecl</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">udecl</span>].<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#consistent_ext_trans_polymorphic_cases"><span class="id" title="lemma">consistent_ext_trans_polymorphic_cases</span></a>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">consistent_ext_trans</span> : <span class="id" title="var">univ_subst</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="consistent_instance_valid_constraints" class="idref" href="#consistent_instance_valid_constraints"><span class="id" title="lemma">consistent_instance_valid_constraints</span></a> {<a id="cf:241" class="idref" href="#cf:241"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="22337bb881c42df2da37d2d05d2544db" class="idref" href="#22337bb881c42df2da37d2d05d2544db"><span class="id" title="binder">Σ</span></a> <a id="a8826d3e3a7419ca0353aa388dba1f62" class="idref" href="#a8826d3e3a7419ca0353aa388dba1f62"><span class="id" title="binder">φ</span></a> <a id="u:244" class="idref" href="#u:244"><span class="id" title="binder">u</span></a> <a id="univs:245" class="idref" href="#univs:245"><span class="id" title="binder">univs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#22337bb881c42df2da37d2d05d2544db"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a8826d3e3a7419ca0353aa388dba1f62"><span class="id" title="variable">φ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#22337bb881c42df2da37d2d05d2544db"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:245"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a8826d3e3a7419ca0353aa388dba1f62"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:244"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#22337bb881c42df2da37d2d05d2544db"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:245"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:244"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#22337bb881c42df2da37d2d05d2544db"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a8826d3e3a7419ca0353aa388dba1f62"><span class="id" title="variable">φ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HΣ</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a>; <span class="id" title="var">case_eq</span> <a class="idref" href="MetaRocq.Common.config.html#check_univs"><span class="id" title="method">check_univs</span></a>; [<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcf</span>|<span class="id" title="tactic">trivial</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">v</span> <span class="id" title="var">Hv</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#satisfies_union"><span class="id" title="lemma">satisfies_union</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> φ <span class="id" title="keyword">as</span> [|[φ1 φ2]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#equal_subst_instance_cstrs_mono"><span class="id" title="lemma">equal_subst_instance_cstrs_mono</span></a>; <span class="id" title="var">aa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">hin</span>. <span class="id" title="var">csets</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">hin</span>. <span class="id" title="var">csets</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">H1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a>; <span class="id" title="var">aa</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#satisfies_union"><span class="id" title="lemma">satisfies_union</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#equal_subst_instance_cstrs_mono"><span class="id" title="lemma">equal_subst_instance_cstrs_mono</span></a>; <span class="id" title="var">aa</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">consistent_instance_valid_constraints</span> : <span class="id" title="var">univ_subst</span>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="SubstUnivPreserved" class="idref" href="#SubstUnivPreserved"><span class="id" title="inductive, record"><span id="SubstUnivPreserved" class="id">SubstUnivPreserved</span></span></a> {<a id="cf:246" class="idref" href="#cf:246"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="A:247" class="idref" href="#A:247"><span class="id" title="binder">A</span></a>} `{<a id="H:248" class="idref" href="#H:248"><span class="id" title="binder">UnivSubst</span></a> <a id="H:248" class="idref" href="#H:248"><span class="id" title="binder">A</span></a>} (<a id="R:249" class="idref" href="#R:249"><span class="id" title="binder">R</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#ConstraintSet.t"><span class="id" title="definition">ConstraintSet.t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.CRelationClasses.html#crelation"><span class="id" title="definition">crelation</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:247"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;:= <a id="Build_SubstUnivPreserved" class="idref" href="#Build_SubstUnivPreserved"><span class="id" title="constructor, projection"><span id="Build_SubstUnivPreserved" class="id">Build_SubstUnivPreserved</span></span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="5677b2c837ba8f6bdf241a5603d8b630" class="idref" href="#5677b2c837ba8f6bdf241a5603d8b630"><span class="id" title="binder">φ</span></a> <a id="2e03dcbdab56534476eb3a74ee2d319f" class="idref" href="#2e03dcbdab56534476eb3a74ee2d319f"><span class="id" title="binder">φ'</span></a> (<a id="u:253" class="idref" href="#u:253"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#Instance.t"><span class="id" title="definition">Instance.t</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2e03dcbdab56534476eb3a74ee2d319f"><span class="id" title="variable">φ'</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:253"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#5677b2c837ba8f6bdf241a5603d8b630"><span class="id" title="variable">φ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.CRelationClasses.html#subrelation"><span class="id" title="class">subrelation</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#R:249"><span class="id" title="variable">R</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#5677b2c837ba8f6bdf241a5603d8b630"><span class="id" title="variable">φ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">precompose</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">R</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">φ')</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">subst_instance</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">u</span></a><a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">)</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="satisfies_subst_instance" class="idref" href="#satisfies_subst_instance"><span class="id" title="lemma">satisfies_subst_instance</span></a> {<a id="cf:255" class="idref" href="#cf:255"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="f5d02f0005c739e0b0dd5e8006b1d6ec" class="idref" href="#f5d02f0005c739e0b0dd5e8006b1d6ec"><span class="id" title="binder">φ</span></a> <a id="12f6ef4d0d6eb69264b18847b3b59d60" class="idref" href="#12f6ef4d0d6eb69264b18847b3b59d60"><span class="id" title="binder">φ'</span></a> <a id="u:258" class="idref" href="#u:258"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.config.html#check_univs"><span class="id" title="method">check_univs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#12f6ef4d0d6eb69264b18847b3b59d60"><span class="id" title="variable">φ'</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:258"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f5d02f0005c739e0b0dd5e8006b1d6ec"><span class="id" title="variable">φ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="v:259" class="idref" href="#v:259"><span class="id" title="binder">v</span></a>, <a class="idref" href="MetaRocq.Common.Universes.html#satisfies"><span class="id" title="definition">satisfies</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:259"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#12f6ef4d0d6eb69264b18847b3b59d60"><span class="id" title="variable">φ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#satisfies"><span class="id" title="definition">satisfies</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_valuation"><span class="id" title="definition">subst_instance_valuation</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:258"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:259"><span class="id" title="variable">v</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f5d02f0005c739e0b0dd5e8006b1d6ec"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcf</span> <span class="id" title="var">HH</span> <span class="id" title="var">v</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a>; <span class="id" title="var">aa</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="leq_universe_subst_instance" class="idref" href="#leq_universe_subst_instance"><span class="id" title="instance">leq_universe_subst_instance</span></a> {<a id="cf:260" class="idref" href="#cf:260"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#leq_universe"><span class="id" title="definition">leq_universe</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> φ φ' <span class="id" title="var">u</span> <span class="id" title="var">HH</span> <span class="id" title="var">exprs</span> <span class="id" title="var">exprs'</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfold_univ_rel</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_universe_val'"><span class="id" title="lemma">subst_instance_universe_val'</span></a>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="eq_universe_subst_instance" class="idref" href="#eq_universe_subst_instance"><span class="id" title="instance">eq_universe_subst_instance</span></a> {<a id="cf:261" class="idref" href="#cf:261"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#eq_universe"><span class="id" title="definition">eq_universe</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> φ φ' <span class="id" title="var">u</span> <span class="id" title="var">HH</span> <span class="id" title="var">exprs</span> <span class="id" title="var">exprs'</span> <span class="id" title="var">Hle</span>; <span class="id" title="var">cbnr</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfold_univ_rel</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_universe_val'"><span class="id" title="lemma">subst_instance_universe_val'</span></a>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="leq_sort_subst_instance" class="idref" href="#leq_sort_subst_instance"><span class="id" title="instance">leq_sort_subst_instance</span></a> {<a id="cf:262" class="idref" href="#cf:262"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#leq_sort"><span class="id" title="definition">leq_sort</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> φ φ' <span class="id" title="var">u</span> <span class="id" title="var">HH</span> [| | <span class="id" title="var">exprs</span>] [| | <span class="id" title="var">exprs'</span>] <span class="id" title="var">Hle</span>; <span class="id" title="var">cbnr</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Build_SubstUnivPreserved"><span class="id" title="definition">Build_SubstUnivPreserved</span></a>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="eq_sort_subst_instance" class="idref" href="#eq_sort_subst_instance"><span class="id" title="instance">eq_sort_subst_instance</span></a> {<a id="cf:263" class="idref" href="#cf:263"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#eq_sort"><span class="id" title="definition">eq_sort</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> φ φ' <span class="id" title="var">u</span> <span class="id" title="var">HH</span> [| | <span class="id" title="var">exprs</span>] [| | <span class="id" title="var">exprs'</span>] <span class="id" title="var">Hle</span>; <span class="id" title="var">cbnr</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Build_SubstUnivPreserved"><span class="id" title="definition">Build_SubstUnivPreserved</span></a>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="compare_universe_subst_instance" class="idref" href="#compare_universe_subst_instance"><span class="id" title="instance">compare_universe_subst_instance</span></a> {<a id="cf:264" class="idref" href="#cf:264"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="pb:265" class="idref" href="#pb:265"><span class="id" title="binder">pb</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<span class="id" title="keyword">fun</span> <a id="c57e6bf68195184d5ab69e687d7e40ee" class="idref" href="#c57e6bf68195184d5ab69e687d7e40ee"><span class="id" title="binder">φ</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Universes.html#compare_universe"><span class="id" title="definition">compare_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c57e6bf68195184d5ab69e687d7e40ee"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:265"><span class="id" title="variable">pb</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pb</span>; <span class="id" title="var">tc</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="compare_sort_subst_instance" class="idref" href="#compare_sort_subst_instance"><span class="id" title="instance">compare_sort_subst_instance</span></a> {<a id="cf:267" class="idref" href="#cf:267"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="pb:268" class="idref" href="#pb:268"><span class="id" title="binder">pb</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<span class="id" title="keyword">fun</span> <a id="d1a4fa6f597c289406ab9b847b997c84" class="idref" href="#d1a4fa6f597c289406ab9b847b997c84"><span class="id" title="binder">φ</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Universes.html#compare_sort"><span class="id" title="definition">compare_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#d1a4fa6f597c289406ab9b847b997c84"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:268"><span class="id" title="variable">pb</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pb</span>; <span class="id" title="var">tc</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="precompose_subst_instance" class="idref" href="#precompose_subst_instance"><span class="id" title="lemma">precompose_subst_instance</span></a> <a id="cmp_universe:270" class="idref" href="#cmp_universe:270"><span class="id" title="binder">cmp_universe</span></a> <a id="u:271" class="idref" href="#u:271"><span class="id" title="binder">u</span></a> <a id="i:272" class="idref" href="#i:272"><span class="id" title="binder">i</span></a> <a id="i':273" class="idref" href="#i':273"><span class="id" title="binder">i'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">precompose</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">cmp_universe_instance</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">cmp_universe</span></a><a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">subst_instance</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">u</span></a><a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">i</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">i'</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRRelations.html#e8aac4a093c83da9a780e8c256235d19"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_universe_instance"><span class="id" title="definition">cmp_universe_instance</span></a> (<a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">precompose</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">cmp_universe</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">subst_instance_universe</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">u</span></a><a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i:272"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i':273"><span class="id" title="variable">i'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_universe_instance"><span class="id" title="definition">cmp_universe_instance</span></a>, <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a>, <a class="idref" href="MetaRocq.Utils.MRRelations.html#on_rel"><span class="id" title="definition">on_rel</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall2_map_inv"><span class="id" title="lemma">Forall2_map_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall2_map"><span class="id" title="lemma">Forall2_map</span></a>]; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall2_impl"><span class="id" title="lemma">Forall2_impl</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H</span>); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_universe_make"><span class="id" title="lemma">subst_instance_universe_make</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -!<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_universe_make"><span class="id" title="lemma">subst_instance_universe_make</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="precompose_subst_instance__1" class="idref" href="#precompose_subst_instance__1"><span class="id" title="definition">precompose_subst_instance__1</span></a> <a id="Rle:274" class="idref" href="#Rle:274"><span class="id" title="binder">Rle</span></a> <a id="u:275" class="idref" href="#u:275"><span class="id" title="binder">u</span></a> <a id="i:276" class="idref" href="#i:276"><span class="id" title="binder">i</span></a> <a id="i':277" class="idref" href="#i':277"><span class="id" title="binder">i'</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#precompose_subst_instance"><span class="id" title="lemma">precompose_subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Rle:274"><span class="id" title="variable">Rle</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:275"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i:276"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i':277"><span class="id" title="variable">i'</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="precompose_subst_instance__2" class="idref" href="#precompose_subst_instance__2"><span class="id" title="definition">precompose_subst_instance__2</span></a> <a id="Rle:278" class="idref" href="#Rle:278"><span class="id" title="binder">Rle</span></a> <a id="u:279" class="idref" href="#u:279"><span class="id" title="binder">u</span></a> <a id="i:280" class="idref" href="#i:280"><span class="id" title="binder">i</span></a> <a id="i':281" class="idref" href="#i':281"><span class="id" title="binder">i'</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#precompose_subst_instance"><span class="id" title="lemma">precompose_subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Rle:278"><span class="id" title="variable">Rle</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:279"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i:280"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i':281"><span class="id" title="variable">i'</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_level_expr_make" class="idref" href="#subst_instance_level_expr_make"><span class="id" title="lemma">subst_instance_level_expr_make</span></a> <a id="u:282" class="idref" href="#u:282"><span class="id" title="binder">u</span></a> <a id="l:283" class="idref" href="#l:283"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:282"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#LevelExpr.make"><span class="id" title="definition">LevelExpr.make</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:283"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#LevelExpr.make"><span class="id" title="definition">LevelExpr.make</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:282"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:283"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_nth_error"><span class="id" title="lemma">nth_nth_error</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_make'_make" class="idref" href="#subst_instance_make'_make"><span class="id" title="lemma">subst_instance_make'_make</span></a> <a id="u:284" class="idref" href="#u:284"><span class="id" title="binder">u</span></a> <a id="l:285" class="idref" href="#l:285"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:284"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Universe.make"><span class="id" title="definition">Universe.make</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#LevelExpr.make"><span class="id" title="definition">LevelExpr.make</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:285"><span class="id" title="variable">l</span></a>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#Universe.make"><span class="id" title="definition">Universe.make</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#LevelExpr.make"><span class="id" title="definition">LevelExpr.make</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:284"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:285"><span class="id" title="variable">l</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_universe_make'"><span class="id" title="lemma">subst_instance_universe_make'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_expr_make"><span class="id" title="lemma">subst_instance_level_expr_make</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="precompose_subst_instance_global" class="idref" href="#precompose_subst_instance_global"><span class="id" title="lemma">precompose_subst_instance_global</span></a> <a id="1dce777013ec692701cf4bc9d4aa1e7f" class="idref" href="#1dce777013ec692701cf4bc9d4aa1e7f"><span class="id" title="binder">Σ</span></a> <a id="cmp_universe:287" class="idref" href="#cmp_universe:287"><span class="id" title="binder">cmp_universe</span></a> <a id="pb:288" class="idref" href="#pb:288"><span class="id" title="binder">pb</span></a> <a id="gr:289" class="idref" href="#gr:289"><span class="id" title="binder">gr</span></a> <a id="napp:290" class="idref" href="#napp:290"><span class="id" title="binder">napp</span></a> <a id="u:291" class="idref" href="#u:291"><span class="id" title="binder">u</span></a> <a id="i:292" class="idref" href="#i:292"><span class="id" title="binder">i</span></a> <a id="i':293" class="idref" href="#i':293"><span class="id" title="binder">i'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">precompose</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">cmp_global_instance</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">Σ</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">cmp_universe</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">pb</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">gr</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">napp</span></a><a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">subst_instance</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">u</span></a><a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">i</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">i'</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRRelations.html#e8aac4a093c83da9a780e8c256235d19"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_global_instance"><span class="id" title="abbreviation">cmp_global_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#1dce777013ec692701cf4bc9d4aa1e7f"><span class="id" title="variable">Σ</span></a> (<span class="id" title="keyword">fun</span> <a id="pb:294" class="idref" href="#pb:294"><span class="id" title="binder">pb</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">precompose</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">cmp_universe</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">pb</span></a><a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">subst_instance_universe</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">u</span></a><a class="idref" href="MetaRocq.Utils.MRRelations.html#:::'precompose'"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:288"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#gr:289"><span class="id" title="variable">gr</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#napp:290"><span class="id" title="variable">napp</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i:292"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i':293"><span class="id" title="variable">i'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_global_instance_gen"><span class="id" title="definition">cmp_global_instance</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_global_instance_gen"><span class="id" title="definition">cmp_global_instance_gen</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_opt_variance"><span class="id" title="definition">cmp_opt_variance</span></a>, <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#global_variance_gen"><span class="id" title="definition">global_variance_gen</span></a> <span class="id" title="keyword">as</span> [| |<span class="id" title="var">v</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#precompose_subst_instance"><span class="id" title="lemma">precompose_subst_instance</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">intros</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>]; [<span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1,3: <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#precompose_subst_instance"><span class="id" title="lemma">precompose_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: [&gt; <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_id"><span class="id" title="lemma">map_id</span></a> <span class="id" title="var">v</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall3_map_inv"><span class="id" title="lemma">Forall3_map_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_id"><span class="id" title="lemma">map_id</span></a> <span class="id" title="var">v</span>); <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall3_map"><span class="id" title="lemma">Forall3_map</span></a>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall3_impl"><span class="id" title="lemma">Forall3_impl</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">v</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">v</span> ??.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span> ⇒ //=; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Utils.MRRelations.html#on_rel"><span class="id" title="definition">on_rel</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_universe_make"><span class="id" title="lemma">subst_instance_universe_make</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="precompose_subst_instance_global__1" class="idref" href="#precompose_subst_instance_global__1"><span class="id" title="definition">precompose_subst_instance_global__1</span></a> <a id="e40022e43c32054c5dfe18761c3ef976" class="idref" href="#e40022e43c32054c5dfe18761c3ef976"><span class="id" title="binder">Σ</span></a> <a id="cmp_universe:296" class="idref" href="#cmp_universe:296"><span class="id" title="binder">cmp_universe</span></a> <a id="pb:297" class="idref" href="#pb:297"><span class="id" title="binder">pb</span></a> <a id="gr:298" class="idref" href="#gr:298"><span class="id" title="binder">gr</span></a> <a id="napp:299" class="idref" href="#napp:299"><span class="id" title="binder">napp</span></a> <a id="u:300" class="idref" href="#u:300"><span class="id" title="binder">u</span></a> <a id="i:301" class="idref" href="#i:301"><span class="id" title="binder">i</span></a> <a id="i':302" class="idref" href="#i':302"><span class="id" title="binder">i'</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#precompose_subst_instance_global"><span class="id" title="lemma">precompose_subst_instance_global</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e40022e43c32054c5dfe18761c3ef976"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_universe:296"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:297"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#gr:298"><span class="id" title="variable">gr</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#napp:299"><span class="id" title="variable">napp</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:300"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i:301"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i':302"><span class="id" title="variable">i'</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="precompose_subst_instance_global__2" class="idref" href="#precompose_subst_instance_global__2"><span class="id" title="definition">precompose_subst_instance_global__2</span></a> <a id="176148d186f0f861fa8579a95c4626c3" class="idref" href="#176148d186f0f861fa8579a95c4626c3"><span class="id" title="binder">Σ</span></a> <a id="cmp_universe:304" class="idref" href="#cmp_universe:304"><span class="id" title="binder">cmp_universe</span></a> <a id="pb:305" class="idref" href="#pb:305"><span class="id" title="binder">pb</span></a> <a id="gr:306" class="idref" href="#gr:306"><span class="id" title="binder">gr</span></a> <a id="napp:307" class="idref" href="#napp:307"><span class="id" title="binder">napp</span></a> <a id="u:308" class="idref" href="#u:308"><span class="id" title="binder">u</span></a> <a id="i:309" class="idref" href="#i:309"><span class="id" title="binder">i</span></a> <a id="i':310" class="idref" href="#i':310"><span class="id" title="binder">i'</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#precompose_subst_instance_global"><span class="id" title="lemma">precompose_subst_instance_global</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#176148d186f0f861fa8579a95c4626c3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_universe:304"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:305"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#gr:306"><span class="id" title="variable">gr</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#napp:307"><span class="id" title="variable">napp</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:308"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i:309"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i':310"><span class="id" title="variable">i'</span></a>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="eq_term_upto_univ_subst_preserved" class="idref" href="#eq_term_upto_univ_subst_preserved"><span class="id" title="instance">eq_term_upto_univ_subst_preserved</span></a> {<a id="cf:311" class="idref" href="#cf:311"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="2400c02506ae4d15486eb9a9e093aa98" class="idref" href="#2400c02506ae4d15486eb9a9e093aa98"><span class="id" title="binder">Σ</span></a><br/>
&nbsp;&nbsp;(<a id="cmp_universe:313" class="idref" href="#cmp_universe:313"><span class="id" title="binder">cmp_universe</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">_</span> <span class="id" title="var">_</span> : <a class="idref" href="MetaRocq.Common.Universes.html#Universe.t"><span class="id" title="definition">Universe.t</span></a>), <span class="id" title="keyword">Prop</span>) (<a id="cmp_sort:314" class="idref" href="#cmp_sort:314"><span class="id" title="binder">cmp_sort</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">_</span> <span class="id" title="var">_</span> : <a class="idref" href="MetaRocq.Common.Universes.html#sort"><span class="id" title="abbreviation">sort</span></a>), <span class="id" title="keyword">Prop</span>) <a id="pb:315" class="idref" href="#pb:315"><span class="id" title="binder">pb</span></a> <a id="napp:316" class="idref" href="#napp:316"><span class="id" title="binder">napp</span></a><br/>
&nbsp;&nbsp;{<a id="huniverse:318" class="idref" href="#huniverse:318"><span class="id" title="binder">huniverse</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<span class="id" title="keyword">fun</span> <a id="3c90b312e4ee43aa574ab95d18aaf9b4" class="idref" href="#3c90b312e4ee43aa574ab95d18aaf9b4"><span class="id" title="binder">φ</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_universe:313"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#3c90b312e4ee43aa574ab95d18aaf9b4"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a>)} {<a id="huniverse2:320" class="idref" href="#huniverse2:320"><span class="id" title="binder">huniverse2</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<span class="id" title="keyword">fun</span> <a id="927422e2f8c2bec9a3eb920c25a3821c" class="idref" href="#927422e2f8c2bec9a3eb920c25a3821c"><span class="id" title="binder">φ</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_universe:313"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#927422e2f8c2bec9a3eb920c25a3821c"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:315"><span class="id" title="variable">pb</span></a>)}<br/>
&nbsp;&nbsp;{<a id="hsort:322" class="idref" href="#hsort:322"><span class="id" title="binder">hsort</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<span class="id" title="keyword">fun</span> <a id="d36385c75e2d169fefd285cb87a96416" class="idref" href="#d36385c75e2d169fefd285cb87a96416"><span class="id" title="binder">φ</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_sort:314"><span class="id" title="variable">cmp_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#d36385c75e2d169fefd285cb87a96416"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a>)} {<a id="hsort2:324" class="idref" href="#hsort2:324"><span class="id" title="binder">hsort2</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<span class="id" title="keyword">fun</span> <a id="b2593a107580b17542086229c16ce16d" class="idref" href="#b2593a107580b17542086229c16ce16d"><span class="id" title="binder">φ</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_sort:314"><span class="id" title="variable">cmp_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b2593a107580b17542086229c16ce16d"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:315"><span class="id" title="variable">pb</span></a>)}<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<span class="id" title="keyword">fun</span> <a id="9e0a66f49ce2f32b96753315aa09a3d8" class="idref" href="#9e0a66f49ce2f32b96753315aa09a3d8"><span class="id" title="binder">φ</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_term_upto_univ_napp"><span class="id" title="inductive">eq_term_upto_univ_napp</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2400c02506ae4d15486eb9a9e093aa98"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_universe:313"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9e0a66f49ce2f32b96753315aa09a3d8"><span class="id" title="variable">φ</span></a>) (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_sort:314"><span class="id" title="variable">cmp_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9e0a66f49ce2f32b96753315aa09a3d8"><span class="id" title="variable">φ</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:315"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#napp:316"><span class="id" title="variable">napp</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> φ φ' <span class="id" title="var">u</span> <span class="id" title="var">HH</span> <span class="id" title="var">t</span> <span class="id" title="var">t'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">huniverse</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HH</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">huniverse2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HH</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">hsort</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HH</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">hsort2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HH</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">HH</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">huniverse</span>, <span class="id" title="var">huniverse2</span>, <span class="id" title="var">hsort</span>, <span class="id" title="var">hsort2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">napp</span>, <span class="id" title="var">pb</span>, <span class="id" title="var">huniverse2</span>, <span class="id" title="var">hsort2</span>, <span class="id" title="var">t'</span> |- × <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#precompose_subst_instance__2"><span class="id" title="definition">precompose_subst_instance__2</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_universe_instance_impl'"><span class="id" title="lemma">cmp_universe_instance_impl'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_predicate"><span class="id" title="definition">eq_predicate</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_branches"><span class="id" title="definition">eq_branches</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_branch"><span class="id" title="definition">eq_branch</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_mfixpoint"><span class="id" title="definition">eq_mfixpoint</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_impl'"><span class="id" title="lemma">All2_impl'</span></a>; <span class="id" title="var">tea</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">aa</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#precompose_subst_instance_global__2"><span class="id" title="definition">precompose_subst_instance_global__2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_global_instance_impl_same_napp"><span class="id" title="instance">cmp_global_instance_impl_same_napp</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#precompose_subst_instance_global__2"><span class="id" title="definition">precompose_subst_instance_global__2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_global_instance_impl_same_napp"><span class="id" title="instance">cmp_global_instance_impl_same_napp</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">X2</span> <span class="id" title="keyword">as</span> [? [? [? ?]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#precompose_subst_instance"><span class="id" title="lemma">precompose_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_universe_instance_impl"><span class="id" title="lemma">cmp_universe_instance_impl</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="var">depelim</span> <span class="id" title="var">X1</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">hty</span> &amp; <span class="id" title="var">hdef</span> &amp; <span class="id" title="var">harr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /= -!<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_universe_make"><span class="id" title="lemma">subst_instance_universe_make</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">huniverse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="leq_term_subst_instance" class="idref" href="#leq_term_subst_instance"><span class="id" title="lemma">leq_term_subst_instance</span></a> {<a id="cf:326" class="idref" href="#cf:326"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="a35140fe46603c62b4904083141d2964" class="idref" href="#a35140fe46603c62b4904083141d2964"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<span class="id" title="keyword">fun</span> <a id="4a3819e1fa10953aecee636c69d17c94" class="idref" href="#4a3819e1fa10953aecee636c69d17c94"><span class="id" title="binder">φ</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#leq_term"><span class="id" title="abbreviation">leq_term</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a35140fe46603c62b4904083141d2964"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#4a3819e1fa10953aecee636c69d17c94"><span class="id" title="variable">φ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#eq_term_upto_univ_subst_preserved"><span class="id" title="instance">eq_term_upto_univ_subst_preserved</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_term_subst_instance" class="idref" href="#eq_term_subst_instance"><span class="id" title="lemma">eq_term_subst_instance</span></a> {<a id="cf:329" class="idref" href="#cf:329"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="17491d5d06775fe5ed36d397c3f63bad" class="idref" href="#17491d5d06775fe5ed36d397c3f63bad"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<span class="id" title="keyword">fun</span> <a id="f29a84ac73e7470b06cb4054fb2c4dc6" class="idref" href="#f29a84ac73e7470b06cb4054fb2c4dc6"><span class="id" title="binder">φ</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_term"><span class="id" title="abbreviation">eq_term</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#17491d5d06775fe5ed36d397c3f63bad"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f29a84ac73e7470b06cb4054fb2c4dc6"><span class="id" title="variable">φ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#eq_term_upto_univ_subst_preserved"><span class="id" title="instance">eq_term_upto_univ_subst_preserved</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="compare_term_subst_instance" class="idref" href="#compare_term_subst_instance"><span class="id" title="lemma">compare_term_subst_instance</span></a> {<a id="cf:332" class="idref" href="#cf:332"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="7fd199207e6709143aa4215530ad32c7" class="idref" href="#7fd199207e6709143aa4215530ad32c7"><span class="id" title="binder">Σ</span></a> <a id="pb:334" class="idref" href="#pb:334"><span class="id" title="binder">pb</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<span class="id" title="keyword">fun</span> <a id="7bfa930c98ed4f15d017ea4e53181fd1" class="idref" href="#7bfa930c98ed4f15d017ea4e53181fd1"><span class="id" title="binder">φ</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#compare_term"><span class="id" title="definition">compare_term</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7fd199207e6709143aa4215530ad32c7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7bfa930c98ed4f15d017ea4e53181fd1"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:334"><span class="id" title="variable">pb</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">pb</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#eq_term_subst_instance"><span class="id" title="lemma">eq_term_subst_instance</span></a>|<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#leq_term_subst_instance"><span class="id" title="lemma">leq_term_subst_instance</span></a>]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="compare_decls_subst_preserved" class="idref" href="#compare_decls_subst_preserved"><span class="id" title="instance">compare_decls_subst_preserved</span></a> {<a id="cf:336" class="idref" href="#cf:336"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="d0cb65222dbfb10a28aa5132b66ab05b" class="idref" href="#d0cb65222dbfb10a28aa5132b66ab05b"><span class="id" title="binder">Σ</span></a><br/>
&nbsp;&nbsp;(<a id="cmp_universe:338" class="idref" href="#cmp_universe:338"><span class="id" title="binder">cmp_universe</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">_</span> <span class="id" title="var">_</span> : <a class="idref" href="MetaRocq.Common.Universes.html#Universe.t"><span class="id" title="definition">Universe.t</span></a>), <span class="id" title="keyword">Prop</span>) (<a id="cmp_sort:339" class="idref" href="#cmp_sort:339"><span class="id" title="binder">cmp_sort</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">_</span> <span class="id" title="var">_</span> : <a class="idref" href="MetaRocq.Common.Universes.html#sort"><span class="id" title="abbreviation">sort</span></a>), <span class="id" title="keyword">Prop</span>) <a id="pb:340" class="idref" href="#pb:340"><span class="id" title="binder">pb</span></a><br/>
&nbsp;&nbsp;{<a id="huniverse:342" class="idref" href="#huniverse:342"><span class="id" title="binder">huniverse</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<span class="id" title="keyword">fun</span> <a id="23733ee09edf9eddb287f8b01bd86b99" class="idref" href="#23733ee09edf9eddb287f8b01bd86b99"><span class="id" title="binder">φ</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_universe:338"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#23733ee09edf9eddb287f8b01bd86b99"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a>)} {<a id="huniverse2:344" class="idref" href="#huniverse2:344"><span class="id" title="binder">huniverse2</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<span class="id" title="keyword">fun</span> <a id="d7f05781e771ec2e9d6a86811953e78b" class="idref" href="#d7f05781e771ec2e9d6a86811953e78b"><span class="id" title="binder">φ</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_universe:338"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#d7f05781e771ec2e9d6a86811953e78b"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:340"><span class="id" title="variable">pb</span></a>)}<br/>
&nbsp;&nbsp;{<a id="hsort:346" class="idref" href="#hsort:346"><span class="id" title="binder">hsort</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<span class="id" title="keyword">fun</span> <a id="3238826bdddd9edc7223f2ce2e277ed1" class="idref" href="#3238826bdddd9edc7223f2ce2e277ed1"><span class="id" title="binder">φ</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_sort:339"><span class="id" title="variable">cmp_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#3238826bdddd9edc7223f2ce2e277ed1"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a>)} {<a id="hsort2:348" class="idref" href="#hsort2:348"><span class="id" title="binder">hsort2</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<span class="id" title="keyword">fun</span> <a id="3085c26d6c04bdbba52a6ae8f6c308f7" class="idref" href="#3085c26d6c04bdbba52a6ae8f6c308f7"><span class="id" title="binder">φ</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_sort:339"><span class="id" title="variable">cmp_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#3085c26d6c04bdbba52a6ae8f6c308f7"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:340"><span class="id" title="variable">pb</span></a>)}<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<span class="id" title="keyword">fun</span> <a id="57530e314e862085c0cf49de482d6e8a" class="idref" href="#57530e314e862085c0cf49de482d6e8a"><span class="id" title="binder">φ</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#compare_decls"><span class="id" title="definition">compare_decls</span></a> (<span class="id" title="keyword">fun</span> <a id="pb:350" class="idref" href="#pb:350"><span class="id" title="binder">pb</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_term_upto_univ"><span class="id" title="abbreviation">eq_term_upto_univ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#d0cb65222dbfb10a28aa5132b66ab05b"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_universe:338"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#57530e314e862085c0cf49de482d6e8a"><span class="id" title="variable">φ</span></a>) (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_sort:339"><span class="id" title="variable">cmp_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#57530e314e862085c0cf49de482d6e8a"><span class="id" title="variable">φ</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:350"><span class="id" title="variable">pb</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:340"><span class="id" title="variable">pb</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> φ φ' <span class="id" title="var">u</span> <span class="id" title="var">HH</span> <span class="id" title="var">d</span> <span class="id" title="var">d'</span> []; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#eq_term_upto_univ_subst_preserved"><span class="id" title="instance">eq_term_upto_univ_subst_preserved</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="eq_context_upto_subst_preserved" class="idref" href="#eq_context_upto_subst_preserved"><span class="id" title="instance">eq_context_upto_subst_preserved</span></a> {<a id="cf:351" class="idref" href="#cf:351"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="f60693929e42d81170fc71b740e558ec" class="idref" href="#f60693929e42d81170fc71b740e558ec"><span class="id" title="binder">Σ</span></a><br/>
&nbsp;&nbsp;(<a id="cmp_universe:353" class="idref" href="#cmp_universe:353"><span class="id" title="binder">cmp_universe</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">_</span> <span class="id" title="var">_</span> : <a class="idref" href="MetaRocq.Common.Universes.html#Universe.t"><span class="id" title="definition">Universe.t</span></a>), <span class="id" title="keyword">Prop</span>) (<a id="cmp_sort:354" class="idref" href="#cmp_sort:354"><span class="id" title="binder">cmp_sort</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">_</span> <span class="id" title="var">_</span> : <a class="idref" href="MetaRocq.Common.Universes.html#sort"><span class="id" title="abbreviation">sort</span></a>), <span class="id" title="keyword">Prop</span>) <a id="pb:355" class="idref" href="#pb:355"><span class="id" title="binder">pb</span></a><br/>
&nbsp;&nbsp;{<a id="huniverse:357" class="idref" href="#huniverse:357"><span class="id" title="binder">huniverse</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<span class="id" title="keyword">fun</span> <a id="264adff7cbf6cc5edb187045fb72e6a3" class="idref" href="#264adff7cbf6cc5edb187045fb72e6a3"><span class="id" title="binder">φ</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_universe:353"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#264adff7cbf6cc5edb187045fb72e6a3"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a>)} {<a id="huniverse2:359" class="idref" href="#huniverse2:359"><span class="id" title="binder">huniverse2</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<span class="id" title="keyword">fun</span> <a id="3175696e851ade8cdf925adceeaaed93" class="idref" href="#3175696e851ade8cdf925adceeaaed93"><span class="id" title="binder">φ</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_universe:353"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#3175696e851ade8cdf925adceeaaed93"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:355"><span class="id" title="variable">pb</span></a>)}<br/>
&nbsp;&nbsp;{<a id="hsort:361" class="idref" href="#hsort:361"><span class="id" title="binder">hsort</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<span class="id" title="keyword">fun</span> <a id="0f6730215a1aaa83984af07069f33994" class="idref" href="#0f6730215a1aaa83984af07069f33994"><span class="id" title="binder">φ</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_sort:354"><span class="id" title="variable">cmp_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#0f6730215a1aaa83984af07069f33994"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a>)} {<a id="hsort2:363" class="idref" href="#hsort2:363"><span class="id" title="binder">hsort2</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<span class="id" title="keyword">fun</span> <a id="d721feb28dce83c76266e2ca876903e6" class="idref" href="#d721feb28dce83c76266e2ca876903e6"><span class="id" title="binder">φ</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_sort:354"><span class="id" title="variable">cmp_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#d721feb28dce83c76266e2ca876903e6"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:355"><span class="id" title="variable">pb</span></a>)}<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<span class="id" title="keyword">fun</span> <a id="c42f622f2ee84d3d48cba3859ec2d0a7" class="idref" href="#c42f622f2ee84d3d48cba3859ec2d0a7"><span class="id" title="binder">φ</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_context_upto"><span class="id" title="abbreviation">eq_context_upto</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f60693929e42d81170fc71b740e558ec"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_universe:353"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c42f622f2ee84d3d48cba3859ec2d0a7"><span class="id" title="variable">φ</span></a>) (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cmp_sort:354"><span class="id" title="variable">cmp_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c42f622f2ee84d3d48cba3859ec2d0a7"><span class="id" title="variable">φ</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:355"><span class="id" title="variable">pb</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> φ φ' <span class="id" title="var">u</span> <span class="id" title="var">HH</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Δ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#compare_decls_subst_preserved"><span class="id" title="instance">compare_decls_subst_preserved</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Now routine lemmas ... 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="In_subst_instance" class="idref" href="#In_subst_instance"><span class="id" title="lemma">In_subst_instance</span></a> <a id="x:365" class="idref" href="#x:365"><span class="id" title="binder">x</span></a> <a id="u:366" class="idref" href="#u:366"><span class="id" title="binder">u</span></a> (<a id="l:367" class="idref" href="#l:367"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#Universe.t"><span class="id" title="definition">Universe.t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#LevelExprSet.In"><span class="id" title="definition">LevelExprSet.In</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#x:365"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:366"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:367"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="x':368" class="idref" href="#x':368"><span class="id" title="binder">x'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#LevelExprSet.In"><span class="id" title="definition">LevelExprSet.In</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#x':368"><span class="id" title="variable">x'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:367"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#x:365"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:366"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#x':368"><span class="id" title="variable">x'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_universe"><span class="id" title="instance">subst_instance_universe</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_univ_super" class="idref" href="#subst_instance_univ_super"><span class="id" title="lemma">subst_instance_univ_super</span></a> <a id="l:369" class="idref" href="#l:369"><span class="id" title="binder">l</span></a> <a id="u:370" class="idref" href="#u:370"><span class="id" title="binder">u</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_sort"><span class="id" title="instance">subst_instance_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:370"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Sort.super"><span class="id" title="definition">Sort.super</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:369"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Sort.super"><span class="id" title="definition">Sort.super</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:370"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:369"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbnr</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.eq_univ'"><span class="id" title="lemma">eq_univ'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance"><span class="id" title="lemma">In_subst_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Universes.html#spec_map_succ"><span class="id" title="lemma">spec_map_succ</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> [<span class="id" title="var">x'</span> [<span class="id" title="var">hin</span> <span class="id" title="var">eq</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#spec_map_succ"><span class="id" title="lemma">spec_map_succ</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">y</span> [<span class="id" title="var">int</span> <span class="id" title="var">eq</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x'</span>. <span class="id" title="tactic">∃</span> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance"><span class="id" title="lemma">In_subst_instance</span></a>. <span class="id" title="tactic">∃</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span> <span class="id" title="keyword">as</span> [[] ?]; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> [<span class="id" title="var">x'</span> [<span class="id" title="var">hin</span> <span class="id" title="var">eq</span>]]. <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance"><span class="id" title="lemma">In_subst_instance</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">y</span> [<span class="id" title="var">hin</span> <span class="id" title="var">eq</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="MetaRocq.Common.Universes.html#LevelExpr.succ"><span class="id" title="definition">LevelExpr.succ</span></a> <span class="id" title="var">y</span>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Universes.html#spec_map_succ"><span class="id" title="lemma">spec_map_succ</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">∃</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span> <span class="id" title="keyword">as</span> [[] ?]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="monomorphic_level_notin_levels_of_udecl" class="idref" href="#monomorphic_level_notin_levels_of_udecl"><span class="id" title="lemma">monomorphic_level_notin_levels_of_udecl</span></a> <a id="s:371" class="idref" href="#s:371"><span class="id" title="binder">s</span></a> <a id="udecl:372" class="idref" href="#udecl:372"><span class="id" title="binder">udecl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.In"><span class="id" title="definition">LevelSet.In</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Level.level"><span class="id" title="constructor">Level.level</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:371"><span class="id" title="variable">s</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#levels_of_udecl"><span class="id" title="definition">levels_of_udecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl:372"><span class="id" title="variable">udecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">udecl</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">lsets</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#monomorphic_level_notin_AUContext"><span class="id" title="lemma">monomorphic_level_notin_AUContext</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="LevelIn_subst_instance" class="idref" href="#LevelIn_subst_instance"><span class="id" title="lemma">LevelIn_subst_instance</span></a> {<a id="cf:373" class="idref" href="#cf:373"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="36ee07bc0a26d587610e463347205779" class="idref" href="#36ee07bc0a26d587610e463347205779"><span class="id" title="binder">Σ</span></a> <a id="l:375" class="idref" href="#l:375"><span class="id" title="binder">l</span></a> <a id="u:376" class="idref" href="#u:376"><span class="id" title="binder">u</span></a> <a id="univs:377" class="idref" href="#univs:377"><span class="id" title="binder">univs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#LS.In"><span class="id" title="definition">LS.In</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:375"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#36ee07bc0a26d587610e463347205779"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#36ee07bc0a26d587610e463347205779"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:377"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#36ee07bc0a26d587610e463347205779"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:376"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#LS.In"><span class="id" title="definition">LS.In</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:376"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:375"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#36ee07bc0a26d587610e463347205779"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:377"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels_InSet"><span class="id" title="lemma">global_ext_levels_InSet</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LS.union_spec"><span class="id" title="lemma">LS.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#monomorphic_level_notin_levels_of_udecl"><span class="id" title="lemma">monomorphic_level_notin_levels_of_udecl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LS.union_spec"><span class="id" title="lemma">LS.union_spec</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#consistent_instance_declared"><span class="id" title="lemma">consistent_instance_declared</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_nth'"><span class="id" title="lemma">forallb_nth'</span></a> <span class="id" title="var">n</span> <a class="idref" href="MetaRocq.Common.Universes.html#Level.lzero"><span class="id" title="constructor">Level.lzero</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H'</span> <span class="id" title="keyword">as</span> [[? [<span class="id" title="var">eq</span> ?]]|<span class="id" title="var">eq</span>]; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LS.mem_spec"><span class="id" title="lemma">LS.mem_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels_InSet"><span class="id" title="lemma">global_ext_levels_InSet</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="product_subst_instance" class="idref" href="#product_subst_instance"><span class="id" title="lemma">product_subst_instance</span></a> <a id="u:378" class="idref" href="#u:378"><span class="id" title="binder">u</span></a> <a id="s1:379" class="idref" href="#s1:379"><span class="id" title="binder">s1</span></a> <a id="s2:380" class="idref" href="#s2:380"><span class="id" title="binder">s2</span></a><br/>
&nbsp;: <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_sort"><span class="id" title="instance">subst_instance_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:378"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Sort.sort_of_product"><span class="id" title="definition">Sort.sort_of_product</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s1:379"><span class="id" title="variable">s1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s2:380"><span class="id" title="variable">s2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Sort.sort_of_product"><span class="id" title="definition">Sort.sort_of_product</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_sort"><span class="id" title="instance">subst_instance_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:378"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s1:379"><span class="id" title="variable">s1</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_sort"><span class="id" title="instance">subst_instance_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:378"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s2:380"><span class="id" title="variable">s2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s2</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s1</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#sup_subst_instance_univ0"><span class="id" title="lemma">sup_subst_instance_univ0</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_extended_subst" class="idref" href="#subst_instance_extended_subst"><span class="id" title="lemma">subst_instance_extended_subst</span></a> <a id="u:381" class="idref" href="#u:381"><span class="id" title="binder">u</span></a> <a id="05d67ada0e96bf50a6c570f2e22e4153" class="idref" href="#05d67ada0e96bf50a6c570f2e22e4153"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:381"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#05d67ada0e96bf50a6c570f2e22e4153"><span class="id" title="variable">Γ</span></a> 0) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:381"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#05d67ada0e96bf50a6c570f2e22e4153"><span class="id" title="variable">Γ</span></a>) 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /= /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_list"><span class="id" title="instance">subst_instance_list</span></a> /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">Γ</span>]; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">rewrite</span> /=; <span class="id" title="var">len</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst_instance_constr"><span class="id" title="instance">subst_instance_constr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a> -<span class="id" title="var">IHΓ</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_lift"><span class="id" title="lemma">subst_instance_lift</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !(<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#lift_extended_subst"><span class="id" title="lemma">lift_extended_subst</span></a> <span class="id" title="var">_</span> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_lift"><span class="id" title="lemma">subst_instance_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.Utils.MRList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a> <span class="id" title="var">IHΓ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_extended_subst"><span class="id" title="lemma">subst_instance_extended_subst</span></a> : <span class="id" title="var">substu</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expand_lets_subst_instance" class="idref" href="#expand_lets_subst_instance"><span class="id" title="lemma">expand_lets_subst_instance</span></a> <a id="u:383" class="idref" href="#u:383"><span class="id" title="binder">u</span></a> <a id="f165e96a5b788706f02cafde7cd19824" class="idref" href="#f165e96a5b788706f02cafde7cd19824"><span class="id" title="binder">Γ</span></a> <a id="t:385" class="idref" href="#t:385"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:383"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f165e96a5b788706f02cafde7cd19824"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:385"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:383"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f165e96a5b788706f02cafde7cd19824"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:383"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:385"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_lift"><span class="id" title="lemma">subst_instance_lift</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_extended_subst"><span class="id" title="lemma">subst_instance_extended_subst</span></a> /=; <span class="id" title="var">len</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#expand_lets_subst_instance"><span class="id" title="lemma">expand_lets_subst_instance</span></a> : <span class="id" title="var">substu</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="subst_instance_predicate" class="idref" href="#subst_instance_predicate"><span class="id" title="instance">subst_instance_predicate</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#UnivSubst"><span class="id" title="class">UnivSubst</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#predicate"><span class="id" title="record">predicate</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>)<br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="u:386" class="idref" href="#u:386"><span class="id" title="binder">u</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_predicate"><span class="id" title="definition">map_predicate</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:386"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:386"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:386"><span class="id" title="variable">u</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fix_subst_instance_subst" class="idref" href="#fix_subst_instance_subst"><span class="id" title="lemma">fix_subst_instance_subst</span></a> <a id="u:387" class="idref" href="#u:387"><span class="id" title="binder">u</span></a> <a id="mfix:388" class="idref" href="#mfix:388"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:387"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#fix_subst"><span class="id" title="definition">fix_subst</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mfix:388"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#fix_subst"><span class="id" title="definition">fix_subst</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:387"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mfix:388"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_list"><span class="id" title="instance">subst_instance_list</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#fix_subst"><span class="id" title="definition">fix_subst</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>. 1: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cofix_subst_instance_subst" class="idref" href="#cofix_subst_instance_subst"><span class="id" title="lemma">cofix_subst_instance_subst</span></a> <a id="u:389" class="idref" href="#u:389"><span class="id" title="binder">u</span></a> <a id="mfix:390" class="idref" href="#mfix:390"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:389"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#cofix_subst"><span class="id" title="definition">cofix_subst</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mfix:390"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#cofix_subst"><span class="id" title="definition">cofix_subst</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:389"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mfix:390"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_list"><span class="id" title="instance">subst_instance_list</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#cofix_subst"><span class="id" title="definition">cofix_subst</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>. 1: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isConstruct_app_subst_instance" class="idref" href="#isConstruct_app_subst_instance"><span class="id" title="lemma">isConstruct_app_subst_instance</span></a> <a id="u:391" class="idref" href="#u:391"><span class="id" title="binder">u</span></a> <a id="t:392" class="idref" href="#t:392"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#isConstruct_app"><span class="id" title="definition">isConstruct_app</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:391"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:392"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#isConstruct_app"><span class="id" title="definition">isConstruct_app</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:392"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#isConstruct_app"><span class="id" title="definition">isConstruct_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HH</span>: <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span> <span class="id" title="var">t</span>)<a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">t</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a>. <span class="id" title="tactic">generalize</span> (@<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">generalize</span> (@<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span>. <span class="id" title="var">erewrite</span> <span class="id" title="var">IHt1</span>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">t</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fix_context_subst_instance" class="idref" href="#fix_context_subst_instance"><span class="id" title="lemma">fix_context_subst_instance</span></a> <a id="u:393" class="idref" href="#u:393"><span class="id" title="binder">u</span></a> <a id="mfix:394" class="idref" href="#mfix:394"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:393"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mfix:394"><span class="id" title="variable">mfix</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:393"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mfix:394"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /= /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_instance_context"><span class="id" title="instance">subst_instance_context</span></a> /<a class="idref" href="MetaRocq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#map_mapi"><span class="id" title="lemma">map_mapi</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#mapi_map"><span class="id" title="lemma">mapi_map</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_lift"><span class="id" title="lemma">subst_instance_lift</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_app" class="idref" href="#subst_instance_app"><span class="id" title="lemma">subst_instance_app</span></a> {<a id="A:395" class="idref" href="#A:395"><span class="id" title="binder">A</span></a>} {<a id="au:396" class="idref" href="#au:396"><span class="id" title="binder">au</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#UnivSubst"><span class="id" title="class">UnivSubst</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:395"><span class="id" title="variable">A</span></a>} <a id="u:397" class="idref" href="#u:397"><span class="id" title="binder">u</span></a> (<a id="L1:398" class="idref" href="#L1:398"><span class="id" title="binder">L1</span></a> <a id="L2:399" class="idref" href="#L2:399"><span class="id" title="binder">L2</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:395"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:397"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#L1:398"><span class="id" title="variable">L1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#L2:399"><span class="id" title="variable">L2</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:397"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#L1:398"><span class="id" title="variable">L1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:397"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#L2:399"><span class="id" title="variable">L2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /= /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_list"><span class="id" title="instance">subst_instance_list</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_app_ctx" class="idref" href="#subst_instance_app_ctx"><span class="id" title="lemma">subst_instance_app_ctx</span></a> <a id="u:400" class="idref" href="#u:400"><span class="id" title="binder">u</span></a> (<a id="L1:401" class="idref" href="#L1:401"><span class="id" title="binder">L1</span></a> <a id="L2:402" class="idref" href="#L2:402"><span class="id" title="binder">L2</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:400"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#L1:401"><span class="id" title="variable">L1</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#L2:402"><span class="id" title="variable">L2</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:400"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#L1:401"><span class="id" title="variable">L1</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:400"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#L2:402"><span class="id" title="variable">L2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.BasicAst.html#app_context"><span class="id" title="definition">app_context</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_app"><span class="id" title="lemma">subst_instance_app</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="map_constructor_body'" class="idref" href="#map_constructor_body'"><span class="id" title="definition">map_constructor_body'</span></a> <a id="f:403" class="idref" href="#f:403"><span class="id" title="binder">f</span></a> <a id="c:404" class="idref" href="#c:404"><span class="id" title="binder">c</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_name"><span class="id" title="projection">cstr_name</span></a> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_name"><span class="id" title="projection">cstr_name</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:404"><span class="id" title="variable">c</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> := <a class="idref" href="MetaRocq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:403"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:404"><span class="id" title="variable">c</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_indices"><span class="id" title="projection">cstr_indices</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:403"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_indices"><span class="id" title="projection">cstr_indices</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:404"><span class="id" title="variable">c</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_type"><span class="id" title="projection">cstr_type</span></a> := <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:403"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_type"><span class="id" title="projection">cstr_type</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:404"><span class="id" title="variable">c</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_arity"><span class="id" title="projection">cstr_arity</span></a> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_arity"><span class="id" title="projection">cstr_arity</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:404"><span class="id" title="variable">c</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="subst_instance_constructor_body" class="idref" href="#subst_instance_constructor_body"><span class="id" title="instance">subst_instance_constructor_body</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#UnivSubst"><span class="id" title="class">UnivSubst</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.constructor_body"><span class="id" title="record">constructor_body</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="u:405" class="idref" href="#u:405"><span class="id" title="binder">u</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map_constructor_body'"><span class="id" title="definition">map_constructor_body'</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:405"><span class="id" title="variable">u</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="map_one_inductive_body'" class="idref" href="#map_one_inductive_body'"><span class="id" title="definition">map_one_inductive_body'</span></a> <a id="fu:406" class="idref" href="#fu:406"><span class="id" title="binder">fu</span></a> <a id="f:407" class="idref" href="#f:407"><span class="id" title="binder">f</span></a> <a id="oib:408" class="idref" href="#oib:408"><span class="id" title="binder">oib</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_name"><span class="id" title="projection">ind_name</span></a> := <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#oib:408"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_name"><span class="id" title="projection">ind_name</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a> := <a class="idref" href="MetaRocq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:407"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#oib:408"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_sort"><span class="id" title="projection">ind_sort</span></a> := <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#fu:406"><span class="id" title="variable">fu</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#oib:408"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_sort"><span class="id" title="projection">ind_sort</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_type"><span class="id" title="projection">ind_type</span></a> := <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:407"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#oib:408"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_type"><span class="id" title="projection">ind_type</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_kelim"><span class="id" title="projection">ind_kelim</span></a> := <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#oib:408"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_kelim"><span class="id" title="projection">ind_kelim</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map_constructor_body'"><span class="id" title="definition">map_constructor_body'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:407"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#oib:408"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_projs"><span class="id" title="projection">ind_projs</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.map_projection_body"><span class="id" title="definition">map_projection_body</span></a> 0 (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:407"><span class="id" title="variable">f</span></a>)) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#oib:408"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_projs"><span class="id" title="projection">ind_projs</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_relevance"><span class="id" title="projection">ind_relevance</span></a> := <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#oib:408"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_relevance"><span class="id" title="projection">ind_relevance</span></a>) |}.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="subst_instance_inductive_body" class="idref" href="#subst_instance_inductive_body"><span class="id" title="instance">subst_instance_inductive_body</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#UnivSubst"><span class="id" title="class">UnivSubst</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="u:409" class="idref" href="#u:409"><span class="id" title="binder">u</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map_one_inductive_body'"><span class="id" title="definition">map_one_inductive_body'</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:409"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:409"><span class="id" title="variable">u</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="map_mutual_inductive_body'" class="idref" href="#map_mutual_inductive_body'"><span class="id" title="definition">map_mutual_inductive_body'</span></a> <a id="fu:410" class="idref" href="#fu:410"><span class="id" title="binder">fu</span></a> <a id="f:411" class="idref" href="#f:411"><span class="id" title="binder">f</span></a> <a id="mib:412" class="idref" href="#mib:412"><span class="id" title="binder">mib</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_finite"><span class="id" title="projection">ind_finite</span></a> := <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mib:412"><span class="id" title="variable">mib</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_finite"><span class="id" title="projection">ind_finite</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_npars"><span class="id" title="projection">ind_npars</span></a> := <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mib:412"><span class="id" title="variable">mib</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_npars"><span class="id" title="projection">ind_npars</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> := <a class="idref" href="MetaRocq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:411"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mib:412"><span class="id" title="variable">mib</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map_one_inductive_body'"><span class="id" title="definition">map_one_inductive_body'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#fu:410"><span class="id" title="variable">fu</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:411"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mib:412"><span class="id" title="variable">mib</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> := <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mib:412"><span class="id" title="variable">mib</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_variance"><span class="id" title="projection">ind_variance</span></a> := <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mib:412"><span class="id" title="variable">mib</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_variance"><span class="id" title="projection">ind_variance</span></a>) |}.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="subst_instance_mutual_inductive_body" class="idref" href="#subst_instance_mutual_inductive_body"><span class="id" title="instance">subst_instance_mutual_inductive_body</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#UnivSubst"><span class="id" title="class">UnivSubst</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="u:413" class="idref" href="#u:413"><span class="id" title="binder">u</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map_mutual_inductive_body'"><span class="id" title="definition">map_mutual_inductive_body'</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:413"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:413"><span class="id" title="variable">u</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_cstr_args" class="idref" href="#subst_instance_cstr_args"><span class="id" title="lemma">subst_instance_cstr_args</span></a> <a id="u:414" class="idref" href="#u:414"><span class="id" title="binder">u</span></a> <a id="cdecl:415" class="idref" href="#cdecl:415"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:414"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cdecl:415"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:414"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cdecl:415"><span class="id" title="variable">cdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_fold_context_k" class="idref" href="#map_fold_context_k"><span class="id" title="lemma">map_fold_context_k</span></a> {<a id="term:416" class="idref" href="#term:416"><span class="id" title="binder">term</span></a> <a id="term':417" class="idref" href="#term':417"><span class="id" title="binder">term'</span></a> <a id="term'':418" class="idref" href="#term'':418"><span class="id" title="binder">term''</span></a>} (<a id="f:419" class="idref" href="#f:419"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#term':417"><span class="id" title="variable">term'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#term:416"><span class="id" title="variable">term</span></a>) (<a id="g:420" class="idref" href="#g:420"><span class="id" title="binder">g</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#term'':418"><span class="id" title="variable">term''</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#term':417"><span class="id" title="variable">term'</span></a>) (<a id="c07a1e3ee75d1e39acdb4554f7fee8b5" class="idref" href="#c07a1e3ee75d1e39acdb4554f7fee8b5"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#context_decl"><span class="id" title="record">BasicAst.context_decl</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#term'':418"><span class="id" title="variable">term''</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:419"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#g:420"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c07a1e3ee75d1e39acdb4554f7fee8b5"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a> (<span class="id" title="keyword">fun</span> <a id="i:422" class="idref" href="#i:422"><span class="id" title="binder">i</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:419"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#g:420"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i:422"><span class="id" title="variable">i</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c07a1e3ee75d1e39acdb4554f7fee8b5"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#map_fold_context_k"><span class="id" title="lemma">map_fold_context_k</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_subst_context" class="idref" href="#subst_instance_subst_context"><span class="id" title="lemma">subst_instance_subst_context</span></a> <a id="u:423" class="idref" href="#u:423"><span class="id" title="binder">u</span></a> <a id="s:424" class="idref" href="#s:424"><span class="id" title="binder">s</span></a> <a id="k:425" class="idref" href="#k:425"><span class="id" title="binder">k</span></a> <a id="ctx:426" class="idref" href="#ctx:426"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:423"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:424"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#k:425"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctx:426"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:423"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:424"><span class="id" title="variable">s</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#k:425"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:423"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctx:426"><span class="id" title="variable">ctx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /= /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_instance_context"><span class="id" title="instance">subst_instance_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map_fold_context_k"><span class="id" title="lemma">map_fold_context_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k_map"><span class="id" title="lemma">fold_context_k_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k_ext"><span class="id" title="lemma">fold_context_k_ext</span></a> ⇒ <span class="id" title="var">i</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_subst_telescope" class="idref" href="#subst_instance_subst_telescope"><span class="id" title="lemma">subst_instance_subst_telescope</span></a> <a id="u:427" class="idref" href="#u:427"><span class="id" title="binder">u</span></a> <a id="s:428" class="idref" href="#s:428"><span class="id" title="binder">s</span></a> <a id="k:429" class="idref" href="#k:429"><span class="id" title="binder">k</span></a> <a id="ctx:430" class="idref" href="#ctx:430"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:427"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_telescope"><span class="id" title="definition">subst_telescope</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:428"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#k:429"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctx:430"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_telescope"><span class="id" title="definition">subst_telescope</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:427"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:428"><span class="id" title="variable">s</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#k:429"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:427"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctx:430"><span class="id" title="variable">ctx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /= /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_instance_context"><span class="id" title="instance">subst_instance_context</span></a> /= /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_telescope"><span class="id" title="definition">subst_telescope</span></a> /=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="MetaRocq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#map_mapi"><span class="id" title="lemma">map_mapi</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#mapi_map"><span class="id" title="lemma">mapi_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a> ⇒ <span class="id" title="var">i</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Common.BasicAst.html#compose_map_decl"><span class="id" title="lemma">compose_map_decl</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl_ext"><span class="id" title="lemma">map_decl_ext</span></a> ⇒ <span class="id" title="var">t'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_lift_context" class="idref" href="#subst_instance_lift_context"><span class="id" title="lemma">subst_instance_lift_context</span></a> <a id="u:431" class="idref" href="#u:431"><span class="id" title="binder">u</span></a> <a id="n:432" class="idref" href="#n:432"><span class="id" title="binder">n</span></a> <a id="k:433" class="idref" href="#k:433"><span class="id" title="binder">k</span></a> <a id="ctx:434" class="idref" href="#ctx:434"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:431"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:432"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#k:433"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctx:434"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:432"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#k:433"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:431"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctx:434"><span class="id" title="variable">ctx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /= /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_instance_context"><span class="id" title="instance">subst_instance_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map_fold_context_k"><span class="id" title="lemma">map_fold_context_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k_map"><span class="id" title="lemma">fold_context_k_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k_ext"><span class="id" title="lemma">fold_context_k_ext</span></a> ⇒ <span class="id" title="var">i</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_lift"><span class="id" title="lemma">subst_instance_lift</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_inds" class="idref" href="#subst_instance_inds"><span class="id" title="lemma">subst_instance_inds</span></a> <a id="u0:435" class="idref" href="#u0:435"><span class="id" title="binder">u0</span></a> <a id="ind:436" class="idref" href="#ind:436"><span class="id" title="binder">ind</span></a> <a id="u:437" class="idref" href="#u:437"><span class="id" title="binder">u</span></a> <a id="bodies:438" class="idref" href="#bodies:438"><span class="id" title="binder">bodies</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u0:435"><span class="id" title="variable">u0</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">inds</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ind:436"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:437"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#bodies:438"><span class="id" title="variable">bodies</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">inds</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ind:436"><span class="id" title="variable">ind</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u0:435"><span class="id" title="variable">u0</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:437"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#bodies:438"><span class="id" title="variable">bodies</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">inds</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">bodies</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_subst_context"><span class="id" title="lemma">subst_instance_subst_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_lift_context"><span class="id" title="lemma">subst_instance_lift_context</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_lift"><span class="id" title="lemma">subst_instance_lift</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_it_mkProd_or_LetIn"><span class="id" title="lemma">subst_instance_it_mkProd_or_LetIn</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_it_mkLambda_or_LetIn"><span class="id" title="lemma">subst_instance_it_mkLambda_or_LetIn</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_inds"><span class="id" title="lemma">subst_instance_inds</span></a><br/>
&nbsp;&nbsp;: <span class="id" title="var">substu</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">substu</span> := <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">substu</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_case_context_subst_instance" class="idref" href="#inst_case_context_subst_instance"><span class="id" title="lemma">inst_case_context_subst_instance</span></a> <a id="pars:439" class="idref" href="#pars:439"><span class="id" title="binder">pars</span></a> <a id="puinst:440" class="idref" href="#puinst:440"><span class="id" title="binder">puinst</span></a> <a id="ctx:441" class="idref" href="#ctx:441"><span class="id" title="binder">ctx</span></a> <a id="u:442" class="idref" href="#u:442"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:442"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pars:439"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#puinst:440"><span class="id" title="variable">puinst</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctx:441"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:442"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pars:439"><span class="id" title="variable">pars</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:442"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#puinst:440"><span class="id" title="variable">puinst</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctx:441"><span class="id" title="variable">ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a>; <span class="id" title="var">substu</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_two_context"><span class="id" title="lemma">subst_instance_two_context</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_case_predicate_context_subst_instance" class="idref" href="#inst_case_predicate_context_subst_instance"><span class="id" title="lemma">inst_case_predicate_context_subst_instance</span></a> <a id="p:443" class="idref" href="#p:443"><span class="id" title="binder">p</span></a> <a id="u:444" class="idref" href="#u:444"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:444"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_predicate_context"><span class="id" title="definition">inst_case_predicate_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:443"><span class="id" title="variable">p</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_predicate_context"><span class="id" title="definition">inst_case_predicate_context</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:444"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:443"><span class="id" title="variable">p</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_predicate_context"><span class="id" title="definition">inst_case_predicate_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst_case_context_subst_instance"><span class="id" title="lemma">inst_case_context_subst_instance</span></a>; <span class="id" title="var">cbn</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_case_branch_context_subst_instance" class="idref" href="#inst_case_branch_context_subst_instance"><span class="id" title="lemma">inst_case_branch_context_subst_instance</span></a> <a id="p:445" class="idref" href="#p:445"><span class="id" title="binder">p</span></a> <a id="br:446" class="idref" href="#br:446"><span class="id" title="binder">br</span></a> <a id="u:447" class="idref" href="#u:447"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:447"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:445"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#br:446"><span class="id" title="variable">br</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:447"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:445"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:447"><span class="id" title="variable">u</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#br:446"><span class="id" title="variable">br</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst_case_context_subst_instance"><span class="id" title="lemma">inst_case_context_subst_instance</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="iota_red_subst_instance" class="idref" href="#iota_red_subst_instance"><span class="id" title="lemma">iota_red_subst_instance</span></a> <a id="pars:448" class="idref" href="#pars:448"><span class="id" title="binder">pars</span></a> <a id="p:449" class="idref" href="#p:449"><span class="id" title="binder">p</span></a> <a id="args:450" class="idref" href="#args:450"><span class="id" title="binder">args</span></a> <a id="br:451" class="idref" href="#br:451"><span class="id" title="binder">br</span></a> <a id="u:452" class="idref" href="#u:452"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:452"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#iota_red"><span class="id" title="definition">iota_red</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pars:448"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:449"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#args:450"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#br:451"><span class="id" title="variable">br</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#iota_red"><span class="id" title="definition">iota_red</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pars:448"><span class="id" title="variable">pars</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:452"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:449"><span class="id" title="variable">p</span></a>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:452"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#args:450"><span class="id" title="variable">args</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:452"><span class="id" title="variable">u</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#br:451"><span class="id" title="variable">br</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#iota_red"><span class="id" title="definition">iota_red</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a> -<a class="idref" href="MetaRocq.Utils.MRList.html#map_skipn"><span class="id" title="lemma">map_skipn</span></a> -<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#expand_lets_subst_instance"><span class="id" title="lemma">expand_lets_subst_instance</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst_case_branch_context_subst_instance"><span class="id" title="lemma">inst_case_branch_context_subst_instance</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_map2" class="idref" href="#map_map2"><span class="id" title="lemma">map_map2</span></a> {<a id="A:453" class="idref" href="#A:453"><span class="id" title="binder">A</span></a> <a id="B:454" class="idref" href="#B:454"><span class="id" title="binder">B</span></a> <a id="C:455" class="idref" href="#C:455"><span class="id" title="binder">C</span></a> <a id="D:456" class="idref" href="#D:456"><span class="id" title="binder">D</span></a>} (<a id="f:457" class="idref" href="#f:457"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:453"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#B:454"><span class="id" title="variable">B</span></a>) (<a id="g:458" class="idref" href="#g:458"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#C:455"><span class="id" title="variable">C</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#D:456"><span class="id" title="variable">D</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:453"><span class="id" title="variable">A</span></a>) (<a id="l:459" class="idref" href="#l:459"><span class="id" title="binder">l</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#C:455"><span class="id" title="variable">C</span></a>) (<a id="l':460" class="idref" href="#l':460"><span class="id" title="binder">l'</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#D:456"><span class="id" title="variable">D</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:457"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#g:458"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:459"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l':460"><span class="id" title="variable">l'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> (<span class="id" title="keyword">fun</span> (<a id="x:461" class="idref" href="#x:461"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#C:455"><span class="id" title="variable">C</span></a>) (<a id="y:462" class="idref" href="#y:462"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#D:456"><span class="id" title="variable">D</span></a>) ⇒ <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:457"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#g:458"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#x:461"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#y:462"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:459"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l':460"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map2_map_r" class="idref" href="#map2_map_r"><span class="id" title="lemma">map2_map_r</span></a> {<a id="A:463" class="idref" href="#A:463"><span class="id" title="binder">A</span></a> <a id="B:464" class="idref" href="#B:464"><span class="id" title="binder">B</span></a> <a id="C:465" class="idref" href="#C:465"><span class="id" title="binder">C</span></a> <a id="D:466" class="idref" href="#D:466"><span class="id" title="binder">D</span></a>} (<a id="f:467" class="idref" href="#f:467"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#B:464"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#C:465"><span class="id" title="variable">C</span></a>) (<a id="g:468" class="idref" href="#g:468"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:463"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#C:465"><span class="id" title="variable">C</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#D:466"><span class="id" title="variable">D</span></a>) (<a id="l:469" class="idref" href="#l:469"><span class="id" title="binder">l</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:463"><span class="id" title="variable">A</span></a>) (<a id="l':470" class="idref" href="#l':470"><span class="id" title="binder">l'</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#B:464"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#g:468"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:469"><span class="id" title="variable">l</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:467"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l':470"><span class="id" title="variable">l'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:471" class="idref" href="#x:471"><span class="id" title="binder">x</span></a> <a id="y:472" class="idref" href="#y:472"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#g:468"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#x:471"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:467"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#y:472"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:469"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l':470"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map2_set_binder_name_map" class="idref" href="#map2_set_binder_name_map"><span class="id" title="lemma">map2_set_binder_name_map</span></a> <a id="bctx:473" class="idref" href="#bctx:473"><span class="id" title="binder">bctx</span></a> <a id="f:474" class="idref" href="#f:474"><span class="id" title="binder">f</span></a> <a id="00dd2aad6815fa7802b0e0a715fd8867" class="idref" href="#00dd2aad6815fa7802b0e0a715fd8867"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#bctx:473"><span class="id" title="variable">bctx</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:474"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#00dd2aad6815fa7802b0e0a715fd8867"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:474"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#bctx:473"><span class="id" title="variable">bctx</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#00dd2aad6815fa7802b0e0a715fd8867"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map_map2"><span class="id" title="lemma">map_map2</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map2_map_r"><span class="id" title="lemma">map2_map_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_case_branch_context" class="idref" href="#subst_instance_case_branch_context"><span class="id" title="lemma">subst_instance_case_branch_context</span></a> <a id="ind:476" class="idref" href="#ind:476"><span class="id" title="binder">ind</span></a> <a id="mdecl:477" class="idref" href="#mdecl:477"><span class="id" title="binder">mdecl</span></a> <a id="u:478" class="idref" href="#u:478"><span class="id" title="binder">u</span></a> <a id="p:479" class="idref" href="#p:479"><span class="id" title="binder">p</span></a> <a id="bctx:480" class="idref" href="#bctx:480"><span class="id" title="binder">bctx</span></a> <a id="cdecl:481" class="idref" href="#cdecl:481"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:478"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_context"><span class="id" title="definition">case_branch_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ind:476"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:477"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:479"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#bctx:480"><span class="id" title="variable">bctx</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cdecl:481"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_context"><span class="id" title="definition">case_branch_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ind:476"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:477"><span class="id" title="variable">mdecl</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:478"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:479"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#bctx:480"><span class="id" title="variable">bctx</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cdecl:481"><span class="id" title="variable">cdecl</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_context"><span class="id" title="definition">case_branch_context</span></a>, <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_context_gen"><span class="id" title="definition">case_branch_context_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="var">substu</span> ⇒ /=; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#pre_case_branch_context_gen"><span class="id" title="definition">pre_case_branch_context_gen</span></a> -<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst_case_context_subst_instance"><span class="id" title="lemma">inst_case_context_subst_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -[<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map2_set_binder_name_map"><span class="id" title="lemma">map2_set_binder_name_map</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_case_predicate_context" class="idref" href="#subst_instance_case_predicate_context"><span class="id" title="lemma">subst_instance_case_predicate_context</span></a> <a id="ind:482" class="idref" href="#ind:482"><span class="id" title="binder">ind</span></a> <a id="mdecl:483" class="idref" href="#mdecl:483"><span class="id" title="binder">mdecl</span></a> <a id="idecl:484" class="idref" href="#idecl:484"><span class="id" title="binder">idecl</span></a> <a id="p:485" class="idref" href="#p:485"><span class="id" title="binder">p</span></a> <a id="u:486" class="idref" href="#u:486"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:486"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ind:482"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:483"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#idecl:484"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:485"><span class="id" title="variable">p</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ind:482"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:483"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#idecl:484"><span class="id" title="variable">idecl</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:486"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:485"><span class="id" title="variable">p</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a>, <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_predicate_context_gen"><span class="id" title="definition">case_predicate_context_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="var">substu</span> ⇒ /=; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#pre_case_predicate_context_gen"><span class="id" title="definition">pre_case_predicate_context_gen</span></a> -<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst_case_context_subst_instance"><span class="id" title="lemma">inst_case_context_subst_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -[<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map2_set_binder_name_map"><span class="id" title="lemma">map2_set_binder_name_map</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_to_extended_list" class="idref" href="#subst_instance_to_extended_list"><span class="id" title="lemma">subst_instance_to_extended_list</span></a> <a id="u:487" class="idref" href="#u:487"><span class="id" title="binder">u</span></a> <a id="l:488" class="idref" href="#l:488"><span class="id" title="binder">l</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:487"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:488"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:487"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:488"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span>) (@<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>)) <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unf_term</span>. <span class="id" title="tactic">generalize</span> (@<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>), 0. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">aa</span> [<span class="id" title="var">ab</span>|] <span class="id" title="var">ac</span>] <span class="id" title="var">bb</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">n</span>; <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHbb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">n</span>; <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHbb</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="to_extended_list_subst_instance" class="idref" href="#to_extended_list_subst_instance"><span class="id" title="lemma">to_extended_list_subst_instance</span></a> <a id="u:489" class="idref" href="#u:489"><span class="id" title="binder">u</span></a> <a id="l:490" class="idref" href="#l:490"><span class="id" title="binder">l</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:489"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:490"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:490"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unf_term</span>. <span class="id" title="tactic">generalize</span> (@<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>), 0. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">aa</span> [<span class="id" title="var">ab</span>|] <span class="id" title="var">ac</span>] <span class="id" title="var">bb</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">n</span>; <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHbb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">n</span>; <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHbb</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_expand_lets" class="idref" href="#subst_instance_expand_lets"><span class="id" title="lemma">subst_instance_expand_lets</span></a> <a id="u:491" class="idref" href="#u:491"><span class="id" title="binder">u</span></a> <a id="7f56bd90965bad2b6d2730cb967a737e" class="idref" href="#7f56bd90965bad2b6d2730cb967a737e"><span class="id" title="binder">Γ</span></a> <a id="t:493" class="idref" href="#t:493"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:491"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7f56bd90965bad2b6d2730cb967a737e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:493"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:491"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7f56bd90965bad2b6d2730cb967a737e"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:491"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:493"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_extended_subst"><span class="id" title="lemma">subst_instance_extended_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_lift"><span class="id" title="lemma">subst_instance_lift</span></a>. <span class="id" title="var">len</span>; <span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_expand_lets"><span class="id" title="lemma">subst_instance_expand_lets</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance"><span class="id" title="lemma">closedn_subst_instance</span></a> : <span class="id" title="var">substu</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_expand_lets_ctx" class="idref" href="#subst_instance_expand_lets_ctx"><span class="id" title="lemma">subst_instance_expand_lets_ctx</span></a> <a id="u:494" class="idref" href="#u:494"><span class="id" title="binder">u</span></a> <a id="89e9bacb930330a11fa39b2f415144da" class="idref" href="#89e9bacb930330a11fa39b2f415144da"><span class="id" title="binder">Γ</span></a> <a id="274eb4cf9c1208d38889b200cf08a0cd" class="idref" href="#274eb4cf9c1208d38889b200cf08a0cd"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:494"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#89e9bacb930330a11fa39b2f415144da"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#274eb4cf9c1208d38889b200cf08a0cd"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:494"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#89e9bacb930330a11fa39b2f415144da"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:494"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#274eb4cf9c1208d38889b200cf08a0cd"><span class="id" title="variable">Δ</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a>; <span class="id" title="var">substu</span>; <span class="id" title="var">len</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_expand_lets_ctx"><span class="id" title="lemma">subst_instance_expand_lets_ctx</span></a> : <span class="id" title="var">substu</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="forget_types_subst_instance" class="idref" href="#forget_types_subst_instance"><span class="id" title="lemma">forget_types_subst_instance</span></a> <a id="l:497" class="idref" href="#l:497"><span class="id" title="binder">l</span></a> <a id="ctx:498" class="idref" href="#ctx:498"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.BasicAst.html#forget_types"><span class="id" title="definition">forget_types</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:497"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctx:498"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#forget_types"><span class="id" title="definition">forget_types</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctx:498"><span class="id" title="variable">ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.BasicAst.html#forget_types"><span class="id" title="definition">forget_types</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a> /=.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_case_branch_type" class="idref" href="#subst_instance_case_branch_type"><span class="id" title="lemma">subst_instance_case_branch_type</span></a> {<a id="cf:499" class="idref" href="#cf:499"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="092c095af70b6ae0ed4754629624e803" class="idref" href="#092c095af70b6ae0ed4754629624e803"><span class="id" title="binder">Σ</span></a>} {<a id="23323da12354fa11bb938d9f5ff1b4ae" class="idref" href="#23323da12354fa11bb938d9f5ff1b4ae"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#092c095af70b6ae0ed4754629624e803"><span class="id" title="variable">Σ</span></a>} <a id="u:502" class="idref" href="#u:502"><span class="id" title="binder">u</span></a> (<a id="ci:503" class="idref" href="#ci:503"><span class="id" title="binder">ci</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#case_info"><span class="id" title="record">case_info</span></a>) <a id="mdecl:504" class="idref" href="#mdecl:504"><span class="id" title="binder">mdecl</span></a> <a id="idecl:505" class="idref" href="#idecl:505"><span class="id" title="binder">idecl</span></a> <a id="p:506" class="idref" href="#p:506"><span class="id" title="binder">p</span></a> <a id="predctx:507" class="idref" href="#predctx:507"><span class="id" title="binder">predctx</span></a> <a id="br:508" class="idref" href="#br:508"><span class="id" title="binder">br</span></a> <a id="i:509" class="idref" href="#i:509"><span class="id" title="binder">i</span></a> <a id="cdecl:510" class="idref" href="#cdecl:510"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ptm:511" class="idref" href="#ptm:511"><span class="id" title="binder">ptm</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkLambda_or_LetIn"><span class="id" title="definition">it_mkLambda_or_LetIn</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#predctx:507"><span class="id" title="variable">predctx</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:506"><span class="id" title="variable">p</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':512" class="idref" href="#p':512"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:502"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:506"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ptm':513" class="idref" href="#ptm':513"><span class="id" title="binder">ptm'</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkLambda_or_LetIn"><span class="id" title="definition">it_mkLambda_or_LetIn</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:502"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#predctx:507"><span class="id" title="variable">predctx</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p':512"><span class="id" title="variable">p'</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_type"><span class="id" title="definition">case_branch_type</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ci:503"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:504"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#idecl:505"><span class="id" title="variable">idecl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:502"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:506"><span class="id" title="variable">p</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:502"><span class="id" title="variable">u</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#br:508"><span class="id" title="variable">br</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ptm':513"><span class="id" title="variable">ptm'</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i:509"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cdecl:510"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRProd.html#map_pair"><span class="id" title="definition">map_pair</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:502"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:502"><span class="id" title="variable">u</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_type"><span class="id" title="definition">case_branch_type</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ci:503"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:504"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#idecl:505"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:506"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#br:508"><span class="id" title="variable">br</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ptm:511"><span class="id" title="variable">ptm</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i:509"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cdecl:510"><span class="id" title="variable">cdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ptm</span> <span class="id" title="var">p'</span> <span class="id" title="var">ptm'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_type"><span class="id" title="definition">case_branch_type</span></a> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#case_branch_type_gen"><span class="id" title="definition">case_branch_type_gen</span></a> /<a class="idref" href="MetaRocq.Utils.MRProd.html#map_pair"><span class="id" title="definition">map_pair</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_case_branch_context"><span class="id" title="lemma">subst_instance_case_branch_context</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">substu</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Utils.MRList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#map_ext"><span class="id" title="lemma">map_ext</span></a> ⇒ <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">substu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <span class="id" title="var">_</span>)]<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_two"><span class="id" title="lemma">subst_instance_two</span></a> ?<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_two_context"><span class="id" title="lemma">subst_instance_two_context</span></a> //.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">substu</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_to_extended_list"><span class="id" title="lemma">subst_instance_to_extended_list</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#to_extended_list_subst_instance"><span class="id" title="lemma">to_extended_list_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Utils.MRList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> &lt;-<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_lift"><span class="id" title="lemma">subst_instance_lift</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_wf_predicate" class="idref" href="#subst_instance_wf_predicate"><span class="id" title="lemma">subst_instance_wf_predicate</span></a> <a id="u:514" class="idref" href="#u:514"><span class="id" title="binder">u</span></a> <a id="mdecl:515" class="idref" href="#mdecl:515"><span class="id" title="binder">mdecl</span></a> <a id="idecl:516" class="idref" href="#idecl:516"><span class="id" title="binder">idecl</span></a> <a id="p:517" class="idref" href="#p:517"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_predicate"><span class="id" title="definition">wf_predicate</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:515"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#idecl:516"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:517"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_predicate"><span class="id" title="definition">wf_predicate</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:515"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#idecl:516"><span class="id" title="variable">idecl</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:514"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:517"><span class="id" title="variable">p</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_wf_branch" class="idref" href="#subst_instance_wf_branch"><span class="id" title="lemma">subst_instance_wf_branch</span></a> <a id="u:518" class="idref" href="#u:518"><span class="id" title="binder">u</span></a> <a id="cdecl:519" class="idref" href="#cdecl:519"><span class="id" title="binder">cdecl</span></a> <a id="br:520" class="idref" href="#br:520"><span class="id" title="binder">br</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_branch"><span class="id" title="definition">wf_branch</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cdecl:519"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#br:520"><span class="id" title="variable">br</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_branch"><span class="id" title="definition">wf_branch</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cdecl:519"><span class="id" title="variable">cdecl</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:518"><span class="id" title="variable">u</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#br:520"><span class="id" title="variable">br</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_branch"><span class="id" title="definition">wf_branch</span></a>, <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_branch_gen"><span class="id" title="definition">wf_branch_gen</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_wf_branches" class="idref" href="#subst_instance_wf_branches"><span class="id" title="lemma">subst_instance_wf_branches</span></a> <a id="cdecl:521" class="idref" href="#cdecl:521"><span class="id" title="binder">cdecl</span></a> <a id="u:522" class="idref" href="#u:522"><span class="id" title="binder">u</span></a> <a id="brs:523" class="idref" href="#brs:523"><span class="id" title="binder">brs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_branches"><span class="id" title="definition">wf_branches</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cdecl:521"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#brs:523"><span class="id" title="variable">brs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_branches"><span class="id" title="definition">wf_branches</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cdecl:521"><span class="id" title="variable">cdecl</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:522"><span class="id" title="variable">u</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#brs:523"><span class="id" title="variable">brs</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_branches"><span class="id" title="definition">wf_branches</span></a>, <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_branches_gen"><span class="id" title="definition">wf_branches_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>. <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">subst_instance_wf_predicate</span><br/>
&nbsp;&nbsp;<span class="id" title="var">subst_instance_wf_branch</span> <span class="id" title="var">subst_instance_wf_branches</span> : <span class="id" title="var">pcuic</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_predicate_set_pparams" class="idref" href="#subst_instance_predicate_set_pparams"><span class="id" title="lemma">subst_instance_predicate_set_pparams</span></a> <a id="u:524" class="idref" href="#u:524"><span class="id" title="binder">u</span></a> <a id="p:525" class="idref" href="#p:525"><span class="id" title="binder">p</span></a> <a id="params:526" class="idref" href="#params:526"><span class="id" title="binder">params</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:524"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.utils.PCUICOnOne.html#set_pparams"><span class="id" title="definition">set_pparams</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:525"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#params:526"><span class="id" title="variable">params</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.utils.PCUICOnOne.html#set_pparams"><span class="id" title="definition">set_pparams</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:524"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:525"><span class="id" title="variable">p</span></a>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:524"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#params:526"><span class="id" title="variable">params</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_predicate_set_preturn" class="idref" href="#subst_instance_predicate_set_preturn"><span class="id" title="lemma">subst_instance_predicate_set_preturn</span></a> <a id="u:527" class="idref" href="#u:527"><span class="id" title="binder">u</span></a> <a id="p:528" class="idref" href="#p:528"><span class="id" title="binder">p</span></a> <a id="pret:529" class="idref" href="#pret:529"><span class="id" title="binder">pret</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:527"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.utils.PCUICOnOne.html#set_preturn"><span class="id" title="definition">set_preturn</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:528"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pret:529"><span class="id" title="variable">pret</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.utils.PCUICOnOne.html#set_preturn"><span class="id" title="definition">set_preturn</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:527"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:528"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:527"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pret:529"><span class="id" title="variable">pret</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="red1_subst_instance" class="idref" href="#red1_subst_instance"><span class="id" title="lemma">red1_subst_instance</span></a> <a id="cc226dcfe9f55bb39c9ab5ac6f324e62" class="idref" href="#cc226dcfe9f55bb39c9ab5ac6f324e62"><span class="id" title="binder">Σ</span></a> <a id="b76e63a2dc232eefc3cb75edb63a3339" class="idref" href="#b76e63a2dc232eefc3cb75edb63a3339"><span class="id" title="binder">Γ</span></a> <a id="u:532" class="idref" href="#u:532"><span class="id" title="binder">u</span></a> <a id="s:533" class="idref" href="#s:533"><span class="id" title="binder">s</span></a> <a id="t:534" class="idref" href="#t:534"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red1"><span class="id" title="inductive">red1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cc226dcfe9f55bb39c9ab5ac6f324e62"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b76e63a2dc232eefc3cb75edb63a3339"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:533"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:534"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red1"><span class="id" title="inductive">red1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cc226dcfe9f55bb39c9ab5ac6f324e62"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:532"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b76e63a2dc232eefc3cb75edb63a3339"><span class="id" title="variable">Γ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:532"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:533"><span class="id" title="variable">s</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:532"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:534"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#I"><span class="id" title="constructor">I</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">X0</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red1_ind_all"><span class="id" title="lemma">red1_ind_all</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> (<span class="id" title="var">cbn</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_lift"><span class="id" title="lemma">subst_instance_lift</span></a>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">Γ</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">E</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl_body"><span class="id" title="lemma">map_decl_body</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#iota_red_subst_instance"><span class="id" title="lemma">iota_red_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <span class="id" title="var">br</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">bcotext</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span>) <span class="id" title="var">br</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red_iota"><span class="id" title="constructor">red_iota</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">H</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">E</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#fix_subst_instance_subst"><span class="id" title="lemma">fix_subst_instance_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#is_constructor"><span class="id" title="definition">is_constructor</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">args</span> <span class="id" title="var">narg</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">E</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#isConstruct_app_subst_instance"><span class="id" title="lemma">isConstruct_app_subst_instance</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#unfold_cofix"><span class="id" title="definition">unfold_cofix</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">fold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst_instance_constr"><span class="id" title="instance">subst_instance_constr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#unfold_cofix"><span class="id" title="definition">unfold_cofix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">E</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cofix_subst_instance_subst"><span class="id" title="lemma">cofix_subst_instance_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#unfold_cofix"><span class="id" title="definition">unfold_cofix</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">fold</span> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#unfold_cofix"><span class="id" title="definition">unfold_cofix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cofix_subst_instance_subst"><span class="id" title="lemma">cofix_subst_instance_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_two"><span class="id" title="lemma">subst_instance_two</span></a>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_predicate"><span class="id" title="definition">map_predicate</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.PCUIC.utils.PCUICOnOne.html#set_pparams"><span class="id" title="definition">set_pparams</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)]<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_predicate_set_pparams"><span class="id" title="lemma">subst_instance_predicate_set_pparams</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_impl"><span class="id" title="lemma">OnOne2_impl</span></a>. 1: <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_predicate"><span class="id" title="definition">map_predicate</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.PCUIC.utils.PCUICOnOne.html#set_preturn"><span class="id" title="definition">set_preturn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)]<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_predicate_set_preturn"><span class="id" title="lemma">subst_instance_predicate_set_preturn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#case_red_return"><span class="id" title="constructor">case_red_return</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_app"><span class="id" title="lemma">subst_instance_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHX0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst_case_predicate_context_subst_instance"><span class="id" title="lemma">inst_case_predicate_context_subst_instance</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_impl"><span class="id" title="lemma">OnOne2_impl</span></a>; [<span class="id" title="var">eassumption</span> | <span class="id" title="var">pcuicfo</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Utils.MRRelations.html#on_Trel"><span class="id" title="definition">on_Trel</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_app"><span class="id" title="lemma">subst_instance_app</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst_case_branch_context_subst_instance"><span class="id" title="lemma">inst_case_branch_context_subst_instance</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>; <span class="id" title="tactic">econstructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_impl"><span class="id" title="lemma">OnOne2_impl</span></a>; [ <span class="id" title="var">eassumption</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#fix_red_ty"><span class="id" title="constructor">fix_red_ty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_impl"><span class="id" title="lemma">OnOne2_impl</span></a>; [ <span class="id" title="var">eassumption</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">y</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#fix_red_body"><span class="id" title="constructor">fix_red_body</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_impl"><span class="id" title="lemma">OnOne2_impl</span></a>; [ <span class="id" title="var">eassumption</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">y</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_app"><span class="id" title="lemma">subst_instance_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#fix_context_subst_instance"><span class="id" title="lemma">fix_context_subst_instance</span></a> <span class="id" title="var">u</span> <span class="id" title="var">mfix0</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>; <span class="id" title="tactic">econstructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_impl"><span class="id" title="lemma">OnOne2_impl</span></a>; [ <span class="id" title="var">eassumption</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">y</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#cofix_red_body"><span class="id" title="constructor">cofix_red_body</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_impl"><span class="id" title="lemma">OnOne2_impl</span></a>; [ <span class="id" title="var">eassumption</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">y</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_app"><span class="id" title="lemma">subst_instance_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#fix_context_subst_instance"><span class="id" title="lemma">fix_context_subst_instance</span></a> <span class="id" title="var">u</span> <span class="id" title="var">mfix0</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#array_red_val"><span class="id" title="constructor">array_red_val</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_ws_cumul_pb" class="idref" href="#subst_instance_ws_cumul_pb"><span class="id" title="lemma">subst_instance_ws_cumul_pb</span></a> {<a id="cf:535" class="idref" href="#cf:535"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="00f923b8fbcc1b6b66e8221b0f9da182" class="idref" href="#00f923b8fbcc1b6b66e8221b0f9da182"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) <a id="273dba93c971cbef0c11ff5d02da0fac" class="idref" href="#273dba93c971cbef0c11ff5d02da0fac"><span class="id" title="binder">Γ</span></a> <a id="u:538" class="idref" href="#u:538"><span class="id" title="binder">u</span></a> <a id="A:539" class="idref" href="#A:539"><span class="id" title="binder">A</span></a> <a id="B:540" class="idref" href="#B:540"><span class="id" title="binder">B</span></a> <a id="univs:541" class="idref" href="#univs:541"><span class="id" title="binder">univs</span></a> :<br/>
<a class="idref" href="MetaRocq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#00f923b8fbcc1b6b66e8221b0f9da182"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:541"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:538"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#00f923b8fbcc1b6b66e8221b0f9da182"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#00f923b8fbcc1b6b66e8221b0f9da182"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#0201439ba92dba5389e79c0ab5c9e4d4"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#273dba93c971cbef0c11ff5d02da0fac"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#0201439ba92dba5389e79c0ab5c9e4d4"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:539"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#0201439ba92dba5389e79c0ab5c9e4d4"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#B:540"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#00f923b8fbcc1b6b66e8221b0f9da182"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:541"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#0201439ba92dba5389e79c0ab5c9e4d4"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:538"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#273dba93c971cbef0c11ff5d02da0fac"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#0201439ba92dba5389e79c0ab5c9e4d4"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:538"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:539"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#0201439ba92dba5389e79c0ab5c9e4d4"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:538"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#B:540"><span class="id" title="variable">B</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#eq_term_subst_instance"><span class="id" title="lemma">eq_term_subst_instance</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span> 2. 1: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#red1_subst_instance"><span class="id" title="lemma">red1_subst_instance</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span> 3. 1: <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#red1_subst_instance"><span class="id" title="lemma">red1_subst_instance</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cumul_subst_instance" class="idref" href="#cumul_subst_instance"><span class="id" title="lemma">cumul_subst_instance</span></a> {<a id="cf:542" class="idref" href="#cf:542"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="83a3ed663423c3cd0e42ed158b1ed0ba" class="idref" href="#83a3ed663423c3cd0e42ed158b1ed0ba"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) <a id="c2a8d38b8cc1dbac44acff60563ea6f6" class="idref" href="#c2a8d38b8cc1dbac44acff60563ea6f6"><span class="id" title="binder">Γ</span></a> <a id="u:545" class="idref" href="#u:545"><span class="id" title="binder">u</span></a> <a id="A:546" class="idref" href="#A:546"><span class="id" title="binder">A</span></a> <a id="B:547" class="idref" href="#B:547"><span class="id" title="binder">B</span></a> <a id="univs:548" class="idref" href="#univs:548"><span class="id" title="binder">univs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#83a3ed663423c3cd0e42ed158b1ed0ba"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:548"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:545"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#83a3ed663423c3cd0e42ed158b1ed0ba"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#83a3ed663423c3cd0e42ed158b1ed0ba"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c2a8d38b8cc1dbac44acff60563ea6f6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:546"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#B:547"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#83a3ed663423c3cd0e42ed158b1ed0ba"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:548"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:545"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c2a8d38b8cc1dbac44acff60563ea6f6"><span class="id" title="variable">Γ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:545"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:546"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:545"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#B:547"><span class="id" title="variable">B</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#leq_term_subst_instance"><span class="id" title="lemma">leq_term_subst_instance</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span> 2. 1: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#red1_subst_instance"><span class="id" title="lemma">red1_subst_instance</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span> 3. 1: <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#red1_subst_instance"><span class="id" title="lemma">red1_subst_instance</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_allowed_elimination_subst_instance" class="idref" href="#is_allowed_elimination_subst_instance"><span class="id" title="lemma">is_allowed_elimination_subst_instance</span></a> {<a id="cf:549" class="idref" href="#cf:549"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="391875e84e76cffda0d043a934da15bc" class="idref" href="#391875e84e76cffda0d043a934da15bc"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) <a id="univs:551" class="idref" href="#univs:551"><span class="id" title="binder">univs</span></a> <a id="inst:552" class="idref" href="#inst:552"><span class="id" title="binder">inst</span></a> <a id="u:553" class="idref" href="#u:553"><span class="id" title="binder">u</span></a> <a id="al:554" class="idref" href="#al:554"><span class="id" title="binder">al</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#391875e84e76cffda0d043a934da15bc"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:551"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst:552"><span class="id" title="variable">inst</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#391875e84e76cffda0d043a934da15bc"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#is_allowed_elimination"><span class="id" title="definition">is_allowed_elimination</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#391875e84e76cffda0d043a934da15bc"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#al:554"><span class="id" title="variable">al</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:553"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#is_allowed_elimination"><span class="id" title="definition">is_allowed_elimination</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#391875e84e76cffda0d043a934da15bc"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:551"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#al:554"><span class="id" title="variable">al</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_sort"><span class="id" title="instance">subst_instance_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst:552"><span class="id" title="variable">inst</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:553"><span class="id" title="variable">u</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">al</span>, <span class="id" title="var">u</span> <span class="id" title="keyword">as</span> [| | <span class="id" title="var">u</span>]; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">val</span> [<span class="id" title="var">H</span>|<span class="id" title="var">isal</span>] ⇒ //; <span class="id" title="tactic">right</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isal</span> |- ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfold_univ_rel</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">val</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">isal</span> <span class="id" title="var">_</span> <span class="id" title="var">val</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_universe_val'"><span class="id" title="lemma">subst_instance_universe_val'</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="compare_decl_subst_instance" class="idref" href="#compare_decl_subst_instance"><span class="id" title="instance">compare_decl_subst_instance</span></a> {<a id="cf:555" class="idref" href="#cf:555"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="pb:556" class="idref" href="#pb:556"><span class="id" title="binder">pb</span></a> <a id="9e6af6dcfed2d18520cbc25651fef3c5" class="idref" href="#9e6af6dcfed2d18520cbc25651fef3c5"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<span class="id" title="keyword">fun</span> <a id="232bd46e0953fe2f82ee2e033b4cc6e6" class="idref" href="#232bd46e0953fe2f82ee2e033b4cc6e6"><span class="id" title="binder">φ</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#compare_decl"><span class="id" title="definition">compare_decl</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9e6af6dcfed2d18520cbc25651fef3c5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#232bd46e0953fe2f82ee2e033b4cc6e6"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:556"><span class="id" title="variable">pb</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> φ1 φ2 <span class="id" title="var">u</span> <span class="id" title="var">HH</span> ? ? [] ⇒ /=; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#compare_term_subst_instance"><span class="id" title="lemma">compare_term_subst_instance</span></a>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="compare_context_subst_instance" class="idref" href="#compare_context_subst_instance"><span class="id" title="instance">compare_context_subst_instance</span></a> {<a id="cf:559" class="idref" href="#cf:559"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="pb:560" class="idref" href="#pb:560"><span class="id" title="binder">pb</span></a> <a id="25d295c39ca185e3d5d964aeb4ce032a" class="idref" href="#25d295c39ca185e3d5d964aeb4ce032a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<span class="id" title="keyword">fun</span> <a id="3718dd2ce4283531f7d0cf48344e6a26" class="idref" href="#3718dd2ce4283531f7d0cf48344e6a26"><span class="id" title="binder">φ</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#compare_context"><span class="id" title="definition">compare_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#25d295c39ca185e3d5d964aeb4ce032a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#3718dd2ce4283531f7d0cf48344e6a26"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:560"><span class="id" title="variable">pb</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> φ φ' <span class="id" title="var">u</span> <span class="id" title="var">HH</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#All2_fold_map"><span class="id" title="lemma">All2_fold_map</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_fold_impl"><span class="id" title="lemma">All2_fold_impl</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#compare_decl_subst_instance"><span class="id" title="instance">compare_decl_subst_instance</span></a>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_destArity" class="idref" href="#subst_instance_destArity"><span class="id" title="lemma">subst_instance_destArity</span></a> <a id="c51f6eb1df6e0d6d14680115d95a1c9b" class="idref" href="#c51f6eb1df6e0d6d14680115d95a1c9b"><span class="id" title="binder">Γ</span></a> <a id="A:564" class="idref" href="#A:564"><span class="id" title="binder">A</span></a> <a id="u:565" class="idref" href="#u:565"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">destArity</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:565"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c51f6eb1df6e0d6d14680115d95a1c9b"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:565"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:564"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">destArity</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c51f6eb1df6e0d6d14680115d95a1c9b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:564"><span class="id" title="variable">A</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ctx</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">s</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:565"><span class="id" title="variable">u</span></a> <span class="id" title="var">ctx</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_sort"><span class="id" title="instance">subst_instance_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:565"><span class="id" title="variable">u</span></a> <span class="id" title="var">s</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">A</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Γ</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">change</span> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span> <span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst_instance_constr"><span class="id" title="instance">subst_instance_constr</span></a> <span class="id" title="var">u</span> <span class="id" title="var">A1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span> (<span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> <span class="id" title="var">A1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHA2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">change</span> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span> <span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <span class="id" title="var">na</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst_instance_constr"><span class="id" title="instance">subst_instance_constr</span></a> <span class="id" title="var">u</span> <span class="id" title="var">A1</span>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst_instance_constr"><span class="id" title="instance">subst_instance_constr</span></a> <span class="id" title="var">u</span> <span class="id" title="var">A2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span> (<span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <span class="id" title="var">na</span> <span class="id" title="var">A1</span> <span class="id" title="var">A2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHA3</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_decompose_prod_assum" class="idref" href="#subst_instance_decompose_prod_assum"><span class="id" title="lemma">subst_instance_decompose_prod_assum</span></a> <a id="u:566" class="idref" href="#u:566"><span class="id" title="binder">u</span></a> <a id="7df0fe7ab50a45031aa376d9e36d7742" class="idref" href="#7df0fe7ab50a45031aa376d9e36d7742"><span class="id" title="binder">Γ</span></a> <a id="t:568" class="idref" href="#t:568"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:566"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7df0fe7ab50a45031aa376d9e36d7742"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:568"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:566"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7df0fe7ab50a45031aa376d9e36d7742"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:566"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:568"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Γ</span> |- *; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt3</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_decompose_app_rec" class="idref" href="#subst_instance_decompose_app_rec"><span class="id" title="lemma">subst_instance_decompose_app_rec</span></a> <a id="u:569" class="idref" href="#u:569"><span class="id" title="binder">u</span></a> <a id="011682f724532b8b3c875dfd9b01c5c3" class="idref" href="#011682f724532b8b3c875dfd9b01c5c3"><span class="id" title="binder">Γ</span></a> <a id="t:571" class="idref" href="#t:571"><span class="id" title="binder">t</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:569"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app_rec"><span class="id" title="definition">decompose_app_rec</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:571"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#011682f724532b8b3c875dfd9b01c5c3"><span class="id" title="variable">Γ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app_rec"><span class="id" title="definition">decompose_app_rec</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:569"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:571"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:569"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#011682f724532b8b3c875dfd9b01c5c3"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Γ</span> |- *; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt1</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_decompose_app" class="idref" href="#subst_instance_decompose_app"><span class="id" title="lemma">subst_instance_decompose_app</span></a> <a id="u:572" class="idref" href="#u:572"><span class="id" title="binder">u</span></a> <a id="t:573" class="idref" href="#t:573"><span class="id" title="binder">t</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:572"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:573"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:572"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:573"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_decompose_app_rec"><span class="id" title="lemma">subst_instance_decompose_app_rec</span></a> <span class="id" title="var">u</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_smash" class="idref" href="#subst_instance_smash"><span class="id" title="lemma">subst_instance_smash</span></a> <a id="u:574" class="idref" href="#u:574"><span class="id" title="binder">u</span></a> <a id="d9dbaa354030d3798588dd5693507ce9" class="idref" href="#d9dbaa354030d3798588dd5693507ce9"><span class="id" title="binder">Γ</span></a> <a id="1fdf4b738fdec4fd0d29cfd37ea81b9b" class="idref" href="#1fdf4b738fdec4fd0d29cfd37ea81b9b"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:574"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#1fdf4b738fdec4fd0d29cfd37ea81b9b"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#d9dbaa354030d3798588dd5693507ce9"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:574"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#1fdf4b738fdec4fd0d29cfd37ea81b9b"><span class="id" title="variable">Δ</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:574"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#d9dbaa354030d3798588dd5693507ce9"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [|[? [] ?] ?] <span class="id" title="tactic">in</span> <span class="id" title="var">Δ</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_subst_context"><span class="id" title="lemma">subst_instance_subst_context</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_app"><span class="id" title="lemma">subst_instance_app</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="destInd_subst_instance" class="idref" href="#destInd_subst_instance"><span class="id" title="lemma">destInd_subst_instance</span></a> <a id="u:577" class="idref" href="#u:577"><span class="id" title="binder">u</span></a> <a id="t:578" class="idref" href="#t:578"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#destInd"><span class="id" title="definition">destInd</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:577"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:578"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:581" class="idref" href="#pat:581"><span class="id" title="binder">(</span></a><a id="i:580" class="idref" href="#i:580"><span class="id" title="binder"><span id="pat:581" class="id">i</span></span></a><a id="pat:581" class="idref" href="#pat:581"><span class="id" title="binder">,</span></a> <a id="u':579" class="idref" href="#u':579"><span class="id" title="binder"><span id="pat:581" class="id">u'</span></span></a><a id="pat:581" class="idref" href="#pat:581"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i:580"><span class="id" title="variable">i</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:577"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u':579"><span class="id" title="variable">u'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#destInd"><span class="id" title="definition">destInd</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:578"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_check_one_fix" class="idref" href="#subst_instance_check_one_fix"><span class="id" title="lemma">subst_instance_check_one_fix</span></a> <a id="u:582" class="idref" href="#u:582"><span class="id" title="binder">u</span></a> <a id="mfix:583" class="idref" href="#mfix:583"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:584" class="idref" href="#x:584"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#check_one_fix"><span class="id" title="definition">check_one_fix</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:582"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:582"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#x:584"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mfix:583"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#check_one_fix"><span class="id" title="definition">check_one_fix</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mfix:583"><span class="id" title="variable">mfix</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#map_ext"><span class="id" title="lemma">map_ext</span></a>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">na</span> <span class="id" title="var">ty</span> <span class="id" title="var">def</span> <span class="id" title="var">rarg</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum_ctx"><span class="id" title="lemma">decompose_prod_assum_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> <span class="id" title="var">_</span> <span class="id" title="var">ty</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">decomp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum_ctx"><span class="id" title="lemma">decompose_prod_assum_ctx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decomp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;-(<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_decompose_prod_assum"><span class="id" title="lemma">subst_instance_decompose_prod_assum</span></a> <span class="id" title="var">u</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">ty</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">decty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_nil_l"><span class="id" title="lemma">app_context_nil_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decomp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">decomp</span>. <span class="id" title="tactic">intros</span> → →. <span class="id" title="tactic">clear</span> <span class="id" title="var">decomp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_nil_l"><span class="id" title="lemma">app_context_nil_l</span></a> -(<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_smash"><span class="id" title="lemma">subst_instance_smash</span></a> <span class="id" title="var">u</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a>, <a class="idref" href="MetaRocq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">d</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hnth</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_decompose_app"><span class="id" title="lemma">subst_instance_decompose_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> <span class="id" title="var">d</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">Happ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#destInd_subst_instance"><span class="id" title="lemma">destInd_subst_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#destInd"><span class="id" title="definition">destInd</span></a> <span class="id" title="keyword">as</span> [[<span class="id" title="var">i</span> <span class="id" title="var">u'</span>]|]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_check_one_cofix" class="idref" href="#subst_instance_check_one_cofix"><span class="id" title="lemma">subst_instance_check_one_cofix</span></a> <a id="u:585" class="idref" href="#u:585"><span class="id" title="binder">u</span></a> <a id="mfix:586" class="idref" href="#mfix:586"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:587" class="idref" href="#x:587"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#check_one_cofix"><span class="id" title="definition">check_one_cofix</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:585"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:585"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#x:587"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mfix:586"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#check_one_cofix"><span class="id" title="definition">check_one_cofix</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mfix:586"><span class="id" title="variable">mfix</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#map_ext"><span class="id" title="lemma">map_ext</span></a>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">na</span> <span class="id" title="var">ty</span> <span class="id" title="var">def</span> <span class="id" title="var">rarg</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum_ctx"><span class="id" title="lemma">decompose_prod_assum_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> <span class="id" title="var">_</span> <span class="id" title="var">ty</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">decomp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum_ctx"><span class="id" title="lemma">decompose_prod_assum_ctx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decomp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_decompose_prod_assum"><span class="id" title="lemma">subst_instance_decompose_prod_assum</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">ty</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">decty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_nil_l"><span class="id" title="lemma">app_context_nil_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decomp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">decomp</span>; <span class="id" title="tactic">intros</span> → -&gt;; <span class="id" title="tactic">clear</span> <span class="id" title="var">decomp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Happ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_decompose_app"><span class="id" title="lemma">subst_instance_decompose_app</span></a>, <span class="id" title="var">Happ</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#destInd_subst_instance"><span class="id" title="lemma">destInd_subst_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#destInd"><span class="id" title="definition">destInd</span></a> <span class="id" title="keyword">as</span> [[<span class="id" title="var">i</span> <span class="id" title="var">u'</span>]|]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All_local_env_over_subst_instance" class="idref" href="#All_local_env_over_subst_instance"><span class="id" title="lemma">All_local_env_over_subst_instance</span></a> {<a id="cf:588" class="idref" href="#cf:588"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="b2f2efd0a92afb9ccb433885ca4ad3ca" class="idref" href="#b2f2efd0a92afb9ccb433885ca4ad3ca"><span class="id" title="binder">Σ</span></a> <a id="2b8bcf71881cc73e92efe867e51ccfe8" class="idref" href="#2b8bcf71881cc73e92efe867e51ccfe8"><span class="id" title="binder">Γ</span></a> (<a id="a773f9387e6dcd98dbe4d6d08cc902a5" class="idref" href="#a773f9387e6dcd98dbe4d6d08cc902a5"><span class="id" title="binder">wfΓ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b2f2efd0a92afb9ccb433885ca4ad3ca"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2b8bcf71881cc73e92efe867e51ccfe8"><span class="id" title="variable">Γ</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#All_local_env_over"><span class="id" title="definition">All_local_env_over</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b2f2efd0a92afb9ccb433885ca4ad3ca"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="c1203584555051eeb6f509c6ab1b0dc2" class="idref" href="#c1203584555051eeb6f509c6ab1b0dc2"><span class="id" title="binder">Γ0</span></a> (<span class="id" title="var">_</span> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b2f2efd0a92afb9ccb433885ca4ad3ca"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c1203584555051eeb6f509c6ab1b0dc2"><span class="id" title="variable">Γ0</span></a>) <a id="t:593" class="idref" href="#t:593"><span class="id" title="binder">t</span></a> <a id="T:594" class="idref" href="#T:594"><span class="id" title="binder">T</span></a> (<span class="id" title="var">_</span> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b2f2efd0a92afb9ccb433885ca4ad3ca"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c1203584555051eeb6f509c6ab1b0dc2"><span class="id" title="variable">Γ0</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:593"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#T:594"><span class="id" title="variable">T</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="u:595" class="idref" href="#u:595"><span class="id" title="binder">u</span></a> <a id="univs:596" class="idref" href="#univs:596"><span class="id" title="binder">univs</span></a>, <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b2f2efd0a92afb9ccb433885ca4ad3ca"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b2f2efd0a92afb9ccb433885ca4ad3ca"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:596"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b2f2efd0a92afb9ccb433885ca4ad3ca"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:595"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b2f2efd0a92afb9ccb433885ca4ad3ca"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:596"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:595"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c1203584555051eeb6f509c6ab1b0dc2"><span class="id" title="variable">Γ0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:595"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:593"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:595"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#T:594"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2b8bcf71881cc73e92efe867e51ccfe8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a773f9387e6dcd98dbe4d6d08cc902a5"><span class="id" title="variable">wfΓ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="u:597" class="idref" href="#u:597"><span class="id" title="binder">u</span></a> <a id="univs:598" class="idref" href="#univs:598"><span class="id" title="binder">univs</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b2f2efd0a92afb9ccb433885ca4ad3ca"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b2f2efd0a92afb9ccb433885ca4ad3ca"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:598"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b2f2efd0a92afb9ccb433885ca4ad3ca"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:597"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b2f2efd0a92afb9ccb433885ca4ad3ca"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:598"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:597"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2b8bcf71881cc73e92efe867e51ccfe8"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /=; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_sorting_fu_it_impl"><span class="id" title="lemma">lift_sorting_fu_it_impl</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">tu</span> := <span class="id" title="var">tu</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">All_local_env_over_subst_instance</span> : <span class="id" title="var">univ_subst</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="in_var_global_ext" class="idref" href="#in_var_global_ext"><span class="id" title="lemma">in_var_global_ext</span></a> {<a id="cf:599" class="idref" href="#cf:599"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="n:600" class="idref" href="#n:600"><span class="id" title="binder">n</span></a> <a id="2770a6d5fa6c00426ebd0f7ed8041614" class="idref" href="#2770a6d5fa6c00426ebd0f7ed8041614"><span class="id" title="binder">Σ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2770a6d5fa6c00426ebd0f7ed8041614"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.In"><span class="id" title="definition">LevelSet.In</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:600"><span class="id" title="variable">n</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2770a6d5fa6c00426ebd0f7ed8041614"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.In"><span class="id" title="definition">LevelSet.In</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:600"><span class="id" title="variable">n</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#levels_of_udecl"><span class="id" title="definition">levels_of_udecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2770a6d5fa6c00426ebd0f7ed8041614"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.union_spec"><span class="id" title="lemma">LevelSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#not_var_global_levels"><span class="id" title="lemma">not_var_global_levels</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">wfΣ</span> (<a class="idref" href="MetaRocq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfΣ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="monomorphic_level_in_global_ext" class="idref" href="#monomorphic_level_in_global_ext"><span class="id" title="lemma">monomorphic_level_in_global_ext</span></a> <a id="l:602" class="idref" href="#l:602"><span class="id" title="binder">l</span></a> <a id="e56d7070f450e38a4453d0549ac1f472" class="idref" href="#e56d7070f450e38a4453d0549ac1f472"><span class="id" title="binder">Σ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.In"><span class="id" title="definition">LevelSet.In</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Level.level"><span class="id" title="constructor">Level.level</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:602"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e56d7070f450e38a4453d0549ac1f472"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.In"><span class="id" title="definition">LevelSet.In</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Level.level"><span class="id" title="constructor">Level.level</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:602"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_levels"><span class="id" title="definition">global_levels</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e56d7070f450e38a4453d0549ac1f472"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">hin</span>|<span class="id" title="var">hin</span>] % <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.union_spec"><span class="id" title="lemma">LevelSet.union_spec</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#monomorphic_level_notin_levels_of_udecl"><span class="id" title="lemma">monomorphic_level_notin_levels_of_udecl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">hin</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_universe_subst_instance" class="idref" href="#wf_universe_subst_instance"><span class="id" title="lemma">wf_universe_subst_instance</span></a> {<a id="cf:604" class="idref" href="#cf:604"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="9fb98b1a3dddd5864385dfc95ea35340" class="idref" href="#9fb98b1a3dddd5864385dfc95ea35340"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) <a id="univs:606" class="idref" href="#univs:606"><span class="id" title="binder">univs</span></a> <a id="ui:607" class="idref" href="#ui:607"><span class="id" title="binder">ui</span></a> <a id="u:608" class="idref" href="#u:608"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9fb98b1a3dddd5864385dfc95ea35340"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#wf_universe"><span class="id" title="definition">wf_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9fb98b1a3dddd5864385dfc95ea35340"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:608"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9fb98b1a3dddd5864385dfc95ea35340"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:606"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9fb98b1a3dddd5864385dfc95ea35340"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ui:607"><span class="id" title="variable">ui</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#wf_universe"><span class="id" title="definition">wf_universe</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9fb98b1a3dddd5864385dfc95ea35340"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:606"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ui:607"><span class="id" title="variable">ui</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:608"><span class="id" title="variable">u</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hu</span> <span class="id" title="var">e</span> [[<span class="id" title="var">l</span> <span class="id" title="var">n</span>] [<span class="id" title="var">inl</span> -&gt;]]%<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance"><span class="id" title="lemma">In_subst_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">s</span>|<span class="id" title="var">n'</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels_InSet"><span class="id" title="lemma">global_ext_levels_InSet</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hl</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Universes.html#Level.level"><span class="id" title="constructor">Level.level</span></a> <span class="id" title="var">s</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">n</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">inl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#monomorphic_level_in_global_ext"><span class="id" title="lemma">monomorphic_level_in_global_ext</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LS.union_spec"><span class="id" title="lemma">LS.union_spec</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hl</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a> <span class="id" title="var">n'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">n</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">inl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LS.union_spec"><span class="id" title="lemma">LS.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hl</span>|<span class="id" title="var">Hl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#levels_of_udecl"><span class="id" title="definition">levels_of_udecl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>. <span class="id" title="var">lsets</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">declu</span> [<span class="id" title="var">us</span> <span class="id" title="var">vc</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">ui</span> <span class="id" title="var">n'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels_InSet"><span class="id" title="lemma">global_ext_levels_InSet</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_Forall"><span class="id" title="lemma">forallb_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#nth_error_forall"><span class="id" title="lemma">nth_error_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declu</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declu</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LS.mem_spec"><span class="id" title="lemma">LS.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#not_var_global_levels"><span class="id" title="lemma">not_var_global_levels</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_sort_subst_instance" class="idref" href="#wf_sort_subst_instance"><span class="id" title="lemma">wf_sort_subst_instance</span></a> {<a id="cf:609" class="idref" href="#cf:609"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="546153430ca01a0164ac949e6cdf1aff" class="idref" href="#546153430ca01a0164ac949e6cdf1aff"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) <a id="univs:611" class="idref" href="#univs:611"><span class="id" title="binder">univs</span></a> <a id="ui:612" class="idref" href="#ui:612"><span class="id" title="binder">ui</span></a> <a id="s:613" class="idref" href="#s:613"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#546153430ca01a0164ac949e6cdf1aff"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#wf_sort"><span class="id" title="definition">wf_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#546153430ca01a0164ac949e6cdf1aff"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:613"><span class="id" title="variable">s</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#546153430ca01a0164ac949e6cdf1aff"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:611"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#546153430ca01a0164ac949e6cdf1aff"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ui:612"><span class="id" title="variable">ui</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#wf_sort"><span class="id" title="definition">wf_sort</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#546153430ca01a0164ac949e6cdf1aff"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:611"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ui:612"><span class="id" title="variable">ui</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:613"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [| | <span class="id" title="var">u</span>]; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_universe_subst_instance"><span class="id" title="lemma">wf_universe_subst_instance</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="global_context_set" class="idref" href="#global_context_set"><span class="id" title="definition">global_context_set</span></a> <a id="f8f8c104a85f2693ff10e8162bc05c64" class="idref" href="#f8f8c104a85f2693ff10e8162bc05c64"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#ContextSet.t"><span class="id" title="definition">ContextSet.t</span></a> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f8f8c104a85f2693ff10e8162bc05c64"><span class="id" title="variable">Σ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_context_set_sub_ext" class="idref" href="#global_context_set_sub_ext"><span class="id" title="lemma">global_context_set_sub_ext</span></a> <a id="03b1e7afef797d584980fe1aafbb3a7e" class="idref" href="#03b1e7afef797d584980fe1aafbb3a7e"><span class="id" title="binder">Σ</span></a> <a id="149c9ee2c280db1580ec6bf31d1323df" class="idref" href="#149c9ee2c280db1580ec6bf31d1323df"><span class="id" title="binder">φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#sub_context_set"><span class="id" title="definition">sub_context_set</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#global_context_set"><span class="id" title="definition">global_context_set</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#03b1e7afef797d584980fe1aafbb3a7e"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#global_ext_context_set"><span class="id" title="definition">global_ext_context_set</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#03b1e7afef797d584980fe1aafbb3a7e"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#149c9ee2c280db1580ec6bf31d1323df"><span class="id" title="variable">φ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_levels"><span class="id" title="definition">global_levels</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.union_spec"><span class="id" title="lemma">LevelSet.union_spec</span></a>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.union_spec"><span class="id" title="lemma">LevelSet.union_spec</span></a>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#ConstraintSetProp.union_subset_2"><span class="id" title="lemma">ConstraintSetProp.union_subset_2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="wf_global_ext" class="idref" href="#wf_global_ext"><span class="id" title="definition">wf_global_ext</span></a> {<a id="cf:617" class="idref" href="#cf:617"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="7d0740bb85f687fa024c51cc3b16e2b1" class="idref" href="#7d0740bb85f687fa024c51cc3b16e2b1"><span class="id" title="binder">Σ</span></a> <a id="ext:619" class="idref" href="#ext:619"><span class="id" title="binder">ext</span></a> := <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7d0740bb85f687fa024c51cc3b16e2b1"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ext:619"><span class="id" title="variable">ext</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Classes.Morphisms.html#"><span class="id" title="library">Morphisms</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">SimplIsCbn</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="SubstIdentity" class="idref" href="#SubstIdentity"><span class="id" title="section">SubstIdentity</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="SubstIdentity.cf" class="idref" href="#SubstIdentity.cf"><span class="id" title="variable">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_instance_id_mdecl" class="idref" href="#subst_instance_id_mdecl"><span class="id" title="lemma">subst_instance_id_mdecl</span></a> <a id="9107e47ac0aef0fe20aef1c0fe97166a" class="idref" href="#9107e47ac0aef0fe20aef1c0fe97166a"><span class="id" title="binder">Σ</span></a> <a id="u:622" class="idref" href="#u:622"><span class="id" title="binder">u</span></a> <a id="mdecl:623" class="idref" href="#mdecl:623"><span class="id" title="binder">mdecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9107e47ac0aef0fe20aef1c0fe97166a"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:623"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:622"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:622"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:623"><span class="id" title="variable">mdecl</span></a>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:622"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <span class="id" title="var">mdecl</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">eqi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">cst</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs</span> <span class="id" title="var">csts</span>]. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#map_mapi"><span class="id" title="lemma">map_mapi</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hu</span> [<span class="id" title="var">sizeu</span> <span class="id" title="var">vu</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#mapi_nth"><span class="id" title="lemma">mapi_nth</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="declared_inductive_wf_ext_wk" class="idref" href="#declared_inductive_wf_ext_wk"><span class="id" title="lemma">declared_inductive_wf_ext_wk</span></a> <a id="7e32310e523b2c07426fe1624169e1cf" class="idref" href="#7e32310e523b2c07426fe1624169e1cf"><span class="id" title="binder">Σ</span></a> <a id="mdecl:625" class="idref" href="#mdecl:625"><span class="id" title="binder">mdecl</span></a> <a id="mind:626" class="idref" href="#mind:626"><span class="id" title="binder">mind</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7e32310e523b2c07426fe1624169e1cf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_minductive"><span class="id" title="definition">declared_minductive</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7e32310e523b2c07426fe1624169e1cf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mind:626"><span class="id" title="variable">mind</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:625"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7e32310e523b2c07426fe1624169e1cf"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:625"><span class="id" title="variable">mdecl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">decli</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decli</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#weaken_lookup_on_global_env'"><span class="id" title="lemma">weaken_lookup_on_global_env'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">mdecl</span>) <span class="id" title="var">wfΣ</span> <span class="id" title="var">decli</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">all</span>:<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="declared_inductive_wf_global_ext" class="idref" href="#declared_inductive_wf_global_ext"><span class="id" title="lemma">declared_inductive_wf_global_ext</span></a> <a id="7e2f00d9b830ec01a1a8a1e8e08b2213" class="idref" href="#7e2f00d9b830ec01a1a8a1e8e08b2213"><span class="id" title="binder">Σ</span></a> <a id="mdecl:628" class="idref" href="#mdecl:628"><span class="id" title="binder">mdecl</span></a> <a id="mind:629" class="idref" href="#mind:629"><span class="id" title="binder">mind</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7e2f00d9b830ec01a1a8a1e8e08b2213"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_minductive"><span class="id" title="definition">declared_minductive</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7e2f00d9b830ec01a1a8a1e8e08b2213"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mind:629"><span class="id" title="variable">mind</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:628"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_global_ext"><span class="id" title="definition">wf_global_ext</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7e2f00d9b830ec01a1a8a1e8e08b2213"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:628"><span class="id" title="variable">mdecl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">decli</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decli</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#weaken_lookup_on_global_env'"><span class="id" title="lemma">weaken_lookup_on_global_env'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">mdecl</span>) <span class="id" title="var">wfΣ</span> <span class="id" title="var">decli</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">all</span>:<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">declared_inductive_wf_ext_wk</span> <span class="id" title="var">declared_inductive_wf_global_ext</span> : <span class="id" title="var">pcuic</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_instance_level_abs" class="idref" href="#subst_instance_level_abs"><span class="id" title="lemma">subst_instance_level_abs</span></a> <a id="l:630" class="idref" href="#l:630"><span class="id" title="binder">l</span></a> <a id="n:631" class="idref" href="#n:631"><span class="id" title="binder">n</span></a> <a id="c6b5f9029bb9ca769180d82c0b691063" class="idref" href="#c6b5f9029bb9ca769180d82c0b691063"><span class="id" title="binder">Σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c6b5f9029bb9ca769180d82c0b691063"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.In"><span class="id" title="definition">LevelSet.In</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:630"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.union"><span class="id" title="definition">LevelSet.union</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.add"><span class="id" title="definition">LevelSet.add</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.empty"><span class="id" title="definition">LevelSet.empty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Utils.MRList.html#unfold"><span class="id" title="definition">unfold</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:631"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a>)) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_levels"><span class="id" title="definition">global_levels</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c6b5f9029bb9ca769180d82c0b691063"><span class="id" title="variable">Σ</span></a>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#unfold"><span class="id" title="definition">unfold</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:631"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:630"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:630"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">lin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.union_spec"><span class="id" title="lemma">LevelSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">lin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet_In_fold_right_add"><span class="id" title="lemma">LevelSet_In_fold_right_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#In_unfold_inj"><span class="id" title="lemma">In_unfold_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Utils.MRProd.html#proj1"><span class="id" title="definition">proj1</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_unfold"><span class="id" title="lemma">nth_error_unfold</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a> <span class="id" title="var">n</span> <span class="id" title="var">n0</span>) <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_nth"><span class="id" title="lemma">nth_error_nth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#not_var_global_levels"><span class="id" title="lemma">not_var_global_levels</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">wfΣ</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="consistent_instance_ext_abstract_instance" class="idref" href="#consistent_instance_ext_abstract_instance"><span class="id" title="lemma">consistent_instance_ext_abstract_instance</span></a> <a id="43179f5aaf71ed42a529b0008eaf7f20" class="idref" href="#43179f5aaf71ed42a529b0008eaf7f20"><span class="id" title="binder">Σ</span></a> <a id="udecl:634" class="idref" href="#udecl:634"><span class="id" title="binder">udecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#43179f5aaf71ed42a529b0008eaf7f20"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_global_ext"><span class="id" title="definition">wf_global_ext</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#43179f5aaf71ed42a529b0008eaf7f20"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl:634"><span class="id" title="variable">udecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#43179f5aaf71ed42a529b0008eaf7f20"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl:634"><span class="id" title="variable">udecl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl:634"><span class="id" title="variable">udecl</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl:634"><span class="id" title="variable">udecl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wf_glob_ext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">udecl</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">univs</span> <span class="id" title="var">cst</span>]] <span class="id" title="var">eqn</span>:<span class="id" title="var">indu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <a class="idref" href="MetaRocq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_mapi"><span class="id" title="lemma">forallb_mapi</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.mem_spec"><span class="id" title="lemma">LevelSet.mem_spec</span></a>, <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.union_spec"><span class="id" title="lemma">LevelSet.union_spec</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#levels_of_udecl"><span class="id" title="definition">levels_of_udecl</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#mapi_unfold"><span class="id" title="lemma">mapi_unfold</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet_In_fold_right_add"><span class="id" title="lemma">LevelSet_In_fold_right_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">univs</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>, <span class="id" title="var">Hi</span> |- *; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_or_app"><span class="id" title="lemma">in_or_app</span></a>. <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">eq_dec</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">left</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#mapi_length"><span class="id" title="lemma">mapi_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#mapi_unfold"><span class="id" title="lemma">mapi_unfold</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="MetaRocq.Common.Universes.html#CS.Equal"><span class="id" title="definition">CS.Equal</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#unfold"><span class="id" title="definition">unfold</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">univs</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a>) <span class="id" title="var">cst</span>) <span class="id" title="var">cst</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#CS.Equal"><span class="id" title="definition">CS.Equal</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wf_glob_ext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wf_glob_ext</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">wfext</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#on_udecl_prop"><span class="id" title="definition">on_udecl_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <a class="idref" href="MetaRocq.Common.Universes.html#constraints_of_udecl"><span class="id" title="definition">constraints_of_udecl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <a class="idref" href="MetaRocq.Common.Universes.html#levels_of_udecl"><span class="id" title="definition">levels_of_udecl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#mapi_unfold"><span class="id" title="lemma">mapi_unfold</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">wfext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">indu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wfext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Universes.html#ConstraintSetProp.fold_rec_weak"><span class="id" title="lemma">ConstraintSetProp.fold_rec_weak</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">a'</span> <span class="id" title="var">eqs</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">eqs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hf</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">eqs</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">a0</span> <span class="id" title="var">s</span> <span class="id" title="var">nin</span> <span class="id" title="var">equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cadd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Universes.html#CS_For_all_add"><span class="id" title="lemma">CS_For_all_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cadd</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">cadd</span> <span class="id" title="var">Ps</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">equiv</span> <span class="id" title="var">Ps</span>). <span class="id" title="tactic">clear</span> <span class="id" title="var">Ps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">l</span> <span class="id" title="var">c</span>] <span class="id" title="var">r</span>]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">cadd</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">inl</span> <span class="id" title="var">inr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_abs"><span class="id" title="lemma">subst_instance_level_abs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">inl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_abs"><span class="id" title="lemma">subst_instance_level_abs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">inr</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">inl</span> <span class="id" title="var">inr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Common.Universes.html#CS.add_spec"><span class="id" title="lemma">CS.add_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.config.html#check_univs"><span class="id" title="method">check_univs</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#valid_constraints0"><span class="id" title="definition">valid_constraints0</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#satisfies"><span class="id" title="definition">satisfies</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Universes.html#CS_For_all_union"><span class="id" title="lemma">CS_For_all_union</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="udecl_prop_in_var_poly" class="idref" href="#udecl_prop_in_var_poly"><span class="id" title="lemma">udecl_prop_in_var_poly</span></a> {<a id="34399478a3b5ad789bb6893413b5790c" class="idref" href="#34399478a3b5ad789bb6893413b5790c"><span class="id" title="binder">Σ</span></a> <a id="n:636" class="idref" href="#n:636"><span class="id" title="binder">n</span></a>} : <a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#on_udecl_prop"><span class="id" title="definition">on_udecl_prop</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#34399478a3b5ad789bb6893413b5790c"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#34399478a3b5ad789bb6893413b5790c"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.In"><span class="id" title="definition">LevelSet.In</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:636"><span class="id" title="variable">n</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#levels_of_udecl"><span class="id" title="definition">levels_of_udecl</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#34399478a3b5ad789bb6893413b5790c"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="ctx:637" class="idref" href="#ctx:637"><span class="id" title="binder">ctx</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#34399478a3b5ad789bb6893413b5790c"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Polymorphic_ctx"><span class="id" title="constructor">Polymorphic_ctx</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctx:637"><span class="id" title="variable">ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">cf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">onu</span> <span class="id" title="var">lin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Σ</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>); <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">lin</span>, <span class="id" title="var">onu</span>. <span class="id" title="var">lsets</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="consistent_instance_ext_subst_abs_level" class="idref" href="#consistent_instance_ext_subst_abs_level"><span class="id" title="lemma">consistent_instance_ext_subst_abs_level</span></a> <a id="f1adbe7b9b101afdcb1b9a55c51cbd4e" class="idref" href="#f1adbe7b9b101afdcb1b9a55c51cbd4e"><span class="id" title="binder">Σ</span></a> <a id="decl:639" class="idref" href="#decl:639"><span class="id" title="binder">decl</span></a> <a id="u:640" class="idref" href="#u:640"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f1adbe7b9b101afdcb1b9a55c51cbd4e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f1adbe7b9b101afdcb1b9a55c51cbd4e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#decl:639"><span class="id" title="variable">decl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:640"><span class="id" title="variable">u</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f1adbe7b9b101afdcb1b9a55c51cbd4e"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:640"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:640"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">wfΣ</span> <span class="id" title="var">onu</span>] <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">cu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">decl'</span> [<span class="id" title="var">sizeu</span> <span class="id" title="var">vc</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">sizeu</span> <span class="id" title="var">vc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a>] <span class="id" title="tactic">in</span> <span class="id" title="var">decl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.mem_spec"><span class="id" title="lemma">LevelSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#in_var_global_ext"><span class="id" title="lemma">in_var_global_ext</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decl'</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl_prop_in_var_poly"><span class="id" title="lemma">udecl_prop_in_var_poly</span></a> <span class="id" title="var">onu</span> <span class="id" title="var">decl'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">univs</span> <span class="id" title="var">csts</span>] <span class="id" title="var">eq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">decl'</span> |- ×. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#mapi_unfold"><span class="id" title="lemma">mapi_unfold</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decl'</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet_In_fold_right_add"><span class="id" title="lemma">LevelSet_In_fold_right_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#In_unfold_inj"><span class="id" title="lemma">In_unfold_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decl'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_unfold"><span class="id" title="lemma">nth_error_unfold</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">decl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_nth"><span class="id" title="lemma">nth_error_nth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">decl'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="consistent_instance_ext_subst_abs" class="idref" href="#consistent_instance_ext_subst_abs"><span class="id" title="lemma">consistent_instance_ext_subst_abs</span></a> <a id="6233861655363334c16178d214dafd8d" class="idref" href="#6233861655363334c16178d214dafd8d"><span class="id" title="binder">Σ</span></a> <a id="decl:642" class="idref" href="#decl:642"><span class="id" title="binder">decl</span></a> <a id="u:643" class="idref" href="#u:643"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#6233861655363334c16178d214dafd8d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#6233861655363334c16178d214dafd8d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#decl:642"><span class="id" title="variable">decl</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:643"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#6233861655363334c16178d214dafd8d"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:643"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:643"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">wfΣ</span> <span class="id" title="var">onu</span>] <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">cu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">decl'</span> [<span class="id" title="var">sizeu</span> <span class="id" title="var">vc</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">sizeu</span> <span class="id" title="var">vc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>: <span class="id" title="var">decl'</span> ⇒ [<span class="id" title="var">ina</span> <span class="id" title="var">au</span>]. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHu</span> <span class="id" title="var">au</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> <span class="id" title="var">_</span> <span class="id" title="var">u</span>]<span class="id" title="var">IHu</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">au</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.mem_spec"><span class="id" title="lemma">LevelSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ina</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#in_var_global_ext"><span class="id" title="lemma">in_var_global_ext</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ina</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl_prop_in_var_poly"><span class="id" title="lemma">udecl_prop_in_var_poly</span></a> <span class="id" title="var">onu</span> <span class="id" title="var">ina</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">univs</span> <span class="id" title="var">csts</span>] <span class="id" title="var">eq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHu</span>, <span class="id" title="var">ina</span> |- ×. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#mapi_unfold"><span class="id" title="lemma">mapi_unfold</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHu</span>, <span class="id" title="var">ina</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet_In_fold_right_add"><span class="id" title="lemma">LevelSet_In_fold_right_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ina</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#In_unfold_inj"><span class="id" title="lemma">In_unfold_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ina</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_unfold"><span class="id" title="lemma">nth_error_unfold</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">ina</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_nth"><span class="id" title="lemma">nth_error_nth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ina</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="in_global_ext_subst_abs_level" class="idref" href="#in_global_ext_subst_abs_level"><span class="id" title="lemma">in_global_ext_subst_abs_level</span></a> <a id="9f6508c34c620514ee49b028b2234b90" class="idref" href="#9f6508c34c620514ee49b028b2234b90"><span class="id" title="binder">Σ</span></a> <a id="l:645" class="idref" href="#l:645"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9f6508c34c620514ee49b028b2234b90"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.In"><span class="id" title="definition">LevelSet.In</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#LevelExpr.get_level"><span class="id" title="definition">LevelExpr.get_level</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:645"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9f6508c34c620514ee49b028b2234b90"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9f6508c34c620514ee49b028b2234b90"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:645"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:645"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">wfΣ</span> <span class="id" title="var">onu</span>] <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#in_var_global_ext"><span class="id" title="lemma">in_var_global_ext</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl_prop_in_var_poly"><span class="id" title="lemma">udecl_prop_in_var_poly</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">onu</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">ctx</span> <span class="id" title="var">cstrs</span>] <span class="id" title="var">eq</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet_In_fold_right_add"><span class="id" title="lemma">LevelSet_In_fold_right_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#AUContext.repr"><span class="id" title="definition">AUContext.repr</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#mapi_unfold"><span class="id" title="lemma">mapi_unfold</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_unfold_inv"><span class="id" title="lemma">nth_error_unfold_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_None"><span class="id" title="lemma">nth_error_None</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#unfold_length"><span class="id" title="lemma">unfold_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#In_unfold_inj"><span class="id" title="lemma">In_unfold_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="consistent_instance_ext_subst_abs_univ" class="idref" href="#consistent_instance_ext_subst_abs_univ"><span class="id" title="lemma">consistent_instance_ext_subst_abs_univ</span></a> <a id="ef2171864337970e70d0d2bf696dd8db" class="idref" href="#ef2171864337970e70d0d2bf696dd8db"><span class="id" title="binder">Σ</span></a> <a id="u:647" class="idref" href="#u:647"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ef2171864337970e70d0d2bf696dd8db"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#wf_sort"><span class="id" title="definition">wf_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ef2171864337970e70d0d2bf696dd8db"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:647"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_sort"><span class="id" title="instance">subst_instance_sort</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ef2171864337970e70d0d2bf696dd8db"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:647"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:647"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#NonEmptySetFacts.eq_univ'"><span class="id" title="lemma">eq_univ'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance"><span class="id" title="lemma">In_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">x</span> [<span class="id" title="var">inx</span> -&gt;]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">cu</span> <span class="id" title="var">_</span> <span class="id" title="var">inx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#in_global_ext_subst_abs_level"><span class="id" title="lemma">in_global_ext_subst_abs_level</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">inl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">cu</span> <span class="id" title="var">_</span> <span class="id" title="var">inl</span>). <span class="id" title="tactic">∃</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#in_global_ext_subst_abs_level"><span class="id" title="lemma">in_global_ext_subst_abs_level</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="consistent_instance_ext_subst_abs_inds" class="idref" href="#consistent_instance_ext_subst_abs_inds"><span class="id" title="lemma">consistent_instance_ext_subst_abs_inds</span></a> <a id="ca98ab0b4f1f945d65bc58a8a1f37a69" class="idref" href="#ca98ab0b4f1f945d65bc58a8a1f37a69"><span class="id" title="binder">Σ</span></a> <a id="decl:649" class="idref" href="#decl:649"><span class="id" title="binder">decl</span></a> <a id="ind:650" class="idref" href="#ind:650"><span class="id" title="binder">ind</span></a> <a id="u:651" class="idref" href="#u:651"><span class="id" title="binder">u</span></a> <a id="bodies:652" class="idref" href="#bodies:652"><span class="id" title="binder">bodies</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ca98ab0b4f1f945d65bc58a8a1f37a69"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ca98ab0b4f1f945d65bc58a8a1f37a69"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#decl:649"><span class="id" title="variable">decl</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:651"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ca98ab0b4f1f945d65bc58a8a1f37a69"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">inds</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ind:650"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:651"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#bodies:652"><span class="id" title="variable">bodies</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">inds</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ind:650"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:651"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#bodies:652"><span class="id" title="variable">bodies</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">inds</span></a>. <span class="id" title="tactic">generalize</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">bodies</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_instance"><span class="id" title="instance">subst_instance_instance</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>](<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#consistent_instance_ext_subst_abs"><span class="id" title="lemma">consistent_instance_ext_subst_abs</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">cu</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wf_sort_type1" class="idref" href="#wf_sort_type1"><span class="id" title="lemma">wf_sort_type1</span></a> <a id="79724b30a3fa6e89e66494988b373344" class="idref" href="#79724b30a3fa6e89e66494988b373344"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#wf_sort"><span class="id" title="definition">wf_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#79724b30a3fa6e89e66494988b373344"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Sort.type1"><span class="id" title="definition">Sort.type1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">hin</span>%<a class="idref" href="MetaRocq.Common.Universes.html#LevelExprSet.singleton_spec"><span class="id" title="lemma">LevelExprSet.singleton_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels_InSet"><span class="id" title="lemma">global_ext_levels_InSet</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wf_sort_super" class="idref" href="#wf_sort_super"><span class="id" title="lemma">wf_sort_super</span></a> {<a id="a259919a043bd4749b6d411404420113" class="idref" href="#a259919a043bd4749b6d411404420113"><span class="id" title="binder">Σ</span></a> <a id="u:655" class="idref" href="#u:655"><span class="id" title="binder">u</span></a>} : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#wf_sort"><span class="id" title="definition">wf_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a259919a043bd4749b6d411404420113"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:655"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#wf_sort"><span class="id" title="definition">wf_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a259919a043bd4749b6d411404420113"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Sort.super"><span class="id" title="definition">Sort.super</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:655"><span class="id" title="variable">u</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1-2:<span class="id" title="tactic">intros</span> <span class="id" title="var">_</span> <span class="id" title="var">l</span> <span class="id" title="var">hin</span>%<a class="idref" href="MetaRocq.Common.Universes.html#LevelExprSet.singleton_spec"><span class="id" title="lemma">LevelExprSet.singleton_spec</span></a>; <span class="id" title="tactic">subst</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_sort_type1"><span class="id" title="lemma">wf_sort_type1</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelExprSet.singleton_spec"><span class="id" title="lemma">LevelExprSet.singleton_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Universes.html#spec_map_succ"><span class="id" title="lemma">Universes.spec_map_succ</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x'</span> [<span class="id" title="var">int</span> -&gt;]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hl</span> <span class="id" title="var">_</span> <span class="id" title="var">int</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="app_inj" class="idref" href="#app_inj"><span class="id" title="lemma">app_inj</span></a> {<a id="A:656" class="idref" href="#A:656"><span class="id" title="binder">A</span></a>} (<a id="l:657" class="idref" href="#l:657"><span class="id" title="binder">l</span></a> <a id="l':658" class="idref" href="#l':658"><span class="id" title="binder">l'</span></a> <a id="l0:659" class="idref" href="#l0:659"><span class="id" title="binder">l0</span></a> <a id="l0':660" class="idref" href="#l0':660"><span class="id" title="binder">l0'</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:656"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:657"><span class="id" title="variable">l</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l0:659"><span class="id" title="variable">l0</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:657"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l':658"><span class="id" title="variable">l'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l0:659"><span class="id" title="variable">l0</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l0':660"><span class="id" title="variable">l0'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:657"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l0:659"><span class="id" title="variable">l0</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l':658"><span class="id" title="variable">l'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l0':660"><span class="id" title="variable">l0'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span>, <span class="id" title="var">l0</span>, <span class="id" title="var">l0'</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l0</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> × ⇒ //; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [= <span class="id" title="var">eq</span>] [= → <span class="id" title="var">eql</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHl</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">eq</span> <span class="id" title="var">eql</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_abstract_instance_id" class="idref" href="#subst_abstract_instance_id"><span class="id" title="lemma">subst_abstract_instance_id</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#env_prop"><span class="id" title="definition">env_prop</span></a> (<span class="id" title="keyword">fun</span> <a id="45d44ad477ce83df2cddaf18e2873c77" class="idref" href="#45d44ad477ce83df2cddaf18e2873c77"><span class="id" title="binder">Σ</span></a> <a id="7ef4c19c00d4abed8cefa58c162d9188" class="idref" href="#7ef4c19c00d4abed8cefa58c162d9188"><span class="id" title="binder">Γ</span></a> <a id="t:671" class="idref" href="#t:671"><span class="id" title="binder">t</span></a> <a id="T:672" class="idref" href="#T:672"><span class="id" title="binder">T</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#45d44ad477ce83df2cddaf18e2873c77"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="u:673" class="idref" href="#u:673"><span class="id" title="binder">u</span></a> := <a class="idref" href="MetaRocq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#45d44ad477ce83df2cddaf18e2873c77"><span class="id" title="variable">Σ</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:673"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:671"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:671"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:673"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#T:672"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#T:672"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="20397e933ce636db1f32280d15d1e69f" class="idref" href="#20397e933ce636db1f32280d15d1e69f"><span class="id" title="binder">Σ</span></a> <span class="id" title="var">_</span> <a id="j:665" class="idref" href="#j:665"><span class="id" title="binder">j</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#20397e933ce636db1f32280d15d1e69f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="u:666" class="idref" href="#u:666"><span class="id" title="binder">u</span></a> := <a class="idref" href="MetaRocq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#20397e933ce636db1f32280d15d1e69f"><span class="id" title="variable">Σ</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_wfu_term"><span class="id" title="definition">lift_wfu_term</span></a> (<span class="id" title="keyword">fun</span> <a id="t:667" class="idref" href="#t:667"><span class="id" title="binder">t</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:666"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:667"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:667"><span class="id" title="variable">t</span></a>) (<span class="id" title="keyword">fun</span> <a id="t:668" class="idref" href="#t:668"><span class="id" title="binder">t</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:666"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:668"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:668"><span class="id" title="variable">t</span></a>) <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#j:665"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="35b9105a5a7552da7f26241d35dcadb2" class="idref" href="#35b9105a5a7552da7f26241d35dcadb2"><span class="id" title="binder">Σ</span></a> <a id="7535b7c7548fadb5e3b90f9f3d796844" class="idref" href="#7535b7c7548fadb5e3b90f9f3d796844"><span class="id" title="binder">Γ</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#35b9105a5a7552da7f26241d35dcadb2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="u:663" class="idref" href="#u:663"><span class="id" title="binder">u</span></a> := <a class="idref" href="MetaRocq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#35b9105a5a7552da7f26241d35dcadb2"><span class="id" title="variable">Σ</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:663"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7535b7c7548fadb5e3b90f9f3d796844"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7535b7c7548fadb5e3b90f9f3d796844"><span class="id" title="variable">Γ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing_ind_env"><span class="id" title="lemma">typing_ind_env</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">X</span> &amp; <span class="id" title="var">s</span> &amp; (<span class="id" title="var">_</span> &amp; (<span class="id" title="var">Hty</span> &amp; <span class="id" title="var">Hu</span>)) &amp; <span class="id" title="var">e</span>); <span class="id" title="var">tas</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#j_term"><span class="id" title="projection">j_term</span></a> ⇒ //; <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; (<span class="id" title="var">X</span> &amp; <span class="id" title="var">_</span>)); <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#j_univ"><span class="id" title="projection">j_univ</span></a> ⇒ //; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hu</span>; <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">Hu</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#All_local_env_cst"><span class="id" title="lemma">All_local_env_cst</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">X0</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X0</span> ⇒ //=. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">tas</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> <span class="id" title="var">bo</span> <span class="id" title="var">t</span>]; <span class="id" title="tactic">cbv</span> [<a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">p</span> <span class="id" title="var">X1</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">ptm</span> &amp; <span class="id" title="var">pty</span> &amp; <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">bo</span> ⇒ //. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">ptm</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> ((<span class="id" title="tactic">subst</span> <span class="id" title="var">u</span> || <span class="id" title="tactic">subst</span> <span class="id" title="var">u0</span>); <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">f_equal</span>|]; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1:{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_lift"><span class="id" title="lemma">subst_instance_lift</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H1</span> /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /= <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">H</span> /= ⇒ [=].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hdecl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -{2}<span class="id" title="var">Hdecl</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">H</span> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_wfu_term"><span class="id" title="definition">lift_wfu_term</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Htm</span> &amp; <span class="id" title="var">Hty</span> &amp; <span class="id" title="var">Hs</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htm</span>, <span class="id" title="var">Hty</span>, <span class="id" title="var">Hs</span> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> (<span class="id" title="tactic">solve</span> [<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_two"><span class="id" title="lemma">subst_instance_two</span></a>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#consistent_instance_ext_subst_abs"><span class="id" title="lemma">consistent_instance_ext_subst_abs</span></a>; <span class="id" title="tactic">eauto</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#consistent_instance_ext_subst_abs_univ"><span class="id" title="lemma">consistent_instance_ext_subst_abs_univ</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#consistent_instance_ext_subst_abs_univ"><span class="id" title="lemma">consistent_instance_ext_subst_abs_univ</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_sort_super"><span class="id" title="lemma">wf_sort_super</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#product_subst_instance"><span class="id" title="lemma">product_subst_instance</span></a>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">noconf</span> <span class="id" title="var">b0</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">a</span>; <span class="id" title="var">noconf</span> <span class="id" title="var">b</span>; <span class="id" title="var">noconf</span> <span class="id" title="var">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a> /= /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst1"><span class="id" title="definition">subst1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#type_of_constructor"><span class="id" title="definition">type_of_constructor</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_two"><span class="id" title="lemma">subst_instance_two</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#consistent_instance_ext_subst_abs"><span class="id" title="lemma">consistent_instance_ext_subst_abs</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#consistent_instance_ext_subst_abs_inds"><span class="id" title="lemma">consistent_instance_ext_subst_abs_inds</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a> /= /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#mkApps_nApp_inj"><span class="id" title="lemma">mkApps_nApp_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hi</span> <span class="id" title="var">Hpars</span>] ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">noconf</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a> /= /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#mkApps_nApp_inj"><span class="id" title="lemma">mkApps_nApp_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hi</span> <span class="id" title="var">Hpars</span>] ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#app_inj"><span class="id" title="lemma">app_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpars</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpars</span> <span class="id" title="var">hinds</span>]. 2:<span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_id"><span class="id" title="lemma">map_id</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> <span class="id" title="var">p</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hpars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#map_eq_inj"><span class="id" title="lemma">map_eq_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpars</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">ptm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_it_mkLambda_or_LetIn"><span class="id" title="lemma">subst_instance_it_mkLambda_or_LetIn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_app"><span class="id" title="lemma">subst_instance_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#app_inj"><span class="id" title="lemma">app_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> []; [|<span class="id" title="var">now</span> <span class="id" title="var">len</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a> /= /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#mkApps_nApp_inj"><span class="id" title="lemma">mkApps_nApp_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hi</span> <span class="id" title="var">Hpars</span>] ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#app_inj"><span class="id" title="lemma">app_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpars</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpars</span> <span class="id" title="var">hinds</span>]. 2:<span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hinds</span> /= <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#mkApps_nApp_inj"><span class="id" title="lemma">mkApps_nApp_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hi</span> <span class="id" title="var">Hpars</span>] ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_list"><span class="id" title="instance">subst_instance_list</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <span class="id" title="var">Hpars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst_instance_constr"><span class="id" title="instance">subst_instance_constr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_two"><span class="id" title="lemma">subst_instance_two</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">Hi</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">_</span> <span class="id" title="var">u</span>]<span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">a0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">X</span> &amp; <span class="id" title="var">_</span>); <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">X</span> &amp; <span class="id" title="var">_</span>); <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#nth_error_all"><span class="id" title="lemma">nth_error_all</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">X0</span> &amp; <span class="id" title="var">_</span>); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">a0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">X</span> &amp; <span class="id" title="var">_</span>); <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">X</span> &amp; <span class="id" title="var">_</span>); <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#nth_error_all"><span class="id" title="lemma">nth_error_all</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">X0</span> &amp; <span class="id" title="var">_</span>); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="var">cbnr</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">hty</span> <span class="id" title="var">X1</span>); <span class="id" title="tactic">specialize</span> (<span class="id" title="var">hdef</span> <span class="id" title="var">X1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICPrimitive.html#mapu_array_model"><span class="id" title="definition">mapu_array_model</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Common.Universes.html#Universe.make'"><span class="id" title="definition">Universe.make'</span></a>] <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_universe_make"><span class="id" title="lemma">subst_instance_universe_make</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">injection</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">depelim</span> <span class="id" title="var">X0</span>; <span class="id" title="var">cbn</span> ⇒ //=. <span class="id" title="var">depelim</span> <span class="id" title="var">X</span>. <span class="id" title="var">simp</span> <span class="id" title="var">prim_type</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Common.Universes.html#Universe.make'"><span class="id" title="definition">Universe.make'</span></a>] <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_universe_make"><span class="id" title="lemma">subst_instance_universe_make</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">injection</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="typed_subst_abstract_instance" class="idref" href="#typed_subst_abstract_instance"><span class="id" title="lemma">typed_subst_abstract_instance</span></a> <a id="b22727e5992b091b5ca7d1d1e8dd9098" class="idref" href="#b22727e5992b091b5ca7d1d1e8dd9098"><span class="id" title="binder">Σ</span></a> <a id="8787ff5167daedea214c714b927ecfe4" class="idref" href="#8787ff5167daedea214c714b927ecfe4"><span class="id" title="binder">Γ</span></a> <a id="t:676" class="idref" href="#t:676"><span class="id" title="binder">t</span></a> <a id="T:677" class="idref" href="#T:677"><span class="id" title="binder">T</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b22727e5992b091b5ca7d1d1e8dd9098"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b22727e5992b091b5ca7d1d1e8dd9098"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#8787ff5167daedea214c714b927ecfe4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:676"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#T:677"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="u:678" class="idref" href="#u:678"><span class="id" title="binder">u</span></a> := <a class="idref" href="MetaRocq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b22727e5992b091b5ca7d1d1e8dd9098"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:678"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:676"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:676"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">wfΣ</span> <span class="id" title="var">onu</span>] <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#env_prop_typing"><span class="id" title="lemma">env_prop_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_abstract_instance_id"><span class="id" title="lemma">subst_abstract_instance_id</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> <span class="id" title="var">H'</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_instance_id" class="idref" href="#subst_instance_id"><span class="id" title="lemma">subst_instance_id</span></a> <a id="b09422afae7dc9573f9e99ad681cb603" class="idref" href="#b09422afae7dc9573f9e99ad681cb603"><span class="id" title="binder">Σ</span></a> <a id="7af402f1521567bd7072c981f9fa930e" class="idref" href="#7af402f1521567bd7072c981f9fa930e"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b09422afae7dc9573f9e99ad681cb603"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b09422afae7dc9573f9e99ad681cb603"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7af402f1521567bd7072c981f9fa930e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="u:681" class="idref" href="#u:681"><span class="id" title="binder">u</span></a> := <a class="idref" href="MetaRocq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b09422afae7dc9573f9e99ad681cb603"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:681"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7af402f1521567bd7072c981f9fa930e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7af402f1521567bd7072c981f9fa930e"><span class="id" title="variable">Γ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#env_prop_wf_local"><span class="id" title="lemma">env_prop_wf_local</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_abstract_instance_id"><span class="id" title="lemma">subst_abstract_instance_id</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstIdentity"><span class="id" title="section">SubstIdentity</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
