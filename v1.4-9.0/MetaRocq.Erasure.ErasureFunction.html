<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./index.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaRocq.Erasure.ErasureFunction</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Program.Program.html#"><span class="id" title="library">Program</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ssr.ssrbool.html#"><span class="id" title="library">ssrbool</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Transparent</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Utils.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Common</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Common.config.html#"><span class="id" title="library">config</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#"><span class="id" title="library">Kernames</span></a> <a class="idref" href="MetaRocq.Common.uGraph.html#"><span class="id" title="library">uGraph</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#"><span class="id" title="library">PCUICAst</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#"><span class="id" title="library">PCUICAstUtils</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICPrimitive.html#"><span class="id" title="library">PCUICPrimitive</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#"><span class="id" title="library">PCUICReduction</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICReflect.html#"><span class="id" title="library">PCUICReflect</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#"><span class="id" title="library">PCUICWeakeningEnv</span></a> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#"><span class="id" title="library">PCUICWeakeningEnvTyp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCasesContexts.html#"><span class="id" title="library">PCUICCasesContexts</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICWeakeningConv.html#"><span class="id" title="library">PCUICWeakeningConv</span></a> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningTyp.html#"><span class="id" title="library">PCUICWeakeningTyp</span></a> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICContextConversionTyp.html#"><span class="id" title="library">PCUICContextConversionTyp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#"><span class="id" title="library">PCUICTyping</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICGlobalEnv.html#"><span class="id" title="library">PCUICGlobalEnv</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#"><span class="id" title="library">PCUICInversion</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICGeneration.html#"><span class="id" title="library">PCUICGeneration</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConfluence.html#"><span class="id" title="library">PCUICConfluence</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#"><span class="id" title="library">PCUICConversion</span></a> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICUnivSubstitutionTyp.html#"><span class="id" title="library">PCUICUnivSubstitutionTyp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#"><span class="id" title="library">PCUICCumulativity</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSR.html#"><span class="id" title="library">PCUICSR</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#"><span class="id" title="library">PCUICSafeLemmata</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICNormalization.html#"><span class="id" title="library">PCUICNormalization</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICValidity.html#"><span class="id" title="library">PCUICValidity</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICPrincipality.html#"><span class="id" title="library">PCUICPrincipality</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICElimination.html#"><span class="id" title="library">PCUICElimination</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#"><span class="id" title="library">PCUICOnFreeVars</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#"><span class="id" title="library">PCUICWellScopedCumulativity</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#"><span class="id" title="library">PCUICSN</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICEtaExpand.html#"><span class="id" title="library">PCUICEtaExpand</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.SafeChecker</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#"><span class="id" title="library">PCUICErrors</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#"><span class="id" title="library">PCUICWfEnv</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#"><span class="id" title="library">PCUICSafeReduce</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeRetyping.html#"><span class="id" title="library">PCUICSafeRetyping</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICRetypingEnvIrrelevance.html#"><span class="id" title="library">PCUICRetypingEnvIrrelevance</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Erasure</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#"><span class="id" title="library">EPrimitive</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#"><span class="id" title="library">EAstUtils</span></a> <a class="idref" href="MetaRocq.Erasure.ELiftSubst.html#"><span class="id" title="library">ELiftSubst</span></a> <a class="idref" href="MetaRocq.Erasure.EArities.html#"><span class="id" title="library">EArities</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#"><span class="id" title="library">Extract</span></a> <a class="idref" href="MetaRocq.Erasure.Prelim.html#"><span class="id" title="library">Prelim</span></a> <a class="idref" href="MetaRocq.Erasure.EDeps.html#"><span class="id" title="library">EDeps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureProperties.html#"><span class="id" title="library">ErasureProperties</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#"><span class="id" title="library">ErasureCorrectness</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">string_scope</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Asymmetric</span> <span class="id" title="var">Patterns</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type*".<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#MRMonadNotation"><span class="id" title="module">MRMonadNotation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">cf</span> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>).<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#extraction_normalizing"><span class="id" title="instance">extraction_normalizing</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="alpha_eq" class="idref" href="#alpha_eq"><span class="id" title="abbreviation">alpha_eq</span></a> := <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_context_upto_names"><span class="id" title="abbreviation">PCUICEquality.eq_context_upto_names</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">sq</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.MRSquash.html#sq"><span class="id" title="constructor">sq</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_local_rel_alpha_eq_end" class="idref" href="#wf_local_rel_alpha_eq_end"><span class="id" title="lemma">wf_local_rel_alpha_eq_end</span></a> {<a id="cf:1" class="idref" href="#cf:1"><span class="id" title="binder">cf</span></a>} {<a id="ebf069dbc779b42a15c441a6d39d5f83" class="idref" href="#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="9c77acedd153c05882e0fedfeff8f884" class="idref" href="#9c77acedd153c05882e0fedfeff8f884"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a>} {<a id="9cfd66c80bf9988ea8f7104e167ac5cd" class="idref" href="#9cfd66c80bf9988ea8f7104e167ac5cd"><span class="id" title="binder">Γ</span></a> <a id="d1f0e078f04502659f58b18dce315e18" class="idref" href="#d1f0e078f04502659f58b18dce315e18"><span class="id" title="binder">Δ</span></a> <a id="a4ad290a6ed2d015ddf152c85c946e7a" class="idref" href="#a4ad290a6ed2d015ddf152c85c946e7a"><span class="id" title="binder">Δ'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#9cfd66c80bf9988ea8f7104e167ac5cd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#alpha_eq"><span class="id" title="abbreviation">alpha_eq</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d1f0e078f04502659f58b18dce315e18"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a4ad290a6ed2d015ddf152c85c946e7a"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_local_rel"><span class="id" title="definition">wf_local_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#9cfd66c80bf9988ea8f7104e167ac5cd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d1f0e078f04502659f58b18dce315e18"><span class="id" title="variable">Δ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_local_rel"><span class="id" title="definition">wf_local_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#9cfd66c80bf9988ea8f7104e167ac5cd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a4ad290a6ed2d015ddf152c85c946e7a"><span class="id" title="variable">Δ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΓ</span> <span class="id" title="var">eqctx</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#All_local_env_app_inv"><span class="id" title="definition">All_local_env_app_inv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#All_local_env_app"><span class="id" title="lemma">All_local_env_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="keyword">wf</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#wf_local_alpha"><span class="id" title="lemma">PCUICSpine.wf_local_alpha</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_app"><span class="id" title="lemma">All2_app</span></a> ⇒ //. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="OnInductives" class="idref" href="#OnInductives"><span class="id" title="section">OnInductives</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="OnInductives.cf" class="idref" href="#OnInductives.cf"><span class="id" title="variable">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="edab2b350c929dbbfe82b9852704e221" class="idref" href="#edab2b350c929dbbfe82b9852704e221"><span class="id" title="variable">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="3e5e1632215c504a22f8d1bf70638046" class="idref" href="#3e5e1632215c504a22f8d1bf70638046"><span class="id" title="variable">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb3edd5393c7bbdf625595792a237037"><span class="id" title="variable">Σ</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="on_minductive_wf_params_weaken" class="idref" href="#on_minductive_wf_params_weaken"><span class="id" title="lemma">on_minductive_wf_params_weaken</span></a> {<a id="ind:10" class="idref" href="#ind:10"><span class="id" title="binder">ind</span></a> <a id="mdecl:11" class="idref" href="#mdecl:11"><span class="id" title="binder">mdecl</span></a> <a id="7adcac760179e19a0bb37c9e1720bc22" class="idref" href="#7adcac760179e19a0bb37c9e1720bc22"><span class="id" title="binder">Γ</span></a>} {<a id="u:13" class="idref" href="#u:13"><span class="id" title="binder">u</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_minductive"><span class="id" title="definition">declared_minductive</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#edab2b350c929dbbfe82b9852704e221"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ind:10"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mdecl:11"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#edab2b350c929dbbfe82b9852704e221"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mdecl:11"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#u:13"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#edab2b350c929dbbfe82b9852704e221"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#7adcac760179e19a0bb37c9e1720bc22"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#edab2b350c929dbbfe82b9852704e221"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#7adcac760179e19a0bb37c9e1720bc22"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mdecl:11"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaRocq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">)@[</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#u:13"><span class="id" title="variable">u</span></a><a class="idref" href="MetaRocq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">]</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningTyp.html#weaken_wf_local"><span class="id" title="lemma">weaken_wf_local</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICArities.html#on_minductive_wf_params"><span class="id" title="lemma">PCUICArities.on_minductive_wf_params</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="OnInductives.mdecl" class="idref" href="#OnInductives.mdecl"><span class="id" title="variable">mdecl</span></a> <a id="OnInductives.ind" class="idref" href="#OnInductives.ind"><span class="id" title="variable">ind</span></a> <a id="OnInductives.idecl" class="idref" href="#OnInductives.idecl"><span class="id" title="variable">idecl</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="OnInductives.decli" class="idref" href="#OnInductives.decli"><span class="id" title="variable">decli</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#edab2b350c929dbbfe82b9852704e221"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ind:15"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mdecl:14"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#idecl:16"><span class="id" title="variable">idecl</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="on_minductive_wf_params_indices_inst_weaken" class="idref" href="#on_minductive_wf_params_indices_inst_weaken"><span class="id" title="lemma">on_minductive_wf_params_indices_inst_weaken</span></a> {<a id="f0fc26962fbc1476a5f5245f565ffb72" class="idref" href="#f0fc26962fbc1476a5f5245f565ffb72"><span class="id" title="binder">Γ</span></a>} (<a id="u:19" class="idref" href="#u:19"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#Instance.t"><span class="id" title="definition">Instance.t</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#edab2b350c929dbbfe82b9852704e221"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#OnInductives.mdecl"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#u:19"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#edab2b350c929dbbfe82b9852704e221"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#f0fc26962fbc1476a5f5245f565ffb72"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#edab2b350c929dbbfe82b9852704e221"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#f0fc26962fbc1476a5f5245f565ffb72"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#OnInductives.mdecl"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#OnInductives.idecl"><span class="id" title="variable">idecl</span></a><a class="idref" href="MetaRocq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">)@[</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#u:19"><span class="id" title="variable">u</span></a><a class="idref" href="MetaRocq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">]</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">decli</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningTyp.html#weaken_wf_local"><span class="id" title="lemma">weaken_wf_local</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInductives.html#on_minductive_wf_params_indices_inst"><span class="id" title="lemma">PCUICInductives.on_minductive_wf_params_indices_inst</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#OnInductives"><span class="id" title="section">OnInductives</span></a>.<br/>

<br/>
<span class="id" title="keyword">Infix</span> <a id="c38ed582e26f8392eb789c5ba309a631" class="idref" href="#c38ed582e26f8392eb789c5ba309a631"><span class="id" title="notation">&quot;</span></a>=kn" := <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.Equal"><span class="id" title="definition">KernameSet.Equal</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 90).<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">knset</span> := <span class="id" title="var">KernameSetDecide.fsetdec</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="term_global_deps_csubst" class="idref" href="#term_global_deps_csubst"><span class="id" title="lemma">term_global_deps_csubst</span></a> <a id="a:20" class="idref" href="#a:20"><span class="id" title="binder">a</span></a> <a id="k:21" class="idref" href="#k:21"><span class="id" title="binder">k</span></a> <a id="b:22" class="idref" href="#b:22"><span class="id" title="binder">b</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.Subset"><span class="id" title="definition">KernameSet.Subset</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> (<a class="idref" href="MetaRocq.Erasure.ECSubst.html#csubst"><span class="id" title="definition">ECSubst.csubst</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a:20"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#k:21"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#b:22"><span class="id" title="variable">b</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a:20"><span class="id" title="variable">a</span></a>) (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#b:22"><span class="id" title="variable">b</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span> <span class="id" title="tactic">in</span> <span class="id" title="var">k</span> |- × <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Erasure.EInduction.html#term_forall_list_ind"><span class="id" title="lemma">EInduction.term_forall_list_ind</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">knset</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.compare"><span class="id" title="definition">Nat.compare</span></a>; <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHb1</span> <span class="id" title="var">k</span>); <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHb2</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span>)); <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHb1</span> <span class="id" title="var">k</span>); <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHb2</span> <span class="id" title="var">k</span>); <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a'</span> [<span class="id" title="var">hin</span> <span class="id" title="var">hin'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">cs</span> [&lt;- <span class="id" title="var">hin</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_In"><span class="id" title="lemma">All_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">X</span>]; <span class="id" title="var">tea</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">X</span> <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">hin'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> []. <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">cs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> !<a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHb</span> <span class="id" title="var">k</span> <span class="id" title="var">kn</span>). <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">cs</span> [&lt;- <span class="id" title="var">hin</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_In"><span class="id" title="lemma">All_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">X</span>]; <span class="id" title="var">tea</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>). <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> []; [<span class="id" title="var">knset</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">cs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHb</span> <span class="id" title="var">k</span>). <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a> !<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [? []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">cs</span> [&lt;- <span class="id" title="var">hin</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_In"><span class="id" title="lemma">All_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">X</span>]; <span class="id" title="var">tea</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>). <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> []; [<span class="id" title="var">knset</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">cs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a> !<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [? []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">cs</span> [&lt;- <span class="id" title="var">hin</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_In"><span class="id" title="lemma">All_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">X</span>]; <span class="id" title="var">tea</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>). <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> []; [<span class="id" title="var">knset</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">cs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#prim_global_deps"><span class="id" title="definition">prim_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <span class="id" title="var">p</span>); <span class="id" title="var">cbn</span>; <span class="id" title="var">simp</span> <span class="id" title="var">prim_global_deps</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a> !<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="var">elimination</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [<a class="idref" href="MetaRocq.Erasure.EPrimitive.html#primPropArray"><span class="id" title="constructor">EPrimitive.primPropArray</span></a> <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#primPropArray"><span class="id" title="constructor">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#primPropArray"><span class="id" title="constructor">s</span></a> <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#primPropArray"><span class="id" title="constructor">al</span></a><a class="idref" href="MetaRocq.Erasure.EPrimitive.html#primPropArray"><span class="id" title="constructor">)</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <span class="id" title="var">s</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> [<span class="id" title="var">ha</span> <span class="id" title="var">hkn</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ha</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">heq</span> <span class="id" title="var">hx</span>]]. <span class="id" title="tactic">subst</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_In"><span class="id" title="lemma">All_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">al</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">al</span>]; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">al</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hkn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hkn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">hkn</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_env_In" class="idref" href="#lookup_env_In"><span class="id" title="lemma">lookup_env_In</span></a> <a id="3eadb2a0aeaeef49bd6cd27b7316c266" class="idref" href="#3eadb2a0aeaeef49bd6cd27b7316c266"><span class="id" title="binder">Σ</span></a> <a id="kn:24" class="idref" href="#kn:24"><span class="id" title="binder">kn</span></a> <a id="d:25" class="idref" href="#d:25"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">EGlobalEnv.lookup_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#3eadb2a0aeaeef49bd6cd27b7316c266"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:24"><span class="id" title="variable">kn</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d:25"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:24"><span class="id" title="variable">kn</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#3eadb2a0aeaeef49bd6cd27b7316c266"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">a</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [= &lt;-]. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hl</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="terms_global_deps" class="idref" href="#terms_global_deps"><span class="id" title="abbreviation">terms_global_deps</span></a> <span class="id" title="var">l</span> :=<br/>
&nbsp;&nbsp;(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> (<span class="id" title="keyword">fun</span> (<a id="acc:26" class="idref" href="#acc:26"><span class="id" title="binder">acc</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.t"><span class="id" title="definition">KernameSet.t</span></a>) (<a id="x:27" class="idref" href="#x:27"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#x:27"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#acc:26"><span class="id" title="variable">acc</span></a>) <span class="id" title="var">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.empty"><span class="id" title="definition">KernameSet.empty</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="term_global_deps_fresh" class="idref" href="#term_global_deps_fresh"><span class="id" title="lemma">term_global_deps_fresh</span></a> {<a id="efl:28" class="idref" href="#efl:28"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaRocq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EWellformed.EEnvFlags</span></a>} <a id="b45015ea779d7a6908b541de791ac941" class="idref" href="#b45015ea779d7a6908b541de791ac941"><span class="id" title="binder">Σ</span></a> <a id="k:30" class="idref" href="#k:30"><span class="id" title="binder">k</span></a> <a id="t:31" class="idref" href="#t:31"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wellformed"><span class="id" title="definition">EWellformed.wellformed</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#b45015ea779d7a6908b541de791ac941"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#k:30"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:31"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="kn:32" class="idref" href="#kn:32"><span class="id" title="binder">kn</span></a>, <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:32"><span class="id" title="variable">kn</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:31"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:32"><span class="id" title="variable">kn</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#b45015ea779d7a6908b541de791ac941"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">k</span> |- × <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Erasure.EInduction.html#term_forall_list_ind"><span class="id" title="lemma">EInduction.term_forall_list_ind</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">knset</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">EGlobalEnv.lookup_env</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">kn</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">g</span> ⇒ //. <span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> ⇒ //. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#lookup_env_In"><span class="id" title="lemma">lookup_env_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">kn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">EGlobalEnv.lookup_env</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">g</span> ⇒ //. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#lookup_env_In"><span class="id" title="lemma">lookup_env_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_In"><span class="id" title="lemma">All_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">X</span>]; <span class="id" title="var">tea</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">X</span> <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EWellformed.html#cstr_as_blocks"><span class="id" title="method">EWellformed.cstr_as_blocks</span></a>. <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H1</span> ⇒ [<span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_In"><span class="id" title="lemma">All_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="keyword">wf</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>]; <span class="id" title="var">tea</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">specialize</span> (<span class="id" title="var">X</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">kn</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">kn</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">H1</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_brs"><span class="id" title="definition">EWellformed.wf_brs</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">EGlobalEnv.lookup_env</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">g</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#lookup_env_In"><span class="id" title="lemma">lookup_env_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>. <span class="id" title="var">easy</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHt</span> <span class="id" title="var">k</span> <span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_In"><span class="id" title="lemma">All_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">X</span>]; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_In"><span class="id" title="lemma">All_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>]; <span class="id" title="var">tea</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">specialize</span> (<span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">kn</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">kn</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">EGlobalEnv.lookup_env</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">g</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#lookup_env_In"><span class="id" title="lemma">lookup_env_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; [<span class="id" title="var">knset</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_fix_gen"><span class="id" title="definition">EWellformed.wf_fix_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H1</span> ⇒ [<span class="id" title="var">_</span> <span class="id" title="var">hm</span>]. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_In"><span class="id" title="lemma">All_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hm</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">hm</span>]; <span class="id" title="var">tea</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">a0</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">m</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">k</span>)) ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; [<span class="id" title="var">knset</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_fix_gen"><span class="id" title="definition">EWellformed.wf_fix_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H1</span> ⇒ [<span class="id" title="var">_</span> <span class="id" title="var">hm</span>]. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_In"><span class="id" title="lemma">All_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hm</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">hm</span>]; <span class="id" title="var">tea</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">a0</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">m</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">k</span>)) ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">primProp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">H0</span>; <span class="id" title="var">funelim</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#prim_global_deps"><span class="id" title="definition">prim_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <span class="id" title="var">p</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>. <span class="id" title="var">depelim</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ar</span> []]. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_In"><span class="id" title="lemma">All_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [[]]; <span class="id" title="var">tea</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="knset_mem_spec" class="idref" href="#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <a id="kn:33" class="idref" href="#kn:33"><span class="id" title="binder">kn</span></a> <a id="s:34" class="idref" href="#s:34"><span class="id" title="binder">s</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#reflect"><span class="id" title="inductive">reflect</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:33"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#s:34"><span class="id" title="variable">s</span></a>) (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:33"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#s:34"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem_spec"><span class="id" title="lemma">KernameSet.mem_spec</span></a> <span class="id" title="var">s</span> <span class="id" title="var">kn</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">hin</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="constant_decls_deps" class="idref" href="#constant_decls_deps"><span class="id" title="definition">constant_decls_deps</span></a> <a id="decl:35" class="idref" href="#decl:35"><span class="id" title="binder">decl</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decl:35"><span class="id" title="variable">decl</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| {| <a class="idref" href="MetaRocq.Erasure.EAst.html#cst_body"><span class="id" title="projection">EAst.cst_body</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">b</span> |} ⇒ <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.empty"><span class="id" title="definition">KernameSet.empty</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="global_decl_deps" class="idref" href="#global_decl_deps"><span class="id" title="definition">global_decl_deps</span></a> <a id="decl:37" class="idref" href="#decl:37"><span class="id" title="binder">decl</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decl:37"><span class="id" title="variable">decl</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EAst.html#ConstantDecl"><span class="id" title="constructor">EAst.ConstantDecl</span></a> <span class="id" title="var">cst</span> ⇒ <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#constant_decls_deps"><span class="id" title="definition">constant_decls_deps</span></a> <span class="id" title="var">cst</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.empty"><span class="id" title="definition">KernameSet.empty</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="global_deps" class="idref" href="#global_deps"><span class="id" title="definition">global_deps</span></a> (<a id="35567acd9698191de072da28ede88db8" class="idref" href="#35567acd9698191de072da28ede88db8"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#global_declarations"><span class="id" title="definition">EAst.global_declarations</span></a>) <a id="deps:40" class="idref" href="#deps:40"><span class="id" title="binder">deps</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#35567acd9698191de072da28ede88db8"><span class="id" title="variable">Σ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps:40"><span class="id" title="variable">deps</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">decl</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps:40"><span class="id" title="variable">deps</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps:41"><span class="id" title="definition">global_deps</span></a> <span class="id" title="var">decls</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps:40"><span class="id" title="variable">deps</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_decl_deps"><span class="id" title="definition">global_decl_deps</span></a> <span class="id" title="var">decl</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps:41"><span class="id" title="definition">global_deps</span></a> <span class="id" title="var">decls</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps:40"><span class="id" title="variable">deps</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_deps_union" class="idref" href="#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a id="ea478fd00cb4a06cc640b1b27bf65159" class="idref" href="#ea478fd00cb4a06cc640b1b27bf65159"><span class="id" title="binder">Σ</span></a> <a id="deps:44" class="idref" href="#deps:44"><span class="id" title="binder">deps</span></a> <a id="deps':45" class="idref" href="#deps':45"><span class="id" title="binder">deps'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps"><span class="id" title="definition">global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ea478fd00cb4a06cc640b1b27bf65159"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps:44"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps':45"><span class="id" title="variable">deps'</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c38ed582e26f8392eb789c5ba309a631"><span class="id" title="notation">=</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c38ed582e26f8392eb789c5ba309a631"><span class="id" title="notation">kn</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps"><span class="id" title="definition">global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ea478fd00cb4a06cc640b1b27bf65159"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps:44"><span class="id" title="variable">deps</span></a>) (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps"><span class="id" title="definition">global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ea478fd00cb4a06cc640b1b27bf65159"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps':45"><span class="id" title="variable">deps'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">deps</span>, <span class="id" title="var">deps'</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">deps'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> ⇒ <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem_spec"><span class="id" title="lemma">KernameSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="var">IHΣ</span>. <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">hin'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="var">IHΣ</span>; <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span> <span class="id" title="var">hin'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">hin''</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="var">IHΣ</span>; <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">hin''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">hin'''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="var">IHΣ</span>. <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="var">IHΣ</span>. <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">hin'''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="var">IHΣ</span>. <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="var">IHΣ</span>. <span class="id" title="var">knset</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="in_global_deps" class="idref" href="#in_global_deps"><span class="id" title="lemma">in_global_deps</span></a> <a id="deps:46" class="idref" href="#deps:46"><span class="id" title="binder">deps</span></a> <a id="0f349382f796b4f2cbdf3887d61145a1" class="idref" href="#0f349382f796b4f2cbdf3887d61145a1"><span class="id" title="binder">Σ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.Subset"><span class="id" title="definition">KernameSet.Subset</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps:46"><span class="id" title="variable">deps</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps"><span class="id" title="definition">global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#0f349382f796b4f2cbdf3887d61145a1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps:46"><span class="id" title="variable">deps</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn</span> [[[]]|]]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">hin'''</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a>;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">hin</span>; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">left</span>; <span class="id" title="var">knset</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_deps_subset" class="idref" href="#global_deps_subset"><span class="id" title="lemma">global_deps_subset</span></a> <a id="1599156b531db08541b0ea734472e882" class="idref" href="#1599156b531db08541b0ea734472e882"><span class="id" title="binder">Σ</span></a> <a id="deps:49" class="idref" href="#deps:49"><span class="id" title="binder">deps</span></a> <a id="deps':50" class="idref" href="#deps':50"><span class="id" title="binder">deps'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.Subset"><span class="id" title="definition">KernameSet.Subset</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps:49"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps':50"><span class="id" title="variable">deps'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.Subset"><span class="id" title="definition">KernameSet.Subset</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps"><span class="id" title="definition">global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#1599156b531db08541b0ea734472e882"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps:49"><span class="id" title="variable">deps</span></a>) (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps"><span class="id" title="definition">global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#1599156b531db08541b0ea734472e882"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps':50"><span class="id" title="variable">deps'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">deps</span>, <span class="id" title="var">deps'</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">deps</span>) ⇒ <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">sub</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem_spec"><span class="id" title="lemma">KernameSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">sub</span>). <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">deps'</span>) ⇒ <span class="id" title="var">hin'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">sub</span>). <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHΣ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_global_decl_deps" class="idref" href="#wf_global_decl_deps"><span class="id" title="lemma">wf_global_decl_deps</span></a> {<a id="efl:51" class="idref" href="#efl:51"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaRocq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EWellformed.EEnvFlags</span></a>} <a id="2419f67097a80bf54d8cab0e41eb773a" class="idref" href="#2419f67097a80bf54d8cab0e41eb773a"><span class="id" title="binder">Σ</span></a> <a id="d:53" class="idref" href="#d:53"><span class="id" title="binder">d</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_global_decl"><span class="id" title="definition">EWellformed.wf_global_decl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#2419f67097a80bf54d8cab0e41eb773a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d:53"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="kn:54" class="idref" href="#kn:54"><span class="id" title="binder">kn</span></a>, <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:54"><span class="id" title="variable">kn</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_decl_deps"><span class="id" title="definition">global_decl_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d:53"><span class="id" title="variable">d</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:54"><span class="id" title="variable">kn</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#2419f67097a80bf54d8cab0e41eb773a"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">kn</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [[[]]|] ⇒ //; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_fresh"><span class="id" title="lemma">term_global_deps_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">hin</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">wf</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">knset</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_global_deps" class="idref" href="#lookup_global_deps"><span class="id" title="lemma">lookup_global_deps</span></a> {<a id="efl:55" class="idref" href="#efl:55"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaRocq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EWellformed.EEnvFlags</span></a>} <a id="34c60bfd25671d67d270c0af76783542" class="idref" href="#34c60bfd25671d67d270c0af76783542"><span class="id" title="binder">Σ</span></a> <a id="kn:57" class="idref" href="#kn:57"><span class="id" title="binder">kn</span></a> <a id="decl:58" class="idref" href="#decl:58"><span class="id" title="binder">decl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">EWellformed.wf_glob</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#34c60bfd25671d67d270c0af76783542"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">EGlobalEnv.lookup_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#34c60bfd25671d67d270c0af76783542"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:57"><span class="id" title="variable">kn</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decl:58"><span class="id" title="variable">decl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="kn:59" class="idref" href="#kn:59"><span class="id" title="binder">kn</span></a>, <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:59"><span class="id" title="variable">kn</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_decl_deps"><span class="id" title="definition">global_decl_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decl:58"><span class="id" title="variable">decl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:59"><span class="id" title="variable">kn</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#34c60bfd25671d67d270c0af76783542"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="tactic">in</span> <span class="id" title="var">kn</span>, <span class="id" title="var">decl</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">kn0</span>) ⇒ <span class="id" title="var">heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">kn0</span>; <span class="id" title="tactic">intros</span> [= &lt;-].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kn'</span> <span class="id" title="var">hkn'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wf_global_decl_deps"><span class="id" title="lemma">wf_global_decl_deps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">hl</span> <span class="id" title="var">kn'</span> <span class="id" title="var">kin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHwf_glob</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hl</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fresh_global_In" class="idref" href="#fresh_global_In"><span class="id" title="lemma">fresh_global_In</span></a> <a id="kn:60" class="idref" href="#kn:60"><span class="id" title="binder">kn</span></a> <a id="77616297ab8389c2db18b8aa996822b8" class="idref" href="#77616297ab8389c2db18b8aa996822b8"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#fresh_global"><span class="id" title="definition">EGlobalEnv.fresh_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:60"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#77616297ab8389c2db18b8aa996822b8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:60"><span class="id" title="variable">kn</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#77616297ab8389c2db18b8aa996822b8"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">fr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_map"><span class="id" title="lemma">Forall_map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:62" class="idref" href="#x:62"><span class="id" title="binder"><span id="x:63" class="id">x</span></span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#x:62"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="var">kn</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">fr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#Forall_In"><span class="id" title="lemma">PCUICWfUniverses.Forall_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">fr</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">nin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#In_Forall"><span class="id" title="lemma">In_Forall</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">kn'</span> <span class="id" title="var">hin</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">nin</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_map"><span class="id" title="lemma">in_map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_deps_kn" class="idref" href="#global_deps_kn"><span class="id" title="lemma">global_deps_kn</span></a> {<a id="fl:64" class="idref" href="#fl:64"><span class="id" title="binder">fl</span></a> :<a class="idref" href="MetaRocq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EWellformed.EEnvFlags</span></a>} <a id="b7d14475a959a414c26c016f9aef0e47" class="idref" href="#b7d14475a959a414c26c016f9aef0e47"><span class="id" title="binder">Σ</span></a> <a id="kn:66" class="idref" href="#kn:66"><span class="id" title="binder">kn</span></a> <a id="decl:67" class="idref" href="#decl:67"><span class="id" title="binder">decl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">EWellformed.wf_glob</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#b7d14475a959a414c26c016f9aef0e47"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#declared_constant"><span class="id" title="definition">EGlobalEnv.declared_constant</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#b7d14475a959a414c26c016f9aef0e47"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:66"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decl:67"><span class="id" title="variable">decl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.Subset"><span class="id" title="definition">KernameSet.Subset</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps"><span class="id" title="definition">global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#b7d14475a959a414c26c016f9aef0e47"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#constant_decls_deps"><span class="id" title="definition">constant_decls_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decl:67"><span class="id" title="variable">decl</span></a>)) (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps"><span class="id" title="definition">global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#b7d14475a959a414c26c016f9aef0e47"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton"><span class="id" title="definition">KernameSet.singleton</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:66"><span class="id" title="variable">kn</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="tactic">in</span> <span class="id" title="var">kn</span>, <span class="id" title="var">decl</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#declared_constant"><span class="id" title="definition">EGlobalEnv.declared_constant</span></a>. <span class="id" title="var">cbn</span> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#declared_constant"><span class="id" title="definition">EGlobalEnv.declared_constant</span></a>. <span class="id" title="var">cbn</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">kn0</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">kn0</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> [= -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">_</span>) ⇒ <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wf_global_decl_deps"><span class="id" title="lemma">wf_global_decl_deps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fresh_global_In"><span class="id" title="lemma">fresh_global_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">_</span>) ⇒ <span class="id" title="var">hin'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">knset</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">kn0</span> <span class="id" title="var">_</span>) ⇒ <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#lookup_global_deps"><span class="id" title="lemma">lookup_global_deps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hl</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fresh_global_In"><span class="id" title="lemma">fresh_global_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">kn0</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a>. <span class="id" title="tactic">intros</span> &lt;-. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span> <span class="id" title="var">hnin</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHwf_glob</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="term_global_deps_mkApps" class="idref" href="#term_global_deps_mkApps"><span class="id" title="lemma">term_global_deps_mkApps</span></a> <a id="f:68" class="idref" href="#f:68"><span class="id" title="binder">f</span></a> <a id="args:69" class="idref" href="#args:69"><span class="id" title="binder">args</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">EAst.mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#f:68"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#args:69"><span class="id" title="variable">args</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c38ed582e26f8392eb789c5ba309a631"><span class="id" title="notation">=</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c38ed582e26f8392eb789c5ba309a631"><span class="id" title="notation">kn</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#f:68"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#terms_global_deps"><span class="id" title="abbreviation">terms_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#args:69"><span class="id" title="variable">args</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">args</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>; <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHargs</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> !<a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Classes.Morphisms.html#"><span class="id" title="library">Morphisms</span></a>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="global_deps_proper" class="idref" href="#global_deps_proper"><span class="id" title="instance">global_deps_proper</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.Equal"><span class="id" title="definition">KernameSet.Equal</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.Equal"><span class="id" title="definition">KernameSet.Equal</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps"><span class="id" title="definition">global_deps</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? → <span class="id" title="var">kns</span> <span class="id" title="var">kns'</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="var">kns</span>, <span class="id" title="var">kns'</span>, <span class="id" title="var">eq</span> |- *; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHy</span>; [|<span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="global_deps_proper_subset" class="idref" href="#global_deps_proper_subset"><span class="id" title="instance">global_deps_proper_subset</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.Subset"><span class="id" title="definition">KernameSet.Subset</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.Subset"><span class="id" title="definition">KernameSet.Subset</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps"><span class="id" title="definition">global_deps</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? → <span class="id" title="var">kns</span> <span class="id" title="var">kns'</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="var">kns</span>, <span class="id" title="var">kns'</span>, <span class="id" title="var">eq</span> |- *; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">kns</span>). <span class="id" title="tactic">eapply</span> <span class="id" title="var">eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem_spec"><span class="id" title="lemma">KernameSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHy</span>. <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">kns'</span>). <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHy</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">eq</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a>. <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="term_global_deps_substl" class="idref" href="#term_global_deps_substl"><span class="id" title="lemma">term_global_deps_substl</span></a> <a id="defs:70" class="idref" href="#defs:70"><span class="id" title="binder">defs</span></a> <a id="body:71" class="idref" href="#body:71"><span class="id" title="binder">body</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.Subset"><span class="id" title="definition">KernameSet.Subset</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> (<a class="idref" href="MetaRocq.Erasure.ECSubst.html#substl"><span class="id" title="definition">ECSubst.substl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#defs:70"><span class="id" title="variable">defs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#body:71"><span class="id" title="variable">body</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#terms_global_deps"><span class="id" title="abbreviation">terms_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#defs:70"><span class="id" title="variable">defs</span></a>) (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#body:71"><span class="id" title="variable">body</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ECSubst.html#substl"><span class="id" title="definition">ECSubst.substl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">defs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">body</span> |- *; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdefs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span> <span class="id" title="keyword">as</span> []; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_csubst"><span class="id" title="lemma">term_global_deps_csubst</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="var">knset</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="terms_global_deps_rev" class="idref" href="#terms_global_deps_rev"><span class="id" title="lemma">terms_global_deps_rev</span></a> <a id="l:72" class="idref" href="#l:72"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#terms_global_deps"><span class="id" title="abbreviation">terms_global_deps</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:72"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c38ed582e26f8392eb789c5ba309a631"><span class="id" title="notation">=</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c38ed582e26f8392eb789c5ba309a631"><span class="id" title="notation">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#terms_global_deps"><span class="id" title="abbreviation">terms_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:72"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> []]; <span class="id" title="tactic">right</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In_rev"><span class="id" title="abbreviation">In_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> []]; <span class="id" title="tactic">right</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In_rev"><span class="id" title="abbreviation">In_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="In_skipn" class="idref" href="#In_skipn"><span class="id" title="lemma">In_skipn</span></a> {<a id="A:73" class="idref" href="#A:73"><span class="id" title="binder">A</span></a>} <a id="n:74" class="idref" href="#n:74"><span class="id" title="binder">n</span></a> (<a id="l:75" class="idref" href="#l:75"><span class="id" title="binder">l</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#A:73"><span class="id" title="variable">A</span></a>) : <span class="id" title="keyword">∀</span> <a id="x:76" class="idref" href="#x:76"><span class="id" title="binder">x</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#x:76"><span class="id" title="variable">x</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#n:74"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:75"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#x:76"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:75"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#skipn_S"><span class="id" title="lemma">skipn_S</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">hin</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="terms_global_deps_skipn" class="idref" href="#terms_global_deps_skipn"><span class="id" title="lemma">terms_global_deps_skipn</span></a> <a id="n:77" class="idref" href="#n:77"><span class="id" title="binder">n</span></a> <a id="l:78" class="idref" href="#l:78"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.Subset"><span class="id" title="definition">KernameSet.Subset</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#terms_global_deps"><span class="id" title="abbreviation">terms_global_deps</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#skipn"><span class="id" title="abbreviation">List.skipn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#n:77"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:78"><span class="id" title="variable">l</span></a>)) (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#terms_global_deps"><span class="id" title="abbreviation">terms_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:78"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> []]; <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#In_skipn"><span class="id" title="lemma">In_skipn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="term_global_deps_iota_red" class="idref" href="#term_global_deps_iota_red"><span class="id" title="lemma">term_global_deps_iota_red</span></a> <a id="pars:79" class="idref" href="#pars:79"><span class="id" title="binder">pars</span></a> <a id="args:80" class="idref" href="#args:80"><span class="id" title="binder">args</span></a> <a id="br:81" class="idref" href="#br:81"><span class="id" title="binder">br</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.Subset"><span class="id" title="definition">KernameSet.Subset</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> (<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#iota_red"><span class="id" title="definition">EGlobalEnv.iota_red</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#pars:79"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#args:80"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#br:81"><span class="id" title="variable">br</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#terms_global_deps"><span class="id" title="abbreviation">terms_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#args:80"><span class="id" title="variable">args</span></a>) (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#br:81"><span class="id" title="variable">br</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_substl"><span class="id" title="lemma">term_global_deps_substl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span> ×. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#terms_global_deps_rev"><span class="id" title="lemma">terms_global_deps_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#terms_global_deps_skipn"><span class="id" title="lemma">terms_global_deps_skipn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fold_left_eq" class="idref" href="#fold_left_eq"><span class="id" title="lemma">fold_left_eq</span></a> {<a id="A:82" class="idref" href="#A:82"><span class="id" title="binder">A</span></a>} <a id="f:83" class="idref" href="#f:83"><span class="id" title="binder">f</span></a> <a id="acc:84" class="idref" href="#acc:84"><span class="id" title="binder">acc</span></a> <a id="l:85" class="idref" href="#l:85"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> (<span class="id" title="keyword">fun</span> <a id="acc:86" class="idref" href="#acc:86"><span class="id" title="binder">acc</span></a> (<a id="x:87" class="idref" href="#x:87"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#A:82"><span class="id" title="variable">A</span></a>) ⇒ <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#f:83"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#x:87"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#acc:86"><span class="id" title="variable">acc</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:85"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#acc:84"><span class="id" title="variable">acc</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c38ed582e26f8392eb789c5ba309a631"><span class="id" title="notation">=</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c38ed582e26f8392eb789c5ba309a631"><span class="id" title="notation">kn</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> (<span class="id" title="keyword">fun</span> <a id="acc:88" class="idref" href="#acc:88"><span class="id" title="binder">acc</span></a> <a id="x:89" class="idref" href="#x:89"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#f:83"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#x:89"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#acc:88"><span class="id" title="variable">acc</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:85"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.empty"><span class="id" title="definition">KernameSet.empty</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#acc:84"><span class="id" title="variable">acc</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">acc</span> |- *; <span class="id" title="var">cbn</span>. <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IHl</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)). <span class="id" title="var">knset</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="term_global_deps_repeat" class="idref" href="#term_global_deps_repeat"><span class="id" title="lemma">term_global_deps_repeat</span></a> <a id="t:90" class="idref" href="#t:90"><span class="id" title="binder">t</span></a> <a id="n:91" class="idref" href="#n:91"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.Subset"><span class="id" title="definition">KernameSet.Subset</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#terms_global_deps"><span class="id" title="abbreviation">terms_global_deps</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#repeat"><span class="id" title="definition">repeat</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:90"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#n:91"><span class="id" title="variable">n</span></a>)) (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:90"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fold_left_eq"><span class="id" title="lemma">fold_left_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">knset</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="terms_global_deps_gen" class="idref" href="#terms_global_deps_gen"><span class="id" title="abbreviation">terms_global_deps_gen</span></a> <span class="id" title="var">f</span> <span class="id" title="var">l</span> :=<br/>
&nbsp;&nbsp;(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="acc:92" class="idref" href="#acc:92"><span class="id" title="binder">acc</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.t"><span class="id" title="definition">KernameSet.t</span></a>) (<a id="x:93" class="idref" href="#x:93"><span class="id" title="binder">x</span></a> : <span class="id" title="var">_</span>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> (<span class="id" title="var">f</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#x:93"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#acc:92"><span class="id" title="variable">acc</span></a>) <span class="id" title="var">l</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.empty"><span class="id" title="definition">KernameSet.empty</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="term_global_deps_fix_subst" class="idref" href="#term_global_deps_fix_subst"><span class="id" title="lemma">term_global_deps_fix_subst</span></a> <a id="mfix:94" class="idref" href="#mfix:94"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.Subset"><span class="id" title="definition">KernameSet.Subset</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#terms_global_deps"><span class="id" title="abbreviation">terms_global_deps</span></a> (<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#fix_subst"><span class="id" title="definition">EGlobalEnv.fix_subst</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mfix:94"><span class="id" title="variable">mfix</span></a>)) (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#terms_global_deps_gen"><span class="id" title="abbreviation">terms_global_deps_gen</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">EAst.dbody</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mfix:94"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#fix_subst"><span class="id" title="definition">EGlobalEnv.fix_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fold_left_eq"><span class="id" title="lemma">fold_left_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">knset</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="term_global_deps_cunfold_fix" class="idref" href="#term_global_deps_cunfold_fix"><span class="id" title="lemma">term_global_deps_cunfold_fix</span></a> <a id="mfix:95" class="idref" href="#mfix:95"><span class="id" title="binder">mfix</span></a> <a id="idx:96" class="idref" href="#idx:96"><span class="id" title="binder">idx</span></a> <a id="n:97" class="idref" href="#n:97"><span class="id" title="binder">n</span></a> <a id="f:98" class="idref" href="#f:98"><span class="id" title="binder">f</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cunfold_fix"><span class="id" title="definition">EGlobalEnv.cunfold_fix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mfix:95"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#idx:96"><span class="id" title="variable">idx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#n:97"><span class="id" title="variable">n</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#f:98"><span class="id" title="variable">f</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.Subset"><span class="id" title="definition">KernameSet.Subset</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#f:98"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#terms_global_deps_gen"><span class="id" title="abbreviation">terms_global_deps_gen</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">EAst.dbody</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mfix:95"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cunfold_fix"><span class="id" title="definition">EGlobalEnv.cunfold_fix</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [= &lt;- &lt;-].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_substl"><span class="id" title="lemma">term_global_deps_substl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_fix_subst"><span class="id" title="lemma">term_global_deps_fix_subst</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_In"><span class="id" title="lemma">nth_error_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">d</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="term_global_deps_cofix_subst" class="idref" href="#term_global_deps_cofix_subst"><span class="id" title="lemma">term_global_deps_cofix_subst</span></a> <a id="mfix:99" class="idref" href="#mfix:99"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.Subset"><span class="id" title="definition">KernameSet.Subset</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#terms_global_deps"><span class="id" title="abbreviation">terms_global_deps</span></a> (<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cofix_subst"><span class="id" title="definition">EGlobalEnv.cofix_subst</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mfix:99"><span class="id" title="variable">mfix</span></a>)) (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#terms_global_deps_gen"><span class="id" title="abbreviation">terms_global_deps_gen</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">EAst.dbody</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mfix:99"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cofix_subst"><span class="id" title="definition">EGlobalEnv.cofix_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fold_left_eq"><span class="id" title="lemma">fold_left_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">knset</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="term_global_deps_cunfold_cofix" class="idref" href="#term_global_deps_cunfold_cofix"><span class="id" title="lemma">term_global_deps_cunfold_cofix</span></a> <a id="mfix:100" class="idref" href="#mfix:100"><span class="id" title="binder">mfix</span></a> <a id="idx:101" class="idref" href="#idx:101"><span class="id" title="binder">idx</span></a> <a id="n:102" class="idref" href="#n:102"><span class="id" title="binder">n</span></a> <a id="f:103" class="idref" href="#f:103"><span class="id" title="binder">f</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cunfold_cofix"><span class="id" title="definition">EGlobalEnv.cunfold_cofix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mfix:100"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#idx:101"><span class="id" title="variable">idx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#n:102"><span class="id" title="variable">n</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#f:103"><span class="id" title="variable">f</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.Subset"><span class="id" title="definition">KernameSet.Subset</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#f:103"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#terms_global_deps_gen"><span class="id" title="abbreviation">terms_global_deps_gen</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">EAst.dbody</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mfix:100"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cunfold_cofix"><span class="id" title="definition">EGlobalEnv.cunfold_cofix</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [= &lt;- &lt;-].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_substl"><span class="id" title="lemma">term_global_deps_substl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_cofix_subst"><span class="id" title="lemma">term_global_deps_cofix_subst</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_In"><span class="id" title="lemma">nth_error_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">d</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_deps_empty" class="idref" href="#global_deps_empty"><span class="id" title="lemma">global_deps_empty</span></a> <a id="186118668d07fd138a3ef5a9238c626f" class="idref" href="#186118668d07fd138a3ef5a9238c626f"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps"><span class="id" title="definition">global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#186118668d07fd138a3ef5a9238c626f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.empty"><span class="id" title="definition">KernameSet.empty</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.empty"><span class="id" title="definition">KernameSet.empty</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn</span> <span class="id" title="var">d</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">kn</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.empty"><span class="id" title="definition">KernameSet.empty</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">knset</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eval_global_deps" class="idref" href="#eval_global_deps"><span class="id" title="lemma">eval_global_deps</span></a> {<a id="fl:105" class="idref" href="#fl:105"><span class="id" title="binder">fl</span></a> : <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#WcbvFlags"><span class="id" title="class">EWcbvEval.WcbvFlags</span></a>} {<a id="efl:106" class="idref" href="#efl:106"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaRocq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EWellformed.EEnvFlags</span></a>} <a id="3cedca6701e55d274b90a4066ad3c858" class="idref" href="#3cedca6701e55d274b90a4066ad3c858"><span class="id" title="binder">Σ</span></a> <a id="t:108" class="idref" href="#t:108"><span class="id" title="binder">t</span></a> <a id="t':109" class="idref" href="#t':109"><span class="id" title="binder">t'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">EWellformed.wf_glob</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#3cedca6701e55d274b90a4066ad3c858"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#3cedca6701e55d274b90a4066ad3c858"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#3959a00793ec04b4dc50ed24aec9b5cc"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:108"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#3959a00793ec04b4dc50ed24aec9b5cc"><span class="id" title="notation">⇓</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t':109"><span class="id" title="variable">t'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.Subset"><span class="id" title="definition">KernameSet.Subset</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps"><span class="id" title="definition">global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#3cedca6701e55d274b90a4066ad3c858"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t':109"><span class="id" title="variable">t'</span></a>)) (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps"><span class="id" title="definition">global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#3cedca6701e55d274b90a4066ad3c858"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:108"><span class="id" title="variable">t</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_ind"><span class="id" title="definition">EWcbvEval.eval_ind</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHeval1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_csubst"><span class="id" title="lemma">term_global_deps_csubst</span></a> <span class="id" title="var">a'</span> 0 <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_subset"><span class="id" title="lemma">global_deps_subset</span></a> <span class="id" title="var">Σ</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_csubst"><span class="id" title="lemma">term_global_deps_csubst</span></a> <span class="id" title="var">b0'</span> 0 <span class="id" title="var">b1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_subset"><span class="id" title="lemma">global_deps_subset</span></a> <span class="id" title="var">Σ</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_mkApps"><span class="id" title="lemma">term_global_deps_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHeval1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">IHeval1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ind</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_proper_subset"><span class="id" title="instance">global_deps_proper_subset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;3:<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_iota_red"><span class="id" title="lemma">term_global_deps_iota_red</span></a> <span class="id" title="var">pars</span> <span class="id" title="var">args</span> <span class="id" title="var">br</span>). 2:<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHeval1</span> <span class="id" title="var">kn</span>); <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHeval1</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_proper_subset"><span class="id" title="instance">global_deps_proper_subset</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kn'</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fold_left_eq"><span class="id" title="lemma">fold_left_eq</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_proper_subset"><span class="id" title="instance">global_deps_proper_subset</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kn'</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_In"><span class="id" title="lemma">nth_error_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e2</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">br</span>; <span class="id" title="tactic">split</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_proper_subset"><span class="id" title="instance">global_deps_proper_subset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hr</span>; [|<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_iota_red"><span class="id" title="lemma">term_global_deps_iota_red</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_proper_subset"><span class="id" title="instance">global_deps_proper_subset</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kn'</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fold_left_eq"><span class="id" title="lemma">fold_left_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hr</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval1</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fold_left_eq"><span class="id" title="lemma">fold_left_eq</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_proper_subset"><span class="id" title="instance">global_deps_proper_subset</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kn'</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_In"><span class="id" title="lemma">nth_error_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e2</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">br</span>; <span class="id" title="tactic">split</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">hr</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_proper_subset"><span class="id" title="instance">global_deps_proper_subset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hr</span>; [|<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_substl"><span class="id" title="lemma">term_global_deps_substl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fold_left_eq"><span class="id" title="lemma">fold_left_eq</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">brs</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hr</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_proper_subset"><span class="id" title="instance">global_deps_proper_subset</span></a>. <span class="id" title="tactic">reflexivity</span>. 2:<span class="id" title="tactic">exact</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_repeat"><span class="id" title="lemma">term_global_deps_repeat</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_mkApps"><span class="id" title="lemma">term_global_deps_mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_mkApps"><span class="id" title="lemma">term_global_deps_mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_cunfold_fix"><span class="id" title="lemma">term_global_deps_cunfold_fix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">e1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_mkApps"><span class="id" title="lemma">term_global_deps_mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval1</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_cunfold_fix"><span class="id" title="lemma">term_global_deps_cunfold_fix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">e0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ip</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fold_left_eq"><span class="id" title="lemma">fold_left_eq</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fold_left_eq"><span class="id" title="lemma">fold_left_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_mkApps"><span class="id" title="lemma">term_global_deps_mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_mkApps"><span class="id" title="lemma">term_global_deps_mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_cunfold_cofix"><span class="id" title="lemma">term_global_deps_cunfold_cofix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">e0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval1</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_mkApps"><span class="id" title="lemma">term_global_deps_mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_mkApps"><span class="id" title="lemma">term_global_deps_mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_cunfold_cofix"><span class="id" title="lemma">term_global_deps_cunfold_cofix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">e0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_kn"><span class="id" title="lemma">global_deps_kn</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">c</span> <span class="id" title="var">decl</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#constant_decls_deps"><span class="id" title="definition">constant_decls_deps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">cst_body0</span>. <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">kn</span> /<span class="id" title="var">IHeval2</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>; <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_mkApps"><span class="id" title="lemma">term_global_deps_mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_In"><span class="id" title="lemma">nth_error_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_proper_subset"><span class="id" title="instance">global_deps_proper_subset</span></a>. <span class="id" title="tactic">reflexivity</span>. 2:<span class="id" title="tactic">exact</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_In"><span class="id" title="lemma">nth_error_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">kn</span> /<span class="id" title="var">IHeval2</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHeval1</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.Kernames.html#proj_ind"><span class="id" title="projection">proj_ind</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fold_left_eq"><span class="id" title="lemma">fold_left_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_proper_subset"><span class="id" title="instance">global_deps_proper_subset</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kn'</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">right</span>. 2:<span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">ind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fold_left_eq"><span class="id" title="lemma">fold_left_eq</span></a>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fold_left_eq"><span class="id" title="lemma">fold_left_eq</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton"><span class="id" title="definition">KernameSet.singleton</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> !<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">a</span> <span class="id" title="var">iha</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">H0</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fold_left_eq"><span class="id" title="lemma">fold_left_eq</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fold_left_eq"><span class="id" title="lemma">fold_left_eq</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> !<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">iha</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sub</span> <span class="id" title="var">ih</span>]. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHa</span> <span class="id" title="var">ih</span>). <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">depelim</span> <span class="id" title="var">X</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">simp</span> <span class="id" title="var">prim_global_deps</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#All2_over_undep"><span class="id" title="lemma">All2_over_undep</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#All2_Set_All2"><span class="id" title="lemma">All2_Set_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ev</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fold_left_eq"><span class="id" title="lemma">fold_left_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hin</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fold_left_eq"><span class="id" title="lemma">fold_left_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> !<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> ×. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">H</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">a</span>. <span class="id" title="var">cbn</span>; <span class="id" title="var">knset</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fold_left_eq"><span class="id" title="lemma">fold_left_eq</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> !<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fold_left_eq"><span class="id" title="lemma">fold_left_eq</span></a> !<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> !<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> !<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">knset</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="in_global_deps_fresh" class="idref" href="#in_global_deps_fresh"><span class="id" title="lemma">in_global_deps_fresh</span></a> {<a id="efl:110" class="idref" href="#efl:110"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaRocq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EWellformed.EEnvFlags</span></a>} <a id="kn:111" class="idref" href="#kn:111"><span class="id" title="binder">kn</span></a> <a id="6331a09bee1fd08c7dac0167a6c36fc8" class="idref" href="#6331a09bee1fd08c7dac0167a6c36fc8"><span class="id" title="binder">Σ</span></a> <a id="deps:113" class="idref" href="#deps:113"><span class="id" title="binder">deps</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">EWellformed.wf_glob</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#6331a09bee1fd08c7dac0167a6c36fc8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:111"><span class="id" title="variable">kn</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps"><span class="id" title="definition">global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#6331a09bee1fd08c7dac0167a6c36fc8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps:113"><span class="id" title="variable">deps</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#fresh_global"><span class="id" title="definition">EGlobalEnv.fresh_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:111"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#6331a09bee1fd08c7dac0167a6c36fc8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:111"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps:113"><span class="id" title="variable">deps</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">deps</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn'</span> <span class="id" title="var">d</span>]; <span class="id" title="var">cbn</span>. <span class="id" title="var">depelim</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">kn'</span> <span class="id" title="var">deps</span>) ⇒ <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] <span class="id" title="var">fr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">depelim</span> <span class="id" title="var">fr</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">depelim</span> <span class="id" title="var">fr</span>. <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHΣ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [[[]]|] <span class="id" title="var">eqn</span>:<span class="id" title="var">eqd</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_fresh"><span class="id" title="lemma">term_global_deps_fresh</span></a> <span class="id" title="var">Σ</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_map"><span class="id" title="lemma">Forall_map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:114" class="idref" href="#x:114"><span class="id" title="binder"><span id="x:115" class="id">x</span></span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#x:114"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="var">kn</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">fr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#Forall_In"><span class="id" title="lemma">PCUICWfUniverses.Forall_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">fr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">hin'</span> <span class="id" title="var">fr</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">fr</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHΣ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Existing Instance</span> <a class="idref" href="MetaRocq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">extraction_checker_flags</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> | <span class="id" title="var">h</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">h</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="fix_sigma" class="idref" href="#fix_sigma"><span class="id" title="section">fix_sigma</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="fix_sigma.cf" class="idref" href="#fix_sigma.cf"><span class="id" title="variable">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="fix_sigma.nor" class="idref" href="#fix_sigma.nor"><span class="id" title="variable">nor</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#normalizing_flags"><span class="id" title="class">normalizing_flags</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="fix_sigma.X_type" class="idref" href="#fix_sigma.X_type"><span class="id" title="variable">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="fix_sigma.X" class="idref" href="#fix_sigma.X"><span class="id" title="variable">X</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.X_type"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="fix_sigma.normalization_in" class="idref" href="#fix_sigma.normalization_in"><span class="id" title="variable">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="3f8c1c10906746294e3c27001291be1f" class="idref" href="#3f8c1c10906746294e3c27001291be1f"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#3f8c1c10906746294e3c27001291be1f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#3f8c1c10906746294e3c27001291be1f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#3f8c1c10906746294e3c27001291be1f"><span class="id" title="variable">Σ</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Definition</span> <a id="e13e9e4849f1b26670f1b852ea178571" class="idref" href="#e13e9e4849f1b26670f1b852ea178571"><span class="id" title="definition">heΣ</span></a> <a id="89c991e573d576d4ce9b4ce8f6af8d89" class="idref" href="#89c991e573d576d4ce9b4ce8f6af8d89"><span class="id" title="binder">Σ</span></a> (<a id="4e10e979c7ff6a0e7c46d6e669772122" class="idref" href="#4e10e979c7ff6a0e7c46d6e669772122"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#89c991e573d576d4ce9b4ce8f6af8d89"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#89c991e573d576d4ce9b4ce8f6af8d89"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#4e10e979c7ff6a0e7c46d6e669772122"><span class="id" title="variable">wfΣ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Definition</span> <a id="720e701f42950b807464278d7d15e598" class="idref" href="#720e701f42950b807464278d7d15e598"><span class="id" title="definition">HΣ</span></a> <a id="a5a0b10493a2c4ce9fd6f9cda880e118" class="idref" href="#a5a0b10493a2c4ce9fd6f9cda880e118"><span class="id" title="binder">Σ</span></a> (<a id="9f6e9974fb2fc83f3d71cfd6512809dc" class="idref" href="#9f6e9974fb2fc83f3d71cfd6512809dc"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a5a0b10493a2c4ce9fd6f9cda880e118"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a5a0b10493a2c4ce9fd6f9cda880e118"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_sq_wf"><span class="id" title="definition">abstract_env_ext_sq_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#9f6e9974fb2fc83f3d71cfd6512809dc"><span class="id" title="variable">wfΣ</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="term_rel" class="idref" href="#term_rel"><span class="id" title="definition">term_rel</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">Relation_Definitions.relation</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="5495a10c804f1658d630c88ad892ac98" class="idref" href="#5495a10c804f1658d630c88ad892ac98"><span class="id" title="binder">Γ</span></a> <a id="t:127" class="idref" href="#t:127"><span class="id" title="binder">t</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">∀</span> <a id="4cf90600e8413682f73ea298d1219fe2" class="idref" href="#4cf90600e8413682f73ea298d1219fe2"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#4cf90600e8413682f73ea298d1219fe2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#4cf90600e8413682f73ea298d1219fe2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#5495a10c804f1658d630c88ad892ac98"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:127"><span class="id" title="variable">t</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> '<a id="pat:132" class="idref" href="#pat:132"><span class="id" title="binder">(</span></a><a id="eeaaafa4e727cbde626a38cce2ce4e2d" class="idref" href="#eeaaafa4e727cbde626a38cce2ce4e2d"><span class="id" title="binder"><span id="pat:132" class="id">Γ2</span></span></a><a id="pat:132" class="idref" href="#pat:132"><span class="id" title="binder">;</span></a> <a id="B:130" class="idref" href="#B:130"><span class="id" title="binder"><span id="pat:132" class="id">B</span></span></a><a id="pat:132" class="idref" href="#pat:132"><span class="id" title="binder">;</span></a> <a id="H:129" class="idref" href="#H:129"><span class="id" title="binder"><span id="pat:132" class="id">H</span></span></a><a id="pat:132" class="idref" href="#pat:132"><span class="id" title="binder">)</span></a> '<a id="pat:136" class="idref" href="#pat:136"><span class="id" title="binder">(</span></a><a id="5f4335b705fff2bc18ff18504da54efd" class="idref" href="#5f4335b705fff2bc18ff18504da54efd"><span class="id" title="binder"><span id="pat:136" class="id">Γ1</span></span></a><a id="pat:136" class="idref" href="#pat:136"><span class="id" title="binder">;</span></a> <a id="t1:134" class="idref" href="#t1:134"><span class="id" title="binder"><span id="pat:136" class="id">t1</span></span></a><a id="pat:136" class="idref" href="#pat:136"><span class="id" title="binder">;</span></a> <a id="H2:133" class="idref" href="#H2:133"><span class="id" title="binder"><span id="pat:136" class="id">H2</span></span></a><a id="pat:136" class="idref" href="#pat:136"><span class="id" title="binder">)</span></a> ⇒<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="9e9733f8cc0a39ebf7cdff4c63de12e8" class="idref" href="#9e9733f8cc0a39ebf7cdff4c63de12e8"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#9e9733f8cc0a39ebf7cdff4c63de12e8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="na:138" class="idref" href="#na:138"><span class="id" title="binder">na</span></a> <a id="A:139" class="idref" href="#A:139"><span class="id" title="binder">A</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red"><span class="id" title="definition">red</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#9e9733f8cc0a39ebf7cdff4c63de12e8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#5f4335b705fff2bc18ff18504da54efd"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t1:134"><span class="id" title="variable">t1</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#na:138"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#A:139"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#B:130"><span class="id" title="variable">B</span></a>) <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#5f4335b705fff2bc18ff18504da54efd"><span class="id" title="variable">Γ1</span></a><a class="idref" href="MetaRocq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#na:138"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#A:139"><span class="id" title="variable">A</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#eeaaafa4e727cbde626a38cce2ce4e2d"><span class="id" title="variable">Γ2</span></a><a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="cod" class="idref" href="#cod"><span class="id" title="definition">cod</span></a> <a id="B:140" class="idref" href="#B:140"><span class="id" title="binder">B</span></a> <a id="t:141" class="idref" href="#t:141"><span class="id" title="binder">t</span></a> := <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:141"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">B'</span> ⇒ <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#B:140"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">B'</span> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wf_cod" class="idref" href="#wf_cod"><span class="id" title="lemma">wf_cod</span></a> : <span class="id" title="class">WellFounded</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cod"><span class="id" title="definition">cod</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">intros</span> ?. <span class="id" title="tactic">induction</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wf_cod'" class="idref" href="#wf_cod'"><span class="id" title="lemma">wf_cod'</span></a> : <span class="id" title="class">WellFounded</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Relations.Relation_Operators.html#clos_trans"><span class="id" title="inductive">Relation_Operators.clos_trans</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cod"><span class="id" title="definition">cod</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Subterm.WellFounded_trans_clos</span>. <span class="id" title="tactic">exact</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wf_cod"><span class="id" title="lemma">wf_cod</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Acc_no_loop" class="idref" href="#Acc_no_loop"><span class="id" title="lemma">Acc_no_loop</span></a> <a id="A:143" class="idref" href="#A:143"><span class="id" title="binder">A</span></a> (<a id="R:144" class="idref" href="#R:144"><span class="id" title="binder">R</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#A:143"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#A:143"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="t:145" class="idref" href="#t:145"><span class="id" title="binder">t</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#R:144"><span class="id" title="variable">R</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:145"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#R:144"><span class="id" title="variable">R</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:145"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:145"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">sq'</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.MRSquash.html#sq"><span class="id" title="constructor">sq</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="wf_reduction_aux" class="idref" href="#wf_reduction_aux"><span class="id" title="definition">wf_reduction_aux</span></a> : <span class="id" title="class">WellFounded</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_rel"><span class="id" title="definition">term_rel</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">normalization_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">Γ</span> &amp; <span class="id" title="var">s</span> &amp; <span class="id" title="var">H</span>). <span class="id" title="var">sq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span>) <span class="id" title="keyword">as</span> <span class="id" title="keyword">wf</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">H'</span> := <span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.normalization_in"><span class="id" title="variable">normalization_in</span></a> <span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">Γ</span> <span class="id" title="var">s</span> <span class="id" title="var">H'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">_</span> <span class="id" title="var">IH</span>]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wf_cod'"><span class="id" title="lemma">wf_cod'</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">_</span> <span class="id" title="var">IH_sub</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">Γ</span>, <span class="id" title="var">H</span> , <span class="id" title="var">H'</span>, <span class="id" title="var">IH</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eintros</span> (<span class="id" title="var">Γ'</span> &amp; <span class="id" title="var">B</span> &amp; ?) [(<span class="id" title="var">na</span> &amp; <span class="id" title="var">A</span> &amp; ? &amp; ?)]; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Relation_Properties.clos_rt_rtn1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IH_sub</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#prod_red_r"><span class="id" title="constructor">prod_red_r</span></a>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#cored_red"><span class="id" title="lemma">cored_red</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#cored_red_trans"><span class="id" title="lemma">cored_red_trans</span></a>. 2: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#prod_red_r"><span class="id" title="constructor">prod_red_r</span></a>. 2:<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red_prod_r"><span class="id" title="lemma">PCUICReduction.red_prod_r</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#red_neq_cored"><span class="id" title="lemma">red_neq_cored</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Relation_Properties.clos_rtn1_rt</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Relation_Properties.clos_rtn1_rt</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#cored_red_trans"><span class="id" title="lemma">cored_red_trans</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>; [| <span class="id" title="tactic">exact</span> <span class="id" title="var">X1</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#Acc_no_loop"><span class="id" title="lemma">Acc_no_loop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> @<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.normalization_in"><span class="id" title="variable">normalization_in</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H'</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>) <span class="id" title="tactic">in</span> <span class="id" title="keyword">wf</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Prod"><span class="id" title="lemma">inversion_Prod</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; <span class="id" title="var">h1</span> &amp; ? &amp; ?) ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#cored_red"><span class="id" title="lemma">cored_red</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSR.html#subject_reduction"><span class="id" title="lemma">subject_reduction</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>) <span class="id" title="tactic">in</span> <span class="id" title="keyword">wf</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_welltyped"><span class="id" title="lemma">red_welltyped</span></a>; <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;3:<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Relation_Properties.clos_rtn1_rt</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="wf_reduction" class="idref" href="#wf_reduction"><span class="id" title="instance">wf_reduction</span></a> : <span class="id" title="class">WellFounded</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_rel"><span class="id" title="definition">term_rel</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">normalization_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Wf.html#Acc_intro_generator"><span class="id" title="definition">Wf.Acc_intro_generator</span></a> 1000 <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wf_reduction_aux"><span class="id" title="definition">wf_reduction_aux</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Opaque</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wf_reduction"><span class="id" title="instance">wf_reduction</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">tactic</span>="idtac"]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span>? <a id="is_arity" class="idref" href="#is_arity"><span class="id" title="definition">is_arity</span></a> <a id="15e3abb8d0dc192df6f2f0d8def64744" class="idref" href="#15e3abb8d0dc192df6f2f0d8def64744"><span class="id" title="binder">Γ</span></a> (<a id="339a4f3c9566d6fc48dda57a9656e417" class="idref" href="#339a4f3c9566d6fc48dda57a9656e417"><span class="id" title="binder">HΓ</span></a> : <span class="id" title="keyword">∀</span> <a id="b5068c6cd8c41337afac36deb35caa4d" class="idref" href="#b5068c6cd8c41337afac36deb35caa4d"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#b5068c6cd8c41337afac36deb35caa4d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#b5068c6cd8c41337afac36deb35caa4d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#15e3abb8d0dc192df6f2f0d8def64744"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <a id="T:149" class="idref" href="#T:149"><span class="id" title="binder">T</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="HT:151" class="idref" href="#HT:151"><span class="id" title="binder">HT</span></a> : <span class="id" title="keyword">∀</span> <a id="16420a3591c144f5a991e7835e9f838c" class="idref" href="#16420a3591c144f5a991e7835e9f838c"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#16420a3591c144f5a991e7835e9f838c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#16420a3591c144f5a991e7835e9f838c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#15e3abb8d0dc192df6f2f0d8def64744"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#T:149"><span class="id" title="variable">T</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="keyword">wf</span> (<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cdd198d55a4475b214740b8083e472ab"><span class="id" title="notation">(</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cdd198d55a4475b214740b8083e472ab"><span class="id" title="notation">;</span></a><span class="id" title="var">T</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cdd198d55a4475b214740b8083e472ab"><span class="id" title="notation">;</span></a><span class="id" title="var">HT</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cdd198d55a4475b214740b8083e472ab"><span class="id" title="notation">)</span></a> : (<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="31923523a3727704c158537b5a7f4f89" class="idref" href="#31923523a3727704c158537b5a7f4f89"><span class="id" title="binder">Γ</span></a> <a id="t:203" class="idref" href="#t:203"><span class="id" title="binder">t</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">∀</span> <a id="c27827c3cdb017ea2f080dc5adaf2a36" class="idref" href="#c27827c3cdb017ea2f080dc5adaf2a36"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c27827c3cdb017ea2f080dc5adaf2a36"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c27827c3cdb017ea2f080dc5adaf2a36"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#31923523a3727704c158537b5a7f4f89"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:203"><span class="id" title="variable">t</span></a>)) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_rel"><span class="id" title="definition">term_rel</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_arity:157"><span class="id" title="definition">is_arity</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#48ab0e81006fd0f4936cb71b27507f7f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#9da52db0c19f31f9584d6258067b79eb"><span class="id" title="variable">HΓ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#T:155"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#HT:153"><span class="id" title="variable">HT</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (@<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_to_sort"><span class="id" title="definition">reduce_to_sort</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.X_type"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Γ</span> <span class="id" title="var">T</span> <span class="id" title="var">HT</span>) ⇒ {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Checked_comp"><span class="id" title="constructor">Checked_comp</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#H:158"><span class="id" title="variable">H</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">)</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#rsort:165"><span class="id" title="variable">rsort</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#TypeError_comp"><span class="id" title="constructor">TypeError_comp</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">_</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">)</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#rsort:173"><span class="id" title="variable">rsort</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (@<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_to_prod"><span class="id" title="definition">reduce_to_prod</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.X_type"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Γ</span> <span class="id" title="var">T</span> <span class="id" title="var">HT</span>) ⇒ {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Checked_comp"><span class="id" title="constructor">Checked_comp</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#na:184"><span class="id" title="variable">na</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#A:175"><span class="id" title="variable">A</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#B:176"><span class="id" title="variable">B</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#H:177"><span class="id" title="variable">H</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">)</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">)</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#rprod:185"><span class="id" title="variable">rprod</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_arity:152"><span class="id" title="definition">is_arity</span></a> (<span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> <span class="id" title="var">A</span>) <span class="id" title="var">_</span> <span class="id" title="var">B</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#TypeError_comp"><span class="id" title="constructor">TypeError_comp</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e:195"><span class="id" title="variable">e</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">)</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#rprod:197"><span class="id" title="variable">rprod</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">rprod</span> <span class="id" title="var">is_arity</span> <span class="id" title="var">rsort</span> <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HT</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">HT</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSR.html#subject_reduction_closed"><span class="id" title="lemma">subject_reduction_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HT</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Prod"><span class="id" title="lemma">inversion_Prod</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HT</span> <span class="id" title="keyword">as</span> [? [? [? [<span class="id" title="var">t0</span> ?]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing_wf_local"><span class="id" title="lemma">typing_wf_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">t0</span>. <span class="id" title="var">pcuic</span>. <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">rprod</span> <span class="id" title="var">is_arity</span> <span class="id" title="var">rsort</span> <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HT</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">HT</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSR.html#subject_reduction_closed"><span class="id" title="lemma">subject_reduction_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HT</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Prod"><span class="id" title="lemma">inversion_Prod</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HT</span> <span class="id" title="keyword">as</span> [? [? [? []]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="var">all</span>:<span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">rsort</span> <span class="id" title="var">is_arity</span> <span class="id" title="var">rprod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HT</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">HT</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSR.html#subject_reduction_closed"><span class="id" title="lemma">subject_reduction_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HT</span>; <span class="id" title="var">tea</span>. 2:<span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Prod"><span class="id" title="lemma">inversion_Prod</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HT</span> <span class="id" title="keyword">as</span> [? [? [? []]]]. 2:<span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">na</span>, <span class="id" title="var">A</span>. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="is_arityP" class="idref" href="#is_arityP"><span class="id" title="lemma">is_arityP</span></a> <a id="a29c927e1d6003d43371630fa54ba8df" class="idref" href="#a29c927e1d6003d43371630fa54ba8df"><span class="id" title="binder">Γ</span></a> (<a id="fab7a26c9c8116d00698f91c0aa35fde" class="idref" href="#fab7a26c9c8116d00698f91c0aa35fde"><span class="id" title="binder">HΓ</span></a> : <span class="id" title="keyword">∀</span> <a id="72f91791bbb602d0bfaf8d99438cd4c7" class="idref" href="#72f91791bbb602d0bfaf8d99438cd4c7"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#72f91791bbb602d0bfaf8d99438cd4c7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#72f91791bbb602d0bfaf8d99438cd4c7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a29c927e1d6003d43371630fa54ba8df"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <a id="T:208" class="idref" href="#T:208"><span class="id" title="binder">T</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="HT:210" class="idref" href="#HT:210"><span class="id" title="binder">HT</span></a> : <span class="id" title="keyword">∀</span> <a id="1d3c2712cd53f8ced44b9865a79a0e0b" class="idref" href="#1d3c2712cd53f8ced44b9865a79a0e0b"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#1d3c2712cd53f8ced44b9865a79a0e0b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#1d3c2712cd53f8ced44b9865a79a0e0b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a29c927e1d6003d43371630fa54ba8df"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#T:208"><span class="id" title="variable">T</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#reflect"><span class="id" title="inductive">reflect</span></a> (<span class="id" title="keyword">∀</span> <a id="7b29c623ce651d4ecf7a06e4ebe95c95" class="idref" href="#7b29c623ce651d4ecf7a06e4ebe95c95"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#7b29c623ce651d4ecf7a06e4ebe95c95"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#Is_conv_to_Arity"><span class="id" title="definition">Is_conv_to_Arity</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#7b29c623ce651d4ecf7a06e4ebe95c95"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a29c927e1d6003d43371630fa54ba8df"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#T:208"><span class="id" title="variable">T</span></a>) (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_arity"><span class="id" title="definition">is_arity</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a29c927e1d6003d43371630fa54ba8df"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fab7a26c9c8116d00698f91c0aa35fde"><span class="id" title="variable">HΓ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#T:208"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#HT:210"><span class="id" title="variable">HT</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_arity"><span class="id" title="definition">is_arity</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">HΓ</span> <span class="id" title="var">T</span> <span class="id" title="var">HT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">Hs</span>]. <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span> <span class="id" title="var">rsort</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hs</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <span class="id" title="var">s</span>); <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X0</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">rprod</span> <span class="id" title="var">rsort</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T'</span> [[<span class="id" title="var">HT'</span>] <span class="id" title="var">isa</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">na</span> <span class="id" title="var">A</span> <span class="id" title="var">T'</span>); <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#closed_red_prod_codom"><span class="id" title="lemma">closed_red_prod_codom</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣ'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eintros</span> [<span class="id" title="var">T'</span> [[<span class="id" title="var">HT'</span>] <span class="id" title="var">isa</span>]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICContextConversion.html#closed_red_confluence"><span class="id" title="lemma">PCUICContextConversion.closed_red_confluence</span></a> <span class="id" title="var">H</span> <span class="id" title="var">HT'</span>) <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#invert_red_prod"><span class="id" title="lemma">invert_red_prod</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; []); <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#isArity_red"><span class="id" title="lemma">isArity_red</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isa</span>. 2:<span class="id" title="tactic">exact</span> <span class="id" title="var">c0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣ'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">rprod</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">rsort</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">isc</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#Is_conv_to_Arity_inv"><span class="id" title="lemma">Is_conv_to_Arity_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isc</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">A</span> [<span class="id" title="var">B</span> [<span class="id" title="var">Hr</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">na</span>, <span class="id" title="var">A</span>, <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">u</span> [<span class="id" title="var">Hu</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">a0</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fix_sigma"><span class="id" title="section">fix_sigma</span></a>.<br/>

<br/>
<span class="id" title="keyword">Opaque</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wf_reduction_aux"><span class="id" title="definition">wf_reduction_aux</span></a>.<br/>
<span class="id" title="keyword">Transparent</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wf_reduction"><span class="id" title="instance">wf_reduction</span></a>.<br/>

<br/>
</div>

<div class="doc">
Deciding if a term is erasable or not as a total function on well-typed terms.
  A term is erasable if:
<ul class="doclist">
<li> it represents a type, i.e., its type is an arity

</li>
<li> it represents a proof: its sort is Prop.

</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Derive</span> <span class="id" title="var">NoConfusion</span> <span class="id" title="keyword">for</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result_comp"><span class="id" title="inductive">typing_result_comp</span></a>.<br/>

<br/>
<span class="id" title="keyword">Opaque</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_arity"><span class="id" title="definition">is_arity</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeRetyping.html#type_of_typing"><span class="id" title="definition">type_of_typing</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="inspect" class="idref" href="#inspect"><span class="id" title="definition">inspect</span></a> {<a id="A:212" class="idref" href="#A:212"><span class="id" title="binder">A</span></a>} (<a id="x:213" class="idref" href="#x:213"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#A:212"><span class="id" title="variable">A</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <a id="y:214" class="idref" href="#y:214"><span class="id" title="binder">y</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#A:212"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#x:213"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#y:214"><span class="id" title="variable">y</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#x:213"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>

<br/>
<span class="id" title="keyword">Equations</span> <a id="inspect_bool" class="idref" href="#inspect_bool"><span class="id" title="definition">inspect_bool</span></a> (<a id="b:215" class="idref" href="#b:215"><span class="id" title="binder">b</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a> <span class="id" title="var">b</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <span class="id" title="var">b</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#inspect_bool:217"><span class="id" title="definition">inspect_bool</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#inspect_bool:218"><span class="id" title="definition">inspect_bool</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>

<br/>
#[<span class="id" title="var">tactic</span>="idtac"]<br/>
<span class="id" title="keyword">Equations</span>? <a id="is_erasableb" class="idref" href="#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <a id="X_type:219" class="idref" href="#X_type:219"><span class="id" title="binder">X_type</span></a> <a id="X:220" class="idref" href="#X:220"><span class="id" title="binder">X</span></a> {<a id="normalization_in:222" class="idref" href="#normalization_in:222"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="a64a867eb3871e7528f7f78d097b24f0" class="idref" href="#a64a867eb3871e7528f7f78d097b24f0"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a64a867eb3871e7528f7f78d097b24f0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a64a867eb3871e7528f7f78d097b24f0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:220"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a64a867eb3871e7528f7f78d097b24f0"><span class="id" title="variable">Σ</span></a>} (<a id="b8f31e849e92332f63c729a5cbb4ff01" class="idref" href="#b8f31e849e92332f63c729a5cbb4ff01"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) (<a id="T:224" class="idref" href="#T:224"><span class="id" title="binder">T</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">PCUICAst.term</span></a>)<br/>
&nbsp;&nbsp;(<a id="wt:226" class="idref" href="#wt:226"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="490ea76ac5c86918c37df463e85f2225" class="idref" href="#490ea76ac5c86918c37df463e85f2225"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:220"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#490ea76ac5c86918c37df463e85f2225"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#490ea76ac5c86918c37df463e85f2225"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#b8f31e849e92332f63c729a5cbb4ff01"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#T:224"><span class="id" title="variable">T</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb:233"><span class="id" title="definition">is_erasableb</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:229"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:228"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#b8327ff33ca73637de1d2d3a61fbfea7"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:230"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt:231"><span class="id" title="variable">wt</span></a> <span class="id" title="keyword">with</span> @<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeRetyping.html#type_of_typing"><span class="id" title="definition">type_of_typing</span></a> <a class="idref" href="MetaRocq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">extraction_checker_flags</span></a> <span class="id" title="var">_</span> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wt</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ | <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#T:234"><span class="id" title="variable">T</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_arity"><span class="id" title="definition">is_arity</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">Γ</span> <span class="id" title="var">_</span> <span class="id" title="var">T</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <span class="id" title="var">_</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ | <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> ⇒ <span class="id" title="keyword">let</span> <a id="s:257" class="idref" href="#s:257"><span class="id" title="binder">s</span></a> := @<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeRetyping.html#sort_of_type"><span class="id" title="definition">sort_of_type</span></a> <a class="idref" href="MetaRocq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">extraction_checker_flags</span></a> <span class="id" title="var">_</span> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">Γ</span> <span class="id" title="var">T</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#Sort.is_propositional"><span class="id" title="definition">Sort.is_propositional</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#s:257"><span class="id" title="variable">s</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> } }.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">wt</span>; <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">T</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Ht</span> <span class="id" title="var">Σ</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">tT</span> <span class="id" title="var">Hp</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">X</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICValidity.html#validity"><span class="id" title="lemma">validity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">tT</span>. <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">T</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Ht</span> <span class="id" title="var">Σ</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">tT</span> <span class="id" title="var">Hp</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">X</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICValidity.html#validity"><span class="id" title="lemma">validity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">tT</span>. <span class="id" title="var">now</span> <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Transparent</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_arity"><span class="id" title="definition">is_arity</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeRetyping.html#type_of_typing"><span class="id" title="definition">type_of_typing</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_erasableP" class="idref" href="#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a> {<a id="X_type:258" class="idref" href="#X_type:258"><span class="id" title="binder">X_type</span></a> <a id="X:259" class="idref" href="#X:259"><span class="id" title="binder">X</span></a>} {<a id="normalization_in:261" class="idref" href="#normalization_in:261"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="c9a0948a92a9e84510dbb11a94ab3120" class="idref" href="#c9a0948a92a9e84510dbb11a94ab3120"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c9a0948a92a9e84510dbb11a94ab3120"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c9a0948a92a9e84510dbb11a94ab3120"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:259"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c9a0948a92a9e84510dbb11a94ab3120"><span class="id" title="variable">Σ</span></a>} {<a id="892e11b7985dbde871562618030f7f5c" class="idref" href="#892e11b7985dbde871562618030f7f5c"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>} {<a id="t:263" class="idref" href="#t:263"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">PCUICAst.term</span></a>}<br/>
&nbsp;&nbsp;{<a id="wt:265" class="idref" href="#wt:265"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="749c6f5b74080e309a38b3d99d675867" class="idref" href="#749c6f5b74080e309a38b3d99d675867"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:259"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#749c6f5b74080e309a38b3d99d675867"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#749c6f5b74080e309a38b3d99d675867"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#892e11b7985dbde871562618030f7f5c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:263"><span class="id" title="variable">t</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#reflect"><span class="id" title="inductive">reflect</span></a> (<span class="id" title="keyword">∀</span> <a id="5d61b44cf28aef9a9aecc422be7f8514" class="idref" href="#5d61b44cf28aef9a9aecc422be7f8514"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:259"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#5d61b44cf28aef9a9aecc422be7f8514"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#5d61b44cf28aef9a9aecc422be7f8514"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#892e11b7985dbde871562618030f7f5c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:263"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:258"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:259"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#892e11b7985dbde871562618030f7f5c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:263"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt:265"><span class="id" title="variable">wt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wt</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeRetyping.html#type_of_typing"><span class="id" title="definition">type_of_typing</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">Hx</span>]. <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_arity"><span class="id" title="definition">is_arity</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeRetyping.html#sort_of_type"><span class="id" title="definition">sort_of_type</span></a>] <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hx</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">HT</span> ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_arityP"><span class="id" title="lemma">is_arityP</span></a>: <span class="id" title="var">Heq</span> ⇒ / (<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) [<span class="id" title="var">T'</span> [<span class="id" title="var">redT'</span> <span class="id" title="var">isar</span>]]. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">T'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSR.html#type_reduction_closed"><span class="id" title="lemma">type_reduction_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">eassumption</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeRetyping.html#type_of_typing"><span class="id" title="definition">type_of_typing</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">Hx</span>]. <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeRetyping.html#sort_of_type"><span class="id" title="definition">sort_of_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_arity"><span class="id" title="definition">is_arity</span></a>] <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeRetyping.html#sort_of_type"><span class="id" title="definition">sort_of_type</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Common.Universes.html#Sort.is_propositional"><span class="id" title="definition">Sort.is_propositional</span></a> <span class="id" title="var">x0</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">isp</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqcall</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">HT</span> ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs</span>]. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x0</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqcall</span>; <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ / (<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) [[<span class="id" title="var">T'</span> [<span class="id" title="var">HT'</span> <span class="id" title="var">er</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_arityP"><span class="id" title="lemma">is_arityP</span></a>: <span class="id" title="var">Heq</span> ⇒ <span class="id" title="var">nisa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">HT</span> ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">p</span> <span class="id" title="var">_</span> <span class="id" title="var">HT'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">er</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">isa</span>|[<span class="id" title="var">u'</span> [<span class="id" title="var">Hu'</span> <span class="id" title="var">isp'</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">nisa</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#invert_cumul_arity_r"><span class="id" title="lemma">invert_cumul_arity_r</span></a>; <span class="id" title="var">tea</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">H</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICElimination.html#unique_sorting_equality_propositional"><span class="id" title="lemma">unique_sorting_equality_propositional</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hu'</span> <span class="id" title="var">p</span>) ⇒ //. <span class="id" title="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Equations</span>? <a id="is_erasable" class="idref" href="#is_erasable"><span class="id" title="definition">is_erasable</span></a> {<a id="X_type:267" class="idref" href="#X_type:267"><span class="id" title="binder">X_type</span></a> <a id="X:268" class="idref" href="#X:268"><span class="id" title="binder">X</span></a>} {<a id="normalization_in:270" class="idref" href="#normalization_in:270"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="c5eb81f3d74238e2cfc5fd1e6cd758cd" class="idref" href="#c5eb81f3d74238e2cfc5fd1e6cd758cd"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c5eb81f3d74238e2cfc5fd1e6cd758cd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c5eb81f3d74238e2cfc5fd1e6cd758cd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:268"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c5eb81f3d74238e2cfc5fd1e6cd758cd"><span class="id" title="variable">Σ</span></a>} (<a id="6d7d7823769a558cbbf42158aa3dd9fc" class="idref" href="#6d7d7823769a558cbbf42158aa3dd9fc"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) (<a id="t:272" class="idref" href="#t:272"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">PCUICAst.term</span></a>)<br/>
&nbsp;&nbsp;(<a id="wt:274" class="idref" href="#wt:274"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="f0c55a910be96e89e74c7f85c9a851d2" class="idref" href="#f0c55a910be96e89e74c7f85c9a851d2"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:268"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#f0c55a910be96e89e74c7f85c9a851d2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#f0c55a910be96e89e74c7f85c9a851d2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#6d7d7823769a558cbbf42158aa3dd9fc"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:272"><span class="id" title="variable">t</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="a30eea3a9237187b162f4293473b8a7d" class="idref" href="#a30eea3a9237187b162f4293473b8a7d"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <span class="id" title="var">X</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a30eea3a9237187b162f4293473b8a7d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a30eea3a9237187b162f4293473b8a7d"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a30eea3a9237187b162f4293473b8a7d"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasable:282"><span class="id" title="definition">is_erasable</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#b22f88917bf727b1f00cd8fb84650e3b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#T:277"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt:279"><span class="id" title="variable">wt</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#814c8bffd75ac79057558b0ba1e67cc7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fd2d76d5f373eb7ccd5ecab4aa5ed028"><span class="id" title="variable">wfΣ</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#inspect_bool"><span class="id" title="definition">inspect_bool</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">Γ</span> <span class="id" title="var">T</span> <span class="id" title="var">wt</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ | <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ise:288"><span class="id" title="variable">ise</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#nise:298"><span class="id" title="variable">nise</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span> }.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a>: <span class="id" title="var">ise</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#elimN"><span class="id" title="lemma">elimN</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a>): <span class="id" title="var">nise</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">sq</span> ⇒ <span class="id" title="var">ise</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">nise</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">wfΣ</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Erase" class="idref" href="#Erase"><span class="id" title="section">Erase</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="Erase.X_type" class="idref" href="#Erase.X_type"><span class="id" title="variable">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a> (<span class="id" title="var">cf</span> := <a class="idref" href="MetaRocq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">extraction_checker_flags</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="Erase.X" class="idref" href="#Erase.X"><span class="id" title="variable">X</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#Erase.X_type"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="Erase.normalization_in" class="idref" href="#Erase.normalization_in"><span class="id" title="variable">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="d68ed844074a930bffb1235194237726" class="idref" href="#d68ed844074a930bffb1235194237726"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d68ed844074a930bffb1235194237726"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d68ed844074a930bffb1235194237726"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#Erase.X"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d68ed844074a930bffb1235194237726"><span class="id" title="variable">Σ</span></a>}.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">Equations.Prop.DepElim.solve_equation</span> <span class="id" title="var">c</span> ::=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">Equations.Prop.DepElim.simplify_equation</span> <span class="id" title="var">c</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="class">ImpossibleCall</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">DepElim.find_empty</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">try</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span> || <span class="id" title="var">discriminates</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Opaque</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">tactic</span>="idtac"]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span>? <a id="erase" class="idref" href="#erase"><span class="id" title="definition">erase</span></a> (<a id="54f9cb9364246ee392102a9a14ce987a" class="idref" href="#54f9cb9364246ee392102a9a14ce987a"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) (<a id="t:308" class="idref" href="#t:308"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Ht:310" class="idref" href="#Ht:310"><span class="id" title="binder">Ht</span></a> : <span class="id" title="keyword">∀</span> <a id="777265ea0cda54bd118fda01709e8a38" class="idref" href="#777265ea0cda54bd118fda01709e8a38"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#Erase.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#777265ea0cda54bd118fda01709e8a38"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#777265ea0cda54bd118fda01709e8a38"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#54f9cb9364246ee392102a9a14ce987a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:308"><span class="id" title="variable">t</span></a>) : <a class="idref" href="MetaRocq.Erasure.Extract.html#E.term"><span class="id" title="inductive">E.term</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="keyword">struct</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;{ <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase:339"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#3d29090e089084c9012cf931107a397a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:337"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#Ht:336"><span class="id" title="variable">Ht</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#inspect_bool"><span class="id" title="definition">inspect_bool</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#Erase.X_type"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#Erase.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">Ht</span>) :=<br/>
&nbsp;&nbsp;{ | <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#he:343"><span class="id" title="variable">he</span></a> := <a class="idref" href="MetaRocq.Erasure.Extract.html#E.tBox"><span class="id" title="constructor">E.tBox</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#he:351"><span class="id" title="variable">he</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">t</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#i:360"><span class="id" title="variable">i</span></a> := <a class="idref" href="MetaRocq.Erasure.Extract.html#E.tRel"><span class="id" title="constructor">E.tRel</span></a> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tVar"><span class="id" title="constructor">tVar</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#n:371"><span class="id" title="variable">n</span></a> := <a class="idref" href="MetaRocq.Erasure.Extract.html#E.tVar"><span class="id" title="constructor">E.tVar</span></a> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tEvar"><span class="id" title="constructor">tEvar</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#m:381"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:380"><span class="id" title="variable">l</span></a> := <a class="idref" href="MetaRocq.Erasure.Extract.html#E.tEvar"><span class="id" title="constructor">E.tEvar</span></a> <span class="id" title="var">m</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_terms:332"><span class="id" title="definition">erase_terms</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">l</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#u:391"><span class="id" title="variable">u</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Program.Utils.html#e4d8daa20feca04ae99322cc5ff1a5fc"><span class="id" title="notation">!</span></a>%<span class="id" title="var">prg</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConst"><span class="id" title="constructor">tConst</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:399"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#u:401"><span class="id" title="variable">u</span></a> := <a class="idref" href="MetaRocq.Erasure.Extract.html#E.tConst"><span class="id" title="constructor">E.tConst</span></a> <span class="id" title="var">kn</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:409"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#u:411"><span class="id" title="variable">u</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Program.Utils.html#e4d8daa20feca04ae99322cc5ff1a5fc"><span class="id" title="notation">!</span></a>%<span class="id" title="var">prg</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:420"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#k:419"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#u:422"><span class="id" title="variable">u</span></a> := <a class="idref" href="MetaRocq.Erasure.Extract.html#E.tConstruct"><span class="id" title="constructor">E.tConstruct</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">k</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">_</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Program.Utils.html#e4d8daa20feca04ae99322cc5ff1a5fc"><span class="id" title="notation">!</span></a>%<span class="id" title="var">prg</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#na:440"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#b:435"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#b':436"><span class="id" title="variable">b'</span></a> := <span class="id" title="keyword">let</span> <a id="t':543" class="idref" href="#t':543"><span class="id" title="binder">t'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase:331"><span class="id" title="definition">erase</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span>) <span class="id" title="var">b'</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#E.tLambda"><span class="id" title="constructor">E.tLambda</span></a> <span class="id" title="var">na</span>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#binder_name"><span class="id" title="projection">binder_name</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t':543"><span class="id" title="variable">t'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#na:450"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#b:446"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t0:452"><span class="id" title="variable">t0</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t1:453"><span class="id" title="variable">t1</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="b':544" class="idref" href="#b':544"><span class="id" title="binder">b'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase:331"><span class="id" title="definition">erase</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">b</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t1':545" class="idref" href="#t1':545"><span class="id" title="binder">t1'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase:331"><span class="id" title="definition">erase</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <span class="id" title="var">t0</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span>) <span class="id" title="var">t1</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#E.tLetIn"><span class="id" title="constructor">E.tLetIn</span></a> <span class="id" title="var">na</span>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#binder_name"><span class="id" title="projection">binder_name</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#b':544"><span class="id" title="variable">b'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t1':545"><span class="id" title="variable">t1'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#f:458"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#u:463"><span class="id" title="variable">u</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="f':546" class="idref" href="#f':546"><span class="id" title="binder">f'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase:331"><span class="id" title="definition">erase</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="l':547" class="idref" href="#l':547"><span class="id" title="binder">l'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase:331"><span class="id" title="definition">erase</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">u</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#E.tApp"><span class="id" title="constructor">E.tApp</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#f':546"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l':547"><span class="id" title="variable">l'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ci:470"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#p:474"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c:469"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#brs:468"><span class="id" title="variable">brs</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c':548" class="idref" href="#c':548"><span class="id" title="binder">c'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase:331"><span class="id" title="definition">erase</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">c</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="brs':549" class="idref" href="#brs':549"><span class="id" title="binder">brs'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_brs:333"><span class="id" title="definition">erase_brs</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">p</span> <span class="id" title="var">brs</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#E.tCase"><span class="id" title="constructor">E.tCase</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ci</span>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#ci_ind"><span class="id" title="projection">ci_ind</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ci</span>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#ci_npar"><span class="id" title="projection">ci_npar</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c':548"><span class="id" title="variable">c'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#brs':549"><span class="id" title="variable">brs'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#p:484"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c:480"><span class="id" title="variable">c</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c':550" class="idref" href="#c':550"><span class="id" title="binder">c'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase:331"><span class="id" title="definition">erase</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">c</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#E.tProj"><span class="id" title="constructor">E.tProj</span></a> <span class="id" title="var">p</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c':550"><span class="id" title="variable">c'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mfix:493"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#n:494"><span class="id" title="variable">n</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="a27bfd1c304aabddbc47a5505c8096fc" class="idref" href="#a27bfd1c304aabddbc47a5505c8096fc"><span class="id" title="binder">Γ'</span></a> := (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <span class="id" title="var">mfix</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Γ</span>)%<span class="id" title="var">list</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mfix':552" class="idref" href="#mfix':552"><span class="id" title="binder">mfix'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_fix:334"><span class="id" title="definition">erase_fix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a27bfd1c304aabddbc47a5505c8096fc"><span class="id" title="variable">Γ'</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#E.tFix"><span class="id" title="constructor">E.tFix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mfix':552"><span class="id" title="variable">mfix'</span></a> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mfix:503"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#n:504"><span class="id" title="variable">n</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c51fc53ba8e70f2c6d98797aeb18f75d" class="idref" href="#c51fc53ba8e70f2c6d98797aeb18f75d"><span class="id" title="binder">Γ'</span></a> := (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <span class="id" title="var">mfix</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Γ</span>)%<span class="id" title="var">list</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mfix':554" class="idref" href="#mfix':554"><span class="id" title="binder">mfix'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_cofix:335"><span class="id" title="definition">erase_cofix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c51fc53ba8e70f2c6d98797aeb18f75d"><span class="id" title="variable">Γ'</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#E.tCoFix"><span class="id" title="constructor">E.tCoFix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mfix':554"><span class="id" title="variable">mfix'</span></a> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tPrim"><span class="id" title="constructor">tPrim</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Primitive.html#primInt"><span class="id" title="constructor">primInt</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICPrimitive.html#primIntModel"><span class="id" title="constructor">PCUICPrimitive.primIntModel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#i:511"><span class="id" title="variable">i</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaRocq.Erasure.Extract.html#E.tPrim"><span class="id" title="constructor">E.tPrim</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Primitive.html#primInt"><span class="id" title="constructor">primInt</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#primIntModel"><span class="id" title="constructor">EPrimitive.primIntModel</span></a> <span class="id" title="var">i</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tPrim"><span class="id" title="constructor">tPrim</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Primitive.html#primFloat"><span class="id" title="constructor">primFloat</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICPrimitive.html#primFloatModel"><span class="id" title="constructor">PCUICPrimitive.primFloatModel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#f:519"><span class="id" title="variable">f</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaRocq.Erasure.Extract.html#E.tPrim"><span class="id" title="constructor">E.tPrim</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Primitive.html#primFloat"><span class="id" title="constructor">primFloat</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#primFloatModel"><span class="id" title="constructor">EPrimitive.primFloatModel</span></a> <span class="id" title="var">f</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tPrim"><span class="id" title="constructor">tPrim</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Primitive.html#primString"><span class="id" title="constructor">primString</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICPrimitive.html#primStringModel"><span class="id" title="constructor">PCUICPrimitive.primStringModel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#s:531"><span class="id" title="variable">s</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaRocq.Erasure.Extract.html#E.tPrim"><span class="id" title="constructor">E.tPrim</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Primitive.html#primString"><span class="id" title="constructor">primString</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#primStringModel"><span class="id" title="constructor">EPrimitive.primStringModel</span></a> <span class="id" title="var">s</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tPrim"><span class="id" title="constructor">tPrim</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Primitive.html#primArray"><span class="id" title="constructor">primArray</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICPrimitive.html#primArrayModel"><span class="id" title="constructor">PCUICPrimitive.primArrayModel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a:537"><span class="id" title="variable">a</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#E.tPrim"><span class="id" title="constructor">E.tPrim</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Primitive.html#primArray"><span class="id" title="constructor">primArray</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#primArrayModel"><span class="id" title="constructor">EPrimitive.primArrayModel</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#array_default"><span class="id" title="projection">EPrimitive.array_default</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase:331"><span class="id" title="definition">erase</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">a</span>.(<a class="idref" href="MetaRocq.PCUIC.utils.PCUICPrimitive.html#array_default"><span class="id" title="projection">PCUICPrimitive.array_default</span></a>) <span class="id" title="var">_</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EPrimitive.html#array_value"><span class="id" title="projection">EPrimitive.array_value</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_terms:332"><span class="id" title="definition">erase_terms</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">a</span>.(<a class="idref" href="MetaRocq.PCUIC.utils.PCUICPrimitive.html#array_value"><span class="id" title="projection">PCUICPrimitive.array_value</span></a>) <span class="id" title="var">_</span> |}<a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} }<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="erase_terms" class="idref" href="#erase_terms"><span class="id" title="definition">erase_terms</span></a> (<a id="774742fe3ebf7cba609be19ee5fc9af5" class="idref" href="#774742fe3ebf7cba609be19ee5fc9af5"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) (<a id="l:312" class="idref" href="#l:312"><span class="id" title="binder">l</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="Hl:314" class="idref" href="#Hl:314"><span class="id" title="binder">Hl</span></a> : <span class="id" title="keyword">∀</span> <a id="c5b21a4ce8a9b5abb84f552f72b80f4d" class="idref" href="#c5b21a4ce8a9b5abb84f552f72b80f4d"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#Erase.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c5b21a4ce8a9b5abb84f552f72b80f4d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c5b21a4ce8a9b5abb84f552f72b80f4d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#774742fe3ebf7cba609be19ee5fc9af5"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:312"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.term"><span class="id" title="inductive">E.term</span></a> :=<br/>
&nbsp;&nbsp;{ <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_terms:556"><span class="id" title="definition">erase_terms</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#12a6f15f00ba803c7d1d4935392ca619"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">_</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_terms:560"><span class="id" title="definition">erase_terms</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#55ac5d9f012c888c78ecfc060ed4701b"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:557"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ts:558"><span class="id" title="variable">ts</span></a>) <span class="id" title="var">_</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t':561" class="idref" href="#t':561"><span class="id" title="binder">t'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase:331"><span class="id" title="definition">erase</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ts':562" class="idref" href="#ts':562"><span class="id" title="binder">ts'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_terms:332"><span class="id" title="definition">erase_terms</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">ts</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t':561"><span class="id" title="variable">t'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ts':562"><span class="id" title="variable">ts'</span></a> }<br/>
</div>

<div class="doc">
We assume that there are no lets in contexts, so nothing has to be expanded.
  In particular, note that |br.(bcontext)| = context_assumptions br.(bcontext) when no lets are present.
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="erase_brs" class="idref" href="#erase_brs"><span class="id" title="definition">erase_brs</span></a> (<a id="2d7a3e448b71da4bb4a7cde65a77d60e" class="idref" href="#2d7a3e448b71da4bb4a7cde65a77d60e"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) <a id="p:316" class="idref" href="#p:316"><span class="id" title="binder">p</span></a> (<a id="brs:317" class="idref" href="#brs:317"><span class="id" title="binder">brs</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#branch"><span class="id" title="record">branch</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Ht:320" class="idref" href="#Ht:320"><span class="id" title="binder">Ht</span></a> : <span class="id" title="keyword">∀</span> <a id="dcf172020ed7587215e246e9a220e523" class="idref" href="#dcf172020ed7587215e246e9a220e523"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#Erase.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#dcf172020ed7587215e246e9a220e523"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="br:319" class="idref" href="#br:319"><span class="id" title="binder">br</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#dcf172020ed7587215e246e9a220e523"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#2d7a3e448b71da4bb4a7cde65a77d60e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#p:316"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#br:319"><span class="id" title="variable">br</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#br:319"><span class="id" title="variable">br</span></a>)) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#brs:317"><span class="id" title="variable">brs</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#name"><span class="id" title="inductive">name</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.term"><span class="id" title="inductive">E.term</span></a>) :=<br/>
&nbsp;&nbsp;{ <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_brs:566"><span class="id" title="definition">erase_brs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#23b204a8d1ed17cde3408979a425871b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#p:564"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#Ht:563"><span class="id" title="variable">Ht</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_brs:572"><span class="id" title="definition">erase_brs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#731b455f2bcddc1514ccdefb8f1f801b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#p:570"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#br:568"><span class="id" title="variable">br</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#brs:569"><span class="id" title="variable">brs</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#Hbrs:567"><span class="id" title="variable">Hbrs</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="br':573" class="idref" href="#br':573"><span class="id" title="binder">br'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase:331"><span class="id" title="definition">erase</span></a> (<span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a> <span class="id" title="var">p</span> <span class="id" title="var">br</span>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a> <span class="id" title="var">br</span>) <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="brs':574" class="idref" href="#brs':574"><span class="id" title="binder">brs'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_brs:333"><span class="id" title="definition">erase_brs</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">p</span> <span class="id" title="var">brs</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.Extract.html#erase_context"><span class="id" title="definition">erase_context</span></a> <span class="id" title="var">br</span>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#br':573"><span class="id" title="variable">br'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#brs':574"><span class="id" title="variable">brs'</span></a> }<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="erase_fix" class="idref" href="#erase_fix"><span class="id" title="definition">erase_fix</span></a> (<a id="2978d5f05eb9cba3490080631fcc86b7" class="idref" href="#2978d5f05eb9cba3490080631fcc86b7"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) (<a id="mfix:322" class="idref" href="#mfix:322"><span class="id" title="binder">mfix</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#mfixpoint"><span class="id" title="definition">mfixpoint</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Ht:325" class="idref" href="#Ht:325"><span class="id" title="binder">Ht</span></a> : <span class="id" title="keyword">∀</span> <a id="5846d907f98045c8066ec4a1fd4a2417" class="idref" href="#5846d907f98045c8066ec4a1fd4a2417"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#Erase.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#5846d907f98045c8066ec4a1fd4a2417"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="d:324" class="idref" href="#d:324"><span class="id" title="binder">d</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d:324"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#5846d907f98045c8066ec4a1fd4a2417"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#2978d5f05eb9cba3490080631fcc86b7"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d:324"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a>)) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mfix:322"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) : <a class="idref" href="MetaRocq.Erasure.Extract.html#E.mfixpoint"><span class="id" title="definition">E.mfixpoint</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.term"><span class="id" title="inductive">E.term</span></a> :=<br/>
&nbsp;&nbsp;{ <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_fix:576"><span class="id" title="definition">erase_fix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d9dbaa354030d3798588dd5693507ce9"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">_</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_fix:581"><span class="id" title="definition">erase_fix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#210178a19c4f6cbc55ac928c47a756c6"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d:578"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mfix:579"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#Hmfix:577"><span class="id" title="variable">Hmfix</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="dbody':582" class="idref" href="#dbody':582"><span class="id" title="binder">dbody'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase:331"><span class="id" title="definition">erase</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">d</span>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="dbody':583" class="idref" href="#dbody':583"><span class="id" title="binder">dbody'</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isBox"><span class="id" title="definition">isBox</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#dbody':582"><span class="id" title="variable">dbody'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">d</span>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">na</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Erasure.Extract.html#E.tLambda"><span class="id" title="constructor">E.tLambda</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#binder_name"><span class="id" title="projection">binder_name</span></a> <span class="id" title="var">na</span>) <a class="idref" href="MetaRocq.Erasure.Extract.html#E.tBox"><span class="id" title="constructor">E.tBox</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#dbody':582"><span class="id" title="variable">dbody'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#dbody':582"><span class="id" title="variable">dbody'</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="d':584" class="idref" href="#d':584"><span class="id" title="binder">d'</span></a> := {| <a class="idref" href="MetaRocq.Erasure.Extract.html#E.dname"><span class="id" title="projection">E.dname</span></a> := <span class="id" title="var">d</span>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#dname"><span class="id" title="projection">dname</span></a>).(<a class="idref" href="MetaRocq.Common.BasicAst.html#binder_name"><span class="id" title="projection">binder_name</span></a>); <a class="idref" href="MetaRocq.Erasure.Extract.html#E.rarg"><span class="id" title="projection">E.rarg</span></a> := <span class="id" title="var">d</span>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#rarg"><span class="id" title="projection">rarg</span></a>); <a class="idref" href="MetaRocq.Erasure.Extract.html#E.dbody"><span class="id" title="projection">E.dbody</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#dbody':583"><span class="id" title="variable">dbody'</span></a> |} <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d':584"><span class="id" title="variable">d'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_fix:334"><span class="id" title="definition">erase_fix</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">mfix</span> <span class="id" title="var">_</span> }<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="erase_cofix" class="idref" href="#erase_cofix"><span class="id" title="definition">erase_cofix</span></a> (<a id="2290fd9dffd8f9cc5f1438bb61740337" class="idref" href="#2290fd9dffd8f9cc5f1438bb61740337"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) (<a id="mfix:327" class="idref" href="#mfix:327"><span class="id" title="binder">mfix</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#mfixpoint"><span class="id" title="definition">mfixpoint</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Ht:330" class="idref" href="#Ht:330"><span class="id" title="binder">Ht</span></a> : <span class="id" title="keyword">∀</span> <a id="f32db98b73c91639d2e862ef3ebecfa3" class="idref" href="#f32db98b73c91639d2e862ef3ebecfa3"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#Erase.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#f32db98b73c91639d2e862ef3ebecfa3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="d:329" class="idref" href="#d:329"><span class="id" title="binder">d</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#f32db98b73c91639d2e862ef3ebecfa3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#2290fd9dffd8f9cc5f1438bb61740337"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d:329"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a>)) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mfix:327"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) : <a class="idref" href="MetaRocq.Erasure.Extract.html#E.mfixpoint"><span class="id" title="definition">E.mfixpoint</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.term"><span class="id" title="inductive">E.term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_cofix:586"><span class="id" title="definition">erase_cofix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d4a18e3e562c95edc13c9a7ba69bbe38"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">_</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_cofix:591"><span class="id" title="definition">erase_cofix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#2b8bcf71881cc73e92efe867e51ccfe8"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d:588"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mfix:589"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#Hmfix:587"><span class="id" title="variable">Hmfix</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="dbody':592" class="idref" href="#dbody':592"><span class="id" title="binder">dbody'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase:331"><span class="id" title="definition">erase</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">d</span>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="d':593" class="idref" href="#d':593"><span class="id" title="binder">d'</span></a> := {| <a class="idref" href="MetaRocq.Erasure.Extract.html#E.dname"><span class="id" title="projection">E.dname</span></a> := <span class="id" title="var">d</span>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#dname"><span class="id" title="projection">dname</span></a>).(<a class="idref" href="MetaRocq.Common.BasicAst.html#binder_name"><span class="id" title="projection">binder_name</span></a>); <a class="idref" href="MetaRocq.Erasure.Extract.html#E.rarg"><span class="id" title="projection">E.rarg</span></a> := <span class="id" title="var">d</span>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#rarg"><span class="id" title="projection">rarg</span></a>); <a class="idref" href="MetaRocq.Erasure.Extract.html#E.dbody"><span class="id" title="projection">E.dbody</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#dbody':592"><span class="id" title="variable">dbody'</span></a> |} <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d':593"><span class="id" title="variable">d'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_cofix:335"><span class="id" title="definition">erase_cofix</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">mfix</span> <span class="id" title="var">_</span> }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">b'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">f'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">t'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">brs'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">c'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">br'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">d'</span> <span class="id" title="var">dbody'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">erase</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">erase_terms</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">erase_brs</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">erase_mfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> [ |- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> ] ⇒ <span class="id" title="tactic">idtac</span> | <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">he</span> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ty</span> <span class="id" title="var">Ht</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">s0</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Evar"><span class="id" title="lemma">inversion_Evar</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Lambda"><span class="id" title="lemma">inversion_Lambda</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_LetIn"><span class="id" title="lemma">inversion_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> (? &amp; <span class="id" title="var">h1</span> &amp; ? &amp; ?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#unlift_TermTyp"><span class="id" title="lemma">unlift_TermTyp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_LetIn"><span class="id" title="lemma">inversion_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_App"><span class="id" title="lemma">inversion_App</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_App"><span class="id" title="lemma">inversion_App</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a>: <span class="id" title="var">he</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">he</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ty</span> <span class="id" title="var">Ht</span>]. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Ind"><span class="id" title="lemma">inversion_Ind</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?) ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICUnivSubstitutionTyp.html#isArity_subst_instance"><span class="id" title="lemma">isArity_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EArities.html#isArity_ind_type"><span class="id" title="lemma">isArity_ind_type</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Case"><span class="id" title="lemma">inversion_Case</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; [] &amp; ?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#welltyped_brs"><span class="id" title="lemma">welltyped_brs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> []; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Proj"><span class="id" title="lemma">inversion_Proj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Fix"><span class="id" title="lemma">inversion_Fix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">i</span> ⇒ [<span class="id" title="var">wffix</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hb</span> &amp; <span class="id" title="var">_</span>). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hb</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_CoFix"><span class="id" title="lemma">inversion_CoFix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> (<span class="id" title="var">Hb</span> &amp; <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hb</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Prim"><span class="id" title="lemma">inversion_Prim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">prim_ty</span> [<span class="id" title="var">decl</span> []]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">p0</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Prim"><span class="id" title="lemma">inversion_Prim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">prim_ty</span> [<span class="id" title="var">decl</span> []]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">p0</span>. <span class="id" title="var">sq</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">Hbrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">Hbrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">Hmfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">dbody'0</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">Hmfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">Hmfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">Hmfix</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#Erase"><span class="id" title="section">Erase</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_erasableb_irrel" class="idref" href="#is_erasableb_irrel"><span class="id" title="lemma">is_erasableb_irrel</span></a> {<a id="X_type:594" class="idref" href="#X_type:594"><span class="id" title="binder">X_type</span></a> <a id="X:595" class="idref" href="#X:595"><span class="id" title="binder">X</span></a>} {<a id="normalization_in:597" class="idref" href="#normalization_in:597"><span class="id" title="binder">normalization_in</span></a> <a id="normalization_in':598" class="idref" href="#normalization_in':598"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="0bcf9ccaa46f1849ec9118443b5c344f" class="idref" href="#0bcf9ccaa46f1849ec9118443b5c344f"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#0bcf9ccaa46f1849ec9118443b5c344f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#0bcf9ccaa46f1849ec9118443b5c344f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:595"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#0bcf9ccaa46f1849ec9118443b5c344f"><span class="id" title="variable">Σ</span></a>} {<a id="3e322af56d0cad641466c2fe099fac3b" class="idref" href="#3e322af56d0cad641466c2fe099fac3b"><span class="id" title="binder">Γ</span></a> <a id="t:600" class="idref" href="#t:600"><span class="id" title="binder">t</span></a>} <a id="wt:601" class="idref" href="#wt:601"><span class="id" title="binder">wt</span></a> <a id="wt':602" class="idref" href="#wt':602"><span class="id" title="binder">wt'</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:594"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:595"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#3e322af56d0cad641466c2fe099fac3b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:600"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt:601"><span class="id" title="variable">wt</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in:597"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:594"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:595"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#3e322af56d0cad641466c2fe099fac3b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:600"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt':602"><span class="id" title="variable">wt'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in':598"><span class="id" title="variable">normalization_in'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wt</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in'</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wt'</span>) ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">iserasableb_irrel</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;[ <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span> [@<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> ?<span class="id" title="var">X_type</span> ?<span class="id" title="var">X</span> ?<span class="id" title="var">normalization_in</span> ?<span class="id" title="var">Γ</span> ?<span class="id" title="var">t</span> ?<span class="id" title="var">wt</span>], <span class="id" title="var">Heq</span> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#inspect_bool"><span class="id" title="definition">inspect_bool</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="keyword">context</span> [ @<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ?<span class="id" title="var">normalization_in'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ?<span class="id" title="var">wt'</span>] ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> (@<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb_irrel"><span class="id" title="lemma">is_erasableb_irrel</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">normalization_in'</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wt</span> <span class="id" title="var">wt'</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simp_erase</span> := <span class="id" title="var">simp</span> <span class="id" title="var">erase</span>; <span class="id" title="tactic">rewrite</span> -?<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_equation_1"><span class="id" title="definition">erase_equation_1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_irrel" class="idref" href="#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a> <a id="X_type:603" class="idref" href="#X_type:603"><span class="id" title="binder">X_type</span></a> <a id="X:604" class="idref" href="#X:604"><span class="id" title="binder">X</span></a> {<a id="normalization_in:605" class="idref" href="#normalization_in:605"><span class="id" title="binder">normalization_in</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="afdc984afeeef709c9a3b50cfb1fc971" class="idref" href="#afdc984afeeef709c9a3b50cfb1fc971"><span class="id" title="binder">Γ</span></a> <a id="t:607" class="idref" href="#t:607"><span class="id" title="binder">t</span></a> <a id="wt:608" class="idref" href="#wt:608"><span class="id" title="binder">wt</span></a>, <span class="id" title="keyword">∀</span> <a id="normalization_in':609" class="idref" href="#normalization_in':609"><span class="id" title="binder">normalization_in'</span></a> <a id="wt':610" class="idref" href="#wt':610"><span class="id" title="binder">wt'</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:603"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:604"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#afdc984afeeef709c9a3b50cfb1fc971"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:607"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt:608"><span class="id" title="variable">wt</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in:605"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:603"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:604"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#afdc984afeeef709c9a3b50cfb1fc971"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:607"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt':610"><span class="id" title="variable">wt'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in':609"><span class="id" title="variable">normalization_in'</span></a>)<a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="da32b18c1454a36b8adb3f5026498d75" class="idref" href="#da32b18c1454a36b8adb3f5026498d75"><span class="id" title="binder">Γ</span></a> <a id="l:612" class="idref" href="#l:612"><span class="id" title="binder">l</span></a> <a id="wt:613" class="idref" href="#wt:613"><span class="id" title="binder">wt</span></a>, <span class="id" title="keyword">∀</span> <a id="normalization_in':614" class="idref" href="#normalization_in':614"><span class="id" title="binder">normalization_in'</span></a> <a id="wt':615" class="idref" href="#wt':615"><span class="id" title="binder">wt'</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_terms"><span class="id" title="definition">erase_terms</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:603"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:604"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#da32b18c1454a36b8adb3f5026498d75"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:612"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt:613"><span class="id" title="variable">wt</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in:605"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_terms"><span class="id" title="definition">erase_terms</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:603"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:604"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#da32b18c1454a36b8adb3f5026498d75"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:612"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt':615"><span class="id" title="variable">wt'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in':614"><span class="id" title="variable">normalization_in'</span></a>)<a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="3ea9e0e51f6cf63d373e0108750c7b5d" class="idref" href="#3ea9e0e51f6cf63d373e0108750c7b5d"><span class="id" title="binder">Γ</span></a> <a id="p:617" class="idref" href="#p:617"><span class="id" title="binder">p</span></a> <a id="l:618" class="idref" href="#l:618"><span class="id" title="binder">l</span></a> <a id="wt:619" class="idref" href="#wt:619"><span class="id" title="binder">wt</span></a>, <span class="id" title="keyword">∀</span> <a id="normalization_in':620" class="idref" href="#normalization_in':620"><span class="id" title="binder">normalization_in'</span></a> <a id="wt':621" class="idref" href="#wt':621"><span class="id" title="binder">wt'</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_brs"><span class="id" title="definition">erase_brs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:603"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:604"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#3ea9e0e51f6cf63d373e0108750c7b5d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#p:617"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:618"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt:619"><span class="id" title="variable">wt</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in:605"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_brs"><span class="id" title="definition">erase_brs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:603"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:604"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#3ea9e0e51f6cf63d373e0108750c7b5d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#p:617"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:618"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt':621"><span class="id" title="variable">wt'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in':620"><span class="id" title="variable">normalization_in'</span></a>)<a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="8f9156baa0fa7a1ef7cb24f848a58c9f" class="idref" href="#8f9156baa0fa7a1ef7cb24f848a58c9f"><span class="id" title="binder">Γ</span></a> <a id="l:623" class="idref" href="#l:623"><span class="id" title="binder">l</span></a> <a id="wt:624" class="idref" href="#wt:624"><span class="id" title="binder">wt</span></a>, <span class="id" title="keyword">∀</span> <a id="normalization_in':625" class="idref" href="#normalization_in':625"><span class="id" title="binder">normalization_in'</span></a> <a id="wt':626" class="idref" href="#wt':626"><span class="id" title="binder">wt'</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_fix"><span class="id" title="definition">erase_fix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:603"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:604"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#8f9156baa0fa7a1ef7cb24f848a58c9f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:623"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt:624"><span class="id" title="variable">wt</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in:605"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_fix"><span class="id" title="definition">erase_fix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:603"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:604"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#8f9156baa0fa7a1ef7cb24f848a58c9f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:623"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt':626"><span class="id" title="variable">wt'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in':625"><span class="id" title="variable">normalization_in'</span></a>)<a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="fa50fe64348e120cbe306883e6fb4e61" class="idref" href="#fa50fe64348e120cbe306883e6fb4e61"><span class="id" title="binder">Γ</span></a> <a id="l:628" class="idref" href="#l:628"><span class="id" title="binder">l</span></a> <a id="wt:629" class="idref" href="#wt:629"><span class="id" title="binder">wt</span></a>, <span class="id" title="keyword">∀</span> <a id="normalization_in':630" class="idref" href="#normalization_in':630"><span class="id" title="binder">normalization_in'</span></a> <a id="wt':631" class="idref" href="#wt':631"><span class="id" title="binder">wt'</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_cofix"><span class="id" title="definition">erase_cofix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:603"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:604"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fa50fe64348e120cbe306883e6fb4e61"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:628"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt:629"><span class="id" title="variable">wt</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in:605"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_cofix"><span class="id" title="definition">erase_cofix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:603"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:604"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fa50fe64348e120cbe306883e6fb4e61"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:628"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt':631"><span class="id" title="variable">wt'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in':630"><span class="id" title="variable">normalization_in'</span></a>)<a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_elim"><span class="id" title="definition">erase_elim</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="54fbc6270f4875bb4260add9a28ed063" class="idref" href="#54fbc6270f4875bb4260add9a28ed063"><span class="id" title="binder"><span id="5d32100cfa615e5aabc67d08d4f2a7c7" class="id">Γ</span></span></a> <a id="t:633" class="idref" href="#t:633"><span class="id" title="binder"><span id="t:665" class="id">t</span></span></a> <a id="wt:634" class="idref" href="#wt:634"><span class="id" title="binder"><span id="wt:666" class="id">wt</span></span></a> <a id="e:635" class="idref" href="#e:635"><span class="id" title="binder"><span id="e:667" class="id">e</span></span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="normalization_in':636" class="idref" href="#normalization_in':636"><span class="id" title="binder"><span id="normalization_in':668" class="id">normalization_in'</span></span></a> (<a id="wt':638" class="idref" href="#wt':638"><span class="id" title="binder"><span id="wt':670" class="id">wt'</span></span></a> : <span class="id" title="keyword">∀</span> <a id="c3c40bbd6ec0986a41e1927d1a1337a4" class="idref" href="#c3c40bbd6ec0986a41e1927d1a1337a4"><span class="id" title="binder"><span id="45d44ad477ce83df2cddaf18e2873c77" class="id">Σ</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <span class="id" title="var">X</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c3c40bbd6ec0986a41e1927d1a1337a4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>  <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c3c40bbd6ec0986a41e1927d1a1337a4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#54fbc6270f4875bb4260add9a28ed063"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:633"><span class="id" title="variable">t</span></a>), <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e:635"><span class="id" title="variable">e</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#54fbc6270f4875bb4260add9a28ed063"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:633"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt':638"><span class="id" title="variable">wt'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in':636"><span class="id" title="variable">normalization_in'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="edc3f00971857a291a46aa3f18d341b8" class="idref" href="#edc3f00971857a291a46aa3f18d341b8"><span class="id" title="binder"><span id="b08570a15b99b60b335d7d95678a642d" class="id">Γ</span></span></a> <a id="l:640" class="idref" href="#l:640"><span class="id" title="binder"><span id="l:672" class="id">l</span></span></a> <a id="awt:641" class="idref" href="#awt:641"><span class="id" title="binder"><span id="awt:673" class="id">awt</span></span></a> <a id="e:642" class="idref" href="#e:642"><span class="id" title="binder"><span id="e:674" class="id">e</span></span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="normalization_in':643" class="idref" href="#normalization_in':643"><span class="id" title="binder"><span id="normalization_in':675" class="id">normalization_in'</span></span></a> <a id="wt':644" class="idref" href="#wt':644"><span class="id" title="binder"><span id="wt':676" class="id">wt'</span></span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e:642"><span class="id" title="variable">e</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_terms"><span class="id" title="definition">erase_terms</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#edc3f00971857a291a46aa3f18d341b8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:640"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt':644"><span class="id" title="variable">wt'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in':643"><span class="id" title="variable">normalization_in'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="951749f934024c85d741a41f72cbef7a" class="idref" href="#951749f934024c85d741a41f72cbef7a"><span class="id" title="binder"><span id="e9e7f69d80dec397e790a20dc749db2a" class="id">Γ</span></span></a> <a id="p:646" class="idref" href="#p:646"><span class="id" title="binder"><span id="p:678" class="id">p</span></span></a> <a id="l:647" class="idref" href="#l:647"><span class="id" title="binder"><span id="l:679" class="id">l</span></span></a> <a id="awt:648" class="idref" href="#awt:648"><span class="id" title="binder"><span id="awt:680" class="id">awt</span></span></a> <a id="e:649" class="idref" href="#e:649"><span class="id" title="binder"><span id="e:681" class="id">e</span></span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="normalization_in':650" class="idref" href="#normalization_in':650"><span class="id" title="binder"><span id="normalization_in':682" class="id">normalization_in'</span></span></a> <a id="wt':651" class="idref" href="#wt':651"><span class="id" title="binder"><span id="wt':683" class="id">wt'</span></span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e:649"><span class="id" title="variable">e</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_brs"><span class="id" title="definition">erase_brs</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#951749f934024c85d741a41f72cbef7a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#p:646"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:647"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt':651"><span class="id" title="variable">wt'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in':650"><span class="id" title="variable">normalization_in'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="1e4c1602d54d75e0c0521e6aaf8b6631" class="idref" href="#1e4c1602d54d75e0c0521e6aaf8b6631"><span class="id" title="binder"><span id="8b68aea3d54c5b656eb166d4897c006a" class="id">Γ</span></span></a> <a id="l:653" class="idref" href="#l:653"><span class="id" title="binder"><span id="l:685" class="id">l</span></span></a> <a id="awt:654" class="idref" href="#awt:654"><span class="id" title="binder"><span id="awt:686" class="id">awt</span></span></a> <a id="e:655" class="idref" href="#e:655"><span class="id" title="binder"><span id="e:687" class="id">e</span></span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="normalization_in':656" class="idref" href="#normalization_in':656"><span class="id" title="binder"><span id="normalization_in':688" class="id">normalization_in'</span></span></a> <a id="wt':657" class="idref" href="#wt':657"><span class="id" title="binder"><span id="wt':689" class="id">wt'</span></span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e:655"><span class="id" title="variable">e</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_fix"><span class="id" title="definition">erase_fix</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#1e4c1602d54d75e0c0521e6aaf8b6631"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:653"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt':657"><span class="id" title="variable">wt'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in':656"><span class="id" title="variable">normalization_in'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="7b69f53666f7dd2622458335f1ff6c84" class="idref" href="#7b69f53666f7dd2622458335f1ff6c84"><span class="id" title="binder"><span id="36cc75eb7c43f70d609f51fac94b59dc" class="id">Γ</span></span></a> <a id="l:659" class="idref" href="#l:659"><span class="id" title="binder"><span id="l:691" class="id">l</span></span></a> <a id="awt:660" class="idref" href="#awt:660"><span class="id" title="binder"><span id="awt:692" class="id">awt</span></span></a> <a id="e:661" class="idref" href="#e:661"><span class="id" title="binder"><span id="e:693" class="id">e</span></span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="normalization_in':662" class="idref" href="#normalization_in':662"><span class="id" title="binder"><span id="normalization_in':694" class="id">normalization_in'</span></span></a> <a id="wt':663" class="idref" href="#wt':663"><span class="id" title="binder"><span id="wt':695" class="id">wt'</span></span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e:661"><span class="id" title="variable">e</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_cofix"><span class="id" title="definition">erase_cofix</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#7b69f53666f7dd2622458335f1ff6c84"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:659"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt':663"><span class="id" title="variable">wt'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in':662"><span class="id" title="variable">normalization_in'</span></a>))); <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">intros</span> *; <span class="id" title="tactic">intros</span>; <span class="id" title="var">simp_erase</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="var">simp</span> <span class="id" title="var">erase</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">iserasableb_irrel</span>; <span class="id" title="var">simp_erase</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span> <span class="id" title="keyword">zeta</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span>[<span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span>] |- <span class="id" title="var">_</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="var">erewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">move</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="var">bang</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_terms_eq" class="idref" href="#erase_terms_eq"><span class="id" title="lemma">erase_terms_eq</span></a> <a id="X_type:696" class="idref" href="#X_type:696"><span class="id" title="binder">X_type</span></a> <a id="X:697" class="idref" href="#X:697"><span class="id" title="binder">X</span></a> {<a id="normalization_in:699" class="idref" href="#normalization_in:699"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="fc188704e96280af4d281a2df4647ea0" class="idref" href="#fc188704e96280af4d281a2df4647ea0"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fc188704e96280af4d281a2df4647ea0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fc188704e96280af4d281a2df4647ea0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:697"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fc188704e96280af4d281a2df4647ea0"><span class="id" title="variable">Σ</span></a>} <a id="e55fbc3311281450a91fa476522fab61" class="idref" href="#e55fbc3311281450a91fa476522fab61"><span class="id" title="binder">Γ</span></a> <a id="ts:701" class="idref" href="#ts:701"><span class="id" title="binder">ts</span></a> <a id="wt:702" class="idref" href="#wt:702"><span class="id" title="binder">wt</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_terms"><span class="id" title="definition">erase_terms</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:696"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:697"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e55fbc3311281450a91fa476522fab61"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ts:701"><span class="id" title="variable">ts</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt:702"><span class="id" title="variable">wt</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#map_All"><span class="id" title="definition">All_Forall.map_All</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:696"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:697"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e55fbc3311281450a91fa476522fab61"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ts:701"><span class="id" title="variable">ts</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt:702"><span class="id" title="variable">wt</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#map_All"><span class="id" title="definition">All_Forall.map_All</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">Γ</span>) <span class="id" title="var">ts</span> <span class="id" title="var">wt</span>); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span> ⇒ //. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Opaque</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wf_reduction"><span class="id" title="instance">wf_reduction</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Constructors</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases"><span class="id" title="inductive">erases</span></a> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_to_box" class="idref" href="#erase_to_box"><span class="id" title="lemma">erase_to_box</span></a> {<a id="X_type:703" class="idref" href="#X_type:703"><span class="id" title="binder">X_type</span></a> <a id="X:704" class="idref" href="#X:704"><span class="id" title="binder">X</span></a>} {<a id="normalization_in:706" class="idref" href="#normalization_in:706"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="1c7e47cd1af1c7608f9d6c5726fe13f1" class="idref" href="#1c7e47cd1af1c7608f9d6c5726fe13f1"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#1c7e47cd1af1c7608f9d6c5726fe13f1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#1c7e47cd1af1c7608f9d6c5726fe13f1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:704"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#1c7e47cd1af1c7608f9d6c5726fe13f1"><span class="id" title="variable">Σ</span></a>} {<a id="e5c3d42a45d94899f119dc4d1888e6cf" class="idref" href="#e5c3d42a45d94899f119dc4d1888e6cf"><span class="id" title="binder">Γ</span></a> <a id="t:708" class="idref" href="#t:708"><span class="id" title="binder">t</span></a>} (<a id="wt:710" class="idref" href="#wt:710"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="61444e2303112bd0f72ae54b598a366a" class="idref" href="#61444e2303112bd0f72ae54b598a366a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:704"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#61444e2303112bd0f72ae54b598a366a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#61444e2303112bd0f72ae54b598a366a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e5c3d42a45d94899f119dc4d1888e6cf"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:708"><span class="id" title="variable">t</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="e6790599e86a37eda889b8c73e8036ee" class="idref" href="#e6790599e86a37eda889b8c73e8036ee"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:704"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e6790599e86a37eda889b8c73e8036ee"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="et:712" class="idref" href="#et:712"><span class="id" title="binder">et</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:703"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:704"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e5c3d42a45d94899f119dc4d1888e6cf"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:708"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt:710"><span class="id" title="variable">wt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#is_box"><span class="id" title="definition">is_box</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#et:712"><span class="id" title="variable">et</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e6790599e86a37eda889b8c73e8036ee"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e5c3d42a45d94899f119dc4d1888e6cf"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:708"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e6790599e86a37eda889b8c73e8036ee"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e5c3d42a45d94899f119dc4d1888e6cf"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:708"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_elim"><span class="id" title="definition">erase_elim</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="a8463d1cad4c740459eab01275cd4151" class="idref" href="#a8463d1cad4c740459eab01275cd4151"><span class="id" title="binder"><span id="258eb4ece0ea63381293d23a24ed6514" class="id">Γ</span></span></a> <a id="t:714" class="idref" href="#t:714"><span class="id" title="binder"><span id="t:735" class="id">t</span></span></a> <a id="wt:715" class="idref" href="#wt:715"><span class="id" title="binder"><span id="wt:736" class="id">wt</span></span></a> <a id="e:716" class="idref" href="#e:716"><span class="id" title="binder"><span id="e:737" class="id">e</span></span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#is_box"><span class="id" title="definition">is_box</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e:716"><span class="id" title="variable">e</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a8463d1cad4c740459eab01275cd4151"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:714"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a8463d1cad4c740459eab01275cd4151"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:714"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="fc19543b8b53f05a1909f4142024f38c" class="idref" href="#fc19543b8b53f05a1909f4142024f38c"><span class="id" title="binder"><span id="9f2d9d77cd520c5bb8410d852cb44379" class="id">Γ</span></span></a> <a id="l:718" class="idref" href="#l:718"><span class="id" title="binder"><span id="l:739" class="id">l</span></span></a> <a id="awt:719" class="idref" href="#awt:719"><span class="id" title="binder"><span id="awt:740" class="id">awt</span></span></a> <a id="e:720" class="idref" href="#e:720"><span class="id" title="binder"><span id="e:741" class="id">e</span></span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="aeee368889262ce76c1a441a4d786ed5" class="idref" href="#aeee368889262ce76c1a441a4d786ed5"><span class="id" title="binder"><span id="9020d35ffc6efeec8586e12b6ab046b6" class="id">Γ</span></span></a> <a id="p:722" class="idref" href="#p:722"><span class="id" title="binder"><span id="p:743" class="id">p</span></span></a> <a id="l:723" class="idref" href="#l:723"><span class="id" title="binder"><span id="l:744" class="id">l</span></span></a> <a id="awt:724" class="idref" href="#awt:724"><span class="id" title="binder"><span id="awt:745" class="id">awt</span></span></a> <a id="e:725" class="idref" href="#e:725"><span class="id" title="binder"><span id="e:746" class="id">e</span></span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="51fd3d5eefff0770a52ec5e035af8658" class="idref" href="#51fd3d5eefff0770a52ec5e035af8658"><span class="id" title="binder"><span id="0411940a6617c5baf7cf6cda4c4a775e" class="id">Γ</span></span></a> <a id="l:727" class="idref" href="#l:727"><span class="id" title="binder"><span id="l:748" class="id">l</span></span></a> <a id="awt:728" class="idref" href="#awt:728"><span class="id" title="binder"><span id="awt:749" class="id">awt</span></span></a> <a id="e:729" class="idref" href="#e:729"><span class="id" title="binder"><span id="e:750" class="id">e</span></span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="7df2f0944e4cf23181bf2b7a8ed6d9f9" class="idref" href="#7df2f0944e4cf23181bf2b7a8ed6d9f9"><span class="id" title="binder"><span id="fdfbf820af834f94024854704cc8c7ab" class="id">Γ</span></span></a> <a id="l:731" class="idref" href="#l:731"><span class="id" title="binder"><span id="l:752" class="id">l</span></span></a> <a id="awt:732" class="idref" href="#awt:732"><span class="id" title="binder"><span id="awt:753" class="id">awt</span></span></a> <a id="e:733" class="idref" href="#e:733"><span class="id" title="binder"><span id="e:754" class="id">e</span></span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>)); <span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [  <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;[ <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span> [ @<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> ?<span class="id" title="var">X_type</span> ?<span class="id" title="var">X</span> ?<span class="id" title="var">normalization_in</span> ?<span class="id" title="var">Γ</span> ?<span class="id" title="var">t</span> ?<span class="id" title="var">Ht</span> ] |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">Ht</span>)  ⇒ //<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">intro</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">n</span> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>  ⇒ <span class="id" title="tactic">apply</span> <span class="id" title="var">n</span> <span class="id" title="keyword">end</span>; <span class="id" title="tactic">intros</span> ? <span class="id" title="var">HH</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">HH</span> <span class="id" title="var">H</span>) ].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="var">bang</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (@<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">Ht</span>) ⇒ //. <span class="id" title="tactic">apply</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#is_box_tApp"><span class="id" title="lemma">is_box_tApp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">Γ</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">f</span> <span class="id" title="var">u</span>) <span class="id" title="var">Ht</span>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#is_box"><span class="id" title="definition">is_box</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span>, <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EArities.html#Is_type_app"><span class="id" title="lemma">EArities.Is_type_app</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing_wf_local"><span class="id" title="lemma">typing_wf_local</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H3</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erases_erase" class="idref" href="#erases_erase"><span class="id" title="lemma">erases_erase</span></a> {<a id="X_type:755" class="idref" href="#X_type:755"><span class="id" title="binder">X_type</span></a> <a id="X:756" class="idref" href="#X:756"><span class="id" title="binder">X</span></a>} {<a id="normalization_in:758" class="idref" href="#normalization_in:758"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="78cf34bf7d640ab641ea55d8319763b3" class="idref" href="#78cf34bf7d640ab641ea55d8319763b3"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#78cf34bf7d640ab641ea55d8319763b3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#78cf34bf7d640ab641ea55d8319763b3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:756"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#78cf34bf7d640ab641ea55d8319763b3"><span class="id" title="variable">Σ</span></a>} {<a id="a7cf864f33e8a8a0294c0d9c139aebff" class="idref" href="#a7cf864f33e8a8a0294c0d9c139aebff"><span class="id" title="binder">Γ</span></a> <a id="t:760" class="idref" href="#t:760"><span class="id" title="binder">t</span></a>}<br/>
(<a id="wt:762" class="idref" href="#wt:762"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="6e90c01477b49f626eaa587d34b9f091" class="idref" href="#6e90c01477b49f626eaa587d34b9f091"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:756"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#6e90c01477b49f626eaa587d34b9f091"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#6e90c01477b49f626eaa587d34b9f091"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a7cf864f33e8a8a0294c0d9c139aebff"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:760"><span class="id" title="variable">t</span></a>) :<br/>
<span class="id" title="keyword">∀</span> <a id="5a0a5cb840be9a54f10311dca13031da" class="idref" href="#5a0a5cb840be9a54f10311dca13031da"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:756"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#5a0a5cb840be9a54f10311dca13031da"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#erases"><span class="id" title="inductive">erases</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#5a0a5cb840be9a54f10311dca13031da"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a7cf864f33e8a8a0294c0d9c139aebff"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:760"><span class="id" title="variable">t</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:755"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:756"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a7cf864f33e8a8a0294c0d9c139aebff"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:760"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt:762"><span class="id" title="variable">wt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_elim"><span class="id" title="definition">erase_elim</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="a5dc9839239df949333fd2dd6b304170" class="idref" href="#a5dc9839239df949333fd2dd6b304170"><span class="id" title="binder"><span id="b02b0099452af6cc0139a64bc76064d3" class="id">Γ</span></span></a> <a id="t:765" class="idref" href="#t:765"><span class="id" title="binder"><span id="t:792" class="id">t</span></span></a> <a id="wt:766" class="idref" href="#wt:766"><span class="id" title="binder"><span id="wt:793" class="id">wt</span></span></a> <a id="e:767" class="idref" href="#e:767"><span class="id" title="binder"><span id="e:794" class="id">e</span></span></a> ⇒ <span class="id" title="var">Σ</span><a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a5dc9839239df949333fd2dd6b304170"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:765"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e:767"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="b6470937534d38c765db55d50f5b05cc" class="idref" href="#b6470937534d38c765db55d50f5b05cc"><span class="id" title="binder"><span id="c1095406190ad92742a3f2368a7eaeb5" class="id">Γ</span></span></a> <a id="l:769" class="idref" href="#l:769"><span class="id" title="binder"><span id="l:796" class="id">l</span></span></a> <a id="awt:770" class="idref" href="#awt:770"><span class="id" title="binder"><span id="awt:797" class="id">awt</span></span></a> <a id="e:771" class="idref" href="#e:771"><span class="id" title="binder"><span id="e:798" class="id">e</span></span></a> ⇒ <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaRocq.Erasure.Extract.html#erases"><span class="id" title="inductive">erases</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#b6470937534d38c765db55d50f5b05cc"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:769"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e:771"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="d499c85c4bc5b2f108d2b9980b08552a" class="idref" href="#d499c85c4bc5b2f108d2b9980b08552a"><span class="id" title="binder"><span id="854e2738c6ae519a6bba820ebdb73668" class="id">Γ</span></span></a> <a id="p:773" class="idref" href="#p:773"><span class="id" title="binder"><span id="p:800" class="id">p</span></span></a> <a id="l:774" class="idref" href="#l:774"><span class="id" title="binder"><span id="l:801" class="id">l</span></span></a> <a id="awt:775" class="idref" href="#awt:775"><span class="id" title="binder"><span id="awt:802" class="id">awt</span></span></a> <a id="e:776" class="idref" href="#e:776"><span class="id" title="binder"><span id="e:803" class="id">e</span></span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> (<a id="x:777" class="idref" href="#x:777"><span class="id" title="binder"><span id="x:804" class="id">x</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#branch"><span class="id" title="record">branch</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="x':778" class="idref" href="#x':778"><span class="id" title="binder"><span id="x':805" class="id">x'</span></span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#name"><span class="id" title="inductive">name</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.term"><span class="id" title="inductive">E.term</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d499c85c4bc5b2f108d2b9980b08552a"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#p:773"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#x:777"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#x:777"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#x':778"><span class="id" title="variable">x'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.Extract.html#erase_context"><span class="id" title="definition">erase_context</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#x:777"><span class="id" title="variable">x</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#x':778"><span class="id" title="variable">x'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:774"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e:776"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="4d462751f75a31c8fdc1542a1de18144" class="idref" href="#4d462751f75a31c8fdc1542a1de18144"><span class="id" title="binder"><span id="2cb69e118eaad6ca4225cf77cf7547d9" class="id">Γ</span></span></a> <a id="l:780" class="idref" href="#l:780"><span class="id" title="binder"><span id="l:807" class="id">l</span></span></a> <a id="awt:781" class="idref" href="#awt:781"><span class="id" title="binder"><span id="awt:808" class="id">awt</span></span></a> <a id="e:782" class="idref" href="#e:782"><span class="id" title="binder"><span id="e:809" class="id">e</span></span></a> ⇒ <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="d:783" class="idref" href="#d:783"><span class="id" title="binder"><span id="d:810" class="id">d</span></span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="d':784" class="idref" href="#d':784"><span class="id" title="binder"><span id="d':811" class="id">d'</span></span></a> : <a class="idref" href="MetaRocq.Erasure.Extract.html#E.def"><span class="id" title="record">E.def</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.term"><span class="id" title="inductive">E.term</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">[×</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#binder_name"><span class="id" title="projection">binder_name</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dname"><span class="id" title="projection">dname</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d:783"><span class="id" title="variable">d</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.dname"><span class="id" title="projection">E.dname</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d':784"><span class="id" title="variable">d'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.BasicAst.html#rarg"><span class="id" title="projection">rarg</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d:783"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.rarg"><span class="id" title="projection">E.rarg</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d':784"><span class="id" title="variable">d'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d:783"><span class="id" title="variable">d</span></a>)<a class="idref" href="MetaRocq.Utils.MRProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.isLambda"><span class="id" title="definition">E.isLambda</span></a> (<a class="idref" href="MetaRocq.Erasure.Extract.html#E.dbody"><span class="id" title="projection">E.dbody</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d':784"><span class="id" title="variable">d'</span></a>) <a class="idref" href="MetaRocq.Utils.MRProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Σ</span><a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#4d462751f75a31c8fdc1542a1de18144"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d:783"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.dbody"><span class="id" title="projection">E.dbody</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d':784"><span class="id" title="variable">d'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">]</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:780"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e:782"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="1d67935e5052f81f1ed1d1f75d7df374" class="idref" href="#1d67935e5052f81f1ed1d1f75d7df374"><span class="id" title="binder"><span id="927d2b25c14b107e44563b221406a9a7" class="id">Γ</span></span></a> <a id="l:786" class="idref" href="#l:786"><span class="id" title="binder"><span id="l:813" class="id">l</span></span></a> <a id="awt:787" class="idref" href="#awt:787"><span class="id" title="binder"><span id="awt:814" class="id">awt</span></span></a> <a id="e:788" class="idref" href="#e:788"><span class="id" title="binder"><span id="e:815" class="id">e</span></span></a> ⇒ <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="d:789" class="idref" href="#d:789"><span class="id" title="binder"><span id="d:816" class="id">d</span></span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="d':790" class="idref" href="#d':790"><span class="id" title="binder"><span id="d':817" class="id">d'</span></span></a> : <a class="idref" href="MetaRocq.Erasure.Extract.html#E.def"><span class="id" title="record">E.def</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.term"><span class="id" title="inductive">E.term</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.BasicAst.html#binder_name"><span class="id" title="projection">binder_name</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dname"><span class="id" title="projection">dname</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d:789"><span class="id" title="variable">d</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.dname"><span class="id" title="projection">E.dname</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d':790"><span class="id" title="variable">d'</span></a><a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.BasicAst.html#rarg"><span class="id" title="projection">rarg</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d:789"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.rarg"><span class="id" title="projection">E.rarg</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d':790"><span class="id" title="variable">d'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <span class="id" title="var">Σ</span><a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#1d67935e5052f81f1ed1d1f75d7df374"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d:789"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.dbody"><span class="id" title="projection">E.dbody</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d':790"><span class="id" title="variable">d'</span></a><a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:786"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e:788"><span class="id" title="variable">e</span></a>)) ; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="var">bang</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span> [@<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> ?<span class="id" title="var">X_type</span> ?<span class="id" title="var">X</span> ?<span class="id" title="var">normalization_in</span> ?<span class="id" title="var">Γ</span> ?<span class="id" title="var">t</span> ?<span class="id" title="var">Ht</span> ] |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (@<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">Ht</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">H'</span>]|<span class="id" title="var">H'</span>] ⇒ //; <span class="id" title="tactic">eauto</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.Extract.html#erases_box"><span class="id" title="constructor">erases_box</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">X</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣ</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EArities.html#nisErasable_Propositional"><span class="id" title="lemma">nisErasable_Propositional</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Ht</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Case"><span class="id" title="lemma">inversion_Case</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">X1</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">mdecl</span> [<span class="id" title="var">idecl</span> []]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICElimination.html#elim_restriction_works"><span class="id" title="lemma">elim_restriction_works</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">isp</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EArities.html#isErasable_Proof"><span class="id" title="lemma">isErasable_Proof</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="var">H</span>).<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Ht</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [? <span class="id" title="var">Ht'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Proj"><span class="id" title="lemma">inversion_Proj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht'</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICElimination.html#elim_restriction_works_proj"><span class="id" title="lemma">elim_restriction_works_proj</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">isp</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EArities.html#isErasable_Proof"><span class="id" title="lemma">isErasable_Proof</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">H</span>).<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">Hmfix</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hmfix'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmfix'</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmfix'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">X1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="na:818" class="idref" href="#na:818"><span class="id" title="binder"><span id="na:821" class="id">na</span></span></a> <a id="ty:819" class="idref" href="#ty:819"><span class="id" title="binder"><span id="ty:822" class="id">ty</span></span></a> <a id="bod:820" class="idref" href="#bod:820"><span class="id" title="binder"><span id="bod:823" class="id">bod</span></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <span class="id" title="var">d</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#na:818"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ty:819"><span class="id" title="variable">ty</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#bod:820"><span class="id" title="variable">bod</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> -<span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <span class="id" title="var">d</span>) ⇒ //. <span class="id" title="var">now</span> <span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">ty</span> [<span class="id" title="var">bod</span> <span class="id" title="var">eq</span>]]]. <span class="id" title="tactic">rewrite</span> {1 3}<span class="id" title="var">eq</span> /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> {1}<span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">et</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="var">clearbody</span> <span class="id" title="var">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">He</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">He</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EArities.html#Is_type_lambda"><span class="id" title="lemma">Is_type_lambda</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X2</span>; <span class="id" title="var">tea</span>. 2:<span class="id" title="var">pcuic</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Transparent</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wf_reduction"><span class="id" title="instance">wf_reduction</span></a>.<br/>

<br/>
</div>

<div class="doc">
We perform erasure up-to the minimal global environment dependencies of the term: i.e.
  we don't need to erase entries of the global environment that will not be used by the erased
  term.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="erase_constant_body" class="idref" href="#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a id="X_type:824" class="idref" href="#X_type:824"><span class="id" title="binder">X_type</span></a> <a id="X:825" class="idref" href="#X:825"><span class="id" title="binder">X</span></a> {<a id="normalization_in:827" class="idref" href="#normalization_in:827"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="cc3b6be6cf64b2079552c34c0904a563" class="idref" href="#cc3b6be6cf64b2079552c34c0904a563"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cc3b6be6cf64b2079552c34c0904a563"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cc3b6be6cf64b2079552c34c0904a563"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:825"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cc3b6be6cf64b2079552c34c0904a563"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;(<a id="cb:828" class="idref" href="#cb:828"><span class="id" title="binder">cb</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.constant_body"><span class="id" title="record">constant_body</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hcb:830" class="idref" href="#Hcb:830"><span class="id" title="binder">Hcb</span></a> : <span class="id" title="keyword">∀</span> <a id="994400002188acfcbd5f32ab2b90d1e7" class="idref" href="#994400002188acfcbd5f32ab2b90d1e7"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:825"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#994400002188acfcbd5f32ab2b90d1e7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_constant_decl"><span class="id" title="definition">on_constant_decl</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#994400002188acfcbd5f32ab2b90d1e7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb:828"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) : <a class="idref" href="MetaRocq.Erasure.Extract.html#E.constant_body"><span class="id" title="record">E.constant_body</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.t"><span class="id" title="definition">KernameSet.t</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">body</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">deps</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb:828"><span class="id" title="variable">cb</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_body"><span class="id" title="projection">cst_body</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">b</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="b':831" class="idref" href="#b':831"><span class="id" title="binder">b'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:824"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:825"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">b</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#b':831"><span class="id" title="variable">b'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#b':831"><span class="id" title="variable">b'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.empty"><span class="id" title="definition">KernameSet.empty</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">({|</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.cst_body"><span class="id" title="projection">E.cst_body</span></a> := <span class="id" title="var">body</span>; <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">|},</span></a> <span class="id" title="var">deps</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-<span class="id" title="var">Heq_anonymous</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcb</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#unlift_TermTyp"><span class="id" title="lemma">unlift_TermTyp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcb</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="erase_one_inductive_body" class="idref" href="#erase_one_inductive_body"><span class="id" title="definition">erase_one_inductive_body</span></a> (<a id="oib:832" class="idref" href="#oib:832"><span class="id" title="binder">oib</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a>) : <a class="idref" href="MetaRocq.Erasure.Extract.html#E.one_inductive_body"><span class="id" title="record">E.one_inductive_body</span></a> :=<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ctors:834" class="idref" href="#ctors:834"><span class="id" title="binder">ctors</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="cdecl:833" class="idref" href="#cdecl:833"><span class="id" title="binder">cdecl</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EAst.html#mkConstructor"><span class="id" title="constructor">EAst.mkConstructor</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cdecl:833"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_name"><span class="id" title="projection">cstr_name</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cdecl:833"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_arity"><span class="id" title="projection">cstr_arity</span></a>)) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#oib:832"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="projs:836" class="idref" href="#projs:836"><span class="id" title="binder">projs</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="pdecl:835" class="idref" href="#pdecl:835"><span class="id" title="binder">pdecl</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EAst.html#mkProjection"><span class="id" title="constructor">EAst.mkProjection</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#pdecl:835"><span class="id" title="variable">pdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.proj_name"><span class="id" title="projection">proj_name</span></a>)) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#oib:832"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_projs"><span class="id" title="projection">ind_projs</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="is_propositional:837" class="idref" href="#is_propositional:837"><span class="id" title="binder">is_propositional</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">destArity</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#oib:832"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_type"><span class="id" title="projection">ind_type</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">u</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Universes.html#Sort.is_propositional"><span class="id" title="definition">Sort.is_propositional</span></a> <span class="id" title="var">u</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;{| <a class="idref" href="MetaRocq.Erasure.Extract.html#E.ind_name"><span class="id" title="projection">E.ind_name</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#oib:832"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_name"><span class="id" title="projection">ind_name</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#E.ind_kelim"><span class="id" title="projection">E.ind_kelim</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#oib:832"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_kelim"><span class="id" title="projection">ind_kelim</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#E.ind_propositional"><span class="id" title="projection">E.ind_propositional</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_propositional:837"><span class="id" title="variable">is_propositional</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#E.ind_ctors"><span class="id" title="projection">E.ind_ctors</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ctors:834"><span class="id" title="variable">ctors</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#E.ind_projs"><span class="id" title="projection">E.ind_projs</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#projs:836"><span class="id" title="variable">projs</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="erase_mutual_inductive_body" class="idref" href="#erase_mutual_inductive_body"><span class="id" title="definition">erase_mutual_inductive_body</span></a> (<a id="mib:838" class="idref" href="#mib:838"><span class="id" title="binder">mib</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a>) : <a class="idref" href="MetaRocq.Erasure.Extract.html#E.mutual_inductive_body"><span class="id" title="record">E.mutual_inductive_body</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="bds:839" class="idref" href="#bds:839"><span class="id" title="binder">bds</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mib:838"><span class="id" title="variable">mib</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="arities:840" class="idref" href="#arities:840"><span class="id" title="binder">arities</span></a> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.arities_context"><span class="id" title="definition">arities_context</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#bds:839"><span class="id" title="variable">bds</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="bodies:841" class="idref" href="#bodies:841"><span class="id" title="binder">bodies</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_one_inductive_body"><span class="id" title="definition">erase_one_inductive_body</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#bds:839"><span class="id" title="variable">bds</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;{| <a class="idref" href="MetaRocq.Erasure.Extract.html#E.ind_finite"><span class="id" title="projection">E.ind_finite</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mib:838"><span class="id" title="variable">mib</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_finite"><span class="id" title="projection">ind_finite</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#E.ind_npars"><span class="id" title="projection">E.ind_npars</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mib:838"><span class="id" title="variable">mib</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_npars"><span class="id" title="projection">ind_npars</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#E.ind_bodies"><span class="id" title="projection">E.ind_bodies</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#bodies:841"><span class="id" title="variable">bodies</span></a>; |}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_arity_irrel" class="idref" href="#is_arity_irrel"><span class="id" title="lemma">is_arity_irrel</span></a> {<a id="X_type:842" class="idref" href="#X_type:842"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>} {<a id="X:843" class="idref" href="#X:843"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:842"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>} {<a id="normalization_in:845" class="idref" href="#normalization_in:845"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="88b73ca4d7aa1d8c63c44b91d7caad78" class="idref" href="#88b73ca4d7aa1d8c63c44b91d7caad78"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#88b73ca4d7aa1d8c63c44b91d7caad78"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#88b73ca4d7aa1d8c63c44b91d7caad78"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:843"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#88b73ca4d7aa1d8c63c44b91d7caad78"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;{<a id="X_type':846" class="idref" href="#X_type':846"><span class="id" title="binder">X_type'</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>} {<a id="X':847" class="idref" href="#X':847"><span class="id" title="binder">X'</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type':846"><span class="id" title="variable">X_type'</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>} {<a id="normalization_in':849" class="idref" href="#normalization_in':849"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="757133aa5ac7bc8c37ec332b56f644d1" class="idref" href="#757133aa5ac7bc8c37ec332b56f644d1"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#757133aa5ac7bc8c37ec332b56f644d1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#757133aa5ac7bc8c37ec332b56f644d1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':847"><span class="id" title="variable">X'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#757133aa5ac7bc8c37ec332b56f644d1"><span class="id" title="variable">Σ</span></a>} {<a id="f6e9932ce61acc9fc75a19c8a5af37aa" class="idref" href="#f6e9932ce61acc9fc75a19c8a5af37aa"><span class="id" title="binder">Γ</span></a> <a id="h:851" class="idref" href="#h:851"><span class="id" title="binder">h</span></a> <a id="h':852" class="idref" href="#h':852"><span class="id" title="binder">h'</span></a> <a id="t:853" class="idref" href="#t:853"><span class="id" title="binder">t</span></a> <a id="wt:854" class="idref" href="#wt:854"><span class="id" title="binder">wt</span></a> <a id="wt':855" class="idref" href="#wt':855"><span class="id" title="binder">wt'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICRetypingEnvIrrelevance.html#Hlookup"><span class="id" title="definition">Hlookup</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:842"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:843"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type':846"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':847"><span class="id" title="variable">X'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_arity"><span class="id" title="definition">is_arity</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:842"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:843"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#f6e9932ce61acc9fc75a19c8a5af37aa"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#h:851"><span class="id" title="variable">h</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:853"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt:854"><span class="id" title="variable">wt</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_arity"><span class="id" title="definition">is_arity</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type':846"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':847"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#f6e9932ce61acc9fc75a19c8a5af37aa"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#h':852"><span class="id" title="variable">h'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:853"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt':855"><span class="id" title="variable">wt'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_arity"><span class="id" title="definition">is_arity</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICRetypingEnvIrrelevance.html#reduce_to_sort_irrel"><span class="id" title="lemma">reduce_to_sort_irrel</span></a> <span class="id" title="var">hl</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">HT</span> <span class="id" title="var">wt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">rsort</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">is_arity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICRetypingEnvIrrelevance.html#reduce_to_sort_irrel"><span class="id" title="lemma">reduce_to_sort_irrel</span></a> <span class="id" title="var">hl</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">HT</span> <span class="id" title="var">wt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICRetypingEnvIrrelevance.html#reduce_to_sort_irrel"><span class="id" title="lemma">reduce_to_sort_irrel</span></a> <span class="id" title="var">hl</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">HT</span> <span class="id" title="var">wt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">rsort</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_arity"><span class="id" title="definition">is_arity</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">X'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_arity_equation_1"><span class="id" title="definition">is_arity_equation_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICRetypingEnvIrrelevance.html#reduce_to_sort_irrel"><span class="id" title="lemma">reduce_to_sort_irrel</span></a> <span class="id" title="var">hl</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">HT</span> <span class="id" title="var">wt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">rsort</span> -<span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_arity_clause_1_equation_2"><span class="id" title="definition">is_arity_clause_1_equation_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_to_prod"><span class="id" title="definition">reduce_to_prod</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">hi'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICRetypingEnvIrrelevance.html#reduce_to_prod_irrel"><span class="id" title="lemma">reduce_to_prod_irrel</span></a> <span class="id" title="var">hl</span> <span class="id" title="var">HT</span> <span class="id" title="var">wt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">rprod</span> -<span class="id" title="var">e0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na'</span> [<span class="id" title="var">A'</span> [<span class="id" title="var">B'</span> ?]]]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_arity_clause_1_clause_2_equation_1"><span class="id" title="definition">is_arity_clause_1_clause_2_equation_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICRetypingEnvIrrelevance.html#reduce_to_sort_irrel"><span class="id" title="lemma">reduce_to_sort_irrel</span></a> <span class="id" title="var">hl</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">HT</span> <span class="id" title="var">wt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">rsort</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">is_arity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">e0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">is_arity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_to_prod"><span class="id" title="definition">reduce_to_prod</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">hi'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICRetypingEnvIrrelevance.html#reduce_to_prod_irrel"><span class="id" title="lemma">reduce_to_prod_irrel</span></a> <span class="id" title="var">hl</span> <span class="id" title="var">HT</span> <span class="id" title="var">wt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">rprod</span> -<span class="id" title="var">e1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="extends_global_env" class="idref" href="#extends_global_env"><span class="id" title="definition">extends_global_env</span></a> (<a id="6c6f656e83a5f47ee4ddce274d9e3194" class="idref" href="#6c6f656e83a5f47ee4ddce274d9e3194"><span class="id" title="binder">Σ</span></a> <a id="3fa9484beeb4fd12948742d208b78a67" class="idref" href="#3fa9484beeb4fd12948742d208b78a67"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">PCUICAst.PCUICEnvironment.global_env</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="kn:858" class="idref" href="#kn:858"><span class="id" title="binder">kn</span></a> <a id="decl:859" class="idref" href="#decl:859"><span class="id" title="binder">decl</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">PCUICAst.PCUICEnvironment.lookup_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#6c6f656e83a5f47ee4ddce274d9e3194"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:858"><span class="id" title="variable">kn</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decl:859"><span class="id" title="variable">decl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">PCUICAst.PCUICEnvironment.lookup_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#3fa9484beeb4fd12948742d208b78a67"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:858"><span class="id" title="variable">kn</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decl:859"><span class="id" title="variable">decl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="tag:860" class="idref" href="#tag:860"><span class="id" title="binder">tag</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#6c6f656e83a5f47ee4ddce274d9e3194"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#tag:860"><span class="id" title="variable">tag</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#3fa9484beeb4fd12948742d208b78a67"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#tag:860"><span class="id" title="variable">tag</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_erasableb_irrel_global_env" class="idref" href="#is_erasableb_irrel_global_env"><span class="id" title="lemma">is_erasableb_irrel_global_env</span></a> {<a id="X_type:861" class="idref" href="#X_type:861"><span class="id" title="binder">X_type</span></a> <a id="X:862" class="idref" href="#X:862"><span class="id" title="binder">X</span></a>} {<a id="normalization_in:864" class="idref" href="#normalization_in:864"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="fb09dc461f8e86c00ffa8387ae78f84d" class="idref" href="#fb09dc461f8e86c00ffa8387ae78f84d"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fb09dc461f8e86c00ffa8387ae78f84d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fb09dc461f8e86c00ffa8387ae78f84d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:862"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fb09dc461f8e86c00ffa8387ae78f84d"><span class="id" title="variable">Σ</span></a>} {<a id="X_type':865" class="idref" href="#X_type':865"><span class="id" title="binder">X_type'</span></a> <a id="X':866" class="idref" href="#X':866"><span class="id" title="binder">X'</span></a>} {<a id="normalization_in':868" class="idref" href="#normalization_in':868"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="d8a4eaf28429986db3382d22c42c38f0" class="idref" href="#d8a4eaf28429986db3382d22c42c38f0"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d8a4eaf28429986db3382d22c42c38f0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d8a4eaf28429986db3382d22c42c38f0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':866"><span class="id" title="variable">X'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d8a4eaf28429986db3382d22c42c38f0"><span class="id" title="variable">Σ</span></a>} {<a id="0165b9ee703347d80779e1d938b6a8a2" class="idref" href="#0165b9ee703347d80779e1d938b6a8a2"><span class="id" title="binder">Γ</span></a> <a id="t:870" class="idref" href="#t:870"><span class="id" title="binder">t</span></a> <a id="wt:871" class="idref" href="#wt:871"><span class="id" title="binder">wt</span></a> <a id="wt':872" class="idref" href="#wt':872"><span class="id" title="binder">wt'</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="hl:873" class="idref" href="#hl:873"><span class="id" title="binder">hl</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICRetypingEnvIrrelevance.html#Hlookup"><span class="id" title="definition">Hlookup</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:861"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:862"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type':865"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':866"><span class="id" title="variable">X'</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:861"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:862"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#0165b9ee703347d80779e1d938b6a8a2"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:870"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt:871"><span class="id" title="variable">wt</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type':865"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':866"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#0165b9ee703347d80779e1d938b6a8a2"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:870"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt':872"><span class="id" title="variable">wt'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">is_erasableb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb_obligation_2"><span class="id" title="definition">is_erasableb_obligation_2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="var">clearbody</span> <span class="id" title="var">obl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span>(<span class="id" title="var">ty</span> := (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeRetyping.html#type_of_typing"><span class="id" title="definition">type_of_typing</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wt'</span>)) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span>(<span class="id" title="var">ty'</span> := (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeRetyping.html#type_of_typing"><span class="id" title="definition">type_of_typing</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wt</span>)) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ty</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">ty'</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">ty</span> <span class="id" title="var">ty'</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeRetyping.html#type_of_typing"><span class="id" title="definition">type_of_typing</span></a>. <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel"><span class="id" title="lemma">infer_irrel</span></a> ⇒ //. }<br/>
&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">ty</span>. <span class="id" title="var">clearbody</span> <span class="id" title="var">ty'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ty</span>, <span class="id" title="var">ty'</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_arity"><span class="id" title="definition">is_arity</span></a>] <span class="id" title="tactic">in</span> <span class="id" title="var">obl</span> |- ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl'</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb_obligation_1"><span class="id" title="definition">is_erasableb_obligation_1</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">X'</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wt'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl''</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb_obligation_2"><span class="id" title="definition">is_erasableb_obligation_2</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">X'</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">obl'</span>. <span class="id" title="var">clearbody</span> <span class="id" title="var">obl''</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_arity_irrel"><span class="id" title="lemma">is_arity_irrel</span></a> (<span class="id" title="var">X</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">X'</span> := <span class="id" title="var">X'</span>) (<span class="id" title="var">wt'</span> := <span class="id" title="var">obl''</span> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">s</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>)) ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_arity"><span class="id" title="definition">is_arity</span></a>  ⇒ //. <span class="id" title="var">simp</span> <span class="id" title="var">is_erasableb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl2</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb_obligation_3"><span class="id" title="definition">is_erasableb_obligation_3</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl2'</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb_obligation_3"><span class="id" title="definition">is_erasableb_obligation_3</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICRetypingEnvIrrelevance.html#sort_of_type_irrel"><span class="id" title="lemma">sort_of_type_irrel</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">iserasableb_irrel_env</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;[ <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span> [@<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> ?<span class="id" title="var">X_type</span> ?<span class="id" title="var">X</span> ?<span class="id" title="var">normalization_in</span> ?<span class="id" title="var">Γ</span> ?<span class="id" title="var">t</span> ?<span class="id" title="var">wt</span>], <span class="id" title="var">Heq</span> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#inspect_bool"><span class="id" title="definition">inspect_bool</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="keyword">context</span> [ @<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ?<span class="id" title="var">wt'</span>] ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> (@<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb_irrel_global_env"><span class="id" title="lemma">is_erasableb_irrel_global_env</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wt</span> <span class="id" title="var">wt'</span>) //; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_irrel_global_env" class="idref" href="#erase_irrel_global_env"><span class="id" title="lemma">erase_irrel_global_env</span></a> {<a id="X_type:874" class="idref" href="#X_type:874"><span class="id" title="binder">X_type</span></a> <a id="X:875" class="idref" href="#X:875"><span class="id" title="binder">X</span></a>} {<a id="normalization_in:877" class="idref" href="#normalization_in:877"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="ba0d61fd2561b72eacbbabf86c417aac" class="idref" href="#ba0d61fd2561b72eacbbabf86c417aac"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ba0d61fd2561b72eacbbabf86c417aac"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ba0d61fd2561b72eacbbabf86c417aac"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:875"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ba0d61fd2561b72eacbbabf86c417aac"><span class="id" title="variable">Σ</span></a>} {<a id="X_type':878" class="idref" href="#X_type':878"><span class="id" title="binder">X_type'</span></a> <a id="X':879" class="idref" href="#X':879"><span class="id" title="binder">X'</span></a>} {<a id="normalization_in':881" class="idref" href="#normalization_in':881"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="c03d55239f7c1507b7314daad654ef64" class="idref" href="#c03d55239f7c1507b7314daad654ef64"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c03d55239f7c1507b7314daad654ef64"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c03d55239f7c1507b7314daad654ef64"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':879"><span class="id" title="variable">X'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c03d55239f7c1507b7314daad654ef64"><span class="id" title="variable">Σ</span></a>} {<a id="0e1fcf87ec318c2cee5fdaaef5ef23c8" class="idref" href="#0e1fcf87ec318c2cee5fdaaef5ef23c8"><span class="id" title="binder">Γ</span></a> <a id="t:883" class="idref" href="#t:883"><span class="id" title="binder">t</span></a> <a id="wt:884" class="idref" href="#wt:884"><span class="id" title="binder">wt</span></a> <a id="wt':885" class="idref" href="#wt':885"><span class="id" title="binder">wt'</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="hl:886" class="idref" href="#hl:886"><span class="id" title="binder">hl</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICRetypingEnvIrrelevance.html#Hlookup"><span class="id" title="definition">Hlookup</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:874"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:875"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type':878"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':879"><span class="id" title="variable">X'</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:874"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:875"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#0e1fcf87ec318c2cee5fdaaef5ef23c8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:883"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt:884"><span class="id" title="variable">wt</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type':878"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':879"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#0e1fcf87ec318c2cee5fdaaef5ef23c8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:883"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt':885"><span class="id" title="variable">wt'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">wt'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_elim"><span class="id" title="definition">erase_elim</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span><br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="c089d887d63e2a7c986af13f46d25841" class="idref" href="#c089d887d63e2a7c986af13f46d25841"><span class="id" title="binder"><span id="cacd975678a2a4b0af8a41d653f56d41" class="id">Γ</span></span></a> <a id="t:888" class="idref" href="#t:888"><span class="id" title="binder"><span id="t:915" class="id">t</span></span></a> <a id="wt:889" class="idref" href="#wt:889"><span class="id" title="binder"><span id="wt:916" class="id">wt</span></span></a> <a id="e:890" class="idref" href="#e:890"><span class="id" title="binder"><span id="e:917" class="id">e</span></span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="wt':892" class="idref" href="#wt':892"><span class="id" title="binder"><span id="wt':919" class="id">wt'</span></span></a> : <span class="id" title="keyword">∀</span> <a id="cd7a9c5ee75a32db66ed80bd1504f4e8" class="idref" href="#cd7a9c5ee75a32db66ed80bd1504f4e8"><span class="id" title="binder"><span id="a79645c271ed89d43700b7488880377e" class="id">Σ'</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <span class="id" title="var">X'</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cd7a9c5ee75a32db66ed80bd1504f4e8"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>  <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cd7a9c5ee75a32db66ed80bd1504f4e8"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c089d887d63e2a7c986af13f46d25841"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:888"><span class="id" title="variable">t</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e:890"><span class="id" title="variable">e</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">X'</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c089d887d63e2a7c986af13f46d25841"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:888"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt':892"><span class="id" title="variable">wt'</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="80fb21c44df9f6e6f954ab55ce3aeb9b" class="idref" href="#80fb21c44df9f6e6f954ab55ce3aeb9b"><span class="id" title="binder"><span id="3074f778ebc70c5d5cbb8937e9294aae" class="id">Γ</span></span></a> <a id="l:894" class="idref" href="#l:894"><span class="id" title="binder"><span id="l:921" class="id">l</span></span></a> <a id="awt:895" class="idref" href="#awt:895"><span class="id" title="binder"><span id="awt:922" class="id">awt</span></span></a> <a id="e:896" class="idref" href="#e:896"><span class="id" title="binder"><span id="e:923" class="id">e</span></span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="wt':897" class="idref" href="#wt':897"><span class="id" title="binder"><span id="wt':924" class="id">wt'</span></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e:896"><span class="id" title="variable">e</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_terms"><span class="id" title="definition">erase_terms</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">X'</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#80fb21c44df9f6e6f954ab55ce3aeb9b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:894"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt':897"><span class="id" title="variable">wt'</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="48f23202bf54bda55f42df5729b7575d" class="idref" href="#48f23202bf54bda55f42df5729b7575d"><span class="id" title="binder"><span id="970495804125a0532351ed57dd8791e4" class="id">Γ</span></span></a> <a id="p:899" class="idref" href="#p:899"><span class="id" title="binder"><span id="p:926" class="id">p</span></span></a> <a id="l:900" class="idref" href="#l:900"><span class="id" title="binder"><span id="l:927" class="id">l</span></span></a> <a id="awt:901" class="idref" href="#awt:901"><span class="id" title="binder"><span id="awt:928" class="id">awt</span></span></a> <a id="e:902" class="idref" href="#e:902"><span class="id" title="binder"><span id="e:929" class="id">e</span></span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="wt':903" class="idref" href="#wt':903"><span class="id" title="binder"><span id="wt':930" class="id">wt'</span></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e:902"><span class="id" title="variable">e</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_brs"><span class="id" title="definition">erase_brs</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">X'</span>  <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#48f23202bf54bda55f42df5729b7575d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#p:899"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:900"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt':903"><span class="id" title="variable">wt'</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="d7c7d4aabf33e24d31e8636892bf5175" class="idref" href="#d7c7d4aabf33e24d31e8636892bf5175"><span class="id" title="binder"><span id="de3ba611d7c8cd6e58b01900624b1b65" class="id">Γ</span></span></a> <a id="l:905" class="idref" href="#l:905"><span class="id" title="binder"><span id="l:932" class="id">l</span></span></a> <a id="awt:906" class="idref" href="#awt:906"><span class="id" title="binder"><span id="awt:933" class="id">awt</span></span></a> <a id="e:907" class="idref" href="#e:907"><span class="id" title="binder"><span id="e:934" class="id">e</span></span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="wt':908" class="idref" href="#wt':908"><span class="id" title="binder"><span id="wt':935" class="id">wt'</span></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e:907"><span class="id" title="variable">e</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_fix"><span class="id" title="definition">erase_fix</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">X'</span>  <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d7c7d4aabf33e24d31e8636892bf5175"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:905"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt':908"><span class="id" title="variable">wt'</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="23b77439576ae0a5830fb0f083ad7a0e" class="idref" href="#23b77439576ae0a5830fb0f083ad7a0e"><span class="id" title="binder"><span id="293f5f4db2af643e9021a2bb63e069e3" class="id">Γ</span></span></a> <a id="l:910" class="idref" href="#l:910"><span class="id" title="binder"><span id="l:937" class="id">l</span></span></a> <a id="awt:911" class="idref" href="#awt:911"><span class="id" title="binder"><span id="awt:938" class="id">awt</span></span></a> <a id="e:912" class="idref" href="#e:912"><span class="id" title="binder"><span id="e:939" class="id">e</span></span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="wt':913" class="idref" href="#wt':913"><span class="id" title="binder"><span id="wt':940" class="id">wt'</span></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e:912"><span class="id" title="variable">e</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_cofix"><span class="id" title="definition">erase_cofix</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">X'</span>  <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#23b77439576ae0a5830fb0f083ad7a0e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#l:910"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#wt':913"><span class="id" title="variable">wt'</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">intros</span> *; <span class="id" title="tactic">intros</span>; <span class="id" title="var">simp_erase</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">erase</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="var">simp</span> <span class="id" title="var">erase</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">iserasableb_irrel_env</span>; <span class="id" title="var">simp_erase</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span> <span class="id" title="keyword">zeta</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span>[<span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span>] |- <span class="id" title="var">_</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="var">erewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="var">bang</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_constant_body_irrel" class="idref" href="#erase_constant_body_irrel"><span class="id" title="lemma">erase_constant_body_irrel</span></a> {<a id="X_type:941" class="idref" href="#X_type:941"><span class="id" title="binder">X_type</span></a> <a id="X:942" class="idref" href="#X:942"><span class="id" title="binder">X</span></a>} {<a id="normalization_in:944" class="idref" href="#normalization_in:944"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="3689a6ebbb713ad999352f4933888a0d" class="idref" href="#3689a6ebbb713ad999352f4933888a0d"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#3689a6ebbb713ad999352f4933888a0d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#3689a6ebbb713ad999352f4933888a0d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:942"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#3689a6ebbb713ad999352f4933888a0d"><span class="id" title="variable">Σ</span></a>} {<a id="X_type':945" class="idref" href="#X_type':945"><span class="id" title="binder">X_type'</span></a> <a id="X':946" class="idref" href="#X':946"><span class="id" title="binder">X'</span></a>} {<a id="normalization_in':948" class="idref" href="#normalization_in':948"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="bd73047d3ef3fe04a9eda014749d76db" class="idref" href="#bd73047d3ef3fe04a9eda014749d76db"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#bd73047d3ef3fe04a9eda014749d76db"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#bd73047d3ef3fe04a9eda014749d76db"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':946"><span class="id" title="variable">X'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#bd73047d3ef3fe04a9eda014749d76db"><span class="id" title="variable">Σ</span></a>} {<a id="cb:949" class="idref" href="#cb:949"><span class="id" title="binder">cb</span></a> <a id="ondecl:950" class="idref" href="#ondecl:950"><span class="id" title="binder">ondecl</span></a> <a id="ondecl':951" class="idref" href="#ondecl':951"><span class="id" title="binder">ondecl'</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="hl:952" class="idref" href="#hl:952"><span class="id" title="binder">hl</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICRetypingEnvIrrelevance.html#Hlookup"><span class="id" title="definition">Hlookup</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:941"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:942"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type':945"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':946"><span class="id" title="variable">X'</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:941"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:942"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb:949"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ondecl:950"><span class="id" title="variable">ondecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type':945"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':946"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb:949"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ondecl':951"><span class="id" title="variable">ondecl'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ext</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cb</span> ⇒ //=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cst_body0</span> ⇒ //=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a>; <span class="id" title="tactic">simpl</span> ⇒ /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_irrel_global_env"><span class="id" title="lemma">erase_irrel_global_env</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_irrel_global_env"><span class="id" title="lemma">erase_irrel_global_env</span></a>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Classes.Morphisms.html#"><span class="id" title="library">Morphisms</span></a>.<br/>
<span class="id" title="keyword">Global Instance</span> <a id="proper_pair_levels_gcs" class="idref" href="#proper_pair_levels_gcs"><span class="id" title="instance">proper_pair_levels_gcs</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#a16fed083831df212b7344c0f6ed7fff"><span class="id" title="notation">(=</span></a><a class="idref" href="MetaRocq.Common.Universes.html#a16fed083831df212b7344c0f6ed7fff"><span class="id" title="notation">_lset</span></a><a class="idref" href="MetaRocq.Common.Universes.html#a16fed083831df212b7344c0f6ed7fff"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaRocq.Common.uGraph.html#GoodConstraintSet.Equal"><span class="id" title="definition">GoodConstraintSet.Equal</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaRocq.Common.uGraph.html#d1c74f3ae57514bea72dc66bb9484c1b"><span class="id" title="notation">(=</span></a><a class="idref" href="MetaRocq.Common.uGraph.html#d1c74f3ae57514bea72dc66bb9484c1b"><span class="id" title="notation">_gcs</span></a><a class="idref" href="MetaRocq.Common.uGraph.html#d1c74f3ae57514bea72dc66bb9484c1b"><span class="id" title="notation">)</span></a>) (@<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.t"><span class="id" title="definition">LevelSet.t</span></a> <a class="idref" href="MetaRocq.Common.uGraph.html#GoodConstraintSet.t"><span class="id" title="definition">GoodConstraintSet.t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span> <span class="id" title="var">eq</span> <span class="id" title="var">gcs</span> <span class="id" title="var">gcs'</span> <span class="id" title="var">eq'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="iter" class="idref" href="#iter"><span class="id" title="definition">iter</span></a> {<a id="A:953" class="idref" href="#A:953"><span class="id" title="binder">A</span></a>} (<a id="f:954" class="idref" href="#f:954"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#A:953"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#A:953"><span class="id" title="variable">A</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#A:953"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#A:953"><span class="id" title="variable">A</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fix</span> <span class="id" title="var">iter</span> (<a id="n:955" class="idref" href="#n:955"><span class="id" title="binder">n</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#A:953"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#A:953"><span class="id" title="variable">A</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#n:955"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <span class="id" title="keyword">fun</span> <a id="x:958" class="idref" href="#x:958"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#x:958"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒ <span class="id" title="keyword">fun</span> <a id="x:959" class="idref" href="#x:959"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#iter:956"><span class="id" title="variable">iter</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#n:955"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#f:954"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#x:959"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="NormalizationIn_erase_global_deps" class="idref" href="#NormalizationIn_erase_global_deps"><span class="id" title="abbreviation">NormalizationIn_erase_global_deps</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span><br/>
&nbsp;&nbsp;:= (<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">extraction_checker_flags</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#extraction_normalizing"><span class="id" title="instance">extraction_normalizing</span></a> <span class="id" title="keyword">return</span> <span class="id" title="var">_</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">cf</span>, <span class="id" title="keyword">no</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="keyword">∀</span> <a id="n:960" class="idref" href="#n:960"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#n:960"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <span class="id" title="var">decls</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X':961" class="idref" href="#X':961"><span class="id" title="binder">X'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#iter"><span class="id" title="definition">iter</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#n:960"><span class="id" title="variable">n</span></a>) <span class="id" title="var">X</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="kn:962" class="idref" href="#kn:962"><span class="id" title="binder">kn</span></a> <a id="cb:963" class="idref" href="#cb:963"><span class="id" title="binder">cb</span></a> <a id="pf:964" class="idref" href="#pf:964"><span class="id" title="binder">pf</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#hd_error"><span class="id" title="definition">List.hd_error</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#skipn"><span class="id" title="abbreviation">List.skipn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#n:960"><span class="id" title="variable">n</span></a> <span class="id" title="var">decls</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:962"><span class="id" title="variable">kn</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb:963"><span class="id" title="variable">cb</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="Xext:965" class="idref" href="#Xext:965"><span class="id" title="binder">Xext</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':961"><span class="id" title="variable">X'</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb:963"><span class="id" title="variable">cb</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#pf:964"><span class="id" title="variable">pf</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="a4a66a88a77f086ff36425576d285b08" class="idref" href="#a4a66a88a77f086ff36425576d285b08"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a4a66a88a77f086ff36425576d285b08"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a4a66a88a77f086ff36425576d285b08"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#Xext:965"><span class="id" title="variable">Xext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a4a66a88a77f086ff36425576d285b08"><span class="id" title="variable">Σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="normalization_in_inv" class="idref" href="#normalization_in_inv"><span class="id" title="lemma">normalization_in_inv</span></a> {<a id="X_type:967" class="idref" href="#X_type:967"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>} (<a id="X:968" class="idref" href="#X:968"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:967"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>)<br/>
&nbsp;&nbsp;(<a id="decls:969" class="idref" href="#decls:969"><span class="id" title="binder">decls</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_declarations"><span class="id" title="definition">global_declarations</span></a>) <a id="kn:970" class="idref" href="#kn:970"><span class="id" title="binder">kn</span></a> <a id="cb:971" class="idref" href="#cb:971"><span class="id" title="binder">cb</span></a><br/>
&nbsp;&nbsp;(<a id="normalization_in:972" class="idref" href="#normalization_in:972"><span class="id" title="binder">normalization_in</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#NormalizationIn_erase_global_deps"><span class="id" title="abbreviation">NormalizationIn_erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:968"><span class="id" title="variable">X</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:970"><span class="id" title="variable">kn</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb:971"><span class="id" title="variable">cb</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decls:969"><span class="id" title="variable">decls</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#NormalizationIn_erase_global_deps"><span class="id" title="abbreviation">NormalizationIn_erase_global_deps</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:968"><span class="id" title="variable">X</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decls:969"><span class="id" title="variable">decls</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cbv</span> [<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>]. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>)); <span class="id" title="var">cbn</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="erase_constant_decl" class="idref" href="#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a> {<a id="X_type:973" class="idref" href="#X_type:973"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>} (<a id="X:974" class="idref" href="#X:974"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:973"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>)<br/>
&nbsp;&nbsp;(<a id="cb:975" class="idref" href="#cb:975"><span class="id" title="binder">cb</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.constant_body"><span class="id" title="record">constant_body</span></a>)<br/>
&nbsp;&nbsp;(<a id="normalization_in:979" class="idref" href="#normalization_in:979"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="pf:976" class="idref" href="#pf:976"><span class="id" title="binder">pf</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="Xext:977" class="idref" href="#Xext:977"><span class="id" title="binder">Xext</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:974"><span class="id" title="variable">X</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb:975"><span class="id" title="variable">cb</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#pf:976"><span class="id" title="variable">pf</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="741b0b6e7ee32b5f0f926ae2afc58581" class="idref" href="#741b0b6e7ee32b5f0f926ae2afc58581"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#741b0b6e7ee32b5f0f926ae2afc58581"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#741b0b6e7ee32b5f0f926ae2afc58581"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#Xext:977"><span class="id" title="variable">Xext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#741b0b6e7ee32b5f0f926ae2afc58581"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;(<a id="oncb:981" class="idref" href="#oncb:981"><span class="id" title="binder">oncb</span></a> : <span class="id" title="keyword">∀</span> <a id="2313bfe584b54950b9a385ef88e0354a" class="idref" href="#2313bfe584b54950b9a385ef88e0354a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#2313bfe584b54950b9a385ef88e0354a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:974"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#2313bfe584b54950b9a385ef88e0354a"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb:975"><span class="id" title="variable">cb</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_constant_decl"><span class="id" title="definition">on_constant_decl</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#2313bfe584b54950b9a385ef88e0354a"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb:975"><span class="id" title="variable">cb</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb:975"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="Xext:982" class="idref" href="#Xext:982"><span class="id" title="binder">Xext</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:974"><span class="id" title="variable">X</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb:975"><span class="id" title="variable">cb</span></a>) <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="normalization_in':983" class="idref" href="#normalization_in':983"><span class="id" title="binder">normalization_in'</span></a> : @<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="keyword">Prop</span> <span class="id" title="var">_</span> := <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:973"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#Xext:982"><span class="id" title="variable">Xext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in':983"><span class="id" title="variable">normalization_in'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb:975"><span class="id" title="variable">cb</span></a> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
<span class="id" title="tactic">specialize</span> (<span class="id" title="var">oncb</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">oncb</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">normalization_in</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ</span> <span class="id" title="var">ext</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="var">HX</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">HX</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfX</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">cb</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">oncb</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">oncb</span> <span class="id" title="keyword">as</span> [[]]; <span class="id" title="var">sq</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="equiv_decls_inter" class="idref" href="#equiv_decls_inter"><span class="id" title="definition">equiv_decls_inter</span></a> <a id="c3f424e1b6450882e1caf802992699b0" class="idref" href="#c3f424e1b6450882e1caf802992699b0"><span class="id" title="binder">Σ</span></a> <a id="cf85eac238aba5a273913aef194f0665" class="idref" href="#cf85eac238aba5a273913aef194f0665"><span class="id" title="binder">Σ'</span></a> :=<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">∀</span> <a id="kn:986" class="idref" href="#kn:986"><span class="id" title="binder">kn</span></a> <a id="decl:987" class="idref" href="#decl:987"><span class="id" title="binder">decl</span></a> <a id="decl':988" class="idref" href="#decl':988"><span class="id" title="binder">decl'</span></a>, <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">EGlobalEnv.lookup_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#c3f424e1b6450882e1caf802992699b0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:986"><span class="id" title="variable">kn</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decl:987"><span class="id" title="variable">decl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">EGlobalEnv.lookup_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cf85eac238aba5a273913aef194f0665"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:986"><span class="id" title="variable">kn</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decl':988"><span class="id" title="variable">decl'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decl:987"><span class="id" title="variable">decl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decl':988"><span class="id" title="variable">decl'</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="equiv_env_inter" class="idref" href="#equiv_env_inter"><span class="id" title="definition">equiv_env_inter</span></a> <a id="218bf4334d2d1e903a06dbd9598c0088" class="idref" href="#218bf4334d2d1e903a06dbd9598c0088"><span class="id" title="binder">Σ</span></a> <a id="ced244bc2cb11929688b7a51162ad0a7" class="idref" href="#ced244bc2cb11929688b7a51162ad0a7"><span class="id" title="binder">Σ'</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="kn:991" class="idref" href="#kn:991"><span class="id" title="binder">kn</span></a> <a id="decl:992" class="idref" href="#decl:992"><span class="id" title="binder">decl</span></a> <a id="decl':993" class="idref" href="#decl':993"><span class="id" title="binder">decl'</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#218bf4334d2d1e903a06dbd9598c0088"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:991"><span class="id" title="variable">kn</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decl:992"><span class="id" title="variable">decl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ced244bc2cb11929688b7a51162ad0a7"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#kn:991"><span class="id" title="variable">kn</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decl':993"><span class="id" title="variable">decl'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decl:992"><span class="id" title="variable">decl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decl':993"><span class="id" title="variable">decl'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="tag:994" class="idref" href="#tag:994"><span class="id" title="binder">tag</span></a> : <a class="idref" href="MetaRocq.Common.Primitive.html#prim_tag"><span class="id" title="inductive">Primitive.prim_tag</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#218bf4334d2d1e903a06dbd9598c0088"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#tag:994"><span class="id" title="variable">tag</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#ced244bc2cb11929688b7a51162ad0a7"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#tag:994"><span class="id" title="variable">tag</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equiv_env_inter_sym" class="idref" href="#equiv_env_inter_sym"><span class="id" title="lemma">equiv_env_inter_sym</span></a> <a id="9fca5ea526210c37e82a0a1558c2d380" class="idref" href="#9fca5ea526210c37e82a0a1558c2d380"><span class="id" title="binder">Σ</span></a> <a id="b864c3f9c74ed8adde859524bf207094" class="idref" href="#b864c3f9c74ed8adde859524bf207094"><span class="id" title="binder">Σ'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#equiv_env_inter"><span class="id" title="definition">equiv_env_inter</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#9fca5ea526210c37e82a0a1558c2d380"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#b864c3f9c74ed8adde859524bf207094"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#equiv_env_inter"><span class="id" title="definition">equiv_env_inter</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#b864c3f9c74ed8adde859524bf207094"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#9fca5ea526210c37e82a0a1558c2d380"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#equiv_env_inter"><span class="id" title="definition">equiv_env_inter</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equiv_env_inter_hlookup" class="idref" href="#equiv_env_inter_hlookup"><span class="id" title="lemma">equiv_env_inter_hlookup</span></a> {<a id="cf:997" class="idref" href="#cf:997"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="X_type:998" class="idref" href="#X_type:998"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>) (<a id="X:999" class="idref" href="#X:999"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:998"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>)<br/>
&nbsp;&nbsp;(<a id="X_type':1000" class="idref" href="#X_type':1000"><span class="id" title="binder">X_type'</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>) (<a id="X':1001" class="idref" href="#X':1001"><span class="id" title="binder">X'</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type':1000"><span class="id" title="variable">X_type'</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="76158d8175fab6418bf6f1aa49aa789b" class="idref" href="#76158d8175fab6418bf6f1aa49aa789b"><span class="id" title="binder">Σ</span></a> <a id="a8e8597132f15f7bdd41351e2e5692e8" class="idref" href="#a8e8597132f15f7bdd41351e2e5692e8"><span class="id" title="binder">Σ'</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#76158d8175fab6418bf6f1aa49aa789b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:999"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a8e8597132f15f7bdd41351e2e5692e8"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':1001"><span class="id" title="variable">X'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#equiv_env_inter"><span class="id" title="definition">equiv_env_inter</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#76158d8175fab6418bf6f1aa49aa789b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a8e8597132f15f7bdd41351e2e5692e8"><span class="id" title="variable">Σ'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICRetypingEnvIrrelevance.html#Hlookup"><span class="id" title="definition">Hlookup</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:998"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:999"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type':1000"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':1001"><span class="id" title="variable">X'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hl</span> <span class="id" title="var">Σ</span> <span class="id" title="var">HX</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">HX'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">hl</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span> <span class="id" title="var">HX'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hl</span> <span class="id" title="var">hr</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">decl</span> <span class="id" title="var">decl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">hl</span> <span class="id" title="var">kn</span> <span class="id" title="var">decl</span> <span class="id" title="var">decl'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup_correct'"><span class="id" title="lemma">abstract_env_lookup_correct'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup_correct'"><span class="id" title="lemma">abstract_env_lookup_correct'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hl'</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">tag</span>; <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_primitive_constant_correct"><span class="id" title="method">abstract_primitive_constant_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_primitive_constant_correct"><span class="id" title="method">abstract_primitive_constant_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hr</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Hlookup_env" class="idref" href="#Hlookup_env"><span class="id" title="definition">Hlookup_env</span></a> {<a id="cf:1004" class="idref" href="#cf:1004"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="X_type:1005" class="idref" href="#X_type:1005"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>) (<a id="X:1006" class="idref" href="#X:1006"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:1005"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) (<a id="X_type':1007" class="idref" href="#X_type':1007"><span class="id" title="binder">X_type'</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>)<br/>
&nbsp;&nbsp;(<a id="X':1008" class="idref" href="#X':1008"><span class="id" title="binder">X'</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type':1007"><span class="id" title="variable">X_type'</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="79fe8d1bd5106714accfce3178062181" class="idref" href="#79fe8d1bd5106714accfce3178062181"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1006"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#79fe8d1bd5106714accfce3178062181"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="416a683a3e22c5cc11d152d1a3c00f71" class="idref" href="#416a683a3e22c5cc11d152d1a3c00f71"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':1008"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#416a683a3e22c5cc11d152d1a3c00f71"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#equiv_env_inter"><span class="id" title="definition">equiv_env_inter</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#79fe8d1bd5106714accfce3178062181"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#416a683a3e22c5cc11d152d1a3c00f71"><span class="id" title="variable">Σ'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_constant_decl_irrel" class="idref" href="#erase_constant_decl_irrel"><span class="id" title="lemma">erase_constant_decl_irrel</span></a> {<a id="X_type:1011" class="idref" href="#X_type:1011"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>} (<a id="X:1012" class="idref" href="#X:1012"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:1011"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) (<a id="cb:1013" class="idref" href="#cb:1013"><span class="id" title="binder">cb</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.constant_body"><span class="id" title="record">constant_body</span></a>) <a id="normalization_in:1014" class="idref" href="#normalization_in:1014"><span class="id" title="binder">normalization_in</span></a> <a id="oncb:1015" class="idref" href="#oncb:1015"><span class="id" title="binder">oncb</span></a><br/>
&nbsp;&nbsp;(<a id="X':1016" class="idref" href="#X':1016"><span class="id" title="binder">X'</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:1011"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) <a id="normalization_in':1017" class="idref" href="#normalization_in':1017"><span class="id" title="binder">normalization_in'</span></a> <a id="oncb':1018" class="idref" href="#oncb':1018"><span class="id" title="binder">oncb'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#Hlookup_env"><span class="id" title="definition">Hlookup_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:1011"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1012"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:1011"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':1016"><span class="id" title="variable">X'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1012"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb:1013"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in:1014"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#oncb:1015"><span class="id" title="variable">oncb</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':1016"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb:1013"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in':1017"><span class="id" title="variable">normalization_in'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#oncb':1018"><span class="id" title="variable">oncb'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body_irrel"><span class="id" title="lemma">erase_constant_body_irrel</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">env</span> <span class="id" title="keyword">wf</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">env'</span> <span class="id" title="var">wf'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">hl</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">_</span> <span class="id" title="var">wf'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hl</span> <span class="id" title="var">hp</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">cb</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X'</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">cb</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wf'</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup_correct'"><span class="id" title="lemma">abstract_env_lookup_correct'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup_correct'"><span class="id" title="lemma">abstract_env_lookup_correct'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Σ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">specialize</span> (<span class="id" title="var">hl</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H3</span> <span class="id" title="var">H4</span>). }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_primitive_constant_correct"><span class="id" title="method">abstract_primitive_constant_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_primitive_constant_correct"><span class="id" title="method">abstract_primitive_constant_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Program Fixpoint</span> <a id="erase_global_deps" class="idref" href="#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a><br/>
&nbsp;&nbsp;{<a id="X_type:1019" class="idref" href="#X_type:1019"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>} (<a id="deps:1020" class="idref" href="#deps:1020"><span class="id" title="binder">deps</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.t"><span class="id" title="definition">KernameSet.t</span></a>) (<a id="X:1021" class="idref" href="#X:1021"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:1019"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) (<a id="decls:1022" class="idref" href="#decls:1022"><span class="id" title="binder">decls</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_declarations"><span class="id" title="definition">global_declarations</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in:1023" class="idref" href="#normalization_in:1023"><span class="id" title="binder">normalization_in</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#NormalizationIn_erase_global_deps"><span class="id" title="abbreviation">NormalizationIn_erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1021"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decls:1022"><span class="id" title="variable">decls</span></a>}<br/>
&nbsp;&nbsp;(<a id="prop:1025" class="idref" href="#prop:1025"><span class="id" title="binder">prop</span></a> : <span class="id" title="keyword">∀</span> <a id="7fd8663d76f4f1936b27a4fccb243b8a" class="idref" href="#7fd8663d76f4f1936b27a4fccb243b8a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1021"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#7fd8663d76f4f1936b27a4fccb243b8a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#7fd8663d76f4f1936b27a4fccb243b8a"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decls:1022"><span class="id" title="variable">decls</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Erasure.Extract.html#E.global_declarations"><span class="id" title="definition">E.global_declarations</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.t"><span class="id" title="definition">KernameSet.t</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decls:1022"><span class="id" title="variable">decls</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps:1020"><span class="id" title="variable">deps</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">cb</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X':1028" class="idref" href="#X':1028"><span class="id" title="binder">X'</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1021"><span class="id" title="variable">X</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps:1020"><span class="id" title="variable">deps</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cb':1029" class="idref" href="#cb':1029"><span class="id" title="binder">cb'</span></a> := @<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:1019"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':1028"><span class="id" title="variable">X'</span></a> <span class="id" title="var">cb</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="deps:1030" class="idref" href="#deps:1030"><span class="id" title="binder">deps</span></a> := <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps:1020"><span class="id" title="variable">deps</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb':1029"><span class="id" title="variable">cb'</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X'':1031" class="idref" href="#X'':1031"><span class="id" title="binder">X''</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps:1026"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps:1030"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':1028"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decls:1022"><span class="id" title="variable">decls</span></a> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(((</span></a><span class="id" title="var">kn</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.ConstantDecl"><span class="id" title="constructor">E.ConstantDecl</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb':1029"><span class="id" title="variable">cb'</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X'':1031"><span class="id" title="variable">X''</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X'':1031"><span class="id" title="variable">X''</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps:1026"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps:1020"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':1028"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decls:1022"><span class="id" title="variable">decls</span></a> <span class="id" title="var">_</span><br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">mib</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X':1032" class="idref" href="#X':1032"><span class="id" title="binder">X'</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1021"><span class="id" title="variable">X</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps:1020"><span class="id" title="variable">deps</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mib':1033" class="idref" href="#mib':1033"><span class="id" title="binder">mib'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_mutual_inductive_body"><span class="id" title="definition">erase_mutual_inductive_body</span></a> <span class="id" title="var">mib</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X'':1034" class="idref" href="#X'':1034"><span class="id" title="binder">X''</span></a>:= <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps:1026"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps:1020"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':1032"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decls:1022"><span class="id" title="variable">decls</span></a> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(((</span></a><span class="id" title="var">kn</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.InductiveDecl"><span class="id" title="constructor">E.InductiveDecl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mib':1033"><span class="id" title="variable">mib'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X'':1034"><span class="id" title="variable">X''</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X'':1034"><span class="id" title="variable">X''</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps:1026"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps:1020"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':1032"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decls:1022"><span class="id" title="variable">decls</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cbv</span> [<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> 0); <span class="id" title="var">tea</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="var">HX</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">HX</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfX</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">prop'</span>: <span class="id" title="keyword">∀</span> <a id="fe0051c0d31719178872cae2cfca4662" class="idref" href="#fe0051c0d31719178872cae2cfca4662"><span class="id" title="binder"><span id="974d97892375bb71bc018f69ad28ea4a" class="id">Σ</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <span class="id" title="var">X</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fe0051c0d31719178872cae2cfca4662"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="d:1036" class="idref" href="#d:1036"><span class="id" title="binder"><span id="d:1038" class="id">d</span></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fe0051c0d31719178872cae2cfca4662"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d:1036"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">prop'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [[] <span class="id" title="var">u</span>], <span class="id" title="var">H0</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">wfX</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">prop</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">prop</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">prop</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">o0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. 2:<span class="id" title="tactic">exact</span> <span class="id" title="var">on_global_decl_d</span>. <span class="id" title="tactic">split</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span>)); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">revgoals</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="var">HX</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">prop'</span>: <span class="id" title="keyword">∀</span> <a id="776f9868552e4d87609fedce913d44e2" class="idref" href="#776f9868552e4d87609fedce913d44e2"><span class="id" title="binder"><span id="84cf52948bdb044125e775738df3301b" class="id">Σ</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <span class="id" title="var">X</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#776f9868552e4d87609fedce913d44e2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="d:1040" class="idref" href="#d:1040"><span class="id" title="binder"><span id="d:1042" class="id">d</span></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#776f9868552e4d87609fedce913d44e2"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d:1040"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">prop'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span>)); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">revgoals</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="var">HX</span>]].<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">prop'</span>: <span class="id" title="keyword">∀</span> <a id="70621e213b70ba1e74df844eee17aaf5" class="idref" href="#70621e213b70ba1e74df844eee17aaf5"><span class="id" title="binder"><span id="55df6bfbcc8fe108d97a6d39f59321ff" class="id">Σ</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <span class="id" title="var">X</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#70621e213b70ba1e74df844eee17aaf5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="d:1044" class="idref" href="#d:1044"><span class="id" title="binder"><span id="d:1046" class="id">d</span></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#70621e213b70ba1e74df844eee17aaf5"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d:1044"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span>).<br/>
{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
<span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">prop'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span>)); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">revgoals</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="var">HX</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">prop'</span>: <span class="id" title="keyword">∀</span> <a id="29e52ed4415332b84f8a3b50edea3642" class="idref" href="#29e52ed4415332b84f8a3b50edea3642"><span class="id" title="binder"><span id="fc9c166918be1057038e45eb1b4fb40e" class="id">Σ</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <span class="id" title="var">X</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#29e52ed4415332b84f8a3b50edea3642"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="d:1048" class="idref" href="#d:1048"><span class="id" title="binder"><span id="d:1050" class="id">d</span></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#29e52ed4415332b84f8a3b50edea3642"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d:1048"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">prop'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span>)); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">revgoals</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="var">HX</span>]].<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">prop'</span>: <span class="id" title="keyword">∀</span> <a id="e3a366968fa1b8f7026fc2b8b774bc91" class="idref" href="#e3a366968fa1b8f7026fc2b8b774bc91"><span class="id" title="binder"><span id="e88710bcd7f8b8ed97ae5b9d99fdc0ac" class="id">Σ</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <span class="id" title="var">X</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e3a366968fa1b8f7026fc2b8b774bc91"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="d:1052" class="idref" href="#d:1052"><span class="id" title="binder"><span id="d:1054" class="id">d</span></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e3a366968fa1b8f7026fc2b8b774bc91"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d:1052"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span>).<br/>
{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
<span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">prop'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Program Fixpoint</span> <a id="erase_global" class="idref" href="#erase_global"><span class="id" title="definition">erase_global</span></a> {<a id="X_type:1055" class="idref" href="#X_type:1055"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>} (<a id="X:1056" class="idref" href="#X:1056"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:1055"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) (<a id="decls:1057" class="idref" href="#decls:1057"><span class="id" title="binder">decls</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_declarations"><span class="id" title="definition">global_declarations</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in:1058" class="idref" href="#normalization_in:1058"><span class="id" title="binder">normalization_in</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#NormalizationIn_erase_global_deps"><span class="id" title="abbreviation">NormalizationIn_erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1056"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decls:1057"><span class="id" title="variable">decls</span></a>}<br/>
&nbsp;&nbsp;(<a id="prop:1060" class="idref" href="#prop:1060"><span class="id" title="binder">prop</span></a> : <span class="id" title="keyword">∀</span> <a id="13232618ec10a237a3b281ec01f3a036" class="idref" href="#13232618ec10a237a3b281ec01f3a036"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1056"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#13232618ec10a237a3b281ec01f3a036"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#13232618ec10a237a3b281ec01f3a036"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decls:1057"><span class="id" title="variable">decls</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Erasure.Extract.html#E.global_declarations"><span class="id" title="definition">E.global_declarations</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decls:1057"><span class="id" title="variable">decls</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">cb</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X':1063" class="idref" href="#X':1063"><span class="id" title="binder">X'</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1056"><span class="id" title="variable">X</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cb':1064" class="idref" href="#cb':1064"><span class="id" title="binder">cb'</span></a> := @<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:1055"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':1063"><span class="id" title="variable">X'</span></a> <span class="id" title="var">cb</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X'':1065" class="idref" href="#X'':1065"><span class="id" title="binder">X''</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global:1061"><span class="id" title="definition">erase_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':1063"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decls:1057"><span class="id" title="variable">decls</span></a> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.ConstantDecl"><span class="id" title="constructor">E.ConstantDecl</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb':1064"><span class="id" title="variable">cb'</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X'':1065"><span class="id" title="variable">X''</span></a>)<br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">mib</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X':1066" class="idref" href="#X':1066"><span class="id" title="binder">X'</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1056"><span class="id" title="variable">X</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mib':1067" class="idref" href="#mib':1067"><span class="id" title="binder">mib'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_mutual_inductive_body"><span class="id" title="definition">erase_mutual_inductive_body</span></a> <span class="id" title="var">mib</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X'':1068" class="idref" href="#X'':1068"><span class="id" title="binder">X''</span></a>:= <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global:1061"><span class="id" title="definition">erase_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':1066"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decls:1057"><span class="id" title="variable">decls</span></a> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.InductiveDecl"><span class="id" title="constructor">E.InductiveDecl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mib':1067"><span class="id" title="variable">mib'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X'':1068"><span class="id" title="variable">X''</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cbv</span> [<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> 0); <span class="id" title="var">tea</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="var">HX</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">HX</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfX</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">prop'</span>: <span class="id" title="keyword">∀</span> <a id="1fe3a539db994fd7b37dc72589b62ac3" class="idref" href="#1fe3a539db994fd7b37dc72589b62ac3"><span class="id" title="binder"><span id="8727ba0620001e0edc83fd836c47e8ac" class="id">Σ</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <span class="id" title="var">X</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#1fe3a539db994fd7b37dc72589b62ac3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="d:1070" class="idref" href="#d:1070"><span class="id" title="binder"><span id="d:1072" class="id">d</span></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#1fe3a539db994fd7b37dc72589b62ac3"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d:1070"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">prop'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [[] <span class="id" title="var">u</span>], <span class="id" title="var">H0</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">wfX</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">prop</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">prop</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">prop</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">o0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. 2:<span class="id" title="tactic">exact</span> <span class="id" title="var">on_global_decl_d</span>. <span class="id" title="tactic">split</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span>)); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">revgoals</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="var">HX</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">prop'</span>: <span class="id" title="keyword">∀</span> <a id="891903f47d6442830601770cad1c3f4d" class="idref" href="#891903f47d6442830601770cad1c3f4d"><span class="id" title="binder"><span id="37ac057d33c436263f00fcc3c49949ab" class="id">Σ</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <span class="id" title="var">X</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#891903f47d6442830601770cad1c3f4d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="d:1074" class="idref" href="#d:1074"><span class="id" title="binder"><span id="d:1076" class="id">d</span></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#891903f47d6442830601770cad1c3f4d"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d:1074"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">prop'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span>)); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">revgoals</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="var">HX</span>]].<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">prop'</span>: <span class="id" title="keyword">∀</span> <a id="dedc03ed3a79e4ce21a1fea29d40d10b" class="idref" href="#dedc03ed3a79e4ce21a1fea29d40d10b"><span class="id" title="binder"><span id="d52506505030f7f88b9449c892de5591" class="id">Σ</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <span class="id" title="var">X</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#dedc03ed3a79e4ce21a1fea29d40d10b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="d:1078" class="idref" href="#d:1078"><span class="id" title="binder"><span id="d:1080" class="id">d</span></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#dedc03ed3a79e4ce21a1fea29d40d10b"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d:1078"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span>).<br/>
{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
<span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">prop'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_deps_irr" class="idref" href="#erase_global_deps_irr"><span class="id" title="lemma">erase_global_deps_irr</span></a><br/>
&nbsp;&nbsp;<a id="X_type:1081" class="idref" href="#X_type:1081"><span class="id" title="binder">X_type</span></a> <a id="deps:1082" class="idref" href="#deps:1082"><span class="id" title="binder">deps</span></a> (<a id="X:1083" class="idref" href="#X:1083"><span class="id" title="binder">X</span></a> <a id="X':1084" class="idref" href="#X':1084"><span class="id" title="binder">X'</span></a>:<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:1081"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) <a id="decls:1085" class="idref" href="#decls:1085"><span class="id" title="binder">decls</span></a><br/>
&nbsp;&nbsp;{<a id="normalization_in:1086" class="idref" href="#normalization_in:1086"><span class="id" title="binder">normalization_in</span></a> <a id="normalization_in':1087" class="idref" href="#normalization_in':1087"><span class="id" title="binder">normalization_in'</span></a>}<br/>
&nbsp;&nbsp;<a id="prf:1088" class="idref" href="#prf:1088"><span class="id" title="binder">prf</span></a> <a id="prf':1089" class="idref" href="#prf':1089"><span class="id" title="binder">prf'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="4996c9e56c71960e05251b219854a8e4" class="idref" href="#4996c9e56c71960e05251b219854a8e4"><span class="id" title="binder">Σ</span></a> <a id="96b86bb09dc4ef92c2d5d1acc51dabfa" class="idref" href="#96b86bb09dc4ef92c2d5d1acc51dabfa"><span class="id" title="binder">Σ'</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#4996c9e56c71960e05251b219854a8e4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1083"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#96b86bb09dc4ef92c2d5d1acc51dabfa"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':1084"><span class="id" title="variable">X'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="tag:1092" class="idref" href="#tag:1092"><span class="id" title="binder">tag</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#4996c9e56c71960e05251b219854a8e4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#tag:1092"><span class="id" title="variable">tag</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#96b86bb09dc4ef92c2d5d1acc51dabfa"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#tag:1092"><span class="id" title="variable">tag</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps:1082"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1083"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decls:1085"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in:1086"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#prf:1088"><span class="id" title="variable">prf</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#deps:1082"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':1084"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decls:1085"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in':1087"><span class="id" title="variable">normalization_in'</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#prf':1089"><span class="id" title="variable">prf'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">X</span> <span class="id" title="var">X'</span> <span class="id" title="var">deps</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">normalization_in'</span> <span class="id" title="var">prf</span> <span class="id" title="var">prf'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn</span> []].<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ec</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ec'</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">envX</span> <span class="id" title="var">wfX</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">envX'</span> <span class="id" title="var">wfX'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>)) <span class="id" title="keyword">as</span> [[<span class="id" title="var">env</span> <span class="id" title="keyword">wf</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X'</span>)) <span class="id" title="keyword">as</span> [[<span class="id" title="var">env'</span> <span class="id" title="var">wf'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfX</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hd</span> [<span class="id" title="var">Hu</span> <span class="id" title="var">Hr</span>]]. <span class="id" title="var">shelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> ? <span class="id" title="var">h</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfX'</span> <span class="id" title="var">wf'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hd'</span> [<span class="id" title="var">Hu'</span> <span class="id" title="var">Hr'</span>]]. <span class="id" title="var">shelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> ? <span class="id" title="var">h</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">prf'</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ec</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">ec'</span>) <span class="id" title="keyword">as</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">ec</span> <span class="id" title="var">ec'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body_irrel"><span class="id" title="lemma">erase_constant_body_irrel</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X'</span>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wf'</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup_correct'"><span class="id" title="lemma">abstract_env_lookup_correct'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup_correct'"><span class="id" title="lemma">abstract_env_lookup_correct'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">H4</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span> /= <span class="id" title="var">Hd</span> <span class="id" title="var">Hd'</span>. <span class="id" title="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_primitive_constant_correct"><span class="id" title="method">abstract_primitive_constant_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_primitive_constant_correct"><span class="id" title="method">abstract_primitive_constant_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfX</span> <span class="id" title="var">wfX'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> /= -<span class="id" title="var">Hr</span> -<span class="id" title="var">Hr'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ((<span class="id" title="keyword">∀</span> <a id="e7ab4448227403c5b9b5293c82a1467e" class="idref" href="#e7ab4448227403c5b9b5293c82a1467e"><span class="id" title="binder"><span id="e0708f929902732357702e578abd9520" class="id">Σ</span></span></a> <a id="58063cb86b1e33f15166c84da1e698c0" class="idref" href="#58063cb86b1e33f15166c84da1e698c0"><span class="id" title="binder"><span id="3490503e79ba77f5803522120cddbb04" class="id">Σ'</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e7ab4448227403c5b9b5293c82a1467e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#58063cb86b1e33f15166c84da1e698c0"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="tag:1095" class="idref" href="#tag:1095"><span class="id" title="binder"><span id="tag:1098" class="id">tag</span></span></a> : <a class="idref" href="MetaRocq.Common.Primitive.html#prim_tag"><span class="id" title="inductive">Primitive.prim_tag</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e7ab4448227403c5b9b5293c82a1467e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#tag:1095"><span class="id" title="variable">tag</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#58063cb86b1e33f15166c84da1e698c0"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#tag:1095"><span class="id" title="variable">tag</span></a>))        .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">h</span> <span class="id" title="var">h'</span> <span class="id" title="var">tag</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">h</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">env</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wf'</span> <span class="id" title="var">h'</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">env'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfX</span> <span class="id" title="var">wfX'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> -<span class="id" title="var">Hr</span> -<span class="id" title="var">Hr'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHdecls</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHdecls</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHdecls</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">envX</span> <span class="id" title="var">wfX</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">envX'</span> <span class="id" title="var">wfX'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>)) <span class="id" title="keyword">as</span> [[<span class="id" title="var">env</span> <span class="id" title="keyword">wf</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X'</span>)) <span class="id" title="keyword">as</span> [[<span class="id" title="var">env'</span> <span class="id" title="var">wf'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfX</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hd</span> [<span class="id" title="var">Hu</span> <span class="id" title="var">Hr</span>]]. <span class="id" title="var">shelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> ? <span class="id" title="var">h</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfX'</span> <span class="id" title="var">wf'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hd'</span> [<span class="id" title="var">Hu'</span> <span class="id" title="var">Hr'</span>]]. <span class="id" title="var">shelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> ? <span class="id" title="var">h</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">prf'</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ((<span class="id" title="keyword">∀</span> <a id="2f1c87dbccfd25318919bb9493c31aff" class="idref" href="#2f1c87dbccfd25318919bb9493c31aff"><span class="id" title="binder"><span id="490450a4a0afdbb90bad7343a627c29a" class="id">Σ</span></span></a> <a id="2abb89a24c9db50841c49787a465bc65" class="idref" href="#2abb89a24c9db50841c49787a465bc65"><span class="id" title="binder"><span id="2593a48588b95aadf358eaf63bb35c2e" class="id">Σ'</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#2f1c87dbccfd25318919bb9493c31aff"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#2abb89a24c9db50841c49787a465bc65"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="tag:1101" class="idref" href="#tag:1101"><span class="id" title="binder"><span id="tag:1104" class="id">tag</span></span></a> : <a class="idref" href="MetaRocq.Common.Primitive.html#prim_tag"><span class="id" title="inductive">Primitive.prim_tag</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#2f1c87dbccfd25318919bb9493c31aff"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#tag:1101"><span class="id" title="variable">tag</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#2abb89a24c9db50841c49787a465bc65"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#tag:1101"><span class="id" title="variable">tag</span></a>))        .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">h</span> <span class="id" title="var">h'</span> <span class="id" title="var">tag</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">h</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">env</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wf'</span> <span class="id" title="var">h'</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">env'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfX</span> <span class="id" title="var">wfX'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> -<span class="id" title="var">Hr</span> -<span class="id" title="var">Hr'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. 1-2:<span class="id" title="tactic">f_equal</span>. <span class="id" title="var">all</span>:<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_irr" class="idref" href="#erase_global_irr"><span class="id" title="lemma">erase_global_irr</span></a> <a id="X_type:1105" class="idref" href="#X_type:1105"><span class="id" title="binder">X_type</span></a> (<a id="X:1106" class="idref" href="#X:1106"><span class="id" title="binder">X</span></a> <a id="X':1107" class="idref" href="#X':1107"><span class="id" title="binder">X'</span></a>:<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:1105"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) <a id="decls:1108" class="idref" href="#decls:1108"><span class="id" title="binder">decls</span></a> {<a id="normalization_in:1109" class="idref" href="#normalization_in:1109"><span class="id" title="binder">normalization_in</span></a> <a id="normalization_in':1110" class="idref" href="#normalization_in':1110"><span class="id" title="binder">normalization_in'</span></a>}<br/>
<a id="prf:1111" class="idref" href="#prf:1111"><span class="id" title="binder">prf</span></a> <a id="prf':1112" class="idref" href="#prf':1112"><span class="id" title="binder">prf'</span></a> :<br/>
<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="8489da233c93ffec122d628a2e80952e" class="idref" href="#8489da233c93ffec122d628a2e80952e"><span class="id" title="binder">Σ</span></a> <a id="1be82d2f3aa18105ff5563813a6d2a18" class="idref" href="#1be82d2f3aa18105ff5563813a6d2a18"><span class="id" title="binder">Σ'</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#8489da233c93ffec122d628a2e80952e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1106"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#1be82d2f3aa18105ff5563813a6d2a18"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':1107"><span class="id" title="variable">X'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="tag:1115" class="idref" href="#tag:1115"><span class="id" title="binder">tag</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#8489da233c93ffec122d628a2e80952e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#tag:1115"><span class="id" title="variable">tag</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#1be82d2f3aa18105ff5563813a6d2a18"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#tag:1115"><span class="id" title="variable">tag</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global"><span class="id" title="definition">erase_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1106"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decls:1108"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in:1109"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#prf:1111"><span class="id" title="variable">prf</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global"><span class="id" title="definition">erase_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X':1107"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#decls:1108"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#normalization_in':1110"><span class="id" title="variable">normalization_in'</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#prf':1112"><span class="id" title="variable">prf'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">revert</span> <span class="id" title="var">X</span> <span class="id" title="var">X'</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">normalization_in'</span> <span class="id" title="var">prf</span> <span class="id" title="var">prf'</span>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn</span> []].<br/>
- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ec</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ec'</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">envX</span> <span class="id" title="var">wfX</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">envX'</span> <span class="id" title="var">wfX'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>)) <span class="id" title="keyword">as</span> [[<span class="id" title="var">env</span> <span class="id" title="keyword">wf</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X'</span>)) <span class="id" title="keyword">as</span> [[<span class="id" title="var">env'</span> <span class="id" title="var">wf'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfX</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hd</span> [<span class="id" title="var">Hu</span> <span class="id" title="var">Hr</span>]]. <span class="id" title="var">shelve</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> ? <span class="id" title="var">h</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfX'</span> <span class="id" title="var">wf'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hd'</span> [<span class="id" title="var">Hu'</span> <span class="id" title="var">Hr'</span>]]. <span class="id" title="var">shelve</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> ? <span class="id" title="var">h</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">prf'</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ec</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">ec'</span>) <span class="id" title="keyword">as</span> &lt;-.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">ec</span> <span class="id" title="var">ec'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body_irrel"><span class="id" title="lemma">erase_constant_body_irrel</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X'</span>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wf'</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup_correct'"><span class="id" title="lemma">abstract_env_lookup_correct'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup_correct'"><span class="id" title="lemma">abstract_env_lookup_correct'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">H4</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span> /= <span class="id" title="var">Hd</span> <span class="id" title="var">Hd'</span>. <span class="id" title="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_primitive_constant_correct"><span class="id" title="method">abstract_primitive_constant_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_primitive_constant_correct"><span class="id" title="method">abstract_primitive_constant_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfX</span> <span class="id" title="var">wfX'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> /= -<span class="id" title="var">Hr</span> -<span class="id" title="var">Hr'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. } }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ((<span class="id" title="keyword">∀</span> <a id="26cbdcb8d2482e37459ed9ebbb4b539f" class="idref" href="#26cbdcb8d2482e37459ed9ebbb4b539f"><span class="id" title="binder"><span id="4f56f5ad81207339f9d0c97a438e6be7" class="id">Σ</span></span></a> <a id="e2c9ce15f238dac6bb3848665514e9c2" class="idref" href="#e2c9ce15f238dac6bb3848665514e9c2"><span class="id" title="binder"><span id="66f775a958bc91dc315200ff9d6d8bfe" class="id">Σ'</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#26cbdcb8d2482e37459ed9ebbb4b539f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e2c9ce15f238dac6bb3848665514e9c2"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="tag:1118" class="idref" href="#tag:1118"><span class="id" title="binder"><span id="tag:1121" class="id">tag</span></span></a> : <a class="idref" href="MetaRocq.Common.Primitive.html#prim_tag"><span class="id" title="inductive">Primitive.prim_tag</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#26cbdcb8d2482e37459ed9ebbb4b539f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#tag:1118"><span class="id" title="variable">tag</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e2c9ce15f238dac6bb3848665514e9c2"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#tag:1118"><span class="id" title="variable">tag</span></a>))        .<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">h</span> <span class="id" title="var">h'</span> <span class="id" title="var">tag</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">h</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">env</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wf'</span> <span class="id" title="var">h'</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">env'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfX</span> <span class="id" title="var">wfX'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> -<span class="id" title="var">Hr</span> -<span class="id" title="var">Hr'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHdecls</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X'</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">envX</span> <span class="id" title="var">wfX</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">envX'</span> <span class="id" title="var">wfX'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>)) <span class="id" title="keyword">as</span> [[<span class="id" title="var">env</span> <span class="id" title="keyword">wf</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X'</span>)) <span class="id" title="keyword">as</span> [[<span class="id" title="var">env'</span> <span class="id" title="var">wf'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfX</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hd</span> [<span class="id" title="var">Hu</span> <span class="id" title="var">Hr</span>]]. <span class="id" title="var">shelve</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> ? <span class="id" title="var">h</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfX'</span> <span class="id" title="var">wf'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hd'</span> [<span class="id" title="var">Hu'</span> <span class="id" title="var">Hr'</span>]]. <span class="id" title="var">shelve</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> ? <span class="id" title="var">h</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">prf'</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ((<span class="id" title="keyword">∀</span> <a id="fb311b8c45163907726e8e1739410404" class="idref" href="#fb311b8c45163907726e8e1739410404"><span class="id" title="binder"><span id="2d1d00c303fbf16a0c21d1cdb36fb8a7" class="id">Σ</span></span></a> <a id="e3123da26679abbd11f04bea49063896" class="idref" href="#e3123da26679abbd11f04bea49063896"><span class="id" title="binder"><span id="07515c8200542555fa68928271d53ed4" class="id">Σ'</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fb311b8c45163907726e8e1739410404"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e3123da26679abbd11f04bea49063896"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="tag:1124" class="idref" href="#tag:1124"><span class="id" title="binder"><span id="tag:1127" class="id">tag</span></span></a> : <a class="idref" href="MetaRocq.Common.Primitive.html#prim_tag"><span class="id" title="inductive">Primitive.prim_tag</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#fb311b8c45163907726e8e1739410404"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#tag:1124"><span class="id" title="variable">tag</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e3123da26679abbd11f04bea49063896"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#tag:1124"><span class="id" title="variable">tag</span></a>))        .<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">h</span> <span class="id" title="var">h'</span> <span class="id" title="var">tag</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">h</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">env</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wf'</span> <span class="id" title="var">h'</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">env'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfX</span> <span class="id" title="var">wfX'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> -<span class="id" title="var">Hr</span> -<span class="id" title="var">Hr'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">all</span>:<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erases_weakening_env" class="idref" href="#erases_weakening_env"><span class="id" title="lemma">erases_weakening_env</span></a> {<a id="7b95f4ae39710ada7af377109874f0b0" class="idref" href="#7b95f4ae39710ada7af377109874f0b0"><span class="id" title="binder">Σ</span></a> <a id="d7d52e83d3498eb7ce8a547884e3fab5" class="idref" href="#d7d52e83d3498eb7ce8a547884e3fab5"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="135c13c26e01d4e95d1d7f352b8f03cd" class="idref" href="#135c13c26e01d4e95d1d7f352b8f03cd"><span class="id" title="binder">Γ</span></a> <a id="t:1131" class="idref" href="#t:1131"><span class="id" title="binder">t</span></a> <a id="t':1132" class="idref" href="#t':1132"><span class="id" title="binder">t'</span></a> <a id="T:1133" class="idref" href="#T:1133"><span class="id" title="binder">T</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#7b95f4ae39710ada7af377109874f0b0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d7d52e83d3498eb7ce8a547884e3fab5"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.strictly_extends_decls"><span class="id" title="class">strictly_extends_decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#7b95f4ae39710ada7af377109874f0b0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d7d52e83d3498eb7ce8a547884e3fab5"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#7b95f4ae39710ada7af377109874f0b0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#135c13c26e01d4e95d1d7f352b8f03cd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:1131"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#T:1133"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#erases"><span class="id" title="inductive">erases</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#7b95f4ae39710ada7af377109874f0b0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#135c13c26e01d4e95d1d7f352b8f03cd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:1131"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t':1132"><span class="id" title="variable">t'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#erases"><span class="id" title="inductive">erases</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#d7d52e83d3498eb7ce8a547884e3fab5"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#7b95f4ae39710ada7af377109874f0b0"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#135c13c26e01d4e95d1d7f352b8f03cd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:1131"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t':1132"><span class="id" title="variable">t'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">ext</span> <span class="id" title="var">Hty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#env_prop_typing"><span class="id" title="lemma">env_prop_typing</span></a> <a class="idref" href="MetaRocq.Erasure.ESubstitution.html#erases_extends"><span class="id" title="lemma">ESubstitution.erases_extends</span></a>); <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_constant_body_correct" class="idref" href="#erase_constant_body_correct"><span class="id" title="lemma">erase_constant_body_correct</span></a> <a id="X_type:1134" class="idref" href="#X_type:1134"><span class="id" title="binder">X_type</span></a> <a id="X:1135" class="idref" href="#X:1135"><span class="id" title="binder">X</span></a> {<a id="normalization_in:1137" class="idref" href="#normalization_in:1137"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="a6c37eae9c2dcc9daf34420bb0ce7b69" class="idref" href="#a6c37eae9c2dcc9daf34420bb0ce7b69"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a6c37eae9c2dcc9daf34420bb0ce7b69"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a6c37eae9c2dcc9daf34420bb0ce7b69"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1135"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#a6c37eae9c2dcc9daf34420bb0ce7b69"><span class="id" title="variable">Σ</span></a>} <a id="cb:1138" class="idref" href="#cb:1138"><span class="id" title="binder">cb</span></a><br/>
&nbsp;&nbsp;(<a id="onc:1140" class="idref" href="#onc:1140"><span class="id" title="binder">onc</span></a> : <span class="id" title="keyword">∀</span> <a id="6de0a6e29cfec05bd1ac6a1ee31f1d18" class="idref" href="#6de0a6e29cfec05bd1ac6a1ee31f1d18"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1135"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#6de0a6e29cfec05bd1ac6a1ee31f1d18"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_constant_decl"><span class="id" title="definition">on_constant_decl</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#6de0a6e29cfec05bd1ac6a1ee31f1d18"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb:1138"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="1aad03378a736f9fff046e16bdb34dab" class="idref" href="#1aad03378a736f9fff046e16bdb34dab"><span class="id" title="binder">Σ</span></a> <a id="2fbd9479f87d591e40628a1ff38f33d0" class="idref" href="#2fbd9479f87d591e40628a1ff38f33d0"><span class="id" title="binder">Σ'</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1135"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#1aad03378a736f9fff046e16bdb34dab"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#1aad03378a736f9fff046e16bdb34dab"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#2fbd9479f87d591e40628a1ff38f33d0"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.strictly_extends_decls"><span class="id" title="class">strictly_extends_decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#1aad03378a736f9fff046e16bdb34dab"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#2fbd9479f87d591e40628a1ff38f33d0"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#erases_constant_body"><span class="id" title="definition">erases_constant_body</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#2fbd9479f87d591e40628a1ff38f33d0"><span class="id" title="variable">Σ'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#1aad03378a736f9fff046e16bdb34dab"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb:1138"><span class="id" title="variable">cb</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:1134"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1135"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb:1138"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#onc:1140"><span class="id" title="variable">onc</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">cb</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">name</span> [<span class="id" title="var">bod</span>|] <span class="id" title="var">univs</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ecbo</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body_obligation_1"><span class="id" title="lemma">erase_constant_body_obligation_1</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="var">clearbody</span> <span class="id" title="var">ecbo</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#unlift_TermTyp"><span class="id" title="lemma">unlift_TermTyp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">onc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_weakening_env"><span class="id" title="lemma">erases_weakening_env</span></a> (<span class="id" title="var">Σ</span> := <span class="id" title="var">Σ</span>) (<span class="id" title="var">Σ'</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">univs</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_constant_body_correct'" class="idref" href="#erase_constant_body_correct'"><span class="id" title="lemma">erase_constant_body_correct'</span></a> {<a id="X_type:1143" class="idref" href="#X_type:1143"><span class="id" title="binder">X_type</span></a> <a id="X:1144" class="idref" href="#X:1144"><span class="id" title="binder">X</span></a>} {<a id="normalization_in:1146" class="idref" href="#normalization_in:1146"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="2c12023437094a2848f4490108479a47" class="idref" href="#2c12023437094a2848f4490108479a47"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#2c12023437094a2848f4490108479a47"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#2c12023437094a2848f4490108479a47"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1144"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#2c12023437094a2848f4490108479a47"><span class="id" title="variable">Σ</span></a>} {<a id="cb:1147" class="idref" href="#cb:1147"><span class="id" title="binder">cb</span></a>}<br/>
&nbsp;&nbsp;{<a id="onc:1149" class="idref" href="#onc:1149"><span class="id" title="binder">onc</span></a> : <span class="id" title="keyword">∀</span> <a id="22056e264fb4683e91d81c921358adc7" class="idref" href="#22056e264fb4683e91d81c921358adc7"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1144"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#22056e264fb4683e91d81c921358adc7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_constant_decl"><span class="id" title="definition">on_constant_decl</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#22056e264fb4683e91d81c921358adc7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb:1147"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>}<br/>
&nbsp;&nbsp;{<a id="body:1150" class="idref" href="#body:1150"><span class="id" title="binder">body</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EAst.html#cst_body"><span class="id" title="projection">EAst.cst_body</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:1143"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1144"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb:1147"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#onc:1149"><span class="id" title="variable">onc</span></a>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#body:1150"><span class="id" title="variable">body</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="6abc6313403845516caffd97d57eb4db" class="idref" href="#6abc6313403845516caffd97d57eb4db"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1144"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#6abc6313403845516caffd97d57eb4db"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="t:1152" class="idref" href="#t:1152"><span class="id" title="binder">t</span></a> <a id="T:1153" class="idref" href="#T:1153"><span class="id" title="binder">T</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#6abc6313403845516caffd97d57eb4db"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:1152"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#T:1153"><span class="id" title="variable">T</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#6abc6313403845516caffd97d57eb4db"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#t:1152"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#body:1150"><span class="id" title="variable">body</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#body:1150"><span class="id" title="variable">body</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X_type:1143"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#X:1144"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#cb:1147"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#onc:1149"><span class="id" title="variable">onc</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">cb</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">name</span> [<span class="id" title="var">bod</span>|] <span class="id" title="var">univs</span>]; <span class="id" title="tactic">simpl</span>; [| <span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl</span> :=(<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body_obligation_1"><span class="id" title="lemma">erase_constant_body_obligation_1</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span><br/>
&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_type"><span class="id" title="projection">cst_type</span></a> := <span class="id" title="var">name</span>;<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_body"><span class="id" title="projection">cst_body</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">bod</span>;<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> := <span class="id" title="var">univs</span> |} <span class="id" title="var">onc</span> <span class="id" title="var">bod</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>)). <span class="id" title="var">clearbody</span> <span class="id" title="var">obl</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">obl</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>). <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">bod</span>, <span class="id" title="var">A</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erases_mutual" class="idref" href="#erases_mutual"><span class="id" title="lemma">erases_mutual</span></a> {<a id="e8abd3cea9e465025fa21fb3d7758919" class="idref" href="#e8abd3cea9e465025fa21fb3d7758919"><span class="id" title="binder">Σ</span></a> <a id="mdecl:1155" class="idref" href="#mdecl:1155"><span class="id" title="binder">mdecl</span></a> <a id="m:1156" class="idref" href="#m:1156"><span class="id" title="binder">m</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_inductive"><span class="id" title="record">on_inductive</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e8abd3cea9e465025fa21fb3d7758919"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#m:1156"><span class="id" title="variable">m</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#mdecl:1155"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#m:1156"><span class="id" title="variable">m</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#erases_mutual_inductive_body"><span class="id" title="definition">erases_mutual_inductive_body</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#m:1156"><span class="id" title="variable">m</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_mutual_inductive_body"><span class="id" title="definition">erase_mutual_inductive_body</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#m:1156"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">oni</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#onInductives"><span class="id" title="projection">onInductives</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">oni</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#Alli"><span class="id" title="inductive">Alli</span></a> (<span class="id" title="keyword">fun</span> <a id="i:1157" class="idref" href="#i:1157"><span class="id" title="binder"><span id="i:1159" class="id">i</span></span></a> <a id="oib:1158" class="idref" href="#oib:1158"><span class="id" title="binder"><span id="oib:1160" class="id">oib</span></span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">destArity</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#oib:1158"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_type"><span class="id" title="projection">ind_type</span></a>) <span class="id" title="keyword">with</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a> | <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <span class="id" title="keyword">end</span>) 0 <span class="id" title="var">ind_bodies0</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Alli_impl"><span class="id" title="lemma">Alli_impl</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> []. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ind_arity_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#destArity_it_mkProd_or_LetIn"><span class="id" title="lemma">destArity_it_mkProd_or_LetIn</span></a> /= //. } <span class="id" title="tactic">clear</span> <span class="id" title="var">oni</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hd</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ind_ctors0</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ind_projs0</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
