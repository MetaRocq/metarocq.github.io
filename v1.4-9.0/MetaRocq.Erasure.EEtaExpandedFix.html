<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./index.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaRocq.Erasure.EEtaExpandedFix</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8.html#"><span class="id" title="library">Utf8</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Program.Program.html#"><span class="id" title="library">Program</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Utils.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Common</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Common.config.html#"><span class="id" title="library">config</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#"><span class="id" title="library">Kernames</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#"><span class="id" title="library">BasicAst</span></a> <a class="idref" href="MetaRocq.Common.EnvMap.html#"><span class="id" title="library">EnvMap</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Erasure</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#"><span class="id" title="library">EPrimitive</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#"><span class="id" title="library">EAst</span></a> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#"><span class="id" title="library">EGlobalEnv</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#"><span class="id" title="library">EAstUtils</span></a> <a class="idref" href="MetaRocq.Erasure.EEnvMap.html#"><span class="id" title="library">EEnvMap</span></a> <a class="idref" href="MetaRocq.Erasure.EExtends.html#"><span class="id" title="library">EExtends</span></a> <a class="idref" href="MetaRocq.Erasure.EWellformed.html#"><span class="id" title="library">EWellformed</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Erasure</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEvalInd.html#"><span class="id" title="library">EWcbvEvalInd</span></a> <a class="idref" href="MetaRocq.Erasure.EProgram.html#"><span class="id" title="library">EProgram</span></a> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#"><span class="id" title="library">EWcbvEval</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Erasure</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Erasure.EInduction.html#"><span class="id" title="library">EInduction</span></a> <a class="idref" href="MetaRocq.Erasure.ELiftSubst.html#"><span class="id" title="library">ELiftSubst</span></a> <a class="idref" href="MetaRocq.Erasure.ESpineView.html#"><span class="id" title="library">ESpineView</span></a> <a class="idref" href="MetaRocq.Erasure.ECSubst.html#"><span class="id" title="library">ECSubst</span></a> <a class="idref" href="MetaRocq.Erasure.EProgram.html#"><span class="id" title="library">EProgram</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type*".<br/>

<br/>
<span class="id" title="keyword">Local Arguments</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eval_app_cong_tApp" class="idref" href="#eval_app_cong_tApp"><span class="id" title="lemma">eval_app_cong_tApp</span></a> <a id="fl:1" class="idref" href="#fl:1"><span class="id" title="binder">fl</span></a> <a id="ebf069dbc779b42a15c441a6d39d5f83" class="idref" href="#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="binder">Σ</span></a> <a id="t:3" class="idref" href="#t:3"><span class="id" title="binder">t</span></a> <a id="v:4" class="idref" href="#v:4"><span class="id" title="binder">v</span></a> <a id="args:5" class="idref" href="#args:5"><span class="id" title="binder">args</span></a> <a id="res:6" class="idref" href="#res:6"><span class="id" title="binder">res</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#switch_unguarded_fix"><span class="id" title="definition">switch_unguarded_fix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#fl:1"><span class="id" title="variable">fl</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:3"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:4"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#switch_unguarded_fix"><span class="id" title="definition">switch_unguarded_fix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#fl:1"><span class="id" title="variable">fl</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:4"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:5"><span class="id" title="variable">args</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#res:6"><span class="id" title="variable">res</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#switch_unguarded_fix"><span class="id" title="definition">switch_unguarded_fix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#fl:1"><span class="id" title="variable">fl</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:3"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:5"><span class="id" title="variable">args</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#res:6"><span class="id" title="variable">res</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">depind</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_trans"><span class="id" title="lemma">eval_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_trans"><span class="id" title="lemma">eval_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_fix'"><span class="id" title="constructor">eval_fix'</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_trans"><span class="id" title="lemma">eval_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_construct"><span class="id" title="constructor">eval_construct</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_trans"><span class="id" title="lemma">eval_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_app_cong"><span class="id" title="constructor">eval_app_cong</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_trans"><span class="id" title="lemma">eval_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>. <span class="id" title="var">easy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="expanded" class="idref" href="#expanded"><span class="id" title="section">expanded</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a id="b050a63a19f598d196b72e0b67029d79" class="idref" href="#b050a63a19f598d196b72e0b67029d79"><span class="id" title="variable">Σ</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#global_declarations"><span class="id" title="definition">global_declarations</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Unset</span> <span class="id" title="var">Elimination</span> <span class="id" title="var">Schemes</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="expanded" class="idref" href="#expanded"><span class="id" title="inductive">expanded</span></a> (<a id="a27a3f5be2c643b658176c4fa6dd32d6" class="idref" href="#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>): <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="expanded_tRel_app" class="idref" href="#expanded_tRel_app"><span class="id" title="constructor">expanded_tRel_app</span></a> (<a id="n:12" class="idref" href="#n:12"><span class="id" title="binder">n</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="args:13" class="idref" href="#args:13"><span class="id" title="binder">args</span></a> <a id="m:14" class="idref" href="#m:14"><span class="id" title="binder">m</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:12"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#m:14"><span class="id" title="variable">m</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="Hle:15" class="idref" href="#Hle:15"><span class="id" title="binder">Hle</span></a> : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#m:14"><span class="id" title="variable">m</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:13"><span class="id" title="variable">args</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:13"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:12"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:13"><span class="id" title="variable">args</span></a>)<br/>
| <a id="expanded_tVar" class="idref" href="#expanded_tVar"><span class="id" title="constructor">expanded_tVar</span></a> (<a id="id:16" class="idref" href="#id:16"><span class="id" title="binder">id</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#ident"><span class="id" title="definition">ident</span></a>) : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tVar"><span class="id" title="constructor">tVar</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#id:16"><span class="id" title="variable">id</span></a>)<br/>
| <a id="expanded_tEvar" class="idref" href="#expanded_tEvar"><span class="id" title="constructor">expanded_tEvar</span></a> (<a id="ev:17" class="idref" href="#ev:17"><span class="id" title="binder">ev</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="args:18" class="idref" href="#args:18"><span class="id" title="binder">args</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:18"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tEvar"><span class="id" title="constructor">tEvar</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ev:17"><span class="id" title="variable">ev</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:18"><span class="id" title="variable">args</span></a>)<br/>
| <a id="expanded_tLambda" class="idref" href="#expanded_tLambda"><span class="id" title="constructor">expanded_tLambda</span></a> (<a id="na:19" class="idref" href="#na:19"><span class="id" title="binder">na</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#name"><span class="id" title="inductive">name</span></a>) (<a id="body:20" class="idref" href="#body:20"><span class="id" title="binder">body</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>) :  <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> (0 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#body:20"><span class="id" title="variable">body</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#na:19"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#body:20"><span class="id" title="variable">body</span></a>)<br/>
| <a id="expanded_tLetIn" class="idref" href="#expanded_tLetIn"><span class="id" title="constructor">expanded_tLetIn</span></a> (<a id="na:21" class="idref" href="#na:21"><span class="id" title="binder">na</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#name"><span class="id" title="inductive">name</span></a>) (<a id="def:22" class="idref" href="#def:22"><span class="id" title="binder">def</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="body:23" class="idref" href="#body:23"><span class="id" title="binder">body</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#def:22"><span class="id" title="variable">def</span></a>  <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> (0 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#body:23"><span class="id" title="variable">body</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#na:21"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#def:22"><span class="id" title="variable">def</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#body:23"><span class="id" title="variable">body</span></a>)<br/>
| <a id="expanded_mkApps" class="idref" href="#expanded_mkApps"><span class="id" title="constructor">expanded_mkApps</span></a> (<a id="f:24" class="idref" href="#f:24"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="args:25" class="idref" href="#args:25"><span class="id" title="binder">args</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isConstruct"><span class="id" title="definition">isConstruct</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:24"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isFix"><span class="id" title="definition">isFix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:24"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isRel"><span class="id" title="definition">isRel</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:24"><span class="id" title="variable">f</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:24"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:25"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:24"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:25"><span class="id" title="variable">args</span></a>)<br/>
| <a id="expanded_tConst" class="idref" href="#expanded_tConst"><span class="id" title="constructor">expanded_tConst</span></a> (<a id="c:26" class="idref" href="#c:26"><span class="id" title="binder">c</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a>) : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tConst"><span class="id" title="constructor">tConst</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#c:26"><span class="id" title="variable">c</span></a>)<br/>
| <a id="expanded_tCase" class="idref" href="#expanded_tCase"><span class="id" title="constructor">expanded_tCase</span></a> (<a id="ind:27" class="idref" href="#ind:27"><span class="id" title="binder">ind</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#inductive"><span class="id" title="record">inductive</span></a>) (<a id="pars:28" class="idref" href="#pars:28"><span class="id" title="binder">pars</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="discr:29" class="idref" href="#discr:29"><span class="id" title="binder">discr</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="branches:30" class="idref" href="#branches:30"><span class="id" title="binder">branches</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#name"><span class="id" title="inductive">name</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#discr:29"><span class="id" title="variable">discr</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="br:31" class="idref" href="#br:31"><span class="id" title="binder">br</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#repeat"><span class="id" title="definition">repeat</span></a> 0 <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#br:31"><span class="id" title="variable">br</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#br:31"><span class="id" title="variable">br</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#branches:30"><span class="id" title="variable">branches</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:27"><span class="id" title="variable">ind</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#pars:28"><span class="id" title="variable">pars</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#discr:29"><span class="id" title="variable">discr</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#branches:30"><span class="id" title="variable">branches</span></a>)<br/>
| <a id="expanded_tProj" class="idref" href="#expanded_tProj"><span class="id" title="constructor">expanded_tProj</span></a> (<a id="proj:32" class="idref" href="#proj:32"><span class="id" title="binder">proj</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#projection"><span class="id" title="record">projection</span></a>) (<a id="t:33" class="idref" href="#t:33"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:33"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#proj:32"><span class="id" title="variable">proj</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:33"><span class="id" title="variable">t</span></a>)<br/>
| <a id="expanded_tFix" class="idref" href="#expanded_tFix"><span class="id" title="constructor">expanded_tFix</span></a> (<a id="mfix:34" class="idref" href="#mfix:34"><span class="id" title="binder">mfix</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#mfixpoint"><span class="id" title="definition">mfixpoint</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="idx:35" class="idref" href="#idx:35"><span class="id" title="binder">idx</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="args:36" class="idref" href="#args:36"><span class="id" title="binder">args</span></a> <a id="d:37" class="idref" href="#d:37"><span class="id" title="binder">d</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="d:38" class="idref" href="#d:38"><span class="id" title="binder">d</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:38"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ctx:40" class="idref" href="#ctx:40"><span class="id" title="binder">ctx</span></a> := <a class="idref" href="MetaRocq.Utils.MRList.html#rev_map"><span class="id" title="definition">rev_map</span></a> (<span class="id" title="keyword">fun</span>  <a id="d:39" class="idref" href="#d:39"><span class="id" title="binder">d</span></a> ⇒ 1 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:39"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#rarg"><span class="id" title="projection">rarg</span></a>)) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:34"><span class="id" title="variable">mfix</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ctx:40"><span class="id" title="variable">ctx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:38"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>)) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:34"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:36"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:36"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:34"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:35"><span class="id" title="variable">idx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:37"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:36"><span class="id" title="variable">args</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:37"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#rarg"><span class="id" title="projection">rarg</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:34"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:35"><span class="id" title="variable">idx</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:36"><span class="id" title="variable">args</span></a>)<br/>
| <a id="expanded_tCoFix" class="idref" href="#expanded_tCoFix"><span class="id" title="constructor">expanded_tCoFix</span></a> (<a id="mfix:41" class="idref" href="#mfix:41"><span class="id" title="binder">mfix</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#mfixpoint"><span class="id" title="definition">mfixpoint</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="idx:42" class="idref" href="#idx:42"><span class="id" title="binder">idx</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="d:43" class="idref" href="#d:43"><span class="id" title="binder">d</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#repeat"><span class="id" title="definition">repeat</span></a> 0 <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:41"><span class="id" title="variable">mfix</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:43"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>)) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:41"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:41"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:42"><span class="id" title="variable">idx</span></a>)<br/>
| <a id="expanded_tConstruct_app" class="idref" href="#expanded_tConstruct_app"><span class="id" title="constructor">expanded_tConstruct_app</span></a> <a id="ind:44" class="idref" href="#ind:44"><span class="id" title="binder">ind</span></a> <a id="idx:45" class="idref" href="#idx:45"><span class="id" title="binder">idx</span></a> <a id="mind:46" class="idref" href="#mind:46"><span class="id" title="binder">mind</span></a> <a id="idecl:47" class="idref" href="#idecl:47"><span class="id" title="binder">idecl</span></a> <a id="cdecl:48" class="idref" href="#cdecl:48"><span class="id" title="binder">cdecl</span></a> <a id="args:49" class="idref" href="#args:49"><span class="id" title="binder">args</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#declared_constructor"><span class="id" title="definition">declared_constructor</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#b050a63a19f598d196b72e0b67029d79"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:44"><span class="id" title="variable">ind</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:45"><span class="id" title="variable">idx</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mind:46"><span class="id" title="variable">mind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idecl:47"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#cdecl:48"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:49"><span class="id" title="variable">args</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">≥</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#ind_npars"><span class="id" title="projection">ind_npars</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mind:46"><span class="id" title="variable">mind</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#cdecl:48"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#cstr_nargs"><span class="id" title="projection">cstr_nargs</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:49"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:44"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:45"><span class="id" title="variable">idx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:49"><span class="id" title="variable">args</span></a>)<br/>
| <a id="expanded_tPrim" class="idref" href="#expanded_tPrim"><span class="id" title="constructor">expanded_tPrim</span></a> <a id="p:50" class="idref" href="#p:50"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#primProp"><span class="id" title="inductive">primProp@</span></a>{<span class="id" title="keyword">Set</span> <span class="id" title="keyword">Set</span>} (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#p:50"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tPrim"><span class="id" title="constructor">tPrim</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#p:50"><span class="id" title="variable">p</span></a>)<br/>
| <a id="expanded_tLazy" class="idref" href="#expanded_tLazy"><span class="id" title="constructor">expanded_tLazy</span></a> <a id="t:51" class="idref" href="#t:51"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:51"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tLazy"><span class="id" title="constructor">tLazy</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:51"><span class="id" title="variable">t</span></a>)<br/>
| <a id="expanded_tForce" class="idref" href="#expanded_tForce"><span class="id" title="constructor">expanded_tForce</span></a> <a id="t:52" class="idref" href="#t:52"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:52"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tForce"><span class="id" title="constructor">tForce</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:52"><span class="id" title="variable">t</span></a>)<br/>
| <a id="expanded_tBox" class="idref" href="#expanded_tBox"><span class="id" title="constructor">expanded_tBox</span></a> : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded:10"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#tBox"><span class="id" title="constructor">tBox</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="section">expanded</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expanded_ind" class="idref" href="#expanded_ind"><span class="id" title="lemma">expanded_ind</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="20d7c0ecc86fe88fa924e57d0c585b54" class="idref" href="#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#global_declarations"><span class="id" title="definition">global_declarations</span></a>) (<a id="P:54" class="idref" href="#P:54"><span class="id" title="binder">P</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="069a6ed60f1a903e9f642e1eacf76b8d" class="idref" href="#069a6ed60f1a903e9f642e1eacf76b8d"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="n:56" class="idref" href="#n:56"><span class="id" title="binder">n</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="args:57" class="idref" href="#args:57"><span class="id" title="binder">args</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="m:58" class="idref" href="#m:58"><span class="id" title="binder">m</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#069a6ed60f1a903e9f642e1eacf76b8d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:56"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#m:58"><span class="id" title="variable">m</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#m:58"><span class="id" title="variable">m</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:57"><span class="id" title="variable">args</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#069a6ed60f1a903e9f642e1eacf76b8d"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:57"><span class="id" title="variable">args</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#069a6ed60f1a903e9f642e1eacf76b8d"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:57"><span class="id" title="variable">args</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#069a6ed60f1a903e9f642e1eacf76b8d"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:56"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:57"><span class="id" title="variable">args</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="id:59" class="idref" href="#id:59"><span class="id" title="binder">id</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#ident"><span class="id" title="definition">ident</span></a>, <span class="id" title="keyword">∀</span> <a id="0fd58672988bb7094daf640098f3cbf6" class="idref" href="#0fd58672988bb7094daf640098f3cbf6"><span class="id" title="binder">Γ</span></a>, <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#0fd58672988bb7094daf640098f3cbf6"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tVar"><span class="id" title="constructor">tVar</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#id:59"><span class="id" title="variable">id</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="ev:61" class="idref" href="#ev:61"><span class="id" title="binder">ev</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="args:62" class="idref" href="#args:62"><span class="id" title="binder">args</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>) <a id="298c8e20c162b01ed1bbedab9df30ec7" class="idref" href="#298c8e20c162b01ed1bbedab9df30ec7"><span class="id" title="binder">Γ</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#298c8e20c162b01ed1bbedab9df30ec7"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:62"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#298c8e20c162b01ed1bbedab9df30ec7"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:62"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#298c8e20c162b01ed1bbedab9df30ec7"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tEvar"><span class="id" title="constructor">tEvar</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ev:61"><span class="id" title="variable">ev</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:62"><span class="id" title="variable">args</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="e5cc42bd50c62952777fbd1ca91d0e54" class="idref" href="#e5cc42bd50c62952777fbd1ca91d0e54"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="na:65" class="idref" href="#na:65"><span class="id" title="binder">na</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#name"><span class="id" title="inductive">name</span></a>) (<a id="body:66" class="idref" href="#body:66"><span class="id" title="binder">body</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a> (0 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#e5cc42bd50c62952777fbd1ca91d0e54"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#body:66"><span class="id" title="variable">body</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> (0 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#e5cc42bd50c62952777fbd1ca91d0e54"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#body:66"><span class="id" title="variable">body</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#e5cc42bd50c62952777fbd1ca91d0e54"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#na:65"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#body:66"><span class="id" title="variable">body</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="9cd1870a4a886601ca6d9db2f5bb0b92" class="idref" href="#9cd1870a4a886601ca6d9db2f5bb0b92"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="na:68" class="idref" href="#na:68"><span class="id" title="binder">na</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#name"><span class="id" title="inductive">name</span></a>) (<a id="def:69" class="idref" href="#def:69"><span class="id" title="binder">def</span></a> <a id="body:70" class="idref" href="#body:70"><span class="id" title="binder">body</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#9cd1870a4a886601ca6d9db2f5bb0b92"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#def:69"><span class="id" title="variable">def</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#9cd1870a4a886601ca6d9db2f5bb0b92"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#def:69"><span class="id" title="variable">def</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a> (0 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#9cd1870a4a886601ca6d9db2f5bb0b92"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#body:70"><span class="id" title="variable">body</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> (0 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#9cd1870a4a886601ca6d9db2f5bb0b92"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#body:70"><span class="id" title="variable">body</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#9cd1870a4a886601ca6d9db2f5bb0b92"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#na:68"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#def:69"><span class="id" title="variable">def</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#body:70"><span class="id" title="variable">body</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="ae54ab5c4475beb427c8e416da54c258" class="idref" href="#ae54ab5c4475beb427c8e416da54c258"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="f3:72" class="idref" href="#f3:72"><span class="id" title="binder">f3</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="args:73" class="idref" href="#args:73"><span class="id" title="binder">args</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isConstruct"><span class="id" title="definition">isConstruct</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f3:72"><span class="id" title="variable">f3</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isFix"><span class="id" title="definition">isFix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f3:72"><span class="id" title="variable">f3</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isRel"><span class="id" title="definition">isRel</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f3:72"><span class="id" title="variable">f3</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ae54ab5c4475beb427c8e416da54c258"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f3:72"><span class="id" title="variable">f3</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ae54ab5c4475beb427c8e416da54c258"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f3:72"><span class="id" title="variable">f3</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ae54ab5c4475beb427c8e416da54c258"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:73"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ae54ab5c4475beb427c8e416da54c258"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:73"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ae54ab5c4475beb427c8e416da54c258"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f3:72"><span class="id" title="variable">f3</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:73"><span class="id" title="variable">args</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="e39533f4436c70a60eb8bc25b64a6730" class="idref" href="#e39533f4436c70a60eb8bc25b64a6730"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="c:75" class="idref" href="#c:75"><span class="id" title="binder">c</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#e39533f4436c70a60eb8bc25b64a6730"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tConst"><span class="id" title="constructor">tConst</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#c:75"><span class="id" title="variable">c</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="885e6108c1350c686de92430329090ea" class="idref" href="#885e6108c1350c686de92430329090ea"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="ind:77" class="idref" href="#ind:77"><span class="id" title="binder">ind</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#inductive"><span class="id" title="record">inductive</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="pars:78" class="idref" href="#pars:78"><span class="id" title="binder">pars</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="discr:79" class="idref" href="#discr:79"><span class="id" title="binder">discr</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="branches:80" class="idref" href="#branches:80"><span class="id" title="binder">branches</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#name"><span class="id" title="inductive">name</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#885e6108c1350c686de92430329090ea"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#discr:79"><span class="id" title="variable">discr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#885e6108c1350c686de92430329090ea"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#discr:79"><span class="id" title="variable">discr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="br:81" class="idref" href="#br:81"><span class="id" title="binder">br</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#name"><span class="id" title="inductive">name</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#repeat"><span class="id" title="definition">repeat</span></a> 0 <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#br:81"><span class="id" title="variable">br</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#885e6108c1350c686de92430329090ea"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#br:81"><span class="id" title="variable">br</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#branches:80"><span class="id" title="variable">branches</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="br:82" class="idref" href="#br:82"><span class="id" title="binder">br</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#name"><span class="id" title="inductive">name</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#repeat"><span class="id" title="definition">repeat</span></a> 0 <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#br:82"><span class="id" title="variable">br</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#885e6108c1350c686de92430329090ea"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#br:82"><span class="id" title="variable">br</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#branches:80"><span class="id" title="variable">branches</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#885e6108c1350c686de92430329090ea"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:77"><span class="id" title="variable">ind</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#pars:78"><span class="id" title="variable">pars</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#discr:79"><span class="id" title="variable">discr</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#branches:80"><span class="id" title="variable">branches</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="7f0b6c4481d58aa56d12a792961f7b07" class="idref" href="#7f0b6c4481d58aa56d12a792961f7b07"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="proj:84" class="idref" href="#proj:84"><span class="id" title="binder">proj</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#projection"><span class="id" title="record">projection</span></a>) (<a id="t:85" class="idref" href="#t:85"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#7f0b6c4481d58aa56d12a792961f7b07"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:85"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#7f0b6c4481d58aa56d12a792961f7b07"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:85"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#7f0b6c4481d58aa56d12a792961f7b07"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#proj:84"><span class="id" title="variable">proj</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:85"><span class="id" title="variable">t</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="d5364bc5fc249fbedcb7da053e2ed862" class="idref" href="#d5364bc5fc249fbedcb7da053e2ed862"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="mfix:87" class="idref" href="#mfix:87"><span class="id" title="binder">mfix</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#mfixpoint"><span class="id" title="definition">mfixpoint</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="idx:88" class="idref" href="#idx:88"><span class="id" title="binder">idx</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="args:89" class="idref" href="#args:89"><span class="id" title="binder">args</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="d:90" class="idref" href="#d:90"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="d0:91" class="idref" href="#d0:91"><span class="id" title="binder">d0</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d0:91"><span class="id" title="variable">d0</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ctx:93" class="idref" href="#ctx:93"><span class="id" title="binder">ctx</span></a> := <a class="idref" href="MetaRocq.Utils.MRList.html#rev_map"><span class="id" title="definition">rev_map</span></a> (<span class="id" title="keyword">fun</span>  <a id="d:92" class="idref" href="#d:92"><span class="id" title="binder">d</span></a> ⇒ 1 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:92"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#rarg"><span class="id" title="projection">rarg</span></a>)) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:87"><span class="id" title="variable">mfix</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ctx:93"><span class="id" title="variable">ctx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d5364bc5fc249fbedcb7da053e2ed862"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d0:91"><span class="id" title="variable">d0</span></a>)) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:87"><span class="id" title="variable">mfix</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="d0:94" class="idref" href="#d0:94"><span class="id" title="binder">d0</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ctx:96" class="idref" href="#ctx:96"><span class="id" title="binder">ctx</span></a> := <a class="idref" href="MetaRocq.Utils.MRList.html#rev_map"><span class="id" title="definition">rev_map</span></a> (<span class="id" title="keyword">fun</span>  <a id="d:95" class="idref" href="#d:95"><span class="id" title="binder">d</span></a> ⇒ 1 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:95"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#rarg"><span class="id" title="projection">rarg</span></a>)) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:87"><span class="id" title="variable">mfix</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ctx:96"><span class="id" title="variable">ctx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d5364bc5fc249fbedcb7da053e2ed862"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d0:94"><span class="id" title="variable">d0</span></a>)) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:87"><span class="id" title="variable">mfix</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d5364bc5fc249fbedcb7da053e2ed862"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:89"><span class="id" title="variable">args</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d5364bc5fc249fbedcb7da053e2ed862"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:89"><span class="id" title="variable">args</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:89"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:87"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:88"><span class="id" title="variable">idx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:90"><span class="id" title="variable">d</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:89"><span class="id" title="variable">args</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#rarg"><span class="id" title="projection">rarg</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:90"><span class="id" title="variable">d</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d5364bc5fc249fbedcb7da053e2ed862"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:87"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:88"><span class="id" title="variable">idx</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:89"><span class="id" title="variable">args</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="f7367dffae2db2afe9f8d9f01aa6a6e7" class="idref" href="#f7367dffae2db2afe9f8d9f01aa6a6e7"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="mfix:98" class="idref" href="#mfix:98"><span class="id" title="binder">mfix</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#mfixpoint"><span class="id" title="definition">mfixpoint</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="idx:99" class="idref" href="#idx:99"><span class="id" title="binder">idx</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="d:100" class="idref" href="#d:100"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#repeat"><span class="id" title="definition">repeat</span></a> 0 <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:98"><span class="id" title="variable">mfix</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f7367dffae2db2afe9f8d9f01aa6a6e7"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:100"><span class="id" title="variable">d</span></a>)) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:98"><span class="id" title="variable">mfix</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="d:101" class="idref" href="#d:101"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#repeat"><span class="id" title="definition">repeat</span></a> 0 <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:98"><span class="id" title="variable">mfix</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f7367dffae2db2afe9f8d9f01aa6a6e7"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:101"><span class="id" title="variable">d</span></a>)) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:98"><span class="id" title="variable">mfix</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f7367dffae2db2afe9f8d9f01aa6a6e7"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:98"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:99"><span class="id" title="variable">idx</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="16cf05dce72d654f34695685c2af4841" class="idref" href="#16cf05dce72d654f34695685c2af4841"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="ind:103" class="idref" href="#ind:103"><span class="id" title="binder">ind</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#inductive"><span class="id" title="record">inductive</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="idx:104" class="idref" href="#idx:104"><span class="id" title="binder">idx</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="mind:105" class="idref" href="#mind:105"><span class="id" title="binder">mind</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="idecl:106" class="idref" href="#idecl:106"><span class="id" title="binder">idecl</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#one_inductive_body"><span class="id" title="record">one_inductive_body</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="cdecl:107" class="idref" href="#cdecl:107"><span class="id" title="binder">cdecl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="args:108" class="idref" href="#args:108"><span class="id" title="binder">args</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#declared_constructor"><span class="id" title="definition">declared_constructor</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:103"><span class="id" title="variable">ind</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:104"><span class="id" title="variable">idx</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mind:105"><span class="id" title="variable">mind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idecl:106"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#cdecl:107"><span class="id" title="variable">cdecl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:108"><span class="id" title="variable">args</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8.html#d62fe7eb16bd9315a9b7758d6f907270"><span class="id" title="notation">≥</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#ind_npars"><span class="id" title="projection">ind_npars</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mind:105"><span class="id" title="variable">mind</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#cdecl:107"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#cstr_nargs"><span class="id" title="projection">cstr_nargs</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#16cf05dce72d654f34695685c2af4841"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:108"><span class="id" title="variable">args</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#16cf05dce72d654f34695685c2af4841"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:108"><span class="id" title="variable">args</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#16cf05dce72d654f34695685c2af4841"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:103"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:104"><span class="id" title="variable">idx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:108"><span class="id" title="variable">args</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="20b0d4460e63a61e2b7612cbaab47a2a" class="idref" href="#20b0d4460e63a61e2b7612cbaab47a2a"><span class="id" title="binder">Γ</span></a> <a id="p:110" class="idref" href="#p:110"><span class="id" title="binder">p</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#primProp"><span class="id" title="inductive">primProp</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#20b0d4460e63a61e2b7612cbaab47a2a"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#p:110"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#primProp"><span class="id" title="inductive">primProp</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#20b0d4460e63a61e2b7612cbaab47a2a"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#p:110"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#20b0d4460e63a61e2b7612cbaab47a2a"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tPrim"><span class="id" title="constructor">tPrim</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#p:110"><span class="id" title="variable">p</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="5fed251aa58d6913e63540c17d3d6121" class="idref" href="#5fed251aa58d6913e63540c17d3d6121"><span class="id" title="binder">Γ</span></a> <a id="t:112" class="idref" href="#t:112"><span class="id" title="binder">t</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#5fed251aa58d6913e63540c17d3d6121"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:112"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#5fed251aa58d6913e63540c17d3d6121"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:112"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#5fed251aa58d6913e63540c17d3d6121"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tLazy"><span class="id" title="constructor">tLazy</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:112"><span class="id" title="variable">t</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="b753e80e0e5dfbb52eabc9cec0d12fc6" class="idref" href="#b753e80e0e5dfbb52eabc9cec0d12fc6"><span class="id" title="binder">Γ</span></a> <a id="t:114" class="idref" href="#t:114"><span class="id" title="binder">t</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#b753e80e0e5dfbb52eabc9cec0d12fc6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:114"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#b753e80e0e5dfbb52eabc9cec0d12fc6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:114"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#b753e80e0e5dfbb52eabc9cec0d12fc6"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tForce"><span class="id" title="constructor">tForce</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:114"><span class="id" title="variable">t</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="799b9f0182e743f0bacfeeb6ad1620c4" class="idref" href="#799b9f0182e743f0bacfeeb6ad1620c4"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#799b9f0182e743f0bacfeeb6ad1620c4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#tBox"><span class="id" title="constructor">tBox</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="62bb295771159b0f2833e08fd20d9da8" class="idref" href="#62bb295771159b0f2833e08fd20d9da8"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="t:117" class="idref" href="#t:117"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#62bb295771159b0f2833e08fd20d9da8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:117"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#P:54"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#62bb295771159b0f2833e08fd20d9da8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:117"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">P</span> <span class="id" title="var">HRel_app</span> <span class="id" title="var">HVar</span> <span class="id" title="var">HEvar</span> <span class="id" title="var">HLamdba</span> <span class="id" title="var">HLetIn</span> <span class="id" title="var">HmkApps</span> <span class="id" title="var">HConst</span> <span class="id" title="var">HCase</span> <span class="id" title="var">HProj</span> <span class="id" title="var">HFix</span> <span class="id" title="var">HCoFix</span> <span class="id" title="var">HConstruct</span> <span class="id" title="var">HPrim</span> <span class="id" title="var">HLazy</span> <span class="id" title="var">HForce</span> <span class="id" title="var">HBox</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fix</span> <span class="id" title="var">f</span> 3.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">Hexp</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hexp</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">HRel_app</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">f</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">HEvar</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">f</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">HmkApps</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">f</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">HCase</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="var">P</span> <span class="id" title="var">Γ</span>) <span class="id" title="var">args</span>). { <span class="id" title="tactic">clear</span> - <span class="id" title="var">H0</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">HFix</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">mfix</span> <span class="id" title="tactic">at</span> 1 3. <span class="id" title="tactic">intros</span> <span class="id" title="var">mfix0</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">HCoFix</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">mfix</span> <span class="id" title="tactic">at</span> 1 3. <span class="id" title="tactic">intros</span> <span class="id" title="var">mfix0</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">HConstruct</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H1</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">HPrim</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#make_All_All"><span class="id" title="definition">make_All_All</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">Γ</span>) <span class="id" title="var">b</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="expanded_constant_decl" class="idref" href="#expanded_constant_decl"><span class="id" title="definition">expanded_constant_decl</span></a> <a id="e45305f10276415d21877ab43bec03cf" class="idref" href="#e45305f10276415d21877ab43bec03cf"><span class="id" title="binder">Σ</span></a> (<a id="cb:119" class="idref" href="#cb:119"><span class="id" title="binder">cb</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#constant_body"><span class="id" title="record">constant_body</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MROption.html#on_Some_or_None"><span class="id" title="definition">on_Some_or_None</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#e45305f10276415d21877ab43bec03cf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#cb:119"><span class="id" title="variable">cb</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#cst_body"><span class="id" title="projection">cst_body</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="expanded_decl" class="idref" href="#expanded_decl"><span class="id" title="definition">expanded_decl</span></a> <a id="3f8c1c10906746294e3c27001291be1f" class="idref" href="#3f8c1c10906746294e3c27001291be1f"><span class="id" title="binder">Σ</span></a> <a id="d:121" class="idref" href="#d:121"><span class="id" title="binder">d</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:121"><span class="id" title="variable">d</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EAst.html#ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">cb</span> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_constant_decl"><span class="id" title="definition">expanded_constant_decl</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#3f8c1c10906746294e3c27001291be1f"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">cb</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EAst.html#InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">idecl</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="expanded_global_declarations" class="idref" href="#expanded_global_declarations"><span class="id" title="definition, inductive"><span id="expanded_global_declarations_ind" class="id"><span id="expanded_global_declarations_sind" class="id">expanded_global_declarations</span></span></span></a> : <span class="id" title="keyword">∀</span> (<a id="1fae2405502733773daa9dd3939f6e35" class="idref" href="#1fae2405502733773daa9dd3939f6e35"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#global_declarations"><span class="id" title="definition">global_declarations</span></a>), <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="expanded_global_nil" class="idref" href="#expanded_global_nil"><span class="id" title="constructor">expanded_global_nil</span></a> : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_global_declarations:124"><span class="id" title="inductive">expanded_global_declarations</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
| <a id="expanded_global_cons" class="idref" href="#expanded_global_cons"><span class="id" title="constructor">expanded_global_cons</span></a> <a id="decl:126" class="idref" href="#decl:126"><span class="id" title="binder">decl</span></a> <a id="65358e173100572b17ccc689a57a129c" class="idref" href="#65358e173100572b17ccc689a57a129c"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_global_declarations:124"><span class="id" title="inductive">expanded_global_declarations</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#65358e173100572b17ccc689a57a129c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_decl"><span class="id" title="definition">expanded_decl</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#65358e173100572b17ccc689a57a129c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#decl:126"><span class="id" title="variable">decl</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_global_declarations:124"><span class="id" title="inductive">expanded_global_declarations</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#decl:126"><span class="id" title="variable">decl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#65358e173100572b17ccc689a57a129c"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Derive</span> <span class="id" title="var">Signature</span> <span class="id" title="keyword">for</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_global_declarations"><span class="id" title="inductive">expanded_global_declarations</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="expanded_global_env" class="idref" href="#expanded_global_env"><span class="id" title="definition">expanded_global_env</span></a> := <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_global_declarations"><span class="id" title="inductive">expanded_global_declarations</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="expanded_eprogram" class="idref" href="#expanded_eprogram"><span class="id" title="definition">expanded_eprogram</span></a> (<a id="p:128" class="idref" href="#p:128"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaRocq.Erasure.EProgram.html#eprogram"><span class="id" title="definition">eprogram</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_global_env"><span class="id" title="definition">expanded_global_env</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#p:128"><span class="id" title="variable">p</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#p:128"><span class="id" title="variable">p</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#p:128"><span class="id" title="variable">p</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="expanded_eprogram_env" class="idref" href="#expanded_eprogram_env"><span class="id" title="definition">expanded_eprogram_env</span></a> (<a id="p:129" class="idref" href="#p:129"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaRocq.Erasure.EProgram.html#eprogram_env"><span class="id" title="definition">eprogram_env</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="decls:130" class="idref" href="#decls:130"><span class="id" title="binder">decls</span></a> := <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#p:129"><span class="id" title="variable">p</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>.(<a class="idref" href="MetaRocq.Erasure.EEnvMap.html#GlobalContextMap.global_decls"><span class="id" title="projection">EEnvMap.GlobalContextMap.global_decls</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_global_env"><span class="id" title="definition">expanded_global_env</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#decls:130"><span class="id" title="variable">decls</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#p:129"><span class="id" title="variable">p</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#p:129"><span class="id" title="variable">p</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local Hint Constructors</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">EWcbvEval.eval</span></a> {<span class="id" title="var">wfl</span>}.<br/>

<br/>
<span class="id" title="keyword">Global Hint Rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#repeat_length"><span class="id" title="lemma">repeat_length</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expanded_closed" class="idref" href="#expanded_closed"><span class="id" title="lemma">expanded_closed</span></a> <a id="827e6cceb29d7e31d1fb867cd390df8a" class="idref" href="#827e6cceb29d7e31d1fb867cd390df8a"><span class="id" title="binder">Σ</span></a> <a id="a8852a1478e92cfb3798a7cee11ef3f8" class="idref" href="#a8852a1478e92cfb3798a7cee11ef3f8"><span class="id" title="binder">Γ</span></a> <a id="t:133" class="idref" href="#t:133"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#827e6cceb29d7e31d1fb867cd390df8a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a8852a1478e92cfb3798a7cee11ef3f8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:133"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ELiftSubst.html#closedn"><span class="id" title="definition">ELiftSubst.closedn</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a8852a1478e92cfb3798a7cee11ef3f8"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:133"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> (<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#closedn_mkApps"><span class="id" title="lemma">closedn_mkApps</span></a>; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">solve_all</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#closedn_mkApps"><span class="id" title="lemma">closedn_mkApps</span></a>. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">split</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_Some_length"><span class="id" title="lemma">nth_error_Some_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="var">revert</span> <span class="id" title="var">b</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#closedn_mkApps"><span class="id" title="lemma">closedn_mkApps</span></a>. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span>  <span class="id" title="var">b</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>. <span class="id" title="var">revert</span> <span class="id" title="var">b</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">string_scope</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Asymmetric</span> <span class="id" title="var">Patterns</span>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#MRMonadNotation"><span class="id" title="module">MRMonadNotation</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Transparent</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ssr.ssrbool.html#"><span class="id" title="library">ssrbool</span></a>.<br/>

<br/>
</div>

<div class="doc">
We assume <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> <span class="inlinecode">&lt;/=</span> <span class="inlinecode"><span class="id" title="keyword">Type</span></span> and universes are checked correctly in the following. 
</div>
<div class="code">
<span class="id" title="keyword">Local Existing Instance</span> <a class="idref" href="MetaRocq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">extraction_checker_flags</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">introdep</span> := <span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Constructors</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval"><span class="id" title="inductive">eval</span></a> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="csubst_mkApps" class="idref" href="#csubst_mkApps"><span class="id" title="lemma">csubst_mkApps</span></a> {<a id="a:134" class="idref" href="#a:134"><span class="id" title="binder">a</span></a> <a id="k:135" class="idref" href="#k:135"><span class="id" title="binder">k</span></a> <a id="f:136" class="idref" href="#f:136"><span class="id" title="binder">f</span></a> <a id="l:137" class="idref" href="#l:137"><span class="id" title="binder">l</span></a>} : <a class="idref" href="MetaRocq.Erasure.ECSubst.html#csubst"><span class="id" title="definition">csubst</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a:134"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#k:135"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:136"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#l:137"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.Erasure.ECSubst.html#csubst"><span class="id" title="definition">csubst</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a:134"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#k:135"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:136"><span class="id" title="variable">f</span></a>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.Erasure.ECSubst.html#csubst"><span class="id" title="definition">csubst</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a:134"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#k:135"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#l:137"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> /= <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -[<a class="idref" href="MetaRocq.Erasure.EAst.html#tApp"><span class="id" title="constructor">EAst.tApp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>](<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Equations</span> <a id="discr_expanded_head" class="idref" href="#discr_expanded_head"><span class="id" title="definition">discr_expanded_head</span></a> (<a id="t:138" class="idref" href="#t:138"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#discr_expanded_head:143"><span class="id" title="definition">discr_expanded_head</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:141"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:142"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#block_args:140"><span class="id" title="variable">block_args</span></a>) := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> ;<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#discr_expanded_head:146"><span class="id" title="definition">discr_expanded_head</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:145"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:144"><span class="id" title="variable">idx</span></a>) := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> ;<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#discr_expanded_head:148"><span class="id" title="definition">discr_expanded_head</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:147"><span class="id" title="variable">n</span></a>) := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> ;<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#discr_expanded_head:149"><span class="id" title="definition">discr_expanded_head</span></a> <span class="id" title="var">_</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="expanded_head_view" class="idref" href="#expanded_head_view"><span class="id" title="definition, inductive"><span id="expanded_head_view_rect" class="id"><span id="expanded_head_view_ind" class="id"><span id="expanded_head_view_rec" class="id"><span id="expanded_head_view_sind" class="id">expanded_head_view</span></span></span></span></span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span> :=<br/>
| <a id="expanded_head_construct" class="idref" href="#expanded_head_construct"><span class="id" title="constructor">expanded_head_construct</span></a> : <span class="id" title="keyword">∀</span> <a id="ind:152" class="idref" href="#ind:152"><span class="id" title="binder">ind</span></a> <a id="n:153" class="idref" href="#n:153"><span class="id" title="binder">n</span></a> <a id="block_args:154" class="idref" href="#block_args:154"><span class="id" title="binder">block_args</span></a>, <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_view:150"><span class="id" title="inductive">expanded_head_view</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:152"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:153"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#block_args:154"><span class="id" title="variable">block_args</span></a>)<br/>
| <a id="expanded_head_fix" class="idref" href="#expanded_head_fix"><span class="id" title="constructor">expanded_head_fix</span></a> : <span class="id" title="keyword">∀</span> <a id="mfix:155" class="idref" href="#mfix:155"><span class="id" title="binder">mfix</span></a> <a id="idx:156" class="idref" href="#idx:156"><span class="id" title="binder">idx</span></a>, <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_view:150"><span class="id" title="inductive">expanded_head_view</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:155"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:156"><span class="id" title="variable">idx</span></a>)<br/>
| <a id="expanded_head_rel" class="idref" href="#expanded_head_rel"><span class="id" title="constructor">expanded_head_rel</span></a> : <span class="id" title="keyword">∀</span> <a id="n:157" class="idref" href="#n:157"><span class="id" title="binder">n</span></a>, <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_view:150"><span class="id" title="inductive">expanded_head_view</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:157"><span class="id" title="variable">n</span></a>)<br/>
| <a id="expanded_head_other" class="idref" href="#expanded_head_other"><span class="id" title="constructor">expanded_head_other</span></a> : <span class="id" title="keyword">∀</span> <a id="t:158" class="idref" href="#t:158"><span class="id" title="binder">t</span></a>, <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#discr_expanded_head"><span class="id" title="definition">discr_expanded_head</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:158"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_view:150"><span class="id" title="inductive">expanded_head_view</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:158"><span class="id" title="variable">t</span></a>.<br/>

<br/>
<span class="id" title="keyword">Equations</span> <a id="expanded_head_viewc" class="idref" href="#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a> <a id="t:159" class="idref" href="#t:159"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_view"><span class="id" title="inductive">expanded_head_view</span></a> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc:164"><span class="id" title="definition">expanded_head_viewc</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:162"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:163"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#block_args:161"><span class="id" title="variable">block_args</span></a>) := <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_construct"><span class="id" title="constructor">expanded_head_construct</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">n</span> <span class="id" title="var">block_args</span>;<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc:167"><span class="id" title="definition">expanded_head_viewc</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:166"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:165"><span class="id" title="variable">idx</span></a>) := <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_fix"><span class="id" title="constructor">expanded_head_fix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ;<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc:169"><span class="id" title="definition">expanded_head_viewc</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:168"><span class="id" title="variable">n</span></a>) := <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_rel"><span class="id" title="constructor">expanded_head_rel</span></a> <span class="id" title="var">n</span> ;<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc:171"><span class="id" title="definition">expanded_head_viewc</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:170"><span class="id" title="variable">t</span></a> := <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_other"><span class="id" title="constructor">expanded_head_other</span></a> <span class="id" title="var">t</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">toAll</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="keyword">∀</span> <a id="x:172" class="idref" href="#x:172"><span class="id" title="binder"><span id="x:173" class="id">x</span></span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:172"><span class="id" title="variable">x</span></a> ?<span class="id" title="var">l</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#In_All"><span class="id" title="lemma">In_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Erasure.ECSubst.html#"><span class="id" title="module">ECSubst</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="isEtaExp" class="idref" href="#isEtaExp"><span class="id" title="section">isEtaExp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="9dc3c23b73a26f39122d7e4218d99b96" class="idref" href="#9dc3c23b73a26f39122d7e4218d99b96"><span class="id" title="variable">Σ</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#global_declarations"><span class="id" title="definition">global_declarations</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="isEtaExp_app" class="idref" href="#isEtaExp_app"><span class="id" title="definition">isEtaExp_app</span></a> <a id="ind:175" class="idref" href="#ind:175"><span class="id" title="binder">ind</span></a> <a id="c:176" class="idref" href="#c:176"><span class="id" title="binder">c</span></a> <a id="k:177" class="idref" href="#k:177"><span class="id" title="binder">k</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor_pars_args"><span class="id" title="definition">lookup_constructor_pars_args</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#9dc3c23b73a26f39122d7e4218d99b96"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:175"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#c:176"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">npars</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">nargs</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.Compare_dec.html#leb"><span class="id" title="abbreviation">leb</span></a> (<span class="id" title="var">npars</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">nargs</span>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#k:177"><span class="id" title="variable">k</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="isEtaExp_fixapp" class="idref" href="#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a> (<a id="mfix:178" class="idref" href="#mfix:178"><span class="id" title="binder">mfix</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#mfixpoint"><span class="id" title="definition">mfixpoint</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>) <a id="idx:179" class="idref" href="#idx:179"><span class="id" title="binder">idx</span></a> <a id="k:180" class="idref" href="#k:180"><span class="id" title="binder">k</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:178"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:179"><span class="id" title="variable">idx</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">d</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb"><span class="id" title="definition">Nat.ltb</span></a> <span class="id" title="var">d</span>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#rarg"><span class="id" title="projection">rarg</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#k:180"><span class="id" title="variable">k</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Erasure.ESpineView.html#TermSpineView"><span class="id" title="module">TermSpineView</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="is_nil" class="idref" href="#is_nil"><span class="id" title="definition">is_nil</span></a> {<a id="A:181" class="idref" href="#A:181"><span class="id" title="binder">A</span></a>} (<a id="l:182" class="idref" href="#l:182"><span class="id" title="binder">l</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#A:181"><span class="id" title="variable">A</span></a>) := <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#l:182"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span>? <a id="isEtaExp" class="idref" href="#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> (<a id="e1d284cf5abad24f47e1cbe9f62ccfc3" class="idref" href="#e1d284cf5abad24f47e1cbe9f62ccfc3"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="e:185" class="idref" href="#e:185"><span class="id" title="binder">e</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">e</span> (<span class="id" title="keyword">fun</span> <a id="x:283" class="idref" href="#x:283"><span class="id" title="binder">x</span></a> <a id="y:284" class="idref" href="#y:284"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:283"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#y:284"><span class="id" title="variable">y</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp:189"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#483c47e7100adec85d58e3dde43d0c71"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#e:187"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.Erasure.ESpineView.html#TermSpineView.view"><span class="id" title="definition">TermSpineView.view</span></a> <span class="id" title="var">e</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.ESpineView.html#TermSpineView.tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#i:191"><span class="id" title="variable">i</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.MROption.html#option_default"><span class="id" title="definition">option_default</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.eqb"><span class="id" title="definition">Nat.eqb</span></a> 0) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">i</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.ESpineView.html#TermSpineView.tEvar"><span class="id" title="constructor">tEvar</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ev:195"><span class="id" title="variable">ev</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:193"><span class="id" title="variable">args</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_InP"><span class="id" title="definition">forallb_InP</span></a> <span class="id" title="var">args</span> (<span class="id" title="keyword">fun</span> <a id="x:285" class="idref" href="#x:285"><span class="id" title="binder">x</span></a> <a id="H:286" class="idref" href="#H:286"><span class="id" title="binder">H</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp:186"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:285"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.ESpineView.html#TermSpineView.tLambda"><span class="id" title="constructor">tLambda</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#na:199"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#M:197"><span class="id" title="variable">M</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp:186"><span class="id" title="definition">isEtaExp</span></a> (0 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span>) <span class="id" title="var">M</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.ESpineView.html#TermSpineView.tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#u:204"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:205"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#napp:202"><span class="id" title="variable">napp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#nnil:203"><span class="id" title="variable">nnil</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a> <span class="id" title="var">u</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ | <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_construct"><span class="id" title="constructor">expanded_head_construct</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:211"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#i:210"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#block_args:207"><span class="id" title="variable">block_args</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_app"><span class="id" title="definition">isEtaExp_app</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">i</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <span class="id" title="var">v</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_InP"><span class="id" title="definition">forallb_InP</span></a> <span class="id" title="var">v</span> (<span class="id" title="keyword">fun</span> <a id="x:287" class="idref" href="#x:287"><span class="id" title="binder">x</span></a> <a id="H:288" class="idref" href="#H:288"><span class="id" title="binder">H</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp:186"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:287"><span class="id" title="variable">x</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#is_nil"><span class="id" title="definition">is_nil</span></a> <span class="id" title="var">block_args</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_fix"><span class="id" title="constructor">expanded_head_fix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:220"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:219"><span class="id" title="variable">idx</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <span class="id" title="var">v</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#forallb_InP"><span class="id" title="definition">forallb_InP</span></a> <span class="id" title="var">mfix</span> (<span class="id" title="keyword">fun</span> <a id="x:289" class="idref" href="#x:289"><span class="id" title="binder">x</span></a> <a id="H:290" class="idref" href="#H:290"><span class="id" title="binder">H</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:289"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp:186"><span class="id" title="definition">isEtaExp</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#rev_map"><span class="id" title="definition">rev_map</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#rarg"><span class="id" title="projection">rarg</span></a>) <span class="id" title="var">mfix</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Γ</span>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:289"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_InP"><span class="id" title="definition">forallb_InP</span></a> <span class="id" title="var">v</span> (<span class="id" title="keyword">fun</span> <a id="x:291" class="idref" href="#x:291"><span class="id" title="binder">x</span></a> <a id="H:292" class="idref" href="#H:292"><span class="id" title="binder">H</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp:186"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:291"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_rel"><span class="id" title="constructor">expanded_head_rel</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:228"><span class="id" title="variable">n</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.MROption.html#option_default"><span class="id" title="definition">option_default</span></a> (<span class="id" title="keyword">fun</span> <a id="m:293" class="idref" href="#m:293"><span class="id" title="binder">m</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#m:293"><span class="id" title="variable">m</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <span class="id" title="var">v</span>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">n</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_InP"><span class="id" title="definition">forallb_InP</span></a> <span class="id" title="var">v</span> (<span class="id" title="keyword">fun</span> <a id="x:294" class="idref" href="#x:294"><span class="id" title="binder">x</span></a> <a id="H:295" class="idref" href="#H:295"><span class="id" title="binder">H</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp:186"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:294"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_other"><span class="id" title="constructor">expanded_head_other</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_other"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_other"><span class="id" title="constructor">_</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp:186"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">u</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_InP"><span class="id" title="definition">forallb_InP</span></a> <span class="id" title="var">v</span> (<span class="id" title="keyword">fun</span> <a id="x:296" class="idref" href="#x:296"><span class="id" title="binder">x</span></a> <a id="H:297" class="idref" href="#H:297"><span class="id" title="binder">H</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp:186"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:296"><span class="id" title="variable">x</span></a>) }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.ESpineView.html#TermSpineView.tLetIn"><span class="id" title="constructor">tLetIn</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#na:244"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#b:241"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#b':242"><span class="id" title="variable">b'</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp:186"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">b</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp:186"><span class="id" title="definition">isEtaExp</span></a> (0 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span>) <span class="id" title="var">b'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.ESpineView.html#TermSpineView.tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:249"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#c:247"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#brs:246"><span class="id" title="variable">brs</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp:186"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">c</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_InP"><span class="id" title="definition">forallb_InP</span></a> <span class="id" title="var">brs</span> (<span class="id" title="keyword">fun</span> <a id="x:298" class="idref" href="#x:298"><span class="id" title="binder">x</span></a> <a id="H:299" class="idref" href="#H:299"><span class="id" title="binder">H</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp:186"><span class="id" title="definition">isEtaExp</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#repeat"><span class="id" title="definition">repeat</span></a> 0 <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:298"><span class="id" title="variable">x</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Γ</span>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:298"><span class="id" title="variable">x</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.ESpineView.html#TermSpineView.tProj"><span class="id" title="constructor">tProj</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#p:253"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#c:251"><span class="id" title="variable">c</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp:186"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.ESpineView.html#TermSpineView.tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:257"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:256"><span class="id" title="variable">idx</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.ESpineView.html#TermSpineView.tCoFix"><span class="id" title="constructor">tCoFix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:261"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:260"><span class="id" title="variable">idx</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_InP"><span class="id" title="definition">forallb_InP</span></a> <span class="id" title="var">mfix</span> (<span class="id" title="keyword">fun</span> <a id="x:300" class="idref" href="#x:300"><span class="id" title="binder">x</span></a> <a id="H:301" class="idref" href="#H:301"><span class="id" title="binder">H</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp:186"><span class="id" title="definition">isEtaExp</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#repeat"><span class="id" title="definition">repeat</span></a> 0 <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Γ</span>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:300"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.ESpineView.html#TermSpineView.tBox"><span class="id" title="constructor">tBox</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.ESpineView.html#TermSpineView.tVar"><span class="id" title="constructor">tVar</span></a> <a class="idref" href="MetaRocq.Erasure.ESpineView.html#TermSpineView.tVar"><span class="id" title="constructor">_</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.ESpineView.html#TermSpineView.tConst"><span class="id" title="constructor">tConst</span></a> <a class="idref" href="MetaRocq.Erasure.ESpineView.html#TermSpineView.tConst"><span class="id" title="constructor">_</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.ESpineView.html#TermSpineView.tPrim"><span class="id" title="constructor">tPrim</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#p:270"><span class="id" title="variable">p</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#test_primIn"><span class="id" title="definition">test_primIn</span></a> <span class="id" title="var">p</span> (<span class="id" title="keyword">fun</span> <a id="x:302" class="idref" href="#x:302"><span class="id" title="binder">x</span></a> <a id="H:303" class="idref" href="#H:303"><span class="id" title="binder">H</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp:186"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:302"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.ESpineView.html#TermSpineView.tLazy"><span class="id" title="constructor">tLazy</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:273"><span class="id" title="variable">t</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp:186"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.ESpineView.html#TermSpineView.tForce"><span class="id" title="constructor">tForce</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:276"><span class="id" title="variable">t</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp:186"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.ESpineView.html#TermSpineView.tConstruct"><span class="id" title="constructor">tConstruct</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:281"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#i:280"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#block_args:278"><span class="id" title="variable">block_args</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_app"><span class="id" title="definition">isEtaExp_app</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">i</span> 0 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#is_nil"><span class="id" title="definition">is_nil</span></a> <span class="id" title="var">block_args</span> }.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#In_size"><span class="id" title="lemma">In_size</span></a>); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#In_size"><span class="id" title="lemma">In_size</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a>); <span class="id" title="var">tea</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">change</span> (<span class="id" title="keyword">fun</span> <a id="x:304" class="idref" href="#x:304"><span class="id" title="binder"><span id="x:305" class="id">x</span></span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:304"><span class="id" title="variable">x</span></a>) <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size_mkApps"><span class="id" title="lemma">size_mkApps</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#In_size"><span class="id" title="lemma">In_size</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">change</span> (<span class="id" title="keyword">fun</span> <a id="x:306" class="idref" href="#x:306"><span class="id" title="binder"><span id="x:307" class="id">x</span></span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:306"><span class="id" title="variable">x</span></a>) <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size_mkApps"><span class="id" title="lemma">size_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#In_size"><span class="id" title="lemma">In_size</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<span class="id" title="keyword">fun</span> <a id="d:308" class="idref" href="#d:308"><span class="id" title="binder"><span id="d:309" class="id">d</span></span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:308"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>))) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="keyword">fun</span> <a id="x:310" class="idref" href="#x:310"><span class="id" title="binder"><span id="x:311" class="id">x</span></span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:310"><span class="id" title="variable">x</span></a>) <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size_mkApps"><span class="id" title="lemma">size_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#In_size"><span class="id" title="lemma">In_size</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="keyword">fun</span> <a id="x:312" class="idref" href="#x:312"><span class="id" title="binder"><span id="x:313" class="id">x</span></span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:312"><span class="id" title="variable">x</span></a>) <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size_mkApps"><span class="id" title="lemma">size_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#In_size"><span class="id" title="lemma">In_size</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="keyword">fun</span> <a id="x:314" class="idref" href="#x:314"><span class="id" title="binder"><span id="x:315" class="id">x</span></span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:314"><span class="id" title="variable">x</span></a>) <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size_mkApps_f"><span class="id" title="lemma">size_mkApps_f</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">change</span> (<span class="id" title="keyword">fun</span> <a id="x:316" class="idref" href="#x:316"><span class="id" title="binder"><span id="x:317" class="id">x</span></span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:316"><span class="id" title="variable">x</span></a>)) <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#In_size"><span class="id" title="lemma">In_size</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="keyword">fun</span> <a id="x:318" class="idref" href="#x:318"><span class="id" title="binder"><span id="x:319" class="id">x</span></span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:318"><span class="id" title="variable">x</span></a>) <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EInduction.html#size_mkApps_l"><span class="id" title="lemma">size_mkApps_l</span></a> <span class="id" title="var">napp</span> <span class="id" title="var">nnil</span>). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#In_size"><span class="id" title="lemma">In_size</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#In_size"><span class="id" title="lemma">In_size</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#In_size"><span class="id" title="lemma">In_size</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="keyword">fun</span> <a id="x:320" class="idref" href="#x:320"><span class="id" title="binder"><span id="x:321" class="id">x</span></span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:320"><span class="id" title="variable">x</span></a>) <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_app_mon" class="idref" href="#isEtaExp_app_mon"><span class="id" title="lemma">isEtaExp_app_mon</span></a> <a id="ind:322" class="idref" href="#ind:322"><span class="id" title="binder">ind</span></a> <a id="c:323" class="idref" href="#c:323"><span class="id" title="binder">c</span></a> <a id="i:324" class="idref" href="#i:324"><span class="id" title="binder">i</span></a> <a id="i':325" class="idref" href="#i':325"><span class="id" title="binder">i'</span></a> : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#i:324"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#i':325"><span class="id" title="variable">i'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_app"><span class="id" title="definition">isEtaExp_app</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:322"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#c:323"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#i:324"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_app"><span class="id" title="definition">isEtaExp_app</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:322"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#c:323"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#i':325"><span class="id" title="variable">i'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">le</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_app"><span class="id" title="definition">isEtaExp_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor_pars_args"><span class="id" title="definition">lookup_constructor_pars_args</span></a> <span class="id" title="keyword">as</span> [[<span class="id" title="var">pars</span> <span class="id" title="var">args</span>]|]=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">elim</span>: <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> ⇒ //. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Rewrite</span> @<a class="idref" href="MetaRocq.Utils.MRList.html#forallb_InP_spec"><span class="id" title="lemma">forallb_InP_spec</span></a> : <span class="id" title="var">isEtaExp</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">universes</span>(<span class="id" title="var">polymorphic</span>)] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="MetaRocq.Erasure.EPrimitive.html#test_primIn_spec"><span class="id" title="lemma">test_primIn_spec</span></a> : <span class="id" title="var">isEtaExp</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_mkApps_nonnil" class="idref" href="#isEtaExp_mkApps_nonnil"><span class="id" title="lemma">isEtaExp_mkApps_nonnil</span></a> <a id="2290fd9dffd8f9cc5f1438bb61740337" class="idref" href="#2290fd9dffd8f9cc5f1438bb61740337"><span class="id" title="binder">Γ</span></a> <a id="f:327" class="idref" href="#f:327"><span class="id" title="binder">f</span></a> <a id="v:328" class="idref" href="#v:328"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#isApp"><span class="id" title="definition">isApp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:327"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:328"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#2290fd9dffd8f9cc5f1438bb61740337"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:327"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:328"><span class="id" title="variable">v</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:327"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_construct"><span class="id" title="constructor">expanded_head_construct</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">i</span> <span class="id" title="var">block_args</span> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_app"><span class="id" title="definition">isEtaExp_app</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">i</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:328"><span class="id" title="variable">v</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#2290fd9dffd8f9cc5f1438bb61740337"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:328"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#is_nil"><span class="id" title="definition">is_nil</span></a> <span class="id" title="var">block_args</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_fix"><span class="id" title="constructor">expanded_head_fix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:328"><span class="id" title="variable">v</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="x:329" class="idref" href="#x:329"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:329"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#rev_map"><span class="id" title="definition">rev_map</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#rarg"><span class="id" title="projection">rarg</span></a>) <span class="id" title="var">mfix</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#2290fd9dffd8f9cc5f1438bb61740337"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:329"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>)) <span class="id" title="var">mfix</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#2290fd9dffd8f9cc5f1438bb61740337"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:328"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_rel"><span class="id" title="constructor">expanded_head_rel</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="MetaRocq.Utils.MROption.html#option_default"><span class="id" title="definition">option_default</span></a> (<span class="id" title="keyword">fun</span> <a id="m:330" class="idref" href="#m:330"><span class="id" title="binder">m</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#m:330"><span class="id" title="variable">m</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:328"><span class="id" title="variable">v</span></a>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#2290fd9dffd8f9cc5f1438bb61740337"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">n</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="x:331" class="idref" href="#x:331"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#2290fd9dffd8f9cc5f1438bb61740337"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:331"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:328"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_other"><span class="id" title="constructor">expanded_head_other</span></a> <span class="id" title="var">t</span> <span class="id" title="var">discr</span> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#2290fd9dffd8f9cc5f1438bb61740337"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:327"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#2290fd9dffd8f9cc5f1438bb61740337"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:328"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_equation_1"><span class="id" title="definition">isEtaExp_equation_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">napp</span> <span class="id" title="var">hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.ESpineView.html#TermSpineView.view_mkApps"><span class="id" title="lemma">TermSpineView.view_mkApps</span></a> (<a class="idref" href="MetaRocq.Erasure.ESpineView.html#TermSpineView.view"><span class="id" title="definition">TermSpineView.view</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <span class="id" title="var">f</span> <span class="id" title="var">v</span>)) <span class="id" title="var">napp</span> <span class="id" title="var">hv</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hna</span> [<span class="id" title="var">hv'</span> -&gt;]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a>]. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a> <span class="id" title="var">f</span>); <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a>]; <span class="id" title="var">simp</span> <span class="id" title="var">isEtaExp</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Tactic Notation</span> "simp_eta" "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">H</span>) := <span class="id" title="var">simp</span> <span class="id" title="var">isEtaExp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> -?<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_equation_1"><span class="id" title="definition">isEtaExp_equation_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simp_eta</span> := <span class="id" title="var">simp</span> <span class="id" title="var">isEtaExp</span>; <span class="id" title="tactic">rewrite</span> -?<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_equation_1"><span class="id" title="definition">isEtaExp_equation_1</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="is_cons" class="idref" href="#is_cons"><span class="id" title="definition">is_cons</span></a> {<a id="A:332" class="idref" href="#A:332"><span class="id" title="binder">A</span></a>} (<a id="l:333" class="idref" href="#l:333"><span class="id" title="binder">l</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#A:332"><span class="id" title="variable">A</span></a>) := <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#l:333"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_mkApps" class="idref" href="#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> <a id="78688b73ade9f8b063bf0ca3b46d644c" class="idref" href="#78688b73ade9f8b063bf0ca3b46d644c"><span class="id" title="binder">Γ</span></a> <a id="f:336" class="idref" href="#f:336"><span class="id" title="binder">f</span></a> <a id="v:337" class="idref" href="#v:337"><span class="id" title="binder">v</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#isApp"><span class="id" title="definition">isApp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:336"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#78688b73ade9f8b063bf0ca3b46d644c"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:336"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:337"><span class="id" title="variable">v</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:336"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_construct"><span class="id" title="constructor">expanded_head_construct</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">i</span> <span class="id" title="var">block_args</span> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_app"><span class="id" title="definition">isEtaExp_app</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">i</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:337"><span class="id" title="variable">v</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#78688b73ade9f8b063bf0ca3b46d644c"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:337"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#is_nil"><span class="id" title="definition">is_nil</span></a> <span class="id" title="var">block_args</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_fix"><span class="id" title="constructor">expanded_head_fix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:337"><span class="id" title="variable">v</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="x:338" class="idref" href="#x:338"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:338"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#rev_map"><span class="id" title="definition">rev_map</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#rarg"><span class="id" title="projection">rarg</span></a>) <span class="id" title="var">mfix</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#78688b73ade9f8b063bf0ca3b46d644c"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:338"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>)) <span class="id" title="var">mfix</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#78688b73ade9f8b063bf0ca3b46d644c"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:337"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_rel"><span class="id" title="constructor">expanded_head_rel</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="MetaRocq.Utils.MROption.html#option_default"><span class="id" title="definition">option_default</span></a> (<span class="id" title="keyword">fun</span> <a id="m:339" class="idref" href="#m:339"><span class="id" title="binder">m</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#m:339"><span class="id" title="variable">m</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:337"><span class="id" title="variable">v</span></a>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#78688b73ade9f8b063bf0ca3b46d644c"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">n</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="x:340" class="idref" href="#x:340"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#78688b73ade9f8b063bf0ca3b46d644c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:340"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:337"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_other"><span class="id" title="constructor">expanded_head_other</span></a> <span class="id" title="var">t</span> <span class="id" title="var">discr</span> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#78688b73ade9f8b063bf0ca3b46d644c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:336"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#78688b73ade9f8b063bf0ca3b46d644c"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:337"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">napp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_case"><span class="id" title="lemma">rev_case</span></a>; <span class="id" title="var">simp_eta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>; <span class="id" title="tactic">rewrite</span> ? <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a> //. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span> | ]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.eqb_spec"><span class="id" title="lemma">Nat.eqb_spec</span></a> 0 <span class="id" title="var">m</span>), (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> <span class="id" title="var">m</span> 0); <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_nonnil"><span class="id" title="lemma">isEtaExp_mkApps_nonnil</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_Constructor" class="idref" href="#isEtaExp_Constructor"><span class="id" title="lemma">isEtaExp_Constructor</span></a> <a id="ffb18a72f25d3c5701a2687258c75b54" class="idref" href="#ffb18a72f25d3c5701a2687258c75b54"><span class="id" title="binder">Γ</span></a> <a id="ind:342" class="idref" href="#ind:342"><span class="id" title="binder">ind</span></a> <a id="i:343" class="idref" href="#i:343"><span class="id" title="binder">i</span></a> <a id="block_args:344" class="idref" href="#block_args:344"><span class="id" title="binder">block_args</span></a> <a id="v:345" class="idref" href="#v:345"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ffb18a72f25d3c5701a2687258c75b54"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tConstruct"><span class="id" title="constructor">EAst.tConstruct</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:342"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#i:343"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#block_args:344"><span class="id" title="variable">block_args</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:345"><span class="id" title="variable">v</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_app"><span class="id" title="definition">isEtaExp_app</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:342"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#i:343"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:345"><span class="id" title="variable">v</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ffb18a72f25d3c5701a2687258c75b54"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:345"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#is_nil"><span class="id" title="definition">is_nil</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#block_args:344"><span class="id" title="variable">block_args</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_mkApps_intro" class="idref" href="#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a> <a id="f3da416d3355a6637ad03835586ce387" class="idref" href="#f3da416d3355a6637ad03835586ce387"><span class="id" title="binder">Γ</span></a> <a id="t:347" class="idref" href="#t:347"><span class="id" title="binder">t</span></a> <a id="l:348" class="idref" href="#l:348"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f3da416d3355a6637ad03835586ce387"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:347"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f3da416d3355a6637ad03835586ce387"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#l:348"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f3da416d3355a6637ad03835586ce387"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:347"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#l:348"><span class="id" title="variable">l</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">t</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">Γ</span> <span class="id" title="var">et</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app"><span class="id" title="lemma">All_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">a0</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app_inv"><span class="id" title="lemma">decompose_app_inv</span></a> <span class="id" title="var">da</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">et</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app_notApp"><span class="id" title="lemma">decompose_app_notApp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">da</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l0</span>. <span class="id" title="var">simp_eta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">solve_all</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">et</span>; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">et</span>. <span class="id" title="var">simp</span> <span class="id" title="var">isEtaExp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_app_mon"><span class="id" title="lemma">isEtaExp_app_mon</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">simp_eta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span> | ] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">et</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.eqb_eq"><span class="id" title="lemma">Nat.eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">et</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">split</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">et</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb_app"><span class="id" title="lemma">forallb_app</span></a> /=. <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">et</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_Constructor"><span class="id" title="lemma">isEtaExp_Constructor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rtoProp</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_app_mon"><span class="id" title="lemma">isEtaExp_app_mon</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">len</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a> ⇒ //. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a> ⇒ //. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> //. <span class="id" title="var">simp</span> <span class="id" title="var">expanded_head_viewc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">et</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>; <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>]. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span> | ] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.leb_le"><span class="id" title="lemma">Nat.leb_le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.leb_le"><span class="id" title="lemma">Nat.leb_le</span></a>. <span class="id" title="var">revert</span> <span class="id" title="var">H0</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>. 2: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>. <span class="id" title="var">all</span>: <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a> <span class="id" title="var">t0</span>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">et</span> ⇒ [] → /=. <span class="id" title="var">rtoProp</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb_app"><span class="id" title="lemma">forallb_app</span></a>. <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="expanded_weakening" class="idref" href="#expanded_weakening"><span class="id" title="lemma">expanded_weakening</span></a> <a id="cbad5daf205497c35c0093d0f3e13547" class="idref" href="#cbad5daf205497c35c0093d0f3e13547"><span class="id" title="binder">Γ'</span></a> <a id="403814e71d2c772816b44e6e99ce2772" class="idref" href="#403814e71d2c772816b44e6e99ce2772"><span class="id" title="binder">Γ</span></a> <a id="t:351" class="idref" href="#t:351"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#403814e71d2c772816b44e6e99ce2772"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:351"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#403814e71d2c772816b44e6e99ce2772"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#cbad5daf205497c35c0093d0f3e13547"><span class="id" title="variable">Γ'</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:351"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span>); <span class="id" title="var">simp_eta</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hexp</span>; <span class="id" title="var">toAll</span>; <span class="id" title="var">solve_all</span>; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>. <span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_app_left"><span class="id" title="lemma">nth_error_app_left</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">a</span>, <span class="id" title="var">b</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">a</span>, <span class="id" title="var">b</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> ⇒ //. <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>]. <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> ⇒ //. <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>]. <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> ⇒ //. <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>]. <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>. <span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_app_left"><span class="id" title="lemma">nth_error_app_left</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> ⇒ //. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_closed" class="idref" href="#isEtaExp_closed"><span class="id" title="lemma">isEtaExp_closed</span></a> <a id="9ed1570e8db123a927f0c59aba1df9f9" class="idref" href="#9ed1570e8db123a927f0c59aba1df9f9"><span class="id" title="binder">Γ</span></a> <a id="t:353" class="idref" href="#t:353"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#9ed1570e8db123a927f0c59aba1df9f9"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:353"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ELiftSubst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#9ed1570e8db123a927f0c59aba1df9f9"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:353"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span>); <span class="id" title="var">simp_eta</span>; <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.ELiftSubst.html#closedn"><span class="id" title="definition">closedn</span></a>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#closedn_mkApps"><span class="id" title="lemma">closedn_mkApps</span></a>; <span class="id" title="var">rtoProp</span>; (<span class="id" title="tactic">try</span> <span class="id" title="var">toAll</span>); <span class="id" title="tactic">repeat</span> <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hn</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_Some_length"><span class="id" title="lemma">nth_error_Some_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">block_args</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- (<span class="id" title="tactic">eapply</span> <span class="id" title="var">a</span> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>; [|<span class="id" title="tactic">f_equal</span>]; <span class="id" title="var">revert</span> <span class="id" title="var">b</span>; <span class="id" title="var">now</span> <span class="id" title="var">len</span>) || (<span class="id" title="var">revert</span> <span class="id" title="var">H</span>; <span class="id" title="var">now</span> <span class="id" title="var">len</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- (<span class="id" title="tactic">eapply</span> <span class="id" title="var">a</span> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>; [|<span class="id" title="tactic">f_equal</span>]; <span class="id" title="var">revert</span> <span class="id" title="var">b</span>; <span class="id" title="var">now</span> <span class="id" title="var">len</span>) || (<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">revert</span> <span class="id" title="var">H</span>; <span class="id" title="var">now</span> <span class="id" title="var">len</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">block_args</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">eapply</span> <span class="id" title="var">a</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; [|<span class="id" title="tactic">reflexivity</span>]; <span class="id" title="var">revert</span> <span class="id" title="var">H0</span>; <span class="id" title="var">now</span> <span class="id" title="var">len</span>) ||<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">revert</span> <span class="id" title="var">H2</span>; <span class="id" title="var">now</span> <span class="id" title="var">len</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hn</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_Some_length"><span class="id" title="lemma">nth_error_Some_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="etaExp_csubst'" class="idref" href="#etaExp_csubst'"><span class="id" title="lemma">etaExp_csubst'</span></a> <a id="a:354" class="idref" href="#a:354"><span class="id" title="binder">a</span></a> <a id="k:355" class="idref" href="#k:355"><span class="id" title="binder">k</span></a> <a id="b:356" class="idref" href="#b:356"><span class="id" title="binder">b</span></a> <a id="n:357" class="idref" href="#n:357"><span class="id" title="binder">n</span></a> <a id="4df62c979e3abd2ab398ba933d53992f" class="idref" href="#4df62c979e3abd2ab398ba933d53992f"><span class="id" title="binder">Γ</span></a> <a id="49f7d46cdc511fc7a53659ffe6f52777" class="idref" href="#49f7d46cdc511fc7a53659ffe6f52777"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#4df62c979e3abd2ab398ba933d53992f"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#k:355"><span class="id" title="variable">k</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a:354"><span class="id" title="variable">a</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#4df62c979e3abd2ab398ba933d53992f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:357"><span class="id" title="variable">n</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#49f7d46cdc511fc7a53659ffe6f52777"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#b:356"><span class="id" title="variable">b</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#4df62c979e3abd2ab398ba933d53992f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#49f7d46cdc511fc7a53659ffe6f52777"><span class="id" title="variable">Δ</span></a>) (<a class="idref" href="MetaRocq.Erasure.ECSubst.html#csubst"><span class="id" title="definition">ECSubst.csubst</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a:354"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#k:355"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#b:356"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hk</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hcl</span> : <a class="idref" href="MetaRocq.Erasure.ELiftSubst.html#closed"><span class="id" title="abbreviation">closed</span></a> <span class="id" title="var">a</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_closed"><span class="id" title="lemma">isEtaExp_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">revert</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">Γ</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">n</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Δ</span>)%<span class="id" title="var">list</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Γ_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> <span class="id" title="var">Hcl</span> <span class="id" title="tactic">at</span> <span class="id" title="var">top</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Γ_</span> <span class="id" title="var">b</span>); <span class="id" title="var">simp_eta</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">simp_eta</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">fold</span> <a class="idref" href="MetaRocq.Erasure.ECSubst.html#csubst"><span class="id" title="definition">csubst</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">toAll</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">simp</span> <span class="id" title="var">isEtaExp</span> ; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.compare_spec"><span class="id" title="lemma">Nat.compare_spec</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ0</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="var">i</span>) ⇒ //; <span class="id" title="var">simp_eta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_weakening"><span class="id" title="lemma">expanded_weakening</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Γ</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>). <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_app2"><span class="id" title="lemma">nth_error_app2</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_app2"><span class="id" title="lemma">nth_error_app2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Utils.MROption.html#option_default_ext"><span class="id" title="lemma">option_default_ext</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Nat.html#sub"><span class="id" title="definition">minus</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.sub_succ_l"><span class="id" title="lemma">Nat.sub_succ_l</span></a>. <span class="id" title="var">lia</span>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_app1"><span class="id" title="lemma">nth_error_app1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span> |- *; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">Γ</span> := 0 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ0</span>); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H2</span> ⇒ [] <span class="id" title="var">etab</span> <span class="id" title="var">etab'</span>. <span class="id" title="var">simp_eta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">Γ</span> := 0 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ0</span>); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">block_args</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">a0</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">a0</span>; <span class="id" title="var">len</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">solve_all_k</span> 6.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">fold</span> <a class="idref" href="MetaRocq.Erasure.ECSubst.html#csubst"><span class="id" title="definition">csubst</span></a>. <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H1</span> ⇒ [] <span class="id" title="var">etaexp</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ECSubst.html#csubst_mkApps"><span class="id" title="lemma">csubst_mkApps</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_Constructor"><span class="id" title="lemma">isEtaExp_Constructor</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rtoProp</span>; <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">block_args</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">block_args</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ECSubst.html#csubst_mkApps"><span class="id" title="lemma">csubst_mkApps</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> : <span class="id" title="var">H2</span> ⇒ [] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] <span class="id" title="var">eu</span> <span class="id" title="var">ef</span> <span class="id" title="var">ev</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">expanded_head_viewc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eu</span> |- ×. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_all</span>. <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ECSubst.html#isLambda_csubst"><span class="id" title="lemma">isLambda_csubst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">a0</span>; <span class="id" title="var">len</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Utils.MRList.html#rev_map_spec"><span class="id" title="lemma">rev_map_spec</span></a>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#map_ext"><span class="id" title="lemma">map_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ECSubst.html#csubst_mkApps"><span class="id" title="lemma">csubst_mkApps</span></a> /=. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.compare_spec"><span class="id" title="lemma">Nat.compare_spec</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ0</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="var">n</span>) ⇒ //; <span class="id" title="var">simp_eta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a> ⇒ //. 2: <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_weakening"><span class="id" title="lemma">expanded_weakening</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Γ</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">split</span>. 2: <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_app2"><span class="id" title="lemma">nth_error_app2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> |- *; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>. <span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Utils.MROption.html#option_default_ext"><span class="id" title="lemma">option_default_ext</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.sub_succ_l"><span class="id" title="lemma">Nat.sub_succ_l</span></a> //. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">split</span>. 2: <span class="id" title="var">solve_all</span>. <span class="id" title="var">len</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_app1"><span class="id" title="lemma">nth_error_app1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> |- *; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ECSubst.html#csubst_mkApps"><span class="id" title="lemma">csubst_mkApps</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H2</span> ⇒ [] <span class="id" title="var">eu</span> <span class="id" title="var">ev</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a> ⇒ //. 2: <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="etaExp_csubst" class="idref" href="#etaExp_csubst"><span class="id" title="lemma">etaExp_csubst</span></a> <a id="a:360" class="idref" href="#a:360"><span class="id" title="binder">a</span></a> <a id="b:361" class="idref" href="#b:361"><span class="id" title="binder">b</span></a> <a id="n:362" class="idref" href="#n:362"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a:360"><span class="id" title="variable">a</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:362"><span class="id" title="variable">n</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#b:361"><span class="id" title="variable">b</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaRocq.Erasure.ECSubst.html#csubst"><span class="id" title="definition">ECSubst.csubst</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a:360"><span class="id" title="variable">a</span></a> 0 <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#b:361"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#etaExp_csubst'"><span class="id" title="lemma">etaExp_csubst'</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Γ</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="etaExp_fixsubst" class="idref" href="#etaExp_fixsubst"><span class="id" title="lemma">etaExp_fixsubst</span></a> <a id="k:363" class="idref" href="#k:363"><span class="id" title="binder">k</span></a> <a id="b:364" class="idref" href="#b:364"><span class="id" title="binder">b</span></a> <a id="d221effeadc5019a037f07e289528bab" class="idref" href="#d221effeadc5019a037f07e289528bab"><span class="id" title="binder">Γ</span></a> <a id="4ac6cf47ac87dde33311828f9797f6e8" class="idref" href="#4ac6cf47ac87dde33311828f9797f6e8"><span class="id" title="binder">Δ</span></a> <a id="mfix:367" class="idref" href="#mfix:367"><span class="id" title="binder">mfix</span></a> <a id="idx:368" class="idref" href="#idx:368"><span class="id" title="binder">idx</span></a> <a id="d:369" class="idref" href="#d:369"><span class="id" title="binder">d</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d221effeadc5019a037f07e289528bab"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#k:363"><span class="id" title="variable">k</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:367"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:368"><span class="id" title="variable">idx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:369"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ELiftSubst.html#closed"><span class="id" title="abbreviation">closed</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tFix"><span class="id" title="constructor">EAst.tFix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:367"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:368"><span class="id" title="variable">idx</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="x:370" class="idref" href="#x:370"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:370"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#rev_map"><span class="id" title="definition">rev_map</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#rarg"><span class="id" title="projection">rarg</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:367"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:370"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>)) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:367"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d221effeadc5019a037f07e289528bab"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a>1 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:369"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#rarg"><span class="id" title="projection">EAst.rarg</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#4ac6cf47ac87dde33311828f9797f6e8"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#b:364"><span class="id" title="variable">b</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d221effeadc5019a037f07e289528bab"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#4ac6cf47ac87dde33311828f9797f6e8"><span class="id" title="variable">Δ</span></a>) (<a class="idref" href="MetaRocq.Erasure.ECSubst.html#csubst"><span class="id" title="definition">ECSubst.csubst</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tFix"><span class="id" title="constructor">EAst.tFix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:367"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:368"><span class="id" title="variable">idx</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#k:363"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#b:364"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hk</span> <span class="id" title="var">Hnth</span> <span class="id" title="var">Hcl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">Γ</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a>1 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">d</span>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#rarg"><span class="id" title="projection">EAst.rarg</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Δ</span>)%<span class="id" title="var">list</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Γ_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Γ_</span> <span class="id" title="var">b</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">simp_eta</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">fold</span> <a class="idref" href="MetaRocq.Erasure.ECSubst.html#csubst"><span class="id" title="definition">csubst</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">toAll</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">simp</span> <span class="id" title="var">isEtaExp</span> ; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.compare_spec"><span class="id" title="lemma">Nat.compare_spec</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ0</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="var">i</span>) ⇒ //; <span class="id" title="var">simp_eta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_app2"><span class="id" title="lemma">nth_error_app2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.sub_diag"><span class="id" title="lemma">Nat.sub_diag</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_app2"><span class="id" title="lemma">nth_error_app2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span> |- *; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Utils.MROption.html#option_default_ext"><span class="id" title="lemma">option_default_ext</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_app1"><span class="id" title="lemma">nth_error_app1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span> |- *; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">a</span>; <span class="id" title="var">trea</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">Γ</span> := 0 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ0</span>); <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H2</span> ⇒ [] <span class="id" title="var">etab</span> <span class="id" title="var">etab'</span>. <span class="id" title="var">simp_eta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">Γ</span> := 0 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ0</span>); <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">block_args</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">a</span>; <span class="id" title="var">cbn</span>-[<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a>]; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">a</span>; <span class="id" title="var">len</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcl</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a0</span>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#primProp_impl"><span class="id" title="lemma">primProp_impl</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">fold</span> <a class="idref" href="MetaRocq.Erasure.ECSubst.html#csubst"><span class="id" title="definition">csubst</span></a>. <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H1</span> ⇒ [] <span class="id" title="var">etaexp</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ECSubst.html#csubst_mkApps"><span class="id" title="lemma">csubst_mkApps</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_Constructor"><span class="id" title="lemma">isEtaExp_Constructor</span></a>. <span class="id" title="var">solve_all</span>. <span class="id" title="var">rtoProp</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_forallb"><span class="id" title="lemma">All_forallb</span></a>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq0</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hx</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">block_args</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ECSubst.html#csubst_mkApps"><span class="id" title="lemma">csubst_mkApps</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> : <span class="id" title="var">H2</span> ⇒ [] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] <span class="id" title="var">eu</span> <span class="id" title="var">ef</span> <span class="id" title="var">ev</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">expanded_head_viewc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eu</span> |- ×. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_all</span>. <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ECSubst.html#isLambda_csubst"><span class="id" title="lemma">isLambda_csubst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">a</span>; <span class="id" title="var">len</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcl</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a0</span>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Utils.MRList.html#rev_map_spec"><span class="id" title="lemma">rev_map_spec</span></a>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#map_ext"><span class="id" title="lemma">map_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ev</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_mix"><span class="id" title="lemma">All_mix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_forallb"><span class="id" title="lemma">All_forallb</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ECSubst.html#csubst_mkApps"><span class="id" title="lemma">csubst_mkApps</span></a> /=. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.compare_spec"><span class="id" title="lemma">Nat.compare_spec</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ0</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="var">n</span>) ⇒ //; <span class="id" title="var">simp_eta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> ⇒ //. <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hnth</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_app2"><span class="id" title="lemma">nth_error_app2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.sub_diag"><span class="id" title="lemma">Nat.sub_diag</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.leb_le"><span class="id" title="lemma">Nat.leb_le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcl</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_weakening"><span class="id" title="lemma">expanded_weakening</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_mix"><span class="id" title="lemma">All_mix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_forallb"><span class="id" title="lemma">All_forallb</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. 2:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_mix"><span class="id" title="lemma">All_mix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_forallb"><span class="id" title="lemma">All_forallb</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hx</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_app2"><span class="id" title="lemma">nth_error_app2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> |- *; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Utils.MROption.html#option_default_ext"><span class="id" title="lemma">option_default_ext</span></a>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">split</span>. 2:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_mix"><span class="id" title="lemma">All_mix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_forallb"><span class="id" title="lemma">All_forallb</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hx</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_app1"><span class="id" title="lemma">nth_error_app1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> |- *; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ECSubst.html#csubst_mkApps"><span class="id" title="lemma">csubst_mkApps</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_mix"><span class="id" title="lemma">All_mix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hx</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_substl" class="idref" href="#isEtaExp_substl"><span class="id" title="lemma">isEtaExp_substl</span></a> <a id="7b55871794ee753afdd3fa8de0585697" class="idref" href="#7b55871794ee753afdd3fa8de0585697"><span class="id" title="binder">Γ</span></a> <a id="013c2fccbc232c60c42b12622bd2a14d" class="idref" href="#013c2fccbc232c60c42b12622bd2a14d"><span class="id" title="binder">Δ</span></a> <a id="s:373" class="idref" href="#s:373"><span class="id" title="binder">s</span></a> <a id="t:374" class="idref" href="#t:374"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#7b55871794ee753afdd3fa8de0585697"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#s:373"><span class="id" title="variable">s</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#s:373"><span class="id" title="variable">s</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#7b55871794ee753afdd3fa8de0585697"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#013c2fccbc232c60c42b12622bd2a14d"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:374"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#013c2fccbc232c60c42b12622bd2a14d"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="MetaRocq.Erasure.ECSubst.html#substl"><span class="id" title="definition">substl</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#s:373"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:374"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Γ</span>, <span class="id" title="var">t</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#etaExp_csubst"><span class="id" title="lemma">etaExp_csubst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Γ</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">invs</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#etaExp_csubst'"><span class="id" title="lemma">etaExp_csubst'</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Γ</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_fixsubstl" class="idref" href="#isEtaExp_fixsubstl"><span class="id" title="lemma">isEtaExp_fixsubstl</span></a> <a id="99643c007ef4c6f62e37b5bc54ec4b7c" class="idref" href="#99643c007ef4c6f62e37b5bc54ec4b7c"><span class="id" title="binder">Δ</span></a> <a id="mfix:376" class="idref" href="#mfix:376"><span class="id" title="binder">mfix</span></a> <a id="t:377" class="idref" href="#t:377"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="x:378" class="idref" href="#x:378"><span class="id" title="binder">x</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:378"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#rev_map"><span class="id" title="definition">rev_map</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#rarg"><span class="id" title="projection">rarg</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:376"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:378"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>)) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:376"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#rev_map"><span class="id" title="definition">rev_map</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#rarg"><span class="id" title="projection">rarg</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:376"><span class="id" title="variable">mfix</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#99643c007ef4c6f62e37b5bc54ec4b7c"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:377"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#99643c007ef4c6f62e37b5bc54ec4b7c"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="MetaRocq.Erasure.ECSubst.html#substl"><span class="id" title="definition">substl</span></a> (<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#fix_subst"><span class="id" title="definition">fix_subst</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:376"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:377"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hall</span> <span class="id" title="var">Heta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hcl</span> : <a class="idref" href="MetaRocq.Erasure.ELiftSubst.html#closed"><span class="id" title="abbreviation">closed</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tFix"><span class="id" title="constructor">EAst.tFix</span></a> <span class="id" title="var">mfix</span> 0) ). { <span class="id" title="var">cbn</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_closed"><span class="id" title="lemma">isEtaExp_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">revert</span> <span class="id" title="var">H0</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hcl</span> <span class="id" title="var">Hall</span> <span class="id" title="var">Heta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcl</span> <span class="id" title="var">Hall</span> <span class="id" title="var">Heta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcl</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#fix_subst"><span class="id" title="definition">fix_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hall</span> <span class="id" title="var">Heta</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (@<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">mfix</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> ((@<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#def"><span class="id" title="record">EAst.def</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">mfix</span>) <span class="id" title="tactic">at</span> 1 6 8.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">mfix0</span>. <span class="id" title="var">revert</span> <span class="id" title="var">mfix</span> <span class="id" title="var">Δ</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">mfix0</span>  <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a>] <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a>] <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_app"><span class="id" title="lemma">length_app</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>. <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Erasure.ECSubst.html#substl"><span class="id" title="definition">substl</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHmfix0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#etaExp_fixsubst"><span class="id" title="lemma">etaExp_fixsubst</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Γ</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">cbn</span>; <span class="id" title="var">solve_all</span>. 2: <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a>] <span class="id" title="tactic">in</span> ×. <span class="id" title="var">revert</span> <span class="id" title="var">Heta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Utils.MRList.html#rev_map_spec"><span class="id" title="lemma">rev_map_spec</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev_app_distr"><span class="id" title="lemma">rev_app_distr</span></a>. <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a>] <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">Heta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_snoc"><span class="id" title="lemma">nth_error_snoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_iota_red" class="idref" href="#isEtaExp_iota_red"><span class="id" title="lemma">isEtaExp_iota_red</span></a> <a id="pars:379" class="idref" href="#pars:379"><span class="id" title="binder">pars</span></a> <a id="args:380" class="idref" href="#args:380"><span class="id" title="binder">args</span></a> <a id="br:381" class="idref" href="#br:381"><span class="id" title="binder">br</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaRocq.Erasure.ELiftSubst.html#closedn"><span class="id" title="definition">closedn</span></a> 0) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:380"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:380"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#repeat"><span class="id" title="definition">repeat</span></a> 0 (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:380"><span class="id" title="variable">args</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#pars:379"><span class="id" title="variable">pars</span></a>)) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#br:381"><span class="id" title="variable">br</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#iota_red"><span class="id" title="definition">EGlobalEnv.iota_red</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#pars:379"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:380"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#br:381"><span class="id" title="variable">br</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>  <span class="id" title="var">Hcl</span> <span class="id" title="var">etaargs</span> <span class="id" title="var">etabr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#iota_red"><span class="id" title="definition">EGlobalEnv.iota_red</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_substl"><span class="id" title="lemma">isEtaExp_substl</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">shelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_skipn"><span class="id" title="lemma">All_skipn</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">len</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_skipn"><span class="id" title="lemma">List.length_skipn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_cofix_subst" class="idref" href="#isEtaExp_cofix_subst"><span class="id" title="lemma">isEtaExp_cofix_subst</span></a> <a id="mfix:382" class="idref" href="#mfix:382"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#repeat"><span class="id" title="definition">repeat</span></a> 0 <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:382"><span class="id" title="variable">mfix</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:382"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) (<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cofix_subst"><span class="id" title="definition">EGlobalEnv.cofix_subst</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:382"><span class="id" title="variable">mfix</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cofix_subst"><span class="id" title="definition">EGlobalEnv.cofix_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cofix_subst"><span class="id" title="definition">cofix_subst</span></a>. <span class="id" title="tactic">generalize</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>. <span class="id" title="var">simp_eta</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_cunfold_fix" class="idref" href="#isEtaExp_cunfold_fix"><span class="id" title="lemma">isEtaExp_cunfold_fix</span></a> <a id="mfix:383" class="idref" href="#mfix:383"><span class="id" title="binder">mfix</span></a> <a id="idx:384" class="idref" href="#idx:384"><span class="id" title="binder">idx</span></a> <a id="n:385" class="idref" href="#n:385"><span class="id" title="binder">n</span></a> <a id="f:386" class="idref" href="#f:386"><span class="id" title="binder">f</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="d:387" class="idref" href="#d:387"><span class="id" title="binder">d</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:387"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#rev_map"><span class="id" title="definition">rev_map</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#rarg"><span class="id" title="projection">rarg</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:383"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:387"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>)) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:383"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cunfold_fix"><span class="id" title="definition">EGlobalEnv.cunfold_fix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:383"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:384"><span class="id" title="variable">idx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:385"><span class="id" title="variable">n</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:386"><span class="id" title="variable">f</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:386"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">heta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cunfold_fix"><span class="id" title="definition">EGlobalEnv.cunfold_fix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">heq</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [= &lt;- &lt;-] ⇒ /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixsubstl"><span class="id" title="lemma">isEtaExp_fixsubstl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_nth_error"><span class="id" title="lemma">All_nth_error</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">heta</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">heta</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_cunfold_cofix" class="idref" href="#isEtaExp_cunfold_cofix"><span class="id" title="lemma">isEtaExp_cunfold_cofix</span></a> <a id="mfix:388" class="idref" href="#mfix:388"><span class="id" title="binder">mfix</span></a> <a id="idx:389" class="idref" href="#idx:389"><span class="id" title="binder">idx</span></a> <a id="n:390" class="idref" href="#n:390"><span class="id" title="binder">n</span></a> <a id="f:391" class="idref" href="#f:391"><span class="id" title="binder">f</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#repeat"><span class="id" title="definition">repeat</span></a> 0 <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:388"><span class="id" title="variable">mfix</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:388"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cunfold_cofix"><span class="id" title="definition">EGlobalEnv.cunfold_cofix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:388"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:389"><span class="id" title="variable">idx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:390"><span class="id" title="variable">n</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:391"><span class="id" title="variable">f</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:391"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">heta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cunfold_cofix"><span class="id" title="definition">EGlobalEnv.cunfold_cofix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">heq</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [= &lt;- &lt;-] ⇒ /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_substl"><span class="id" title="lemma">isEtaExp_substl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;3:{ <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#nth_error_all"><span class="id" title="lemma">nth_error_all</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">heta</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">heta</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">len</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cofix_subst_length"><span class="id" title="lemma">cofix_subst_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cofix_subst"><span class="id" title="definition">cofix_subst</span></a>. <span class="id" title="tactic">generalize</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">heta</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp_eta</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_tApp" class="idref" href="#isEtaExp_tApp"><span class="id" title="lemma">isEtaExp_tApp</span></a> <a id="c0adb9293ed16055c095799490bd4254" class="idref" href="#c0adb9293ed16055c095799490bd4254"><span class="id" title="binder">Γ</span></a> <a id="f:393" class="idref" href="#f:393"><span class="id" title="binder">f</span></a> <a id="u:394" class="idref" href="#u:394"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#c0adb9293ed16055c095799490bd4254"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:393"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#u:394"><span class="id" title="variable">u</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="hd:395" class="idref" href="#hd:395"><span class="id" title="binder">hd</span></a>, <a id="v:396" class="idref" href="#v:396"><span class="id" title="binder">v</span></a>) := <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:393"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#u:394"><span class="id" title="variable">u</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#hd:395"><span class="id" title="variable">hd</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_construct"><span class="id" title="constructor">expanded_head_construct</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">i</span> <span class="id" title="var">block_args</span> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_app"><span class="id" title="definition">isEtaExp_app</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">i</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:396"><span class="id" title="variable">v</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#c0adb9293ed16055c095799490bd4254"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:396"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#is_nil"><span class="id" title="definition">is_nil</span></a> <span class="id" title="var">block_args</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_fix"><span class="id" title="constructor">expanded_head_fix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:396"><span class="id" title="variable">v</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="x:397" class="idref" href="#x:397"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:397"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#rev_map"><span class="id" title="definition">rev_map</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#rarg"><span class="id" title="projection">rarg</span></a>) <span class="id" title="var">mfix</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#c0adb9293ed16055c095799490bd4254"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:397"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>)) <span class="id" title="var">mfix</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#c0adb9293ed16055c095799490bd4254"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:396"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_rel"><span class="id" title="constructor">expanded_head_rel</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Utils.MROption.html#option_default"><span class="id" title="definition">option_default</span></a> (<span class="id" title="keyword">fun</span> <a id="m:398" class="idref" href="#m:398"><span class="id" title="binder">m</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#m:398"><span class="id" title="variable">m</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:396"><span class="id" title="variable">v</span></a>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#c0adb9293ed16055c095799490bd4254"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">n</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="x:399" class="idref" href="#x:399"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#c0adb9293ed16055c095799490bd4254"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:399"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:396"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_other"><span class="id" title="constructor">expanded_head_other</span></a> <span class="id" title="var">t</span> <span class="id" title="var">discr</span> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#c0adb9293ed16055c095799490bd4254"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#hd:395"><span class="id" title="variable">hd</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#c0adb9293ed16055c095799490bd4254"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:396"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>. &nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app_inv"><span class="id" title="lemma">decompose_app_inv</span></a> <span class="id" title="var">da</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app_notApp"><span class="id" title="lemma">decompose_app_notApp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">da</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="section">isEtaExp</span></a>.<br/>
<span class="id" title="keyword">Global Hint Rewrite</span> @<a class="idref" href="MetaRocq.Utils.MRList.html#forallb_InP_spec"><span class="id" title="lemma">forallb_InP_spec</span></a> : <span class="id" title="var">isEtaExp</span>.<br/>
#[<span class="id" title="var">universes</span>(<span class="id" title="var">polymorphic</span>)] <span class="id" title="keyword">Global</span> <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="MetaRocq.Erasure.EPrimitive.html#test_primIn_spec"><span class="id" title="lemma">test_primIn_spec</span></a> : <span class="id" title="var">isEtaExp</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "simp_eta" "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">H</span>) := <span class="id" title="var">simp</span> <span class="id" title="var">isEtaExp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> -?<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_equation_1"><span class="id" title="definition">isEtaExp_equation_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simp_eta</span> := <span class="id" title="var">simp</span> <span class="id" title="var">isEtaExp</span>; <span class="id" title="tactic">rewrite</span> -?<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_equation_1"><span class="id" title="definition">isEtaExp_equation_1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_app_expanded" class="idref" href="#isEtaExp_app_expanded"><span class="id" title="lemma">isEtaExp_app_expanded</span></a> <a id="c702da9f6d180f74783bcbe18fb750f9" class="idref" href="#c702da9f6d180f74783bcbe18fb750f9"><span class="id" title="binder">Σ</span></a> <a id="ind:401" class="idref" href="#ind:401"><span class="id" title="binder">ind</span></a> <a id="idx:402" class="idref" href="#idx:402"><span class="id" title="binder">idx</span></a> <a id="n:403" class="idref" href="#n:403"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_app"><span class="id" title="definition">isEtaExp_app</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#c702da9f6d180f74783bcbe18fb750f9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:401"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:402"><span class="id" title="variable">idx</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:403"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="mind:404" class="idref" href="#mind:404"><span class="id" title="binder">mind</span></a> <a id="idecl:405" class="idref" href="#idecl:405"><span class="id" title="binder">idecl</span></a> <a id="cdecl:406" class="idref" href="#cdecl:406"><span class="id" title="binder">cdecl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#declared_constructor"><span class="id" title="definition">declared_constructor</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#c702da9f6d180f74783bcbe18fb750f9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:401"><span class="id" title="variable">ind</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:402"><span class="id" title="variable">idx</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mind:404"><span class="id" title="variable">mind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idecl:405"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#cdecl:406"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:403"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8.html#d62fe7eb16bd9315a9b7758d6f907270"><span class="id" title="notation">≥</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#cstr_arity"><span class="id" title="definition">cstr_arity</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mind:404"><span class="id" title="variable">mind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#cdecl:406"><span class="id" title="variable">cdecl</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_app"><span class="id" title="definition">isEtaExp_app</span></a>, <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor_pars_args"><span class="id" title="definition">lookup_constructor_pars_args</span></a>, <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a>, <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_minductive"><span class="id" title="definition">lookup_minductive</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">lookup_env</span></a> <span class="id" title="keyword">as</span> [[| <span class="id" title="var">mind</span>] | ] <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="keyword">as</span> [ <span class="id" title="var">idecl</span> | ] <span class="id" title="var">eqn</span>:<span class="id" title="var">E2</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#ind_ctors"><span class="id" title="projection">ind_ctors</span></a> <span class="id" title="var">idecl</span>) <span class="id" title="var">idx</span>) <span class="id" title="keyword">as</span> [ [<span class="id" title="var">cname</span> ?] | ] <span class="id" title="var">eqn</span>:<span class="id" title="var">E3</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">esplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.Compare_dec.html#leb_iff"><span class="id" title="abbreviation">leb_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EAst.html#cstr_arity"><span class="id" title="definition">cstr_arity</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (? &amp; ? &amp; ? &amp; [[]] &amp; <span class="id" title="var">Hle</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.Compare_dec.html#leb_iff"><span class="id" title="abbreviation">leb_iff</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expanded_isEtaExp_app_" class="idref" href="#expanded_isEtaExp_app_"><span class="id" title="lemma">expanded_isEtaExp_app_</span></a> <a id="293e9c7759399745bef31816039123ff" class="idref" href="#293e9c7759399745bef31816039123ff"><span class="id" title="binder">Σ</span></a> <a id="ind:408" class="idref" href="#ind:408"><span class="id" title="binder">ind</span></a> <a id="idx:409" class="idref" href="#idx:409"><span class="id" title="binder">idx</span></a> <a id="n:410" class="idref" href="#n:410"><span class="id" title="binder">n</span></a>  <a id="mind:411" class="idref" href="#mind:411"><span class="id" title="binder">mind</span></a> <a id="idecl:412" class="idref" href="#idecl:412"><span class="id" title="binder">idecl</span></a> <a id="cdecl:413" class="idref" href="#cdecl:413"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#declared_constructor"><span class="id" title="definition">declared_constructor</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#293e9c7759399745bef31816039123ff"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:408"><span class="id" title="variable">ind</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:409"><span class="id" title="variable">idx</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mind:411"><span class="id" title="variable">mind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idecl:412"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#cdecl:413"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:410"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8.html#d62fe7eb16bd9315a9b7758d6f907270"><span class="id" title="notation">≥</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#cstr_arity"><span class="id" title="definition">cstr_arity</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mind:411"><span class="id" title="variable">mind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#cdecl:413"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_app"><span class="id" title="definition">isEtaExp_app</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#293e9c7759399745bef31816039123ff"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:408"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:409"><span class="id" title="variable">idx</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:410"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_app_expanded"><span class="id" title="lemma">isEtaExp_app_expanded</span></a>. <span class="id" title="tactic">eauto</span> 8.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_expanded" class="idref" href="#isEtaExp_expanded"><span class="id" title="lemma">isEtaExp_expanded</span></a> <a id="66bf8e2dd483c8e69a1c0b9ccf600753" class="idref" href="#66bf8e2dd483c8e69a1c0b9ccf600753"><span class="id" title="binder">Σ</span></a> <a id="349eb8d6f3af3fdde1936a5012b44105" class="idref" href="#349eb8d6f3af3fdde1936a5012b44105"><span class="id" title="binder">Γ</span></a> <a id="t:416" class="idref" href="#t:416"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#66bf8e2dd483c8e69a1c0b9ccf600753"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#349eb8d6f3af3fdde1936a5012b44105"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:416"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#66bf8e2dd483c8e69a1c0b9ccf600753"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#349eb8d6f3af3fdde1936a5012b44105"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:416"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_tRel_app"><span class="id" title="constructor">expanded_tRel_app</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">args</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>). <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>); <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.eqb_eq"><span class="id" title="lemma">Nat.eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_InP_spec"><span class="id" title="lemma">forallb_InP_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_Forall"><span class="id" title="lemma">forallb_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#In_All"><span class="id" title="lemma">In_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_iff"><span class="id" title="lemma">andb_true_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> []; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_app_expanded"><span class="id" title="lemma">isEtaExp_app_expanded</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">block_args</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_tConstruct_app"><span class="id" title="constructor">expanded_tConstruct_app</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">args</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_iff"><span class="id" title="lemma">andb_true_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> []. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ind</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_InP_spec"><span class="id" title="lemma">forallb_InP_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_Forall"><span class="id" title="lemma">forallb_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#In_All"><span class="id" title="lemma">In_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_InP_spec"><span class="id" title="lemma">forallb_InP_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_Forall"><span class="id" title="lemma">forallb_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#In_All"><span class="id" title="lemma">In_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#test_primIn_spec"><span class="id" title="lemma">test_primIn_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#In_All"><span class="id" title="lemma">In_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_InP_spec"><span class="id" title="lemma">forallb_InP_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_Forall"><span class="id" title="lemma">forallb_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_app_expanded"><span class="id" title="lemma">isEtaExp_app_expanded</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">block_args</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_tConstruct_app"><span class="id" title="constructor">expanded_tConstruct_app</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_InP_spec"><span class="id" title="lemma">forallb_InP_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_InP_spec"><span class="id" title="lemma">forallb_InP_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#In_All"><span class="id" title="lemma">In_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#In_All"><span class="id" title="lemma">In_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_tFix"><span class="id" title="constructor">expanded_tFix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="var">solve_all</span>. <span class="id" title="var">solve_all</span>; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hn</span>; <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.leb_le"><span class="id" title="lemma">Nat.leb_le</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_InP_spec"><span class="id" title="lemma">forallb_InP_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_Forall"><span class="id" title="lemma">All_Forall</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_iff"><span class="id" title="lemma">andb_true_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> []. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_InP_spec"><span class="id" title="lemma">forallb_InP_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_Forall"><span class="id" title="lemma">forallb_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span>; <span class="id" title="var">inv</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#In_All"><span class="id" title="lemma">In_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expanded_isEtaExp" class="idref" href="#expanded_isEtaExp"><span class="id" title="lemma">expanded_isEtaExp</span></a> <a id="1a06a293e6df8d9c19c7dcf98c7fcba2" class="idref" href="#1a06a293e6df8d9c19c7dcf98c7fcba2"><span class="id" title="binder">Σ</span></a> <a id="4c9c11c040807cb061cdaf9fd18c0c7f" class="idref" href="#4c9c11c040807cb061cdaf9fd18c0c7f"><span class="id" title="binder">Γ</span></a> <a id="t:419" class="idref" href="#t:419"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#1a06a293e6df8d9c19c7dcf98c7fcba2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#4c9c11c040807cb061cdaf9fd18c0c7f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:419"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#1a06a293e6df8d9c19c7dcf98c7fcba2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#4c9c11c040807cb061cdaf9fd18c0c7f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:419"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="var">simp_eta</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">try</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_iff"><span class="id" title="lemma">andb_true_iff</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_Forall"><span class="id" title="lemma">forallb_Forall</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> //. <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">split</span>. 2: <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.leb_le"><span class="id" title="lemma">Nat.leb_le</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> //. <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>]. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_all</span>; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_Constructor"><span class="id" title="lemma">isEtaExp_Constructor</span></a>. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_Forall"><span class="id" title="lemma">forallb_Forall</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_isEtaExp_app_"><span class="id" title="lemma">expanded_isEtaExp_app_</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="isEtaExp_constant_decl" class="idref" href="#isEtaExp_constant_decl"><span class="id" title="definition">isEtaExp_constant_decl</span></a> <a id="05fc3527d4e8d39ddb0033e4ff9f377e" class="idref" href="#05fc3527d4e8d39ddb0033e4ff9f377e"><span class="id" title="binder">Σ</span></a> <a id="cb:421" class="idref" href="#cb:421"><span class="id" title="binder">cb</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MROption.html#option_default"><span class="id" title="definition">option_default</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#05fc3527d4e8d39ddb0033e4ff9f377e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#cb:421"><span class="id" title="variable">cb</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#cst_body"><span class="id" title="projection">cst_body</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="isEtaExp_decl" class="idref" href="#isEtaExp_decl"><span class="id" title="definition">isEtaExp_decl</span></a> <a id="74ab8167a0d7abc6ee9cb27c77b5befd" class="idref" href="#74ab8167a0d7abc6ee9cb27c77b5befd"><span class="id" title="binder">Σ</span></a> <a id="d:423" class="idref" href="#d:423"><span class="id" title="binder">d</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:423"><span class="id" title="variable">d</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EAst.html#ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">cb</span> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_constant_decl"><span class="id" title="definition">isEtaExp_constant_decl</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#74ab8167a0d7abc6ee9cb27c77b5befd"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">cb</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EAst.html#InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">idecl</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="isEtaExp_env" class="idref" href="#isEtaExp_env"><span class="id" title="definition">isEtaExp_env</span></a> (<a id="76510ede57ff43f9b174b84aae6b16a6" class="idref" href="#76510ede57ff43f9b174b84aae6b16a6"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#global_declarations"><span class="id" title="definition">global_declarations</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#76510ede57ff43f9b174b84aae6b16a6"><span class="id" title="variable">Σ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">decl</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Σ</span> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_decl"><span class="id" title="definition">isEtaExp_decl</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#76510ede57ff43f9b174b84aae6b16a6"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">decl</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_env:426"><span class="id" title="definition">isEtaExp_env</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#76510ede57ff43f9b174b84aae6b16a6"><span class="id" title="variable">Σ</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closedn_mkApps" class="idref" href="#closedn_mkApps"><span class="id" title="lemma">closedn_mkApps</span></a> <a id="k:428" class="idref" href="#k:428"><span class="id" title="binder">k</span></a> <a id="f:429" class="idref" href="#f:429"><span class="id" title="binder">f</span></a> <a id="l:430" class="idref" href="#l:430"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaRocq.Erasure.ELiftSubst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#k:428"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:429"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#l:430"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ELiftSubst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#k:428"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:429"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.ELiftSubst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#k:428"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#l:430"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span> |- *; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span> /= <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_assoc"><span class="id" title="lemma">andb_assoc</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_inductive_pars_constructor_pars_args" class="idref" href="#lookup_inductive_pars_constructor_pars_args"><span class="id" title="lemma">lookup_inductive_pars_constructor_pars_args</span></a> <a id="790f7a461bb9df3cbf16e2ea7438ce41" class="idref" href="#790f7a461bb9df3cbf16e2ea7438ce41"><span class="id" title="binder">Σ</span></a> {<a id="ind:432" class="idref" href="#ind:432"><span class="id" title="binder">ind</span></a> <a id="n:433" class="idref" href="#n:433"><span class="id" title="binder">n</span></a> <a id="pars:434" class="idref" href="#pars:434"><span class="id" title="binder">pars</span></a> <a id="args:435" class="idref" href="#args:435"><span class="id" title="binder">args</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor_pars_args"><span class="id" title="definition">lookup_constructor_pars_args</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#790f7a461bb9df3cbf16e2ea7438ce41"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:432"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:433"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#pars:434"><span class="id" title="variable">pars</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:435"><span class="id" title="variable">args</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive_pars"><span class="id" title="definition">lookup_inductive_pars</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#790f7a461bb9df3cbf16e2ea7438ce41"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:432"><span class="id" title="variable">ind</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#pars:434"><span class="id" title="variable">pars</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor_pars_args"><span class="id" title="definition">lookup_constructor_pars_args</span></a> /<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive_pars"><span class="id" title="definition">lookup_inductive_pars</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor"><span class="id" title="definition">lookup_constructor</span></a>, <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_minductive"><span class="id" title="definition">lookup_minductive</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> ⇒ //. <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_tApp'" class="idref" href="#isEtaExp_tApp'"><span class="id" title="lemma">isEtaExp_tApp'</span></a> {<a id="e024755d3ac9c32112cec7bbc241e22f" class="idref" href="#e024755d3ac9c32112cec7bbc241e22f"><span class="id" title="binder">Σ</span></a>} {<a id="5aeefd2201fe7abdaf9a67d14f85502c" class="idref" href="#5aeefd2201fe7abdaf9a67d14f85502c"><span class="id" title="binder">Γ</span></a>} {<a id="f:438" class="idref" href="#f:438"><span class="id" title="binder">f</span></a> <a id="u:439" class="idref" href="#u:439"><span class="id" title="binder">u</span></a>} : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#e024755d3ac9c32112cec7bbc241e22f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#5aeefd2201fe7abdaf9a67d14f85502c"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:438"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#u:439"><span class="id" title="variable">u</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="hd:440" class="idref" href="#hd:440"><span class="id" title="binder">hd</span></a>, <a id="args:441" class="idref" href="#args:441"><span class="id" title="binder">args</span></a>) := <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:438"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#u:439"><span class="id" title="variable">u</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#hd:440"><span class="id" title="variable">hd</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_construct"><span class="id" title="constructor">expanded_head_construct</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">c</span> <span class="id" title="var">block_args</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:441"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:438"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#hd:440"><span class="id" title="variable">hd</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last"><span class="id" title="definition">remove_last</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:441"><span class="id" title="variable">args</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#u:439"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#last"><span class="id" title="definition">last</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:441"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#u:439"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_app"><span class="id" title="definition">isEtaExp_app</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#e024755d3ac9c32112cec7bbc241e22f"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">c</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:441"><span class="id" title="variable">args</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#e024755d3ac9c32112cec7bbc241e22f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#5aeefd2201fe7abdaf9a67d14f85502c"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:441"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#is_nil"><span class="id" title="definition">is_nil</span></a> <span class="id" title="var">block_args</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_fix"><span class="id" title="constructor">expanded_head_fix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:441"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:438"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#hd:440"><span class="id" title="variable">hd</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last"><span class="id" title="definition">remove_last</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:441"><span class="id" title="variable">args</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#u:439"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#last"><span class="id" title="definition">last</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:441"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#u:439"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:441"><span class="id" title="variable">args</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="d:442" class="idref" href="#d:442"><span class="id" title="binder">d</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:442"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#e024755d3ac9c32112cec7bbc241e22f"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#rev_map"><span class="id" title="definition">rev_map</span></a> (<span class="id" title="keyword">fun</span>  <a id="d:443" class="idref" href="#d:443"><span class="id" title="binder">d</span></a> ⇒ 1 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:443"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#rarg"><span class="id" title="projection">rarg</span></a>)) <span class="id" title="var">mfix</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#5aeefd2201fe7abdaf9a67d14f85502c"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:442"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>)) <span class="id" title="var">mfix</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#e024755d3ac9c32112cec7bbc241e22f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#5aeefd2201fe7abdaf9a67d14f85502c"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:441"><span class="id" title="variable">args</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_rel"><span class="id" title="constructor">expanded_head_rel</span></a> <span class="id" title="var">n</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:441"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:438"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#hd:440"><span class="id" title="variable">hd</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last"><span class="id" title="definition">remove_last</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:441"><span class="id" title="variable">args</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#u:439"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#last"><span class="id" title="definition">last</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:441"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#u:439"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MROption.html#option_default"><span class="id" title="definition">option_default</span></a> (<span class="id" title="keyword">fun</span> <a id="m:444" class="idref" href="#m:444"><span class="id" title="binder">m</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#m:444"><span class="id" title="variable">m</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:441"><span class="id" title="variable">args</span></a>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#5aeefd2201fe7abdaf9a67d14f85502c"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">n</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="x:445" class="idref" href="#x:445"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#e024755d3ac9c32112cec7bbc241e22f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#5aeefd2201fe7abdaf9a67d14f85502c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#x:445"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:441"><span class="id" title="variable">args</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_other"><span class="id" title="constructor">expanded_head_other</span></a> <span class="id" title="var">_</span> <span class="id" title="var">discr</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">[&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#e024755d3ac9c32112cec7bbc241e22f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#5aeefd2201fe7abdaf9a67d14f85502c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#hd:440"><span class="id" title="variable">hd</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#e024755d3ac9c32112cec7bbc241e22f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#5aeefd2201fe7abdaf9a67d14f85502c"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:441"><span class="id" title="variable">args</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#e024755d3ac9c32112cec7bbc241e22f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#5aeefd2201fe7abdaf9a67d14f85502c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:438"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#e024755d3ac9c32112cec7bbc241e22f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#5aeefd2201fe7abdaf9a67d14f85502c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#u:439"><span class="id" title="variable">u</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/(<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_tApp"><span class="id" title="lemma">isEtaExp_tApp</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">f</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">u</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a>]. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">cv</span> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app_inv"><span class="id" title="lemma">decompose_app_inv</span></a> <span class="id" title="var">da</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app_notApp"><span class="id" title="lemma">decompose_app_notApp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">da</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_case"><span class="id" title="lemma">rev_case</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="var">solve_discr</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#remove_last_app"><span class="id" title="lemma">remove_last_app</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#last_last"><span class="id" title="lemma">last_last</span></a>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app_inv"><span class="id" title="lemma">decompose_app_inv</span></a> <span class="id" title="var">da</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app_notApp"><span class="id" title="lemma">decompose_app_notApp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">da</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_case"><span class="id" title="lemma">rev_case</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="var">solve_discr</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#remove_last_app"><span class="id" title="lemma">remove_last_app</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#last_last"><span class="id" title="lemma">last_last</span></a>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app_inv"><span class="id" title="lemma">decompose_app_inv</span></a> <span class="id" title="var">da</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app_notApp"><span class="id" title="lemma">decompose_app_notApp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">da</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_case"><span class="id" title="lemma">rev_case</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="var">solve_discr</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#remove_last_app"><span class="id" title="lemma">remove_last_app</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#last_last"><span class="id" title="lemma">last_last</span></a>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app_inv"><span class="id" title="lemma">decompose_app_inv</span></a> <span class="id" title="var">da</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app_notApp"><span class="id" title="lemma">decompose_app_notApp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">da</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_case"><span class="id" title="lemma">rev_case</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">etat</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb_app"><span class="id" title="lemma">forallb_app</span></a> ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">etal</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a> ⇒ <span class="id" title="var">etaa</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">etaa</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">etat</span> <span class="id" title="var">etal</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="decompose_app_tApp_split" class="idref" href="#decompose_app_tApp_split"><span class="id" title="lemma">decompose_app_tApp_split</span></a> <a id="f:446" class="idref" href="#f:446"><span class="id" title="binder">f</span></a> <a id="a:447" class="idref" href="#a:447"><span class="id" title="binder">a</span></a> <a id="hd:448" class="idref" href="#hd:448"><span class="id" title="binder">hd</span></a> <a id="args:449" class="idref" href="#args:449"><span class="id" title="binder">args</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:446"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a:447"><span class="id" title="variable">a</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#hd:448"><span class="id" title="variable">hd</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:449"><span class="id" title="variable">args</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:446"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#hd:448"><span class="id" title="variable">hd</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last"><span class="id" title="definition">remove_last</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:449"><span class="id" title="variable">args</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a:447"><span class="id" title="variable">a</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#last"><span class="id" title="definition">last</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:449"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a:447"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app_rec_inv'"><span class="id" title="lemma">decompose_app_rec_inv'</span></a> ⇒ [<span class="id" title="var">n</span> [<span class="id" title="var">napp</span> [<span class="id" title="var">hskip</span> <span class="id" title="var">heq</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#firstn_skipn"><span class="id" title="lemma">firstn_skipn</span></a> <span class="id" title="var">n</span> <span class="id" title="var">args</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">hskip</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#last_last"><span class="id" title="lemma">last_last</span></a>; <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">heq</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#remove_last_app"><span class="id" title="lemma">remove_last_app</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_lookup_ext" class="idref" href="#isEtaExp_lookup_ext"><span class="id" title="lemma">isEtaExp_lookup_ext</span></a> {<a id="8dd477a8d43c08a718840f17756da579" class="idref" href="#8dd477a8d43c08a718840f17756da579"><span class="id" title="binder">Σ</span></a>} {<a id="kn:451" class="idref" href="#kn:451"><span class="id" title="binder">kn</span></a> <a id="d:452" class="idref" href="#d:452"><span class="id" title="binder">d</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_env"><span class="id" title="definition">isEtaExp_env</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#8dd477a8d43c08a718840f17756da579"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#8dd477a8d43c08a718840f17756da579"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#kn:451"><span class="id" title="variable">kn</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:452"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="f243a08b4dc301159718071ad4717576" class="idref" href="#f243a08b4dc301159718071ad4717576"><span class="id" title="binder">Σ'</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#extends_prefix"><span class="id" title="definition">extends_prefix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f243a08b4dc301159718071ad4717576"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#8dd477a8d43c08a718840f17756da579"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_decl"><span class="id" title="definition">isEtaExp_decl</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f243a08b4dc301159718071ad4717576"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:452"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">_</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#declared_constant"><span class="id" title="definition">declared_constant</span></a> /<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">lookup_env</span></a> /= //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">etaa</span> <span class="id" title="var">etaΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn'</span> <span class="id" title="var">d'</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_specT"><span class="id" title="lemma">eqb_specT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">subst</span> <span class="id" title="var">kn'</span>. <span class="id" title="tactic">move</span>⇒ [=]. <span class="id" title="tactic">intros</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">Σ</span>. <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">d</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">hkn</span>; <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">Hl</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHΣ</span> <span class="id" title="var">etaΣ</span> <span class="id" title="var">Hl</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ'</span> [<span class="id" title="var">ext</span> <span class="id" title="var">eta</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">Σ'</span>; <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ext</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ''</span> -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">d'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">Σ''</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_app_extends" class="idref" href="#isEtaExp_app_extends"><span class="id" title="lemma">isEtaExp_app_extends</span></a> {<a id="efl:454" class="idref" href="#efl:454"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaRocq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} <a id="e965474e6b22765bf196476d81220dfd" class="idref" href="#e965474e6b22765bf196476d81220dfd"><span class="id" title="binder">Σ</span></a> <a id="9c6246e530cdea4c3f2e93f78e0db644" class="idref" href="#9c6246e530cdea4c3f2e93f78e0db644"><span class="id" title="binder">Σ'</span></a> <a id="ind:457" class="idref" href="#ind:457"><span class="id" title="binder">ind</span></a> <a id="k:458" class="idref" href="#k:458"><span class="id" title="binder">k</span></a> <a id="n:459" class="idref" href="#n:459"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#extends"><span class="id" title="definition">extends</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#e965474e6b22765bf196476d81220dfd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#9c6246e530cdea4c3f2e93f78e0db644"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#9c6246e530cdea4c3f2e93f78e0db644"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_app"><span class="id" title="definition">isEtaExp_app</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#e965474e6b22765bf196476d81220dfd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:457"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#k:458"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:459"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_app"><span class="id" title="definition">isEtaExp_app</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#9c6246e530cdea4c3f2e93f78e0db644"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ind:457"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#k:458"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:459"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_app"><span class="id" title="definition">isEtaExp_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor_pars_args"><span class="id" title="definition">lookup_constructor_pars_args</span></a> /<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor"><span class="id" title="definition">lookup_constructor</span></a> /<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a> /<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_minductive"><span class="id" title="definition">lookup_minductive</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">ext</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">lookup_env</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">hl</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Erasure.EWellformed.html#extends_lookup"><span class="id" title="lemma">extends_lookup</span></a> <span class="id" title="keyword">wf</span> <span class="id" title="var">ext</span> <span class="id" title="var">hl</span>) /= //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_extends" class="idref" href="#isEtaExp_extends"><span class="id" title="lemma">isEtaExp_extends</span></a> {<a id="efl:460" class="idref" href="#efl:460"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaRocq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} <a id="cbb97f04bec95e53a257c92043e36147" class="idref" href="#cbb97f04bec95e53a257c92043e36147"><span class="id" title="binder">Σ</span></a> <a id="9ba00f7e87ca43602704b60505cc4806" class="idref" href="#9ba00f7e87ca43602704b60505cc4806"><span class="id" title="binder">Σ'</span></a> <a id="b7bfa96db3dcef8f37ba3781919ec0a9" class="idref" href="#b7bfa96db3dcef8f37ba3781919ec0a9"><span class="id" title="binder">Γ</span></a> <a id="t:464" class="idref" href="#t:464"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#extends"><span class="id" title="definition">extends</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#cbb97f04bec95e53a257c92043e36147"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#9ba00f7e87ca43602704b60505cc4806"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#9ba00f7e87ca43602704b60505cc4806"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#cbb97f04bec95e53a257c92043e36147"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#b7bfa96db3dcef8f37ba3781919ec0a9"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:464"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#9ba00f7e87ca43602704b60505cc4806"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#b7bfa96db3dcef8f37ba3781919ec0a9"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:464"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ext</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span>); <span class="id" title="var">simp_eta</span> ⇒ //; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#In_All"><span class="id" title="lemma">In_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_app_extends"><span class="id" title="lemma">isEtaExp_app_extends</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#In_All"><span class="id" title="lemma">In_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#In_All"><span class="id" title="lemma">In_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#InPrim_primProp"><span class="id" title="lemma">InPrim_primProp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#In_All"><span class="id" title="lemma">In_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_Constructor"><span class="id" title="lemma">isEtaExp_Constructor</span></a> //. <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_app_extends"><span class="id" title="lemma">isEtaExp_app_extends</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#In_All"><span class="id" title="lemma">In_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>]. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">solve_all</span>; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#In_All"><span class="id" title="lemma">In_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>]. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#In_All"><span class="id" title="lemma">In_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_extends_decl" class="idref" href="#isEtaExp_extends_decl"><span class="id" title="lemma">isEtaExp_extends_decl</span></a> {<a id="efl:465" class="idref" href="#efl:465"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaRocq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} <a id="95c2e3ac6a66245dceb74c567f8b80c6" class="idref" href="#95c2e3ac6a66245dceb74c567f8b80c6"><span class="id" title="binder">Σ</span></a> <a id="c7124165b36bee35e104555683051cd5" class="idref" href="#c7124165b36bee35e104555683051cd5"><span class="id" title="binder">Σ'</span></a> <a id="t:468" class="idref" href="#t:468"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#extends"><span class="id" title="definition">extends</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#95c2e3ac6a66245dceb74c567f8b80c6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#c7124165b36bee35e104555683051cd5"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#c7124165b36bee35e104555683051cd5"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_decl"><span class="id" title="definition">isEtaExp_decl</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#95c2e3ac6a66245dceb74c567f8b80c6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:468"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_decl"><span class="id" title="definition">isEtaExp_decl</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#c7124165b36bee35e104555683051cd5"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:468"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ext</span> <span class="id" title="keyword">wf</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="var">cbn</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_constant_decl"><span class="id" title="definition">isEtaExp_constant_decl</span></a>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.EAst.html#cst_body"><span class="id" title="projection">cst_body</span></a> <span class="id" title="var">c</span>) ⇒ /= //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_extends"><span class="id" title="lemma">isEtaExp_extends</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_lookup" class="idref" href="#isEtaExp_lookup"><span class="id" title="lemma">isEtaExp_lookup</span></a> {<a id="efl:469" class="idref" href="#efl:469"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaRocq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="e8dd90993f2f71151050fcaf1974a0b2" class="idref" href="#e8dd90993f2f71151050fcaf1974a0b2"><span class="id" title="binder">Σ</span></a> <a id="kn:471" class="idref" href="#kn:471"><span class="id" title="binder">kn</span></a> <a id="d:472" class="idref" href="#d:472"><span class="id" title="binder">d</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_env"><span class="id" title="definition">isEtaExp_env</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#e8dd90993f2f71151050fcaf1974a0b2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#e8dd90993f2f71151050fcaf1974a0b2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#e8dd90993f2f71151050fcaf1974a0b2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#kn:471"><span class="id" title="variable">kn</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:472"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_decl"><span class="id" title="definition">isEtaExp_decl</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#e8dd90993f2f71151050fcaf1974a0b2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:472"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">etaΣ</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/(<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_lookup_ext"><span class="id" title="lemma">isEtaExp_lookup_ext</span></a> <span class="id" title="var">etaΣ</span>) ⇒ [<span class="id" title="var">Σ'</span> []] <span class="id" title="var">ext</span> <span class="id" title="var">hd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_extends_decl"><span class="id" title="lemma">isEtaExp_extends_decl</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EExtends.html#extends_prefix_extends"><span class="id" title="lemma">extends_prefix_extends</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#lookup_inductive_pars_constructor_pars_args"><span class="id" title="lemma">lookup_inductive_pars_constructor_pars_args</span></a> {<span class="id" title="var">Σ</span> <span class="id" title="var">ind</span> <span class="id" title="var">n</span> <span class="id" title="var">pars</span> <span class="id" title="var">args</span>}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eval_etaexp" class="idref" href="#eval_etaexp"><span class="id" title="lemma">eval_etaexp</span></a> {<a id="fl:473" class="idref" href="#fl:473"><span class="id" title="binder">fl</span></a> : <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#WcbvFlags"><span class="id" title="class">WcbvFlags</span></a>} {<a id="efl:474" class="idref" href="#efl:474"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaRocq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="wcon:475" class="idref" href="#wcon:475"><span class="id" title="binder">wcon</span></a> : <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#with_constructor_as_block"><span class="id" title="method">with_constructor_as_block</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>} {<a id="7e8f39d3d2b243d98b0b1afc45a0c33a" class="idref" href="#7e8f39d3d2b243d98b0b1afc45a0c33a"><span class="id" title="binder">Σ</span></a> <a id="a:477" class="idref" href="#a:477"><span class="id" title="binder">a</span></a> <a id="a':478" class="idref" href="#a':478"><span class="id" title="binder">a'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_env"><span class="id" title="definition">isEtaExp_env</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#7e8f39d3d2b243d98b0b1afc45a0c33a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#7e8f39d3d2b243d98b0b1afc45a0c33a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#7e8f39d3d2b243d98b0b1afc45a0c33a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a:477"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a':478"><span class="id" title="variable">a'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#7e8f39d3d2b243d98b0b1afc45a0c33a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a:477"><span class="id" title="variable">a</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#7e8f39d3d2b243d98b0b1afc45a0c33a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a':478"><span class="id" title="variable">a'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">etaΣ</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">as</span> [ | ? ? ? ? ? ? ? ? <span class="id" title="var">IHs</span> | | | | | ? ? ? ? ? ? ? ? ? ? ? <span class="id" title="var">IHs</span> | ? ? ? ? ? ? ? ? ? ? ? <span class="id" title="var">IHs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| ? ? ? ? ? ? ? ? ? ? <span class="id" title="var">IHs</span> | | | | | | | | | | | | ] <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEvalInd.html#eval_mkApps_rect"><span class="id" title="lemma">eval_mkApps_rect</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="var">simp</span> <span class="id" title="var">isEtaExp</span>; <span class="id" title="tactic">rewrite</span> -?<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_equation_1"><span class="id" title="definition">isEtaExp_equation_1</span></a> ⇒ //.<br/>
&nbsp;&nbsp;6:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_tApp'"><span class="id" title="lemma">isEtaExp_tApp'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">vc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span> ⇒ [<span class="id" title="var">hl</span> [<span class="id" title="var">hf</span> [<span class="id" title="var">ha</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">ise</span> <span class="id" title="var">etal</span> <span class="id" title="var">bargs</span>]]]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">block_args</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">H'</span> := <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">hf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_Construct_inv"><span class="id" title="lemma">eval_mkApps_Construct_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span> <span class="id" title="keyword">as</span> [? []]. <span class="id" title="var">exfalso</span>. <span class="id" title="var">solve_discr</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span> ⇒ [<span class="id" title="var">hl</span> [<span class="id" title="var">hf</span> [<span class="id" title="var">ha</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">etal</span> <span class="id" title="var">etab</span>]]] <span class="id" title="var">isel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tFix"><span class="id" title="constructor">EAst.tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>) <span class="id" title="var">argsv</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">av</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_tFix_inv_size"><span class="id" title="lemma">eval_mkApps_tFix_inv_size</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Heval</span> := <span class="id" title="var">H</span>); <span class="id" title="tactic">intros</span> [(<span class="id" title="var">args'</span> &amp; ? &amp; <span class="id" title="var">Heq</span>) | (? &amp; ? &amp; ? &amp; ? &amp; ?)]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app_mkApps"><span class="id" title="lemma">decompose_app_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span> ⇒ //. <span class="id" title="var">invs</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>]. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hn</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">etal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#remove_last_length'"><span class="id" title="lemma">remove_last_length'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a0</span> |-*. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">sq</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>. 2:{ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ha</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_last"><span class="id" title="lemma">Forall_last</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_remove_last"><span class="id" title="lemma">All_remove_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHs</span>. 2: <span class="id" title="tactic">eauto</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHeval1</span> |- × ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>] <span class="id" title="tactic">in</span> ×. <span class="id" title="var">forward</span> <span class="id" title="var">IHeval1</span>; <span class="id" title="var">rtoProp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">solve_all</span>. 2:{ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Utils.MRList.html#remove_last"><span class="id" title="definition">remove_last</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_firstn"><span class="id" title="lemma">All_firstn</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a>, <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cunfold_fix"><span class="id" title="definition">cunfold_fix</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">IHeval1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="var">invs</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">etal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">solve_all</span>. 2:{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ha</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_last"><span class="id" title="lemma">Forall_last</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a>, <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cunfold_fix"><span class="id" title="definition">cunfold_fix</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="var">invs</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>, <span class="id" title="var">etal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> (? &amp; ? &amp; ? &amp; ?). <span class="id" title="var">rtoProp</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_nil"><span class="id" title="lemma">nth_error_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#and4P"><span class="id" title="lemma">and4P</span></a> ⇒ [] <span class="id" title="var">etat</span> <span class="id" title="var">etal</span> <span class="id" title="var">etaf</span> <span class="id" title="var">etaa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>) <span class="id" title="var">argsv</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">av</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHeval1</span> <span class="id" title="var">etaf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHeval1</span> |- × ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>] <span class="id" title="tactic">in</span> ×. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a>, <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cunfold_fix"><span class="id" title="definition">cunfold_fix</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;5:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_tApp'"><span class="id" title="lemma">isEtaExp_tApp'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">vc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span> ⇒ [<span class="id" title="var">hl</span> [<span class="id" title="var">hf</span> [<span class="id" title="var">ha</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">ise</span> <span class="id" title="var">etal</span> <span class="id" title="var">bargs</span>]]]. <span class="id" title="tactic">clear</span> <span class="id" title="var">IHs</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">block_args</span>; <span class="id" title="var">inv</span> <span class="id" title="var">bargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">hf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_Construct_inv"><span class="id" title="lemma">eval_mkApps_Construct_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? []]. <span class="id" title="var">exfalso</span>. <span class="id" title="var">solve_discr</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span> ⇒ [<span class="id" title="var">hl</span> [<span class="id" title="var">hf</span> [<span class="id" title="var">ha</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">etal</span> <span class="id" title="var">etab</span>]]] <span class="id" title="var">isel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval3</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> <span class="id" title="var">fn</span> <span class="id" title="var">argsv</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">av</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H3</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">a</span>). { <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ha</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_last"><span class="id" title="lemma">Forall_last</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_tFix_inv_size"><span class="id" title="lemma">eval_mkApps_tFix_inv_size</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Heval</span> := <span class="id" title="var">H</span>); <span class="id" title="tactic">intros</span> [(<span class="id" title="var">args'</span> &amp; ? &amp; <span class="id" title="var">Heq</span>) | (? &amp; ? &amp; ? &amp; ? &amp; ?)]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app_mkApps"><span class="id" title="lemma">decompose_app_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span> ⇒ //. <span class="id" title="var">invs</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_cunfold_fix"><span class="id" title="lemma">isEtaExp_cunfold_fix</span></a>. 2: <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>. 2: <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_remove_last"><span class="id" title="lemma">All_remove_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHs</span>. 2: <span class="id" title="tactic">eauto</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">forward</span> <span class="id" title="var">IHeval1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>]. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_firstn"><span class="id" title="lemma">All_firstn</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a>, <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cunfold_fix"><span class="id" title="definition">cunfold_fix</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHeval1</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>] <span class="id" title="tactic">in</span> <span class="id" title="var">IHeval1</span>. <span class="id" title="var">rtoProp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_cunfold_fix"><span class="id" title="lemma">isEtaExp_cunfold_fix</span></a>. 2: <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>. 2: <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> (? &amp; ? &amp; ? &amp; ?). <span class="id" title="var">rtoProp</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_nil"><span class="id" title="lemma">nth_error_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#and4P"><span class="id" title="lemma">and4P</span></a> ⇒ [] <span class="id" title="var">etat</span> <span class="id" title="var">etal</span> <span class="id" title="var">etaf</span> <span class="id" title="var">etaa</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> <span class="id" title="var">fn</span> <span class="id" title="var">argsv</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">av</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHeval1</span> <span class="id" title="var">etaf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHeval1</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>] <span class="id" title="tactic">in</span> ×. <span class="id" title="var">rtoProp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_cunfold_fix"><span class="id" title="lemma">isEtaExp_cunfold_fix</span></a>. 2: <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>. 2: <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;11:{ <span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_tApp'"><span class="id" title="lemma">isEtaExp_tApp'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">move</span>⇒ [] <span class="id" title="var">hl</span> [] <span class="id" title="var">hf</span> [] <span class="id" title="var">ha</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">hl'</span> <span class="id" title="var">etal</span> <span class="id" title="var">bargs</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">block_args</span>; <span class="id" title="var">inv</span> <span class="id" title="var">bargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">H</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hf</span> ⇒ <span class="id" title="var">H</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_construct_size"><span class="id" title="lemma">eval_construct_size</span></a> <span class="id" title="var">wcon</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">args'</span> []]. <span class="id" title="tactic">subst</span> <span class="id" title="var">f'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isConstructApp_mkApps"><span class="id" title="lemma">isConstructApp_mkApps</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#negb_or"><span class="id" title="lemma">negb_or</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>. <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">move</span> ⇒ [<span class="id" title="var">hl</span> [<span class="id" title="var">hf</span> [<span class="id" title="var">ha</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">etal</span> <span class="id" title="var">etab</span>]]] <span class="id" title="var">isel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">a</span>). { <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ha</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_last"><span class="id" title="lemma">Forall_last</span></a>; <span class="id" title="var">solve_all</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#with_guarded_fix"><span class="id" title="method">with_guarded_fix</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">guarded</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_tFix_inv_size"><span class="id" title="lemma">eval_mkApps_tFix_inv_size</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Heval</span> := <span class="id" title="var">H</span>); <span class="id" title="tactic">intros</span> [(<span class="id" title="var">args'</span> &amp; ? &amp; <span class="id" title="var">Heq</span>) | (? &amp; ? &amp; ? &amp; ? &amp; ?)]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isFixApp_mkApps"><span class="id" title="lemma">isFixApp_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span> ⇒ //. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EAst.html#isLambda"><span class="id" title="definition">EAst.isLambda</span></a>; <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval1</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>]. <span class="id" title="var">rtoProp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_firstn"><span class="id" title="lemma">All_firstn</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a>,  <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cunfold_fix"><span class="id" title="definition">cunfold_fix</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">invs</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a>. <span class="id" title="var">lia</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_tFix_inv_size_unguarded"><span class="id" title="lemma">eval_mkApps_tFix_inv_size_unguarded</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Heval</span> := <span class="id" title="var">H</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">Hinv</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinv</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Heq</span> -&gt;] | (<span class="id" title="var">a_</span> &amp; <span class="id" title="var">a_'</span> &amp; <span class="id" title="var">args'</span> &amp; <span class="id" title="var">argsv</span> &amp; <span class="id" title="var">Heq</span> &amp; <span class="id" title="var">Hall</span> &amp; <span class="id" title="var">n</span> &amp; <span class="id" title="var">fn</span> &amp; <span class="id" title="var">Hunf</span> &amp; <span class="id" title="var">Haa'</span> &amp; <span class="id" title="var">Hev</span> &amp; <span class="id" title="var">Hev'</span> &amp; <span class="id" title="var">Hsz</span>)]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>. 2: <span class="id" title="tactic">eauto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">fn</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a_'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">eauto</span>. 2: <span class="id" title="tactic">econstructor</span>; [ | <span class="id" title="tactic">econstructor</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_cunfold_fix"><span class="id" title="lemma">isEtaExp_cunfold_fix</span></a>. 2: <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_firstn"><span class="id" title="lemma">All_firstn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Utils.MRList.html#remove_last"><span class="id" title="definition">remove_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_Forall"><span class="id" title="lemma">All_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>. <span class="id" title="var">invs</span> <span class="id" title="var">isel</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_Forall"><span class="id" title="lemma">forallb_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_firstn"><span class="id" title="lemma">Forall_firstn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Utils.MRList.html#remove_last"><span class="id" title="definition">remove_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_All"><span class="id" title="lemma">Forall_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>. <span class="id" title="var">invs</span> <span class="id" title="var">isel</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b0</span>. <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>. 2: <span class="id" title="tactic">eauto</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> (? &amp; ? &amp; ? &amp; ?). <span class="id" title="var">rtoProp</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_nil"><span class="id" title="lemma">nth_error_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#and4P"><span class="id" title="lemma">and4P</span></a> ⇒ [] <span class="id" title="var">etat</span> <span class="id" title="var">etal</span> <span class="id" title="var">etaf</span> <span class="id" title="var">etaa</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;10:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_tApp'"><span class="id" title="lemma">isEtaExp_tApp'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>⇒ [] <span class="id" title="var">hl</span> [] <span class="id" title="var">hf</span> [] <span class="id" title="var">ha</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">hl'</span> <span class="id" title="var">etal</span> <span class="id" title="var">bargs</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">block_args</span>; <span class="id" title="var">inv</span> <span class="id" title="var">bargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -[<a class="idref" href="MetaRocq.Erasure.EAst.html#tApp"><span class="id" title="constructor">EAst.tApp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>](<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_Constructor"><span class="id" title="lemma">isEtaExp_Constructor</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hf</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_Construct_size"><span class="id" title="lemma">eval_mkApps_Construct_size</span></a> <span class="id" title="var">wcon</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">args''</span> [<span class="id" title="var">evc</span> []]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_eq_inj"><span class="id" title="lemma">mkApps_eq_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e1</span> <span class="id" title="keyword">as</span> [] ⇒ //. <span class="id" title="tactic">subst</span> <span class="id" title="var">args''</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last_last"><span class="id" title="lemma">remove_last_last</span></a> <span class="id" title="var">l0</span> <span class="id" title="var">a</span>) // <span class="id" title="tactic">in</span> <span class="id" title="var">hl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_app"><span class="id" title="lemma">length_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="var">a0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last_last"><span class="id" title="lemma">remove_last_last</span></a> <span class="id" title="var">l0</span> <span class="id" title="var">a</span>) // <span class="id" title="tactic">in</span> <span class="id" title="var">etal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app"><span class="id" title="lemma">All_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">etal</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">etal</span> <span class="id" title="var">etaa</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">etaa</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">etaa</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">ha</span> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ev</span> <span class="id" title="var">Hev</span>]. <span class="id" title="tactic">eapply</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ev</span>) ⇒ //. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span> ⇒ [<span class="id" title="var">hl</span> [<span class="id" title="var">hf</span> [<span class="id" title="var">ha</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">etal</span> <span class="id" title="var">etab</span>]]] <span class="id" title="var">isel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">a</span>). { <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ha</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_last"><span class="id" title="lemma">Forall_last</span></a>; <span class="id" title="var">solve_all</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#with_guarded_fix"><span class="id" title="method">with_guarded_fix</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">guarded</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">specialize</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_tFix_inv_size"><span class="id" title="lemma">eval_mkApps_tFix_inv_size</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Heval</span> := <span class="id" title="var">H</span>); <span class="id" title="tactic">intros</span> [(<span class="id" title="var">args'</span> &amp; ? &amp; <span class="id" title="var">Heq</span>) | (? &amp; ? &amp; ? &amp; ? &amp; ?)]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">subst</span>. <span class="id" title="var">solve_discr</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval1</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>]. <span class="id" title="var">rtoProp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_firstn"><span class="id" title="lemma">All_firstn</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a>,  <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cunfold_fix"><span class="id" title="definition">cunfold_fix</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_tFix_inv_size_unguarded"><span class="id" title="lemma">eval_mkApps_tFix_inv_size_unguarded</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Heval</span> := <span class="id" title="var">H</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">Hinv</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinv</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Heq</span> <span class="id" title="var">Hv</span>] | (<span class="id" title="var">a_</span> &amp; <span class="id" title="var">a_'</span> &amp; <span class="id" title="var">args'</span> &amp; <span class="id" title="var">argsv</span> &amp; <span class="id" title="var">Heq</span> &amp; <span class="id" title="var">Hall</span> &amp; <span class="id" title="var">n</span> &amp; <span class="id" title="var">fn</span> &amp; <span class="id" title="var">Hunf</span> &amp; <span class="id" title="var">Haa'</span> &amp; <span class="id" title="var">Hev</span> &amp; <span class="id" title="var">Hev'</span> &amp; <span class="id" title="var">Hsz</span>)]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">solve_discr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>. 2: <span class="id" title="tactic">eauto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">fn</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a_'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">eauto</span>. 2: <span class="id" title="tactic">econstructor</span>; [ | <span class="id" title="tactic">econstructor</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_cunfold_fix"><span class="id" title="lemma">isEtaExp_cunfold_fix</span></a>. 2: <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_firstn"><span class="id" title="lemma">All_firstn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Utils.MRList.html#remove_last"><span class="id" title="definition">remove_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_Forall"><span class="id" title="lemma">All_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>. <span class="id" title="var">invs</span> <span class="id" title="var">isel</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_Forall"><span class="id" title="lemma">forallb_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_firstn"><span class="id" title="lemma">Forall_firstn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Utils.MRList.html#remove_last"><span class="id" title="definition">remove_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_All"><span class="id" title="lemma">Forall_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>. <span class="id" title="var">invs</span> <span class="id" title="var">isel</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b0</span>. <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>. 2: <span class="id" title="tactic">eauto</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> (? &amp; ? &amp; ? &amp; ?). <span class="id" title="var">rtoProp</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_nil"><span class="id" title="lemma">nth_error_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#and4P"><span class="id" title="lemma">and4P</span></a> ⇒ [] <span class="id" title="var">etat</span> <span class="id" title="var">etal</span> <span class="id" title="var">etaf</span> <span class="id" title="var">etaa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;1:{ <span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_tApp'"><span class="id" title="lemma">isEtaExp_tApp'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">clear</span> <span class="id" title="var">IHs</span>. <span class="id" title="tactic">move</span>⇒ [] <span class="id" title="var">hl</span> [] <span class="id" title="var">hf</span> [] <span class="id" title="var">ha</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">hl'</span> <span class="id" title="var">etal</span> <span class="id" title="var">bargs</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">block_args</span>; <span class="id" title="var">inv</span> <span class="id" title="var">bargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">H</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hf</span> ⇒ <span class="id" title="var">H</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_Construct_inv"><span class="id" title="lemma">eval_mkApps_Construct_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wcon</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? []];<span class="id" title="var">solve_discr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">solve_all</span>. <span class="id" title="var">rtoProp</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#with_guarded_fix"><span class="id" title="method">with_guarded_fix</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">guarded</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_tFix_inv_size"><span class="id" title="lemma">eval_mkApps_tFix_inv_size</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Heval</span> := <span class="id" title="var">H</span>); <span class="id" title="tactic">intros</span> [(<span class="id" title="var">args'</span> &amp; ? &amp; <span class="id" title="var">Heq</span>) | (? &amp; ? &amp; ? &amp; ? &amp; ?)]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">solve_discr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval3</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#etaExp_csubst"><span class="id" title="lemma">etaExp_csubst</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_last"><span class="id" title="lemma">Forall_last</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>]. <span class="id" title="var">rtoProp</span>; <span class="id" title="var">solve_all</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_firstn"><span class="id" title="lemma">All_firstn</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a>, <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cunfold_fix"><span class="id" title="definition">cunfold_fix</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H8</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp_eta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHeval1</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_tFix_inv_size_unguarded"><span class="id" title="lemma">eval_mkApps_tFix_inv_size_unguarded</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Heval</span> := <span class="id" title="var">H</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">Hinv</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinv</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Heq</span> <span class="id" title="var">Heq'</span>] | (<span class="id" title="var">a_</span> &amp; <span class="id" title="var">a_'</span> &amp; <span class="id" title="var">args'</span> &amp; <span class="id" title="var">argsv</span> &amp; <span class="id" title="var">Heq</span> &amp; <span class="id" title="var">Hall</span> &amp; <span class="id" title="var">n</span> &amp; <span class="id" title="var">fn</span> &amp; <span class="id" title="var">Hunf</span> &amp; <span class="id" title="var">Haa'</span> &amp; <span class="id" title="var">Hsz</span> &amp; <span class="id" title="var">Hev</span> &amp; <span class="id" title="var">Hsz'</span>)]; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval3</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#etaExp_csubst"><span class="id" title="lemma">etaExp_csubst</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_last"><span class="id" title="lemma">Forall_last</span></a>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">fn</span> <span class="id" title="var">a_'</span>) <span class="id" title="var">argsv</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>  (<a class="idref" href="MetaRocq.Erasure.EAst.html#tLambda"><span class="id" title="constructor">EAst.tLambda</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">IH</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp_eta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">fn</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a_'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">eauto</span>. 2: <span class="id" title="tactic">econstructor</span>; [ | <span class="id" title="tactic">econstructor</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_cunfold_fix"><span class="id" title="lemma">isEtaExp_cunfold_fix</span></a>. 2: <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_firstn"><span class="id" title="lemma">All_firstn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span> <span class="id" title="keyword">as</span> <span class="id" title="var">isel</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Utils.MRList.html#remove_last"><span class="id" title="definition">remove_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_Forall"><span class="id" title="lemma">All_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>. <span class="id" title="var">invs</span> <span class="id" title="var">isel</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_Forall"><span class="id" title="lemma">All_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span> <span class="id" title="keyword">as</span> <span class="id" title="var">isel</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_firstn"><span class="id" title="lemma">Forall_firstn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Utils.MRList.html#remove_last"><span class="id" title="definition">remove_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_All"><span class="id" title="lemma">Forall_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>. <span class="id" title="var">invs</span> <span class="id" title="var">isel</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b1</span>. <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHs</span>. 2: <span class="id" title="tactic">eauto</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">solve_all</span>. <span class="id" title="var">rtoProp</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_nil"><span class="id" title="lemma">nth_error_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>; <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#and4P"><span class="id" title="lemma">and4P</span></a> ⇒ [] <span class="id" title="var">etat</span> <span class="id" title="var">etal</span> <span class="id" title="var">etaf</span> <span class="id" title="var">etaa</span>. <span class="id" title="var">simp_eta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHeval1</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval3</span>, <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#etaExp_csubst"><span class="id" title="lemma">etaExp_csubst</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;- <span class="id" title="var">rtoProp</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval2</span>, <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#etaExp_csubst"><span class="id" title="lemma">etaExp_csubst</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval2</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#iota_red"><span class="id" title="definition">iota_red</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_substl"><span class="id" title="lemma">isEtaExp_substl</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Γ</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#repeat"><span class="id" title="definition">repeat</span></a> 0 <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">br</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">len</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_Constructor"><span class="id" title="lemma">isEtaExp_Constructor</span></a> // <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_skipn"><span class="id" title="lemma">All_skipn</span></a>. <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H1</span> ⇒ []. <span class="id" title="tactic">repeat</span> <span class="id" title="var">solve_all</span>. <span class="id" title="var">rtoProp</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_nth_error"><span class="id" title="lemma">forallb_nth_error</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">erewrite</span> <span class="id" title="var">e2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval2</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_substl"><span class="id" title="lemma">isEtaExp_substl</span></a>. <span class="id" title="var">shelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_repeat"><span class="id" title="lemma">forallb_repeat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_tApp'"><span class="id" title="lemma">isEtaExp_tApp'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">clear</span> <span class="id" title="var">IHs</span>. <span class="id" title="tactic">move</span>⇒ [] <span class="id" title="var">hl</span> [] <span class="id" title="var">hf</span> [] <span class="id" title="var">ha</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">hl'</span> <span class="id" title="var">etal</span> <span class="id" title="var">bargs</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">block_args</span>; <span class="id" title="var">inv</span> <span class="id" title="var">bargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">H</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hf</span> ⇒ <span class="id" title="var">H</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_Construct_inv"><span class="id" title="lemma">eval_mkApps_Construct_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wcon</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="var">solve_discr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">solve_all</span>. <span class="id" title="var">rtoProp</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_tFix_inv_size_unguarded"><span class="id" title="lemma">eval_mkApps_tFix_inv_size_unguarded</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Heval</span> := <span class="id" title="var">H</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">Hinv</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinv</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Heq</span> <span class="id" title="var">Heq'</span>] | (<span class="id" title="var">a_</span> &amp; <span class="id" title="var">a_'</span> &amp; <span class="id" title="var">args'</span> &amp; <span class="id" title="var">argsv</span> &amp; <span class="id" title="var">Heq</span> &amp; <span class="id" title="var">Hall</span> &amp; <span class="id" title="var">n</span> &amp; <span class="id" title="var">fn_</span> &amp; <span class="id" title="var">Hunf</span> &amp; <span class="id" title="var">Hav</span> &amp; <span class="id" title="var">Hsza</span> &amp; <span class="id" title="var">Hev</span> &amp; <span class="id" title="var">Hsz</span>)]; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">invs</span> <span class="id" title="var">Heq'</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">fn</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">av</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">eauto</span>. 2: <span class="id" title="tactic">econstructor</span>; [ | <span class="id" title="tactic">econstructor</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_cunfold_fix"><span class="id" title="lemma">isEtaExp_cunfold_fix</span></a>. 2: <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> (<span class="id" title="var">H2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>). <span class="id" title="var">lia</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H6</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_last"><span class="id" title="lemma">Forall_last</span></a>. 2: <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">fn_</span> <span class="id" title="var">a_'</span>) <span class="id" title="var">argsv</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tFix"><span class="id" title="constructor">EAst.tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">fn_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a_'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">eauto</span>. 2: <span class="id" title="tactic">econstructor</span>; [ | <span class="id" title="tactic">econstructor</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_cunfold_fix"><span class="id" title="lemma">isEtaExp_cunfold_fix</span></a>. 2: <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_firstn"><span class="id" title="lemma">All_firstn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H9</span> <span class="id" title="keyword">as</span> <span class="id" title="var">isel</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Utils.MRList.html#remove_last"><span class="id" title="definition">remove_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_Forall"><span class="id" title="lemma">All_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>. <span class="id" title="var">invs</span> <span class="id" title="var">isel</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_firstn"><span class="id" title="lemma">All_firstn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H9</span> <span class="id" title="keyword">as</span> <span class="id" title="var">isel</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Utils.MRList.html#remove_last"><span class="id" title="definition">remove_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_Forall"><span class="id" title="lemma">All_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_All"><span class="id" title="lemma">Forall_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>. <span class="id" title="var">invs</span> <span class="id" title="var">isel</span>. <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>. 2: <span class="id" title="tactic">eauto</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">simp_eta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">solve_all</span>. <span class="id" title="var">rtoProp</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_nil"><span class="id" title="lemma">nth_error_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#and4P"><span class="id" title="lemma">and4P</span></a> ⇒ [] <span class="id" title="var">etat</span> <span class="id" title="var">etal</span> <span class="id" title="var">etaf</span> <span class="id" title="var">etaa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">fn</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">av</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_cunfold_fix"><span class="id" title="lemma">isEtaExp_cunfold_fix</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp_eta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHs</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHs</span> <span class="id" title="var">etaf</span>). <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">hdiscr</span> <span class="id" title="var">hbrs</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHeval1</span> <span class="id" title="var">hdiscr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">IHeval1</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> // /= ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">hcof</span> <span class="id" title="var">hargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval2</span>. <span class="id" title="var">simp_eta</span>. <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_cunfold_cofix"><span class="id" title="lemma">isEtaExp_cunfold_cofix</span></a> <span class="id" title="var">_</span> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp_eta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hcof</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">hdiscr</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHeval1</span> <span class="id" title="var">hdiscr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">IHeval1</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> // /= ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">hcof</span> <span class="id" title="var">hargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval2</span>. <span class="id" title="var">simp_eta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_cunfold_cofix"><span class="id" title="lemma">isEtaExp_cunfold_cofix</span></a> <span class="id" title="var">_</span> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp_eta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hcof</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">_</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_lookup"><span class="id" title="lemma">isEtaExp_lookup</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">move</span>: <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_decl"><span class="id" title="definition">isEtaExp_decl</span></a> /= /<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_constant_decl"><span class="id" title="definition">isEtaExp_constant_decl</span></a> <span class="id" title="var">H0</span> /=.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">hd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval2</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHeval1</span> <span class="id" title="var">hd</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">IHeval1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_Constructor"><span class="id" title="lemma">isEtaExp_Constructor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span> ⇒ //. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_nil"><span class="id" title="lemma">nth_error_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">rtoProp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#nth_error_forallb"><span class="id" title="lemma">nth_error_forallb</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e3</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">X</span>; <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#All2_over_undep"><span class="id" title="lemma">All2_over_undep</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">a0</span> <span class="id" title="var">a'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">solve_all</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simp_eta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHeval1</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_fixapp_mon" class="idref" href="#isEtaExp_fixapp_mon"><span class="id" title="lemma">isEtaExp_fixapp_mon</span></a> {<a id="mfix:479" class="idref" href="#mfix:479"><span class="id" title="binder">mfix</span></a> <a id="idx:480" class="idref" href="#idx:480"><span class="id" title="binder">idx</span></a> <a id="n:481" class="idref" href="#n:481"><span class="id" title="binder">n</span></a> <a id="n':482" class="idref" href="#n':482"><span class="id" title="binder">n'</span></a>} : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:481"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n':482"><span class="id" title="variable">n'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:479"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:480"><span class="id" title="variable">idx</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:481"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:479"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:480"><span class="id" title="variable">idx</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n':482"><span class="id" title="variable">n'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">hnth</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hn</span>. <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a> ⇒ <span class="id" title="var">hl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="isStuckFix'" class="idref" href="#isStuckFix'"><span class="id" title="definition">isStuckFix'</span></a> <a id="t:483" class="idref" href="#t:483"><span class="id" title="binder">t</span></a> (<a id="args:484" class="idref" href="#args:484"><span class="id" title="binder">args</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:483"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cunfold_fix"><span class="id" title="definition">cunfold_fix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">narg</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">fn</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:484"><span class="id" title="variable">args</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <span class="id" title="var">narg</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eval_stuck_fix_eq" class="idref" href="#eval_stuck_fix_eq"><span class="id" title="lemma">eval_stuck_fix_eq</span></a> {<a id="fl:486" class="idref" href="#fl:486"><span class="id" title="binder">fl</span></a> <a id="5afbcec40a8a20ed5352dfac62655143" class="idref" href="#5afbcec40a8a20ed5352dfac62655143"><span class="id" title="binder">Σ</span></a> <a id="mfix:488" class="idref" href="#mfix:488"><span class="id" title="binder">mfix</span></a> <a id="idx:489" class="idref" href="#idx:489"><span class="id" title="binder">idx</span></a> <a id="args:490" class="idref" href="#args:490"><span class="id" title="binder">args</span></a> <a id="v:491" class="idref" href="#v:491"><span class="id" title="binder">v</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#with_guarded_fix"><span class="id" title="method">with_guarded_fix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="eva:492" class="idref" href="#eva:492"><span class="id" title="binder">eva</span></a> : @<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#fl:486"><span class="id" title="variable">fl</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#5afbcec40a8a20ed5352dfac62655143"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:488"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:489"><span class="id" title="variable">idx</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:490"><span class="id" title="variable">args</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:491"><span class="id" title="variable">v</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="args':493" class="idref" href="#args':493"><span class="id" title="binder">args'</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="a:494" class="idref" href="#a:494"><span class="id" title="binder">a</span></a> <a id="a':495" class="idref" href="#a':495"><span class="id" title="binder">a'</span></a> ⇒ @<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#fl:486"><span class="id" title="variable">fl</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#5afbcec40a8a20ed5352dfac62655143"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a:494"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a':495"><span class="id" title="variable">a'</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:490"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args':493"><span class="id" title="variable">args'</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isStuckFix'"><span class="id" title="definition">isStuckFix'</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:488"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:489"><span class="id" title="variable">idx</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args':493"><span class="id" title="variable">args'</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:491"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:488"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:489"><span class="id" title="variable">idx</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args':493"><span class="id" title="variable">args'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:488"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:489"><span class="id" title="variable">idx</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:490"><span class="id" title="variable">args</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">withguard</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="var">depind</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">solve_discr</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_eq"><span class="id" title="lemma">mkApps_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [? []] ⇒ //; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHeval1</span> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">withguard</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">args'</span> []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="var">args'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">t'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last_last"><span class="id" title="lemma">remove_last_last</span></a> <span class="id" title="var">args</span> <span class="id" title="var">t</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_app"><span class="id" title="lemma">All2_app</span></a> ⇒ //. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H3</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">solve_discr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">right</span>. <span class="id" title="var">len</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp_mon"><span class="id" title="lemma">isEtaExp_fixapp_mon</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_eq"><span class="id" title="lemma">mkApps_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [? []] ⇒ //; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHeval1</span> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">withguard</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">args'</span> []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="var">args'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last_last"><span class="id" title="lemma">remove_last_last</span></a> <span class="id" title="var">args</span> <span class="id" title="var">a</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_app"><span class="id" title="lemma">All2_app</span></a> ⇒ //. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H4</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">solve_discr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">right</span>. <span class="id" title="var">len</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp_mon"><span class="id" title="lemma">isEtaExp_fixapp_mon</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_eq"><span class="id" title="lemma">mkApps_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [? []] ⇒ //; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHeval1</span> <span class="id" title="var">mfix0</span> <span class="id" title="var">idx0</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last"><span class="id" title="definition">remove_last</span></a> <span class="id" title="var">args</span>) <span class="id" title="var">_</span> <span class="id" title="var">withguard</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">args'</span> []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="var">args'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">av</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last_last"><span class="id" title="lemma">remove_last_last</span></a> <span class="id" title="var">args</span> <span class="id" title="var">a</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_app"><span class="id" title="lemma">All2_app</span></a> ⇒ //. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H4</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">solve_discr</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">e1</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cunfold_fix"><span class="id" title="definition">EGlobalEnv.cunfold_fix</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">hnth</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [=]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="var">a0</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">right</span>. <span class="id" title="var">len</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp_mon"><span class="id" title="lemma">isEtaExp_fixapp_mon</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_eq"><span class="id" title="lemma">mkApps_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [? []] ⇒ //; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHeval1</span> <span class="id" title="var">mfix0</span> <span class="id" title="var">idx0</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last"><span class="id" title="definition">remove_last</span></a> <span class="id" title="var">args</span>) <span class="id" title="var">_</span> <span class="id" title="var">withguard</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">args'</span> []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="var">args'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">av</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last_last"><span class="id" title="lemma">remove_last_last</span></a> <span class="id" title="var">args</span> <span class="id" title="var">a</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_app"><span class="id" title="lemma">All2_app</span></a> ⇒ //. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H3</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">solve_discr</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isStuckFix'"><span class="id" title="definition">isStuckFix'</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span>. <span class="id" title="var">len</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.leb_le"><span class="id" title="lemma">Nat.leb_le</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -[<a class="idref" href="MetaRocq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>](<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">av</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">right</span>. <span class="id" title="var">len</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp_mon"><span class="id" title="lemma">isEtaExp_fixapp_mon</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_eq"><span class="id" title="lemma">mkApps_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [? []] ⇒ //; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHeval1</span> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last"><span class="id" title="definition">remove_last</span></a> <span class="id" title="var">args0</span>) <span class="id" title="var">_</span> <span class="id" title="var">withguard</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">args'</span> []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="var">args'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last_last"><span class="id" title="lemma">remove_last_last</span></a> <span class="id" title="var">args0</span> <span class="id" title="var">a</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_app"><span class="id" title="lemma">All2_app</span></a> ⇒ //. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H3</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="var">solve_discr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">right</span>. <span class="id" title="var">len</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp_mon"><span class="id" title="lemma">isEtaExp_fixapp_mon</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_eq"><span class="id" title="lemma">mkApps_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [? []] ⇒ //; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHeval1</span> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last"><span class="id" title="definition">remove_last</span></a> <span class="id" title="var">args</span>) <span class="id" title="var">_</span> <span class="id" title="var">withguard</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">args'</span> []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="var">args'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last_last"><span class="id" title="lemma">remove_last_last</span></a> <span class="id" title="var">args</span> <span class="id" title="var">a</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_app"><span class="id" title="lemma">All2_app</span></a> ⇒ //. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H3</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">f'</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#negb_or"><span class="id" title="lemma">negb_or</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">i</span> ⇒ [] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] /=. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">withguard</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isFixApp_mkApps"><span class="id" title="lemma">isFixApp_mkApps</span></a> /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_false_r"><span class="id" title="lemma">andb_false_r</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">right</span>. <span class="id" title="var">len</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp_mon"><span class="id" title="lemma">isEtaExp_fixapp_mon</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#atom_mkApps"><span class="id" title="lemma">atom_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span> ⇒ //. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">args</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isStuckFix'"><span class="id" title="definition">isStuckFix'</span></a>, <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cunfold_fix"><span class="id" title="definition">cunfold_fix</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_FixApp" class="idref" href="#isEtaExp_FixApp"><span class="id" title="lemma">isEtaExp_FixApp</span></a> {<a id="805bb4bab1489bb81fe9356018c3c935" class="idref" href="#805bb4bab1489bb81fe9356018c3c935"><span class="id" title="binder">Σ</span></a> <a id="mfix:497" class="idref" href="#mfix:497"><span class="id" title="binder">mfix</span></a> <a id="idx:498" class="idref" href="#idx:498"><span class="id" title="binder">idx</span></a> <a id="41eceddb61ce903f9cb0aa19ee3e8dbe" class="idref" href="#41eceddb61ce903f9cb0aa19ee3e8dbe"><span class="id" title="binder">Γ</span></a> <a id="l:500" class="idref" href="#l:500"><span class="id" title="binder">l</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:497"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:498"><span class="id" title="variable">idx</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#l:500"><span class="id" title="variable">l</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="d:501" class="idref" href="#d:501"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:501"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#805bb4bab1489bb81fe9356018c3c935"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#rev_map"><span class="id" title="definition">rev_map</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="d0:502" class="idref" href="#d0:502"><span class="id" title="binder">d0</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 1 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#rarg"><span class="id" title="projection">rarg</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d0:502"><span class="id" title="variable">d0</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:497"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#41eceddb61ce903f9cb0aa19ee3e8dbe"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:501"><span class="id" title="variable">d</span></a>)) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:497"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#805bb4bab1489bb81fe9356018c3c935"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#41eceddb61ce903f9cb0aa19ee3e8dbe"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#l:500"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#805bb4bab1489bb81fe9356018c3c935"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#41eceddb61ce903f9cb0aa19ee3e8dbe"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:497"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:498"><span class="id" title="variable">idx</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#l:500"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hmfix</span> <span class="id" title="var">hm</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) ⇒ //; <span class="id" title="var">solve_discr</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hmfix</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">H1</span>. <span class="id" title="var">simp_eta</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hmfix</span> <span class="id" title="var">hl</span> /= <span class="id" title="var">hm</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="forallb_firstn" class="idref" href="#forallb_firstn"><span class="id" title="lemma">forallb_firstn</span></a> {<a id="A:503" class="idref" href="#A:503"><span class="id" title="binder">A</span></a>} {<a id="p:504" class="idref" href="#p:504"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#A:503"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>} {<a id="n:505" class="idref" href="#n:505"><span class="id" title="binder">n</span></a> <a id="l:506" class="idref" href="#l:506"><span class="id" title="binder">l</span></a>} : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#p:504"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#l:506"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#p:504"><span class="id" title="variable">p</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#n:505"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#l:506"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hl</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>, <span class="id" title="var">hl</span> |- *; <span class="id" title="var">cbn</span> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#firstn_nil"><span class="id" title="lemma">firstn_nil</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="var">cbn</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">move</span>: <span class="id" title="var">hl</span> ⇒ /= /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] → /=.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="forallb_remove_last" class="idref" href="#forallb_remove_last"><span class="id" title="lemma">forallb_remove_last</span></a> {<a id="A:507" class="idref" href="#A:507"><span class="id" title="binder">A</span></a>} {<a id="p:508" class="idref" href="#p:508"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#A:507"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>} {<a id="l:509" class="idref" href="#l:509"><span class="id" title="binder">l</span></a>} : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#p:508"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#l:509"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#p:508"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last"><span class="id" title="definition">remove_last</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#l:509"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hl</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Utils.MRList.html#remove_last"><span class="id" title="definition">remove_last</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#forallb_firstn"><span class="id" title="lemma">forallb_firstn</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="forallb_last" class="idref" href="#forallb_last"><span class="id" title="lemma">forallb_last</span></a> {<a id="A:510" class="idref" href="#A:510"><span class="id" title="binder">A</span></a>} {<a id="p:511" class="idref" href="#p:511"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#A:510"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>} {<a id="l:512" class="idref" href="#l:512"><span class="id" title="binder">l</span></a> <a id="t:513" class="idref" href="#t:513"><span class="id" title="binder">t</span></a>} : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#l:512"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#p:511"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#l:512"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#p:511"><span class="id" title="variable">p</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#last"><span class="id" title="definition">last</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#l:512"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:513"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> ⇒ //. <span class="id" title="tactic">intros</span> <span class="id" title="var">_</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ⇒ [] <span class="id" title="var">_</span> <span class="id" title="var">hl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_tFix" class="idref" href="#isEtaExp_tFix"><span class="id" title="lemma">isEtaExp_tFix</span></a> {<a id="ebe9e4e5f28b81f09cca68f4c462f2a5" class="idref" href="#ebe9e4e5f28b81f09cca68f4c462f2a5"><span class="id" title="binder">Σ</span></a> <a id="mfix:515" class="idref" href="#mfix:515"><span class="id" title="binder">mfix</span></a> <a id="idx:516" class="idref" href="#idx:516"><span class="id" title="binder">idx</span></a>} : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#ebe9e4e5f28b81f09cca68f4c462f2a5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:515"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:516"><span class="id" title="variable">idx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">he</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simp_eta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">he</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="neval_to_stuck_fix" class="idref" href="#neval_to_stuck_fix"><span class="id" title="lemma">neval_to_stuck_fix</span></a> {<a id="efl:517" class="idref" href="#efl:517"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaRocq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="0a791b7628b08e3837e3a64f9b58acb8" class="idref" href="#0a791b7628b08e3837e3a64f9b58acb8"><span class="id" title="binder">Σ</span></a> <a id="mfix:519" class="idref" href="#mfix:519"><span class="id" title="binder">mfix</span></a> <a id="idx:520" class="idref" href="#idx:520"><span class="id" title="binder">idx</span></a> <a id="t:521" class="idref" href="#t:521"><span class="id" title="binder">t</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_env"><span class="id" title="definition">isEtaExp_env</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#0a791b7628b08e3837e3a64f9b58acb8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#0a791b7628b08e3837e3a64f9b58acb8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#0a791b7628b08e3837e3a64f9b58acb8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:521"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> @<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#opt_wcbv_flags"><span class="id" title="definition">opt_wcbv_flags</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#0a791b7628b08e3837e3a64f9b58acb8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:521"><span class="id" title="variable">t</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:519"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:520"><span class="id" title="variable">idx</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">etaΣ</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">he</span> <span class="id" title="var">hev</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_etaexp"><span class="id" title="lemma">eval_etaexp</span></a> <span class="id" title="var">etaΣ</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">hev</span> <span class="id" title="var">he</span>). <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_tFix"><span class="id" title="lemma">isEtaExp_tFix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="neval_to_stuck_fix_app" class="idref" href="#neval_to_stuck_fix_app"><span class="id" title="lemma">neval_to_stuck_fix_app</span></a> {<a id="efl:522" class="idref" href="#efl:522"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaRocq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="fl:523" class="idref" href="#fl:523"><span class="id" title="binder">fl</span></a>} {<a id="wcon:524" class="idref" href="#wcon:524"><span class="id" title="binder">wcon</span></a> : <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#with_constructor_as_block"><span class="id" title="method">with_constructor_as_block</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>} {<a id="26b8ab4118bdef0264ac9b3ffbcf3e05" class="idref" href="#26b8ab4118bdef0264ac9b3ffbcf3e05"><span class="id" title="binder">Σ</span></a> <a id="mfix:526" class="idref" href="#mfix:526"><span class="id" title="binder">mfix</span></a> <a id="idx:527" class="idref" href="#idx:527"><span class="id" title="binder">idx</span></a> <a id="t:528" class="idref" href="#t:528"><span class="id" title="binder">t</span></a> <a id="args:529" class="idref" href="#args:529"><span class="id" title="binder">args</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#with_guarded_fix"><span class="id" title="method">with_guarded_fix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_env"><span class="id" title="definition">isEtaExp_env</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#26b8ab4118bdef0264ac9b3ffbcf3e05"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#26b8ab4118bdef0264ac9b3ffbcf3e05"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#26b8ab4118bdef0264ac9b3ffbcf3e05"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:528"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> @<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#fl:523"><span class="id" title="variable">fl</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#26b8ab4118bdef0264ac9b3ffbcf3e05"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:528"><span class="id" title="variable">t</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:526"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:527"><span class="id" title="variable">idx</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:529"><span class="id" title="variable">args</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wguard</span> <span class="id" title="var">etaΣ</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">he</span> <span class="id" title="var">hev</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_etaexp"><span class="id" title="lemma">eval_etaexp</span></a> <span class="id" title="var">etaΣ</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">hev</span> <span class="id" title="var">he</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_tApp"><span class="id" title="lemma">isEtaExp_tApp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app_mkApps"><span class="id" title="lemma">decompose_app_mkApps</span></a> // /= // <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ⇒ [] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">etaapp</span> <span class="id" title="var">etamfix</span> <span class="id" title="var">etaargs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_to_value"><span class="id" title="lemma">eval_to_value</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hev</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">etaapp</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">hnth</span> ⇒ // ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a> <span class="id" title="var">hrarg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#stuck_fix_value_args"><span class="id" title="lemma">stuck_fix_value_args</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hev</span>.<br/>
&nbsp;&nbsp;2:{ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cunfold_fix"><span class="id" title="definition">cunfold_fix</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hnth</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_tApp_eval" class="idref" href="#isEtaExp_tApp_eval"><span class="id" title="lemma">isEtaExp_tApp_eval</span></a> {<a id="fl:530" class="idref" href="#fl:530"><span class="id" title="binder">fl</span></a>} {<a id="73731c7fec24eeeeea6ad20709426488" class="idref" href="#73731c7fec24eeeeea6ad20709426488"><span class="id" title="binder">Σ</span></a>} {<a id="f:532" class="idref" href="#f:532"><span class="id" title="binder">f</span></a> <a id="u:533" class="idref" href="#u:533"><span class="id" title="binder">u</span></a> <a id="v:534" class="idref" href="#v:534"><span class="id" title="binder">v</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#with_guarded_fix"><span class="id" title="method">with_guarded_fix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#with_constructor_as_block"><span class="id" title="method">with_constructor_as_block</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#fl:530"><span class="id" title="variable">fl</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#73731c7fec24eeeeea6ad20709426488"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:532"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:534"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#73731c7fec24eeeeea6ad20709426488"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:532"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#u:533"><span class="id" title="variable">u</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="kn:535" class="idref" href="#kn:535"><span class="id" title="binder">kn</span></a> <a id="c:536" class="idref" href="#c:536"><span class="id" title="binder">c</span></a> <a id="args:537" class="idref" href="#args:537"><span class="id" title="binder">args</span></a> <a id="block_args:538" class="idref" href="#block_args:538"><span class="id" title="binder">block_args</span></a>, <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:534"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#kn:535"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#c:536"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#block_args:538"><span class="id" title="variable">block_args</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:537"><span class="id" title="variable">args</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="mfix:539" class="idref" href="#mfix:539"><span class="id" title="binder">mfix</span></a> <a id="idx:540" class="idref" href="#idx:540"><span class="id" title="binder">idx</span></a> <a id="args:541" class="idref" href="#args:541"><span class="id" title="binder">args</span></a>, <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:534"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#mfix:539"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#idx:540"><span class="id" title="variable">idx</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:541"><span class="id" title="variable">args</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="hd:542" class="idref" href="#hd:542"><span class="id" title="binder">hd</span></a>, <a id="args:543" class="idref" href="#args:543"><span class="id" title="binder">args</span></a>) := <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:532"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#u:533"><span class="id" title="variable">u</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#hd:542"><span class="id" title="variable">hd</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_construct"><span class="id" title="constructor">expanded_head_construct</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">c</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_fix"><span class="id" title="constructor">expanded_head_fix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:543"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:532"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#hd:542"><span class="id" title="variable">hd</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last"><span class="id" title="definition">remove_last</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:543"><span class="id" title="variable">args</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#u:533"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#last"><span class="id" title="definition">last</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:543"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#u:533"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">[&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#remove_last"><span class="id" title="definition">remove_last</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:543"><span class="id" title="variable">args</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="d:544" class="idref" href="#d:544"><span class="id" title="binder">d</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:544"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#73731c7fec24eeeeea6ad20709426488"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#rev_map"><span class="id" title="definition">rev_map</span></a> (<span class="id" title="keyword">fun</span>  <a id="d:545" class="idref" href="#d:545"><span class="id" title="binder">d</span></a> ⇒ 1 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:545"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#rarg"><span class="id" title="projection">rarg</span></a>)) <span class="id" title="var">mfix</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#d:544"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>)) <span class="id" title="var">mfix</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#73731c7fec24eeeeea6ad20709426488"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) (<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last"><span class="id" title="definition">remove_last</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:543"><span class="id" title="variable">args</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#73731c7fec24eeeeea6ad20709426488"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#u:533"><span class="id" title="variable">u</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_rel"><span class="id" title="constructor">expanded_head_rel</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_other"><span class="id" title="constructor">expanded_head_other</span></a> <span class="id" title="var">_</span> <span class="id" title="var">discr</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">[&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#73731c7fec24eeeeea6ad20709426488"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#hd:542"><span class="id" title="variable">hd</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#73731c7fec24eeeeea6ad20709426488"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:543"><span class="id" title="variable">args</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#73731c7fec24eeeeea6ad20709426488"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:532"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#73731c7fec24eeeeea6ad20709426488"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#u:533"><span class="id" title="variable">u</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wguard</span> <span class="id" title="var">wcon</span> <span class="id" title="var">ev</span> <span class="id" title="var">eta</span>; <span class="id" title="var">revert</span> <span class="id" title="var">eta</span> <span class="id" title="var">ev</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_tApp'"><span class="id" title="lemma">isEtaExp_tApp'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a>]. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">cv</span> ⇒ //.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">move</span>⇒ [] <span class="id" title="var">hl</span> [] <span class="id" title="var">ha</span> [] <span class="id" title="var">ht</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">etaap</span> <span class="id" title="var">etal</span> <span class="id" title="var">bargs</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">block_args</span>; <span class="id" title="var">inv</span> <span class="id" title="var">bargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">ha</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_Construct_inv"><span class="id" title="lemma">eval_mkApps_Construct_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [? []]. <span class="id" title="tactic">subst</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hc</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hc</span> <span class="id" title="var">ind</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hc</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">move</span>⇒ [] <span class="id" title="var">hl</span> [] <span class="id" title="var">ha</span> [] <span class="id" title="var">ht</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">etafix</span> <span class="id" title="var">etab</span> <span class="id" title="var">etal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_stuck_fix_eq"><span class="id" title="lemma">eval_stuck_fix_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">args'</span> [<span class="id" title="var">Hargs'</span> [[]|]]]. <span class="id" title="tactic">subst</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">_</span> <span class="id" title="var">Hfix</span>. <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hfix</span>; <span class="id" title="var">trea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hc</span> <span class="id" title="var">Hfix</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">i</span> /= <span class="id" title="var">etab</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#forallb_remove_last"><span class="id" title="lemma">forallb_remove_last</span></a> // /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">ht</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#forallb_last"><span class="id" title="lemma">forallb_last</span></a> ⇒ //. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">wguard</span> //.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">move</span>⇒ [] <span class="id" title="var">hl</span> [] <span class="id" title="var">ha</span> [] <span class="id" title="var">ht</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_nil"><span class="id" title="lemma">nth_error_nil</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_closedn" class="idref" href="#isEtaExp_closedn"><span class="id" title="lemma">isEtaExp_closedn</span></a> <a id="82743ca7028cd8c35adfb1fe7d22ecc9" class="idref" href="#82743ca7028cd8c35adfb1fe7d22ecc9"><span class="id" title="binder">Σ</span></a> <a id="004f80c670c804a5fc6e5ed4e5572c0f" class="idref" href="#004f80c670c804a5fc6e5ed4e5572c0f"><span class="id" title="binder">Γ</span></a> <a id="t:548" class="idref" href="#t:548"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#82743ca7028cd8c35adfb1fe7d22ecc9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#004f80c670c804a5fc6e5ed4e5572c0f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:548"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ELiftSubst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#004f80c670c804a5fc6e5ed4e5572c0f"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:548"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_expanded"><span class="id" title="lemma">isEtaExp_expanded</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_closed"><span class="id" title="lemma">expanded_closed</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="all_isEtaExp_closedn" class="idref" href="#all_isEtaExp_closedn"><span class="id" title="lemma">all_isEtaExp_closedn</span></a> <a id="6ac46cfe2e257733fd4495f7327e7fb3" class="idref" href="#6ac46cfe2e257733fd4495f7327e7fb3"><span class="id" title="binder">Σ</span></a> <a id="b8583e13b542bf56be3e4ddaff97f8a5" class="idref" href="#b8583e13b542bf56be3e4ddaff97f8a5"><span class="id" title="binder">Γ</span></a> <a id="t:551" class="idref" href="#t:551"><span class="id" title="binder">t</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#6ac46cfe2e257733fd4495f7327e7fb3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#b8583e13b542bf56be3e4ddaff97f8a5"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:551"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.ELiftSubst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#b8583e13b542bf56be3e4ddaff97f8a5"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:551"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_closedn"><span class="id" title="lemma">isEtaExp_closedn</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_iota_red'" class="idref" href="#isEtaExp_iota_red'"><span class="id" title="lemma">isEtaExp_iota_red'</span></a> <a id="55e01743bcd5f921f6e68033d1ecf7e1" class="idref" href="#55e01743bcd5f921f6e68033d1ecf7e1"><span class="id" title="binder">Σ</span></a> <a id="pars:553" class="idref" href="#pars:553"><span class="id" title="binder">pars</span></a> <a id="args:554" class="idref" href="#args:554"><span class="id" title="binder">args</span></a> <a id="br:555" class="idref" href="#br:555"><span class="id" title="binder">br</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#55e01743bcd5f921f6e68033d1ecf7e1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:554"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#55e01743bcd5f921f6e68033d1ecf7e1"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#repeat"><span class="id" title="definition">repeat</span></a> 0 (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:554"><span class="id" title="variable">args</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#pars:553"><span class="id" title="variable">pars</span></a>)) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#br:555"><span class="id" title="variable">br</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#55e01743bcd5f921f6e68033d1ecf7e1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#iota_red"><span class="id" title="definition">EGlobalEnv.iota_red</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#pars:553"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:554"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#br:555"><span class="id" title="variable">br</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">etaargs</span> <span class="id" title="var">etabr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_iota_red"><span class="id" title="lemma">isEtaExp_iota_red</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#all_isEtaExp_closedn"><span class="id" title="lemma">all_isEtaExp_closedn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">etaargs</span>. <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eval_app_cong_tApp'" class="idref" href="#eval_app_cong_tApp'"><span class="id" title="lemma">eval_app_cong_tApp'</span></a> <a id="fl:556" class="idref" href="#fl:556"><span class="id" title="binder">fl</span></a> <a id="9e6af6dcfed2d18520cbc25651fef3c5" class="idref" href="#9e6af6dcfed2d18520cbc25651fef3c5"><span class="id" title="binder">Σ</span></a> <a id="t:558" class="idref" href="#t:558"><span class="id" title="binder">t</span></a> <a id="arg:559" class="idref" href="#arg:559"><span class="id" title="binder">arg</span></a> <a id="arg':560" class="idref" href="#arg':560"><span class="id" title="binder">arg'</span></a> <a id="res:561" class="idref" href="#res:561"><span class="id" title="binder">res</span></a> :<br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#value"><span class="id" title="inductive">value</span></a> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#switch_unguarded_fix"><span class="id" title="definition">switch_unguarded_fix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#fl:556"><span class="id" title="variable">fl</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#9e6af6dcfed2d18520cbc25651fef3c5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:558"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#switch_unguarded_fix"><span class="id" title="definition">switch_unguarded_fix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#fl:556"><span class="id" title="variable">fl</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#9e6af6dcfed2d18520cbc25651fef3c5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#arg:559"><span class="id" title="variable">arg</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#arg':560"><span class="id" title="variable">arg'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#switch_unguarded_fix"><span class="id" title="definition">switch_unguarded_fix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#fl:556"><span class="id" title="variable">fl</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#9e6af6dcfed2d18520cbc25651fef3c5"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:558"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#arg':560"><span class="id" title="variable">arg'</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#res:561"><span class="id" title="variable">res</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#switch_unguarded_fix"><span class="id" title="definition">switch_unguarded_fix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#fl:556"><span class="id" title="variable">fl</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#9e6af6dcfed2d18520cbc25651fef3c5"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:558"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#arg:559"><span class="id" title="variable">arg</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#res:561"><span class="id" title="variable">res</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>. <span class="id" title="var">depind</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_app_cong_tApp"><span class="id" title="lemma">eval_app_cong_tApp</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_trans'"><span class="id" title="lemma">eval_trans'</span></a> <span class="id" title="var">H</span> <span class="id" title="var">H0_0</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">a'</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_trans'"><span class="id" title="lemma">eval_trans'</span></a> <span class="id" title="var">H</span> <span class="id" title="var">H0_0</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">av</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_fix"><span class="id" title="constructor">eval_fix</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_trans'"><span class="id" title="lemma">eval_trans'</span></a> <span class="id" title="var">H</span> <span class="id" title="var">H0_0</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">av</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_fix_value"><span class="id" title="constructor">eval_fix_value</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#value_final"><span class="id" title="lemma">value_final</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_trans'"><span class="id" title="lemma">eval_trans'</span></a> <span class="id" title="var">X</span> <span class="id" title="var">H0_</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">f7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_trans'"><span class="id" title="lemma">eval_trans'</span></a> <span class="id" title="var">H</span> <span class="id" title="var">H0_0</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">av</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_fix'"><span class="id" title="constructor">eval_fix'</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_construct"><span class="id" title="constructor">eval_construct</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_trans"><span class="id" title="lemma">eval_trans</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_app_cong"><span class="id" title="constructor">eval_app_cong</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_trans"><span class="id" title="lemma">eval_trans</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eval_value_cong" class="idref" href="#eval_value_cong"><span class="id" title="lemma">eval_value_cong</span></a> {<a id="fl:562" class="idref" href="#fl:562"><span class="id" title="binder">fl</span></a>} {<a id="69eb20ba476f1b9c0f94e67a96598a36" class="idref" href="#69eb20ba476f1b9c0f94e67a96598a36"><span class="id" title="binder">Σ</span></a>} {<a id="f:564" class="idref" href="#f:564"><span class="id" title="binder">f</span></a> <a id="args:565" class="idref" href="#args:565"><span class="id" title="binder">args</span></a> <a id="args':566" class="idref" href="#args':566"><span class="id" title="binder">args'</span></a> <a id="res:567" class="idref" href="#res:567"><span class="id" title="binder">res</span></a>} :<br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#value"><span class="id" title="inductive">value</span></a> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#switch_unguarded_fix"><span class="id" title="definition">switch_unguarded_fix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#fl:562"><span class="id" title="variable">fl</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#69eb20ba476f1b9c0f94e67a96598a36"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:564"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (@<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#switch_unguarded_fix"><span class="id" title="definition">switch_unguarded_fix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#fl:562"><span class="id" title="variable">fl</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#69eb20ba476f1b9c0f94e67a96598a36"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:565"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args':566"><span class="id" title="variable">args'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#switch_unguarded_fix"><span class="id" title="definition">switch_unguarded_fix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#fl:562"><span class="id" title="variable">fl</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#69eb20ba476f1b9c0f94e67a96598a36"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:564"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args':566"><span class="id" title="variable">args'</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#res:567"><span class="id" title="variable">res</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#switch_unguarded_fix"><span class="id" title="definition">switch_unguarded_fix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#fl:562"><span class="id" title="variable">fl</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#69eb20ba476f1b9c0f94e67a96598a36"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:564"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:565"><span class="id" title="variable">args</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#res:567"><span class="id" title="variable">res</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">vf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">args'</span> <span class="id" title="var">res</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">args</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">args'</span> <span class="id" title="var">res</span> <span class="id" title="var">H</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">args'</span> <span class="id" title="var">res</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_app_inv_l"><span class="id" title="lemma">All2_app_inv_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">r1</span> [<span class="id" title="var">r2</span> [? []]]]. <span class="id" title="var">depelim</span> <span class="id" title="var">a0</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">a0</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">args'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> |- ×. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_inv'"><span class="id" title="lemma">eval_mkApps_inv'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">f'</span> [<span class="id" title="var">args'</span> [<span class="id" title="var">evf'</span> [<span class="id" title="var">evargs'</span> <span class="id" title="var">evres</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">evargs'</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">evargs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_trans'"><span class="id" title="lemma">eval_trans'</span></a> <span class="id" title="var">e0</span> <span class="id" title="var">e</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">y0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_app_cong_tApp"><span class="id" title="lemma">eval_app_cong_tApp</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHargs</span>. <span class="id" title="var">tea</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">evf'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_app_cong_tApp'"><span class="id" title="lemma">eval_app_cong_tApp'</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_to_value"><span class="id" title="lemma">eval_to_value</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">evf'</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">e0</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">evres</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eval_app_cong_mkApps" class="idref" href="#eval_app_cong_mkApps"><span class="id" title="lemma">eval_app_cong_mkApps</span></a> {<a id="fl:568" class="idref" href="#fl:568"><span class="id" title="binder">fl</span></a>} {<a id="9d42bcd472dd077cb50c26d982822f69" class="idref" href="#9d42bcd472dd077cb50c26d982822f69"><span class="id" title="binder">Σ</span></a>} {<a id="f:570" class="idref" href="#f:570"><span class="id" title="binder">f</span></a> <a id="f':571" class="idref" href="#f':571"><span class="id" title="binder">f'</span></a> <a id="res:572" class="idref" href="#res:572"><span class="id" title="binder">res</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a>} {<a id="args:573" class="idref" href="#args:573"><span class="id" title="binder">args</span></a> <a id="args':574" class="idref" href="#args':574"><span class="id" title="binder">args'</span></a>} :<br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#switch_unguarded_fix"><span class="id" title="definition">switch_unguarded_fix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#fl:568"><span class="id" title="variable">fl</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#9d42bcd472dd077cb50c26d982822f69"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:570"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f':571"><span class="id" title="variable">f'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (@<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#switch_unguarded_fix"><span class="id" title="definition">switch_unguarded_fix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#fl:568"><span class="id" title="variable">fl</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#9d42bcd472dd077cb50c26d982822f69"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:573"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args':574"><span class="id" title="variable">args'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#switch_unguarded_fix"><span class="id" title="definition">switch_unguarded_fix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#fl:568"><span class="id" title="variable">fl</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#9d42bcd472dd077cb50c26d982822f69"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f':571"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args':574"><span class="id" title="variable">args'</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#res:572"><span class="id" title="variable">res</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#switch_unguarded_fix"><span class="id" title="definition">switch_unguarded_fix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#fl:568"><span class="id" title="variable">fl</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#9d42bcd472dd077cb50c26d982822f69"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:570"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:573"><span class="id" title="variable">args</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#res:572"><span class="id" title="variable">res</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">args'</span> <span class="id" title="var">res</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">args</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">args'</span> <span class="id" title="var">res</span> ? <span class="id" title="var">X</span> ?. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_trans"><span class="id" title="lemma">eval_trans</span></a>. <span class="id" title="var">tea</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">args'</span> <span class="id" title="var">res</span> <span class="id" title="var">evf</span> <span class="id" title="var">evargs</span> <span class="id" title="var">evf'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_app_inv_l"><span class="id" title="lemma">All2_app_inv_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">evargs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">r1</span> [<span class="id" title="var">r2</span> [? []]]]. <span class="id" title="var">depelim</span> <span class="id" title="var">a0</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">a0</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">args'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">evf'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_inv'"><span class="id" title="lemma">eval_mkApps_inv'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">evf'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">f''</span> [<span class="id" title="var">args'</span> [<span class="id" title="var">evf''</span> [<span class="id" title="var">evargs'</span> <span class="id" title="var">evres</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">evargs'</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">evargs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_trans'"><span class="id" title="lemma">eval_trans'</span></a> <span class="id" title="var">e0</span> <span class="id" title="var">e</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">y0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_app_cong_tApp"><span class="id" title="lemma">eval_app_cong_tApp</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHargs</span>. <span class="id" title="var">tea</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">evf''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_app_cong_tApp'"><span class="id" title="lemma">eval_app_cong_tApp'</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_to_value"><span class="id" title="lemma">eval_to_value</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">evf''</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">e0</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">evres</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All_eval_etaexp" class="idref" href="#All_eval_etaexp"><span class="id" title="lemma">All_eval_etaexp</span></a> {<a id="fl:575" class="idref" href="#fl:575"><span class="id" title="binder">fl</span></a> : <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#WcbvFlags"><span class="id" title="class">WcbvFlags</span></a>} {<a id="wcon:576" class="idref" href="#wcon:576"><span class="id" title="binder">wcon</span></a> : <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#with_constructor_as_block"><span class="id" title="method">with_constructor_as_block</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> } {<a id="efl:577" class="idref" href="#efl:577"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaRocq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} <a id="6745e08feb268e3cbdb5f52d2ddd507e" class="idref" href="#6745e08feb268e3cbdb5f52d2ddd507e"><span class="id" title="binder">Σ</span></a> <a id="l:579" class="idref" href="#l:579"><span class="id" title="binder">l</span></a> <a id="l':580" class="idref" href="#l':580"><span class="id" title="binder">l'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_env"><span class="id" title="definition">isEtaExp_env</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#6745e08feb268e3cbdb5f52d2ddd507e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#6745e08feb268e3cbdb5f52d2ddd507e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#6745e08feb268e3cbdb5f52d2ddd507e"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#l:579"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#l':580"><span class="id" title="variable">l'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#6745e08feb268e3cbdb5f52d2ddd507e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#l:579"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#6745e08feb268e3cbdb5f52d2ddd507e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#l':580"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_etaexp"><span class="id" title="lemma">eval_etaexp</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">Unshelve</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isFix_mkApps" class="idref" href="#isFix_mkApps"><span class="id" title="lemma">isFix_mkApps</span></a> <a id="f:581" class="idref" href="#f:581"><span class="id" title="binder">f</span></a> <a id="args:582" class="idref" href="#args:582"><span class="id" title="binder">args</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isFix"><span class="id" title="definition">isFix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:581"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isFix"><span class="id" title="definition">isFix</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:581"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#args:582"><span class="id" title="variable">args</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">args</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> /= //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nisFixApp_nisFix" class="idref" href="#nisFixApp_nisFix"><span class="id" title="lemma">nisFixApp_nisFix</span></a> <a id="f:583" class="idref" href="#f:583"><span class="id" title="binder">f</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isFixApp"><span class="id" title="definition">isFixApp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:583"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isFix"><span class="id" title="definition">isFix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#f:583"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isFixApp"><span class="id" title="definition">isFixApp</span></a>, <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#head"><span class="id" title="definition">head</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span> ⇒ /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app_inv"><span class="id" title="lemma">decompose_app_inv</span></a> <span class="id" title="var">da</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isFix_mkApps"><span class="id" title="lemma">isFix_mkApps</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eval_opt_to_target" class="idref" href="#eval_opt_to_target"><span class="id" title="lemma">eval_opt_to_target</span></a> {<a id="fl:584" class="idref" href="#fl:584"><span class="id" title="binder">fl</span></a>: <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#WcbvFlags"><span class="id" title="class">WcbvFlags</span></a>} {<a id="wcon:585" class="idref" href="#wcon:585"><span class="id" title="binder">wcon</span></a> : <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#with_constructor_as_block"><span class="id" title="method">with_constructor_as_block</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>} {<a id="efl:586" class="idref" href="#efl:586"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaRocq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} <a id="beb7f4f461a0b43436ca013d89056722" class="idref" href="#beb7f4f461a0b43436ca013d89056722"><span class="id" title="binder">Σ</span></a> <a id="t:588" class="idref" href="#t:588"><span class="id" title="binder">t</span></a> <a id="v:589" class="idref" href="#v:589"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#with_guarded_fix"><span class="id" title="method">with_guarded_fix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_env"><span class="id" title="definition">isEtaExp_env</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#beb7f4f461a0b43436ca013d89056722"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#beb7f4f461a0b43436ca013d89056722"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#fl:584"><span class="id" title="variable">fl</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#beb7f4f461a0b43436ca013d89056722"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:588"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:589"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#beb7f4f461a0b43436ca013d89056722"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:588"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#switch_unguarded_fix"><span class="id" title="definition">switch_unguarded_fix</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#fl:584"><span class="id" title="variable">fl</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#beb7f4f461a0b43436ca013d89056722"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:588"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#v:589"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wguard</span> <span class="id" title="var">etaΣ</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEvalInd.html#eval_mkApps_rect"><span class="id" title="lemma">eval_mkApps_rect</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>/(<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_tApp_eval"><span class="id" title="lemma">isEtaExp_tApp_eval</span></a> <span class="id" title="var">wguard</span> <span class="id" title="var">wcon</span> <span class="id" title="var">H</span>) ⇒ <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IH</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="var">solve_discr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IH</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="var">solve_discr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">a</span> <span class="id" title="var">t</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a> <span class="id" title="var">t0</span>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>: <span class="id" title="var">IH</span> ⇒ [] <span class="id" title="var">hl</span> [] <span class="id" title="var">ha</span> [] <span class="id" title="var">ht</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">etafix</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#and3P"><span class="id" title="lemma">and3P</span></a>[] <span class="id" title="var">etab</span> <span class="id" title="var">etal</span> <span class="id" title="var">etat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">ha</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_stuck_fix_eq"><span class="id" title="lemma">eval_stuck_fix_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">args'</span> [<span class="id" title="var">Hargs'</span> [[]|]]]. <span class="id" title="var">solve_discr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval1</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">ha</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_FixApp"><span class="id" title="lemma">isEtaExp_FixApp</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval2</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>: <span class="id" title="var">IH</span> ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#and4P"><span class="id" title="lemma">and4P</span></a> [] <span class="id" title="var">ht0</span> <span class="id" title="var">hl</span> <span class="id" title="var">ha</span> <span class="id" title="var">ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval1</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval2</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/(<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_tApp_eval"><span class="id" title="lemma">isEtaExp_tApp_eval</span></a> <span class="id" title="var">wguard</span> <span class="id" title="var">wcon</span> <span class="id" title="var">H</span>) ⇒ <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IH</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="var">solve_discr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IH</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="var">solve_discr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">f0</span> <span class="id" title="var">a</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a> <span class="id" title="var">t</span>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>: <span class="id" title="var">IH</span> ⇒ [] <span class="id" title="var">hl</span> [] <span class="id" title="var">ha</span> [] <span class="id" title="var">ht</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">etafix</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#and3P"><span class="id" title="lemma">and3P</span></a>[] <span class="id" title="var">etab</span> <span class="id" title="var">etal</span> <span class="id" title="var">etat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">ha</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_stuck_fix_eq"><span class="id" title="lemma">eval_stuck_fix_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">args'</span> [<span class="id" title="var">Hargs'</span> [[]|]]]. <span class="id" title="var">solve_discr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward_keep</span> <span class="id" title="var">IHeval1</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">ha</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_FixApp"><span class="id" title="lemma">isEtaExp_FixApp</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval2</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval3</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#etaExp_csubst"><span class="id" title="lemma">etaExp_csubst</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_etaexp"><span class="id" title="lemma">eval_etaexp</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_etaexp"><span class="id" title="lemma">eval_etaexp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHeval1</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">simp_eta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHeval1</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">IHeval1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>: <span class="id" title="var">IH</span> ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#and4P"><span class="id" title="lemma">and4P</span></a> [] <span class="id" title="var">ht0</span> <span class="id" title="var">hl</span> <span class="id" title="var">ha</span> <span class="id" title="var">ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward_keep</span> <span class="id" title="var">IHeval1</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval2</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval3</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#etaExp_csubst"><span class="id" title="lemma">etaExp_csubst</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_etaexp"><span class="id" title="lemma">eval_etaexp</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_etaexp"><span class="id" title="lemma">eval_etaexp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHeval1</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">simp_eta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHeval1</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">IHeval1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hexp</span>; <span class="id" title="var">simp_eta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hexp</span>. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward_keep</span> <span class="id" title="var">IHeval1</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval2</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#etaExp_csubst"><span class="id" title="lemma">etaExp_csubst</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_etaexp"><span class="id" title="lemma">eval_etaexp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHeval1</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simp_eta</span>. <span class="id" title="tactic">move</span>⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">etad</span> <span class="id" title="var">etabrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval1</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_etaexp"><span class="id" title="lemma">eval_etaexp</span></a> <span class="id" title="var">etaΣ</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">IHeval1</span> <span class="id" title="var">etad</span>). <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_Constructor"><span class="id" title="lemma">isEtaExp_Constructor</span></a> ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">etac</span> <span class="id" title="var">etaargs</span> <span class="id" title="var">bargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward_keep</span> <span class="id" title="var">IHeval2</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_iota_red'"><span class="id" title="lemma">isEtaExp_iota_red'</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_nth_error"><span class="id" title="lemma">forallb_nth_error</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">etabrs</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">erewrite</span> <span class="id" title="var">e2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">etabrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">etabrs</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">e4</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#length_skipn"><span class="id" title="lemma">length_skipn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">etabrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simp_eta</span>. <span class="id" title="tactic">move</span>⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">etad</span> <span class="id" title="var">etabrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval1</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_iota_sing"><span class="id" title="constructor">eval_iota_sing</span></a> ⇒ //. <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_substl"><span class="id" title="lemma">isEtaExp_substl</span></a> <span class="id" title="var">_</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#repeat"><span class="id" title="definition">repeat</span></a> 0 <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">n</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)); <span class="id" title="var">trea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_repeat"><span class="id" title="lemma">forallb_repeat</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> /= <span class="id" title="tactic">in</span> <span class="id" title="var">etabrs</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">etabrs</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a>] <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">he</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">he</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_tApp'"><span class="id" title="lemma">isEtaExp_tApp'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>⇒ [] <span class="id" title="var">hl</span> [] <span class="id" title="var">hf</span> [] <span class="id" title="var">ha</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[]/ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">heta</span> <span class="id" title="var">heta2</span> <span class="id" title="var">bargs</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">block_args</span>; <span class="id" title="var">inv</span> <span class="id" title="var">bargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">hf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_Construct_inv"><span class="id" title="lemma">eval_mkApps_Construct_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="tactic">try</span> <span class="id" title="var">solve_discr</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span> ⇒ [<span class="id" title="var">hl</span> [<span class="id" title="var">hf</span> [<span class="id" title="var">ha</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">etal</span> <span class="id" title="var">etab</span>]]] <span class="id" title="var">isel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">H'</span> := <span class="id" title="var">H</span>); <span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_depth"><span class="id" title="definition">eval_depth</span></a> <span class="id" title="var">H'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_depth"><span class="id" title="definition">eval_depth</span></a> <span class="id" title="var">H</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">H'</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">rewrite</span> {1 2}<span class="id" title="var">hf</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">H'</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -[<a class="idref" href="MetaRocq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>](<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">av</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">IHeval3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward_keep</span> <span class="id" title="var">IHeval2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ha</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#forallb_last"><span class="id" title="lemma">forallb_last</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_tFix_inv_size"><span class="id" title="lemma">eval_mkApps_tFix_inv_size</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">X</span> ⇒ //; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hev</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">args'</span> [<span class="id" title="var">hargs</span> <span class="id" title="var">heq</span>]]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">solve_discr</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">etab</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_cunfold_fix"><span class="id" title="lemma">isEtaExp_cunfold_fix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">etab</span>. 2:<span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) ⇒ //. <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_tip"><span class="id" title="lemma">All_tip</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>, <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_etaexp"><span class="id" title="lemma">eval_etaexp</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#forallb_remove_last"><span class="id" title="lemma">forallb_remove_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#All_eval_etaexp"><span class="id" title="lemma">All_eval_etaexp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_impl"><span class="id" title="lemma">All2_impl</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> ? ? []. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_inv_size"><span class="id" title="lemma">eval_mkApps_inv_size</span></a> <span class="id" title="var">IHeval3</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">f''</span> [<span class="id" title="var">args''</span> [<span class="id" title="var">evf'</span> [<span class="id" title="var">evs</span> <span class="id" title="var">evargs'</span> [<span class="id" title="var">evres</span> <span class="id" title="var">ressize</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -[<a class="idref" href="MetaRocq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>](<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">ha</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last_last"><span class="id" title="lemma">remove_last_last</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:590" class="idref" href="#a:590"><span class="id" title="binder"><span id="a:592" class="id">a</span></span></a> <a id="a':591" class="idref" href="#a':591"><span class="id" title="binder"><span id="a':593" class="id">a'</span></span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">eval</span></a> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#switch_unguarded_fix"><span class="id" title="definition">switch_unguarded_fix</span></a> <span class="id" title="var">fl</span>) <span class="id" title="var">Σ</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a:590"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#a':591"><span class="id" title="variable">a'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">l</span> (<span class="id" title="var">args'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">av</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> [<span class="id" title="var">l</span>](<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last_last"><span class="id" title="lemma">remove_last_last</span></a> <span class="id" title="var">l</span> <span class="id" title="var">a</span> <span class="id" title="var">hl</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_app"><span class="id" title="lemma">All2_app</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#forallb_remove_last"><span class="id" title="lemma">forallb_remove_last</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_All_mix_left"><span class="id" title="lemma">All2_All_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hargs</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_impl"><span class="id" title="lemma">All2_impl</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> [<span class="id" title="var">etax</span> []]. <span class="id" title="tactic">eapply</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x0</span>) ⇒ //. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. 2:<span class="id" title="tactic">constructor</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">ha</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">evs</span> <span class="id" title="var">evargs'</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">ressize</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">X</span> <span class="id" title="var">IHeval3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">args'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">av</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) ⇒ <span class="id" title="var">evargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hargs'</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">hargs'</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">ev</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_inv"><span class="id" title="lemma">eval_mkApps_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ev</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">f'</span> [<span class="id" title="var">evf''</span> <span class="id" title="var">evargs</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_app_cong_mkApps"><span class="id" title="lemma">eval_app_cong_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_fix'"><span class="id" title="constructor">eval_fix'</span></a> ⇒ //. <span class="id" title="tactic">constructor</span> ⇒ //. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">evf''</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">hargs'</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">evargs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n</span> [<span class="id" title="var">b</span> [<span class="id" title="var">hrm</span> [<span class="id" title="var">hunf</span> <span class="id" title="var">hn</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span> <span class="id" title="var">hev</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#neval_to_stuck_fix_app"><span class="id" title="lemma">neval_to_stuck_fix_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_FixApp"><span class="id" title="lemma">isEtaExp_FixApp</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">hunf</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cunfold_fix"><span class="id" title="definition">cunfold_fix</span></a> /<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> ⇒ //. <span class="id" title="tactic">intros</span> [=]. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#forallb_remove_last"><span class="id" title="lemma">forallb_remove_last</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>⇒ [] <span class="id" title="var">hl</span> [] <span class="id" title="var">ha</span> [] <span class="id" title="var">ht</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_nil"><span class="id" title="lemma">nth_error_nil</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#and4P"><span class="id" title="lemma">and4P</span></a>[] ⇒ <span class="id" title="var">ht</span> <span class="id" title="var">hl</span> <span class="id" title="var">hf</span> <span class="id" title="var">ha</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#neval_to_stuck_fix_app"><span class="id" title="lemma">neval_to_stuck_fix_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tea</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a>] <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">he</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">he</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_tApp'"><span class="id" title="lemma">isEtaExp_tApp'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>⇒ [] <span class="id" title="var">hl</span> [] <span class="id" title="var">hf</span> [] <span class="id" title="var">ha</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[]/ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">heta</span> <span class="id" title="var">heta2</span> <span class="id" title="var">bargs</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">block_args</span>; <span class="id" title="var">inv</span> <span class="id" title="var">bargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">hf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_Construct_inv"><span class="id" title="lemma">eval_mkApps_Construct_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="tactic">try</span> <span class="id" title="var">solve_discr</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span> ⇒ [<span class="id" title="var">hl</span> [<span class="id" title="var">hf</span> [<span class="id" title="var">ha</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">etal</span> <span class="id" title="var">etab</span>]]] <span class="id" title="var">isel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">hf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_stuck_fix_eq"><span class="id" title="lemma">eval_stuck_fix_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">args'</span> [<span class="id" title="var">hargs</span> [[<span class="id" title="var">hstuck</span> ?]|]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">solve_discr</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">etal</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isStuckFix'"><span class="id" title="definition">isStuckFix'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hstuck</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hstuck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#cunfold_fix"><span class="id" title="definition">cunfold_fix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">hnth</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [=]. <span class="id" title="tactic">subst</span> <span class="id" title="var">narg</span>. <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="var">hargs</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">hstuck</span>, <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.leb_le"><span class="id" title="lemma">Nat.leb_le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hstuck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#remove_last_length'"><span class="id" title="lemma">remove_last_length'</span></a> // <span class="id" title="tactic">in</span> <span class="id" title="var">hstuck</span>, <span class="id" title="var">H3</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#neval_to_stuck_fix_app"><span class="id" title="lemma">neval_to_stuck_fix_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfix</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_FixApp"><span class="id" title="lemma">isEtaExp_FixApp</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#forallb_remove_last"><span class="id" title="lemma">forallb_remove_last</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>⇒ [] <span class="id" title="var">hl</span> [] <span class="id" title="var">ha</span> [] <span class="id" title="var">ht</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_nil"><span class="id" title="lemma">nth_error_nil</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#and4P"><span class="id" title="lemma">and4P</span></a>[] ⇒ <span class="id" title="var">ht</span> <span class="id" title="var">hl</span> <span class="id" title="var">hf</span> <span class="id" title="var">ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#neval_to_stuck_fix_app"><span class="id" title="lemma">neval_to_stuck_fix_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">unguarded</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simp_eta</span> ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">etad</span> <span class="id" title="var">etabrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval1</span> <span class="id" title="tactic">by</span> <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">simp_eta</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">etabrs</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_etaexp"><span class="id" title="lemma">eval_etaexp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">H0</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> // /= ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">etafix</span> <span class="id" title="var">etaargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_cunfold_cofix"><span class="id" title="lemma">isEtaExp_cunfold_cofix</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">simp_eta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">etafix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">etafix</span>. <span class="id" title="var">solve_all</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simp_eta</span> ⇒ <span class="id" title="var">etad</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval1</span> <span class="id" title="tactic">by</span> <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval2</span>. { <span class="id" title="var">simp_eta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_etaexp"><span class="id" title="lemma">eval_etaexp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">H0</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> // /= ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">etafix</span> <span class="id" title="var">etaargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_cunfold_cofix"><span class="id" title="lemma">isEtaExp_cunfold_cofix</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">simp_eta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">etafix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">etafix</span>. <span class="id" title="var">solve_all</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_lookup"><span class="id" title="lemma">isEtaExp_lookup</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_decl"><span class="id" title="definition">isEtaExp_decl</span></a> /<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_constant_decl"><span class="id" title="definition">isEtaExp_constant_decl</span></a> <span class="id" title="var">H0</span> /= <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simp_eta</span> ⇒ <span class="id" title="var">etad</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval1</span> <span class="id" title="tactic">by</span> <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_etaexp"><span class="id" title="lemma">eval_etaexp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> // /= ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">etaapp</span> <span class="id" title="var">etaargs</span> <span class="id" title="var">bargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_nth_error"><span class="id" title="lemma">forallb_nth_error</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">etaargs</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">erewrite</span> <span class="id" title="var">e3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">etaargs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_proj"><span class="id" title="constructor">eval_proj</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simp_eta</span> ⇒ <span class="id" title="var">etad</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval</span> <span class="id" title="tactic">by</span> <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_proj_prop"><span class="id" title="constructor">eval_proj_prop</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_tApp'"><span class="id" title="lemma">isEtaExp_tApp'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app_inv"><span class="id" title="lemma">decompose_app_inv</span></a> <span class="id" title="var">da</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>⇒ [] <span class="id" title="var">hl</span> [] <span class="id" title="var">hf</span> [] <span class="id" title="var">ha</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">heta</span> <span class="id" title="var">etal</span> <span class="id" title="var">bargs</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">block_args</span>; <span class="id" title="var">inv</span> <span class="id" title="var">bargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">H'</span> := <span class="id" title="var">H</span>) ; <span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_depth"><span class="id" title="definition">eval_depth</span></a> <span class="id" title="var">H'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_depth"><span class="id" title="definition">eval_depth</span></a> <span class="id" title="var">H</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">H'</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> {1 2}<span class="id" title="var">hf</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_Construct_size"><span class="id" title="lemma">eval_mkApps_Construct_size</span></a> <span class="id" title="var">wcon</span> <span class="id" title="var">H'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">args''</span> [<span class="id" title="var">evc</span> [<span class="id" title="var">evcs</span> <span class="id" title="var">hargs</span> <span class="id" title="var">heq</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_eq_inj"><span class="id" title="lemma">mkApps_eq_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">heq</span> <span class="id" title="keyword">as</span> [] ⇒ //. <span class="id" title="var">noconf</span> <span class="id" title="var">H2</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hevd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last_last"><span class="id" title="lemma">remove_last_last</span></a> <span class="id" title="var">l0</span> <span class="id" title="var">a</span> <span class="id" title="var">hl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -[<a class="idref" href="MetaRocq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>](<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_Construct"><span class="id" title="lemma">eval_mkApps_Construct</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">constructor</span>. <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#atom"><span class="id" title="definition">atom</span></a>]; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="var">e0</span> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="var">hargs</span>). <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_app"><span class="id" title="lemma">All2_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#forallb_remove_last"><span class="id" title="lemma">forallb_remove_last</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">etal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_All_mix_left"><span class="id" title="lemma">All2_All_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hargs</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_impl"><span class="id" title="lemma">All2_impl</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span> ? ? [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">evxy</span> <span class="id" title="var">hevxy</span>]. <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [|<span class="id" title="tactic">constructor</span>]. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ha</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#forallb_last"><span class="id" title="lemma">forallb_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span> ⇒ [<span class="id" title="var">hl</span> [<span class="id" title="var">hf</span> [<span class="id" title="var">ha</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">etal</span> <span class="id" title="var">etab</span>]]] <span class="id" title="var">isel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval2</span>. { <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ha</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#forallb_last"><span class="id" title="lemma">forallb_last</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last_last"><span class="id" title="lemma">remove_last_last</span></a> <span class="id" title="var">l0</span> <span class="id" title="var">a</span> <span class="id" title="var">hl</span>) /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_construct"><span class="id" title="constructor">eval_construct</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">hf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_stuck_fix_eq"><span class="id" title="lemma">eval_stuck_fix_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfix</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">args'</span> [<span class="id" title="var">hargs</span> [[<span class="id" title="var">hstuck</span> ?]|]]]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">solve_discr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">hf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHeval1</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHeval1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> // /= <span class="id" title="var">i</span> /= <span class="id" title="var">etab</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">isel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> {1}(<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last_last"><span class="id" title="lemma">remove_last_last</span></a> <span class="id" title="var">l0</span> <span class="id" title="var">a</span> <span class="id" title="var">hl</span>) /= <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb_app"><span class="id" title="lemma">forallb_app</span></a> ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[]. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">ha</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>⇒ [] <span class="id" title="var">hl</span> [] <span class="id" title="var">ha</span> [] <span class="id" title="var">ht</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_nil"><span class="id" title="lemma">nth_error_nil</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#and4P"><span class="id" title="lemma">and4P</span></a>[] ⇒ <span class="id" title="var">ht</span> <span class="id" title="var">hl</span> <span class="id" title="var">hf</span> <span class="id" title="var">ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval1</span> <span class="id" title="tactic">by</span> <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval2</span> <span class="id" title="tactic">by</span> <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app_inv"><span class="id" title="lemma">decompose_app_inv</span></a> <span class="id" title="var">da</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_construct"><span class="id" title="constructor">eval_construct</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_tApp'"><span class="id" title="lemma">isEtaExp_tApp'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app_inv"><span class="id" title="lemma">decompose_app_inv</span></a> <span class="id" title="var">da</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>⇒ [] <span class="id" title="var">hl</span> [] <span class="id" title="var">hf</span> [] <span class="id" title="var">ha</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">heta</span> <span class="id" title="var">etal</span> <span class="id" title="var">bargs</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">block_args</span>; <span class="id" title="var">inv</span> <span class="id" title="var">bargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">H'</span> := <span class="id" title="var">H</span>) ; <span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_depth"><span class="id" title="definition">eval_depth</span></a> <span class="id" title="var">H'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_depth"><span class="id" title="definition">eval_depth</span></a> <span class="id" title="var">H</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">H'</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> {1 2}<span class="id" title="var">hf</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_mkApps_Construct_size"><span class="id" title="lemma">eval_mkApps_Construct_size</span></a> <span class="id" title="var">wcon</span> <span class="id" title="var">H'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">args''</span> [<span class="id" title="var">evc</span> [<span class="id" title="var">evcs</span> <span class="id" title="var">hargs</span> <span class="id" title="var">heq</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">f'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isConstructApp_mkApps"><span class="id" title="lemma">isConstructApp_mkApps</span></a> /<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isConstructApp"><span class="id" title="definition">isConstructApp</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#negb_or"><span class="id" title="lemma">negb_or</span></a> /= !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_false_r"><span class="id" title="lemma">andb_false_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span> ⇒ [<span class="id" title="var">hl</span> [<span class="id" title="var">hf</span> [<span class="id" title="var">ha</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">etal</span> <span class="id" title="var">etab</span>]]] <span class="id" title="var">isel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval2</span>. { <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ha</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#forallb_last"><span class="id" title="lemma">forallb_last</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last_last"><span class="id" title="lemma">remove_last_last</span></a> <span class="id" title="var">l</span> <span class="id" title="var">a</span> <span class="id" title="var">hl</span>) /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">wguard</span> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">H</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_app_cong"><span class="id" title="constructor">eval_app_cong</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3:<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">H</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_stuck_fix_eq"><span class="id" title="lemma">eval_stuck_fix_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfix</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">args'</span> [<span class="id" title="var">hargs</span> [[<span class="id" title="var">hstuck</span> ?]|]]]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">f'</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isFixApp_mkApps"><span class="id" title="lemma">isFixApp_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#negb_or"><span class="id" title="lemma">negb_or</span></a> /= !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_false_r"><span class="id" title="lemma">andb_false_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> // /= <span class="id" title="var">i0</span> /= <span class="id" title="var">etab</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">isel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> {1}(<a class="idref" href="MetaRocq.Utils.MRList.html#remove_last_last"><span class="id" title="lemma">remove_last_last</span></a> <span class="id" title="var">l</span> <span class="id" title="var">a</span> <span class="id" title="var">hl</span>) /= <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb_app"><span class="id" title="lemma">forallb_app</span></a> ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[]. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#negb_or"><span class="id" title="lemma">negb_or</span></a>; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#nisFixApp_nisFix"><span class="id" title="lemma">nisFixApp_nisFix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>⇒ [] <span class="id" title="var">hl</span> [] <span class="id" title="var">ha</span> [] <span class="id" title="var">ht</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_nil"><span class="id" title="lemma">nth_error_nil</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#and4P"><span class="id" title="lemma">and4P</span></a>[] ⇒ <span class="id" title="var">ht</span> <span class="id" title="var">hl</span> <span class="id" title="var">hf</span> <span class="id" title="var">ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval1</span> <span class="id" title="tactic">by</span> <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHeval2</span> <span class="id" title="tactic">by</span> <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app_inv"><span class="id" title="lemma">decompose_app_inv</span></a> <span class="id" title="var">da</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_app_cong"><span class="id" title="constructor">eval_app_cong</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">wguard</span> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#negb_or"><span class="id" title="lemma">negb_or</span></a>; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#nisFixApp_nisFix"><span class="id" title="lemma">nisFixApp_nisFix</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">hexp</span>. <span class="id" title="var">simp_eta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hexp</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#All2_over_undep"><span class="id" title="lemma">All2_over_undep</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">a0</span> <span class="id" title="var">a'</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">hexp</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#All2_All2_Set"><span class="id" title="lemma">All2_All2_Set</span></a>. <span class="id" title="var">solve_all</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">hexp</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">hexp</span>. <span class="id" title="var">simp_eta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hexp</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHeval2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHeval1</span> <span class="id" title="var">hexp</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#eval_etaexp"><span class="id" title="lemma">eval_etaexp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHeval1</span>. <span class="id" title="var">now</span> <span class="id" title="var">simp_eta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHeval1</span>. <span class="id" title="var">all</span>:<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">hexp</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_atom"><span class="id" title="constructor">eval_atom</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expanded_global_env_isEtaExp_env" class="idref" href="#expanded_global_env_isEtaExp_env"><span class="id" title="lemma">expanded_global_env_isEtaExp_env</span></a> {<a id="82fa80cafe97572d0b8b575d411a9438" class="idref" href="#82fa80cafe97572d0b8b575d411a9438"><span class="id" title="binder">Σ</span></a>} : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_global_env"><span class="id" title="definition">expanded_global_env</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#82fa80cafe97572d0b8b575d411a9438"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_env"><span class="id" title="definition">isEtaExp_env</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#82fa80cafe97572d0b8b575d411a9438"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>; <span class="id" title="var">cbn</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHe</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn</span> []] ⇒ /= //.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_constant_decl"><span class="id" title="definition">isEtaExp_constant_decl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.EAst.html#cst_body"><span class="id" title="projection">cst_body</span></a> <span class="id" title="var">c</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> × ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_isEtaExp"><span class="id" title="lemma">expanded_isEtaExp</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isEtaExpFix_tApp_arg" class="idref" href="#isEtaExpFix_tApp_arg"><span class="id" title="lemma">isEtaExpFix_tApp_arg</span></a> <a id="491027ad53cd0e1fa89efe8a3515caa4" class="idref" href="#491027ad53cd0e1fa89efe8a3515caa4"><span class="id" title="binder">Σ</span></a> <a id="4a1993fb534323d30566e58d4137e785" class="idref" href="#4a1993fb534323d30566e58d4137e785"><span class="id" title="binder">Γ</span></a> <a id="t:597" class="idref" href="#t:597"><span class="id" title="binder">t</span></a> <a id="u:598" class="idref" href="#u:598"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#491027ad53cd0e1fa89efe8a3515caa4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#4a1993fb534323d30566e58d4137e785"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:597"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#u:598"><span class="id" title="variable">u</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#491027ad53cd0e1fa89efe8a3515caa4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#4a1993fb534323d30566e58d4137e785"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#u:598"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_tApp'"><span class="id" title="lemma">isEtaExp_tApp'</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#decompose_app_inv"><span class="id" title="lemma">decompose_app_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">da</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_case"><span class="id" title="lemma">rev_case</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">da</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">t0</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#and3P"><span class="id" title="lemma">and3P</span></a> ⇒ [].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">da</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">H</span>]]]. <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H</span> ⇒ [] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">_</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb_app"><span class="id" title="lemma">forallb_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] //=. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">H</span>]]]. <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H</span> ⇒ [] /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">_</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb_app"><span class="id" title="lemma">forallb_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] //=. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">H</span>]]]. <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H</span> ⇒ [] <span class="id" title="var">_</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb_app"><span class="id" title="lemma">forallb_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] //=. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#and4P"><span class="id" title="lemma">and4P</span></a> ⇒ [].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isEtaExp_lift" class="idref" href="#isEtaExp_lift"><span class="id" title="lemma">isEtaExp_lift</span></a> <a id="4dcb844c2acd485f32cda3f894b77b4c" class="idref" href="#4dcb844c2acd485f32cda3f894b77b4c"><span class="id" title="binder">Σ</span></a> <a id="8a37d63f94d982280e8cec857a4c187f" class="idref" href="#8a37d63f94d982280e8cec857a4c187f"><span class="id" title="binder">Γ</span></a> <a id="87fea65d84608ad645b8ced3f251d1b7" class="idref" href="#87fea65d84608ad645b8ced3f251d1b7"><span class="id" title="binder">Γ'</span></a> <a id="57913b0796d79ad428f3ef81859f14b9" class="idref" href="#57913b0796d79ad428f3ef81859f14b9"><span class="id" title="binder">Γ''</span></a> <a id="t:603" class="idref" href="#t:603"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#4dcb844c2acd485f32cda3f894b77b4c"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#57913b0796d79ad428f3ef81859f14b9"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#8a37d63f94d982280e8cec857a4c187f"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:603"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#4dcb844c2acd485f32cda3f894b77b4c"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#57913b0796d79ad428f3ef81859f14b9"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#87fea65d84608ad645b8ced3f251d1b7"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#8a37d63f94d982280e8cec857a4c187f"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.Erasure.ELiftSubst.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#87fea65d84608ad645b8ced3f251d1b7"><span class="id" title="variable">Γ'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#57913b0796d79ad428f3ef81859f14b9"><span class="id" title="variable">Γ''</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#t:603"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim_nosimp</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp"><span class="id" title="definition">isEtaExp</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">_</span> <span class="id" title="var">t</span>); <span class="id" title="var">cbn</span>; <span class="id" title="var">simp_eta</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="var">easy</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="var">cbn</span>; <span class="id" title="var">simp_eta</span>; <span class="id" title="var">toAll</span>; <span class="id" title="var">bool</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> → <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_InP_spec"><span class="id" title="lemma">forallb_InP_spec</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">solve_all</span>].<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">hnth</span> ⇒ //=. <span class="id" title="tactic">move</span>: <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#nth_error_appP"><span class="id" title="lemma">PCUICLiftSubst.nth_error_appP</span></a> <span class="id" title="var">Γ''</span> <span class="id" title="var">Γ0</span> <span class="id" title="var">i</span>) ⇒ <span class="id" title="var">h</span>; <span class="id" title="var">noconf</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ''</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="var">i</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>; <span class="id" title="var">simp_eta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_app_lt"><span class="id" title="lemma">nth_error_app_lt</span></a> //= <span class="id" title="var">e</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_app_ge"><span class="id" title="lemma">nth_error_app_ge</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_app_ge"><span class="id" title="lemma">nth_error_app_ge</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ'</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">i</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ''</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ'</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">i</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ''</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simp_eta</span>. <span class="id" title="tactic">eapply</span> (<span class="id" title="var">H</span> <span class="id" title="var">Γ0</span> <span class="id" title="var">Γ'</span> (0 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ''</span>)); <span class="id" title="var">trea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<span class="id" title="var">H0</span> <span class="id" title="var">Γ0</span> <span class="id" title="var">Γ'</span> (0 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ''</span>)); <span class="id" title="var">trea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">block_args</span> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">a</span> <span class="id" title="var">Γ0</span> <span class="id" title="var">Γ'</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#repeat"><span class="id" title="definition">repeat</span></a> 0 <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">x</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Γ''</span>) <span class="id" title="var">x</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -!<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">a</span> <span class="id" title="var">Γ0</span> <span class="id" title="var">Γ'</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#repeat"><span class="id" title="definition">repeat</span></a> 0 <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Γ''</span>) (<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -!<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#InPrim_primProp"><span class="id" title="lemma">InPrim_primProp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#primProp_map"><span class="id" title="lemma">primProp_map</span></a>, <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#primProp_impl"><span class="id" title="lemma">primProp_impl</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> [<span class="id" title="var">a</span> <span class="id" title="var">exp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">a</span> <span class="id" title="var">Γ0</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">Γ''</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ELiftSubst.html#lift_mkApps"><span class="id" title="lemma">lift_mkApps</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> //=. <span class="id" title="var">bool</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">block_args</span> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ELiftSubst.html#lift_mkApps"><span class="id" title="lemma">lift_mkApps</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> //=. <span class="id" title="var">bool</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_fixapp"><span class="id" title="definition">isEtaExp_fixapp</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_all</span>. <span class="id" title="var">bool</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a> <span class="id" title="var">x</span>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">set</span> (<span class="id" title="var">rm</span> := <a class="idref" href="MetaRocq.Utils.MRList.html#rev_map"><span class="id" title="definition">rev_map</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">a</span> <span class="id" title="var">Γ0</span> <span class="id" title="var">Γ'</span> (<span class="id" title="var">rm</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Γ''</span>) (<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -!<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">rm</span> !<a class="idref" href="MetaRocq.Utils.MRList.html#rev_map_spec"><span class="id" title="lemma">rev_map_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span> <span class="id" title="var">a</span> *; <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>. <span class="id" title="var">len</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">a</span>; <span class="id" title="var">trea</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ELiftSubst.html#lift_mkApps"><span class="id" title="lemma">lift_mkApps</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps"><span class="id" title="lemma">isEtaExp_mkApps</span></a> //=; <span class="id" title="tactic">case</span>: <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> ⇒ //= <span class="id" title="var">hn</span>; <span class="id" title="var">bool</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>: <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#nth_error_appP"><span class="id" title="lemma">PCUICLiftSubst.nth_error_appP</span></a> <span class="id" title="var">Γ''</span> <span class="id" title="var">Γ0</span> <span class="id" title="var">n</span>) ⇒ //= /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.leb_le"><span class="id" title="lemma">Nat.leb_le</span></a> <span class="id" title="var">hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_app_ge"><span class="id" title="lemma">nth_error_app_ge</span></a>; [<span class="id" title="var">lia</span>|]). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_app_ge"><span class="id" title="lemma">nth_error_app_ge</span></a>; [<span class="id" title="var">lia</span>|]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ'</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ''</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ'</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ''</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> //=. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.leb_le"><span class="id" title="lemma">Nat.leb_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>: <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_app_lt"><span class="id" title="lemma">nth_error_app_lt</span></a> //=.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ELiftSubst.html#lift_mkApps"><span class="id" title="lemma">lift_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_head_viewc"><span class="id" title="definition">expanded_head_viewc</span></a> <span class="id" title="var">u</span>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">bool</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#isEtaExp_mkApps_intro"><span class="id" title="lemma">isEtaExp_mkApps_intro</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
