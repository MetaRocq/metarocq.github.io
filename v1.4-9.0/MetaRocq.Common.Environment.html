<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./index.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaRocq.Common.Environment</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ssr.ssrbool.html#"><span class="id" title="library">ssrbool</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ssr.ssrfun.html#"><span class="id" title="library">ssrfun</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Classes.Morphisms.html#"><span class="id" title="library">Morphisms</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Setoids.Setoid.html#"><span class="id" title="library">Setoid</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Utils.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Common</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#"><span class="id" title="library">BasicAst</span></a> <a class="idref" href="MetaRocq.Common.Primitive.html#"><span class="id" title="library">Primitive</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#"><span class="id" title="library">Universes</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Equations.Prop</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Classes</span> <span class="id" title="library">EqDecInstances</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">Tauto.intuition_solver</span> ::= <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> ×.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="Term" class="idref" href="#Term"><span class="id" title="module">Term</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="keyword">Inline</span> <a id="Term.term" class="idref" href="#Term.term"><span class="id" title="axiom">term</span></a> : <span class="id" title="keyword">Type</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="keyword">Inline</span> <a id="Term.tRel" class="idref" href="#Term.tRel"><span class="id" title="axiom">tRel</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="keyword">Inline</span> <a id="Term.tSort" class="idref" href="#Term.tSort"><span class="id" title="axiom">tSort</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#Sort.t"><span class="id" title="definition">Sort.t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="keyword">Inline</span> <a id="Term.tProd" class="idref" href="#Term.tProd"><span class="id" title="axiom">tProd</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="keyword">Inline</span> <a id="Term.tLambda" class="idref" href="#Term.tLambda"><span class="id" title="axiom">tLambda</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="keyword">Inline</span> <a id="Term.tLetIn" class="idref" href="#Term.tLetIn"><span class="id" title="axiom">tLetIn</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="keyword">Inline</span> <a id="Term.tInd" class="idref" href="#Term.tInd"><span class="id" title="axiom">tInd</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#inductive"><span class="id" title="record">inductive</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Instance.t"><span class="id" title="definition">Instance.t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="keyword">Inline</span> <a id="Term.tProj" class="idref" href="#Term.tProj"><span class="id" title="axiom">tProj</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#projection"><span class="id" title="record">projection</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="keyword">Inline</span> <a id="Term.mkApps" class="idref" href="#Term.mkApps"><span class="id" title="axiom">mkApps</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="keyword">Inline</span> <a id="Term.lift" class="idref" href="#Term.lift"><span class="id" title="axiom">lift</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="keyword">Inline</span> <a id="Term.subst" class="idref" href="#Term.subst"><span class="id" title="axiom">subst</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="keyword">Inline</span> <a id="Term.closedn" class="idref" href="#Term.closedn"><span class="id" title="axiom">closedn</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="keyword">Inline</span> <a id="Term.noccur_between" class="idref" href="#Term.noccur_between"><span class="id" title="axiom">noccur_between</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="keyword">Inline</span> <a id="Term.subst_instance_constr" class="idref" href="#Term.subst_instance_constr"><span class="id" title="axiom">subst_instance_constr</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#UnivSubst"><span class="id" title="class">UnivSubst</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Term.term"><span class="id" title="axiom">term</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="Term.lift0" class="idref" href="#Term.lift0"><span class="id" title="abbreviation">lift0</span></a> <span class="id" title="var">n</span> := (<a class="idref" href="MetaRocq.Common.Environment.html#Term.lift"><span class="id" title="axiom">lift</span></a> <span class="id" title="var">n</span> 0).<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.Common.Environment.html#Term"><span class="id" title="module">Term</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="TermDecide" class="idref" href="#TermDecide"><span class="id" title="module">TermDecide</span></a> (<span class="id" title="keyword">Import</span> <span class="id" title="var">T</span> : <a class="idref" href="MetaRocq.Common.Environment.html#Term"><span class="id" title="module">Term</span></a>).<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="TermDecide.term_eq_dec" class="idref" href="#TermDecide.term_eq_dec"><span class="id" title="instance">term_eq_dec</span></a> : <span class="id" title="class">EqDec</span> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 0 (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#ReflectEq"><span class="id" title="class">ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a>) ⇒ <span class="id" title="tactic">exact</span> (@<a class="idref" href="MetaRocq.Utils.ReflectEq.html#EqDec_ReflectEq"><span class="id" title="definition">EqDec_ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#TermDecide.term_eq_dec"><span class="id" title="axiom">term_eq_dec</span></a>) : <span class="id" title="var">typeclass_instances</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.Common.Environment.html#TermDecide"><span class="id" title="module">TermDecide</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="TermDecideReflectInstances" class="idref" href="#TermDecideReflectInstances"><span class="id" title="module">TermDecideReflectInstances</span></a> (<span class="id" title="keyword">Import</span> <span class="id" title="var">T</span> : <a class="idref" href="MetaRocq.Common.Environment.html#Term"><span class="id" title="module">Term</span></a>) (<span class="id" title="keyword">Import</span> <span class="id" title="var">TDec</span> : <a class="idref" href="MetaRocq.Common.Environment.html#TermDecide"><span class="id" title="module">TermDecide</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T"><span class="id" title="module">T</span></a>).<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 0 (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#ReflectEq"><span class="id" title="class">ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a>) ⇒ <span class="id" title="tactic">exact</span> (@<a class="idref" href="MetaRocq.Utils.ReflectEq.html#EqDec_ReflectEq"><span class="id" title="definition">EqDec_ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#TDec.term_eq_dec"><span class="id" title="axiom">term_eq_dec</span></a>) : <span class="id" title="var">typeclass_instances</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.Common.Environment.html#TermDecideReflectInstances"><span class="id" title="module">TermDecideReflectInstances</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="Retroknowledge" class="idref" href="#Retroknowledge"><span class="id" title="module">Retroknowledge</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="Retroknowledge.t" class="idref" href="#Retroknowledge.t"><span class="id" title="record">t</span></a> := <span class="id" title="var">mk_retroknowledge</span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Retroknowledge.retro_int63" class="idref" href="#Retroknowledge.retro_int63"><span class="id" title="projection">retro_int63</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Retroknowledge.retro_float64" class="idref" href="#Retroknowledge.retro_float64"><span class="id" title="projection">retro_float64</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Retroknowledge.retro_string" class="idref" href="#Retroknowledge.retro_string"><span class="id" title="projection">retro_string</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Retroknowledge.retro_array" class="idref" href="#Retroknowledge.retro_array"><span class="id" title="projection">retro_array</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a>;<br/>
&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Retroknowledge.empty" class="idref" href="#Retroknowledge.empty"><span class="id" title="definition">empty</span></a> := {| <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_int63"><span class="id" title="projection">retro_int63</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>; <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_float64"><span class="id" title="projection">retro_float64</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>; <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_string"><span class="id" title="projection">retro_string</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>; <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_array"><span class="id" title="projection">retro_array</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> |}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Retroknowledge.extends" class="idref" href="#Retroknowledge.extends"><span class="id" title="definition">extends</span></a> (<a id="x:34" class="idref" href="#x:34"><span class="id" title="binder">x</span></a> <a id="y:35" class="idref" href="#y:35"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.t"><span class="id" title="record">t</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MROption.html#option_extends"><span class="id" title="inductive">option_extends</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#x:34"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_int63"><span class="id" title="projection">retro_int63</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#y:35"><span class="id" title="variable">y</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_int63"><span class="id" title="projection">retro_int63</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MROption.html#option_extends"><span class="id" title="inductive">option_extends</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#x:34"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_float64"><span class="id" title="projection">retro_float64</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#y:35"><span class="id" title="variable">y</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_float64"><span class="id" title="projection">retro_float64</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MROption.html#option_extends"><span class="id" title="inductive">option_extends</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#x:34"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_string"><span class="id" title="projection">retro_string</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#y:35"><span class="id" title="variable">y</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_string"><span class="id" title="projection">retro_string</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MROption.html#option_extends"><span class="id" title="inductive">option_extends</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#x:34"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_array"><span class="id" title="projection">retro_array</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#y:35"><span class="id" title="variable">y</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_array"><span class="id" title="projection">retro_array</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Existing Class</span> <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extends"><span class="id" title="definition">extends</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Retroknowledge.extendsb" class="idref" href="#Retroknowledge.extendsb"><span class="id" title="definition">extendsb</span></a> (<a id="x:36" class="idref" href="#x:36"><span class="id" title="binder">x</span></a> <a id="y:37" class="idref" href="#y:37"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.t"><span class="id" title="record">t</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MROption.html#option_extendsb"><span class="id" title="definition">option_extendsb</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#x:36"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_int63"><span class="id" title="projection">retro_int63</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#y:37"><span class="id" title="variable">y</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_int63"><span class="id" title="projection">retro_int63</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MROption.html#option_extendsb"><span class="id" title="definition">option_extendsb</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#x:36"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_float64"><span class="id" title="projection">retro_float64</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#y:37"><span class="id" title="variable">y</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_float64"><span class="id" title="projection">retro_float64</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MROption.html#option_extendsb"><span class="id" title="definition">option_extendsb</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#x:36"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_string"><span class="id" title="projection">retro_string</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#y:37"><span class="id" title="variable">y</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_string"><span class="id" title="projection">retro_string</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MROption.html#option_extendsb"><span class="id" title="definition">option_extendsb</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#x:36"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_array"><span class="id" title="projection">retro_array</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#y:37"><span class="id" title="variable">y</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_array"><span class="id" title="projection">retro_array</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Retroknowledge.extendsT" class="idref" href="#Retroknowledge.extendsT"><span class="id" title="lemma">extendsT</span></a> <a id="x:38" class="idref" href="#x:38"><span class="id" title="binder">x</span></a> <a id="y:39" class="idref" href="#y:39"><span class="id" title="binder">y</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#reflect"><span class="id" title="inductive">reflect</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extends"><span class="id" title="class">extends</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#x:38"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#y:39"><span class="id" title="variable">y</span></a>) (<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extendsb"><span class="id" title="definition">extendsb</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#x:38"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#y:39"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extends"><span class="id" title="class">extends</span></a>/<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extendsb"><span class="id" title="definition">extendsb</span></a>; <span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">case</span>: <a class="idref" href="MetaRocq.Utils.MROption.html#option_extendsT"><span class="id" title="lemma">option_extendsT</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Retroknowledge.extends_spec" class="idref" href="#Retroknowledge.extends_spec"><span class="id" title="lemma">extends_spec</span></a> <a id="x:40" class="idref" href="#x:40"><span class="id" title="binder">x</span></a> <a id="y:41" class="idref" href="#y:41"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extendsb"><span class="id" title="definition">extendsb</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#x:40"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#y:41"><span class="id" title="variable">y</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extends"><span class="id" title="class">extends</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#x:40"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#y:41"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extends"><span class="id" title="class">extends</span></a>/<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extendsb"><span class="id" title="definition">extendsb</span></a> -!<a class="idref" href="MetaRocq.Utils.MROption.html#option_extends_spec"><span class="id" title="lemma">option_extends_spec</span></a> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_iff"><span class="id" title="lemma">Bool.andb_true_iff</span></a> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Retroknowledge.extends_refl" class="idref" href="#Retroknowledge.extends_refl"><span class="id" title="instance">extends_refl</span></a> <a id="x:42" class="idref" href="#x:42"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extends"><span class="id" title="class">extends</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#x:42"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#x:42"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MROption.html#option_extends_refl"><span class="id" title="instance">option_extends_refl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Retroknowledge.extends_trans" class="idref" href="#Retroknowledge.extends_trans"><span class="id" title="instance">extends_trans</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.RelationClasses.html#Transitive"><span class="id" title="class">RelationClasses.Transitive</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extends"><span class="id" title="class">Retroknowledge.extends</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> [? [? []]] [? [? []]]; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="var">etransitivity</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>,<span class="id" title="var">program</span>] <span class="id" title="keyword">Instance</span> <a id="Retroknowledge.reflect_t" class="idref" href="#Retroknowledge.reflect_t"><span class="id" title="instance">reflect_t</span></a> : <a class="idref" href="MetaRocq.Utils.ReflectEq.html#ReflectEq"><span class="id" title="class">ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.t"><span class="id" title="record">t</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> <a id="x:43" class="idref" href="#x:43"><span class="id" title="binder">x</span></a> <a id="y:44" class="idref" href="#y:44"><span class="id" title="binder">y</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Environment.html#x:43"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_int63"><span class="id" title="projection">retro_int63</span></a>) <a class="idref" href="MetaRocq.Utils.ReflectEq.html#12489c9c79e91749bd1f337dd0c899e9"><span class="id" title="notation">==</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#y:44"><span class="id" title="variable">y</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_int63"><span class="id" title="projection">retro_int63</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Environment.html#x:43"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_float64"><span class="id" title="projection">retro_float64</span></a>) <a class="idref" href="MetaRocq.Utils.ReflectEq.html#12489c9c79e91749bd1f337dd0c899e9"><span class="id" title="notation">==</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#y:44"><span class="id" title="variable">y</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_float64"><span class="id" title="projection">retro_float64</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Environment.html#x:43"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_string"><span class="id" title="projection">retro_string</span></a>) <a class="idref" href="MetaRocq.Utils.ReflectEq.html#12489c9c79e91749bd1f337dd0c899e9"><span class="id" title="notation">==</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#y:44"><span class="id" title="variable">y</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_string"><span class="id" title="projection">retro_string</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Environment.html#x:43"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_array"><span class="id" title="projection">retro_array</span></a>) <a class="idref" href="MetaRocq.Utils.ReflectEq.html#12489c9c79e91749bd1f337dd0c899e9"><span class="id" title="notation">==</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#y:44"><span class="id" title="variable">y</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_array"><span class="id" title="projection">retro_array</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">case</span>: <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">y</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
This operation is asymmetric; it perfers the first argument when the arguments are incompatible, but otherwise takes the join 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Retroknowledge.merge" class="idref" href="#Retroknowledge.merge"><span class="id" title="definition">merge</span></a> (<a id="r1:45" class="idref" href="#r1:45"><span class="id" title="binder">r1</span></a> <a id="r2:46" class="idref" href="#r2:46"><span class="id" title="binder">r2</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.t"><span class="id" title="record">t</span></a>) : <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.t"><span class="id" title="record">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= {| <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_int63"><span class="id" title="projection">retro_int63</span></a> := <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#r1:45"><span class="id" title="variable">r1</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_int63"><span class="id" title="projection">retro_int63</span></a>) <span class="id" title="keyword">with</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> | <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#r2:46"><span class="id" title="variable">r2</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_int63"><span class="id" title="projection">retro_int63</span></a>) <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_float64"><span class="id" title="projection">retro_float64</span></a> := <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#r1:45"><span class="id" title="variable">r1</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_float64"><span class="id" title="projection">retro_float64</span></a>) <span class="id" title="keyword">with</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> | <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#r2:46"><span class="id" title="variable">r2</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_float64"><span class="id" title="projection">retro_float64</span></a>) <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_string"><span class="id" title="projection">retro_string</span></a> := <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#r1:45"><span class="id" title="variable">r1</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_string"><span class="id" title="projection">retro_string</span></a>) <span class="id" title="keyword">with</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> | <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#r2:46"><span class="id" title="variable">r2</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_string"><span class="id" title="projection">retro_string</span></a>) <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_array"><span class="id" title="projection">retro_array</span></a> := <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#r1:45"><span class="id" title="variable">r1</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_array"><span class="id" title="projection">retro_array</span></a>) <span class="id" title="keyword">with</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> | <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#r2:46"><span class="id" title="variable">r2</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_array"><span class="id" title="projection">retro_array</span></a>) <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Retroknowledge.extends_l_merge" class="idref" href="#Retroknowledge.extends_l_merge"><span class="id" title="lemma">extends_l_merge</span></a> <a id="r1:47" class="idref" href="#r1:47"><span class="id" title="binder">r1</span></a> <a id="r2:48" class="idref" href="#r2:48"><span class="id" title="binder">r2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extends"><span class="id" title="class">extends</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#r1:47"><span class="id" title="variable">r1</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#r1:47"><span class="id" title="variable">r1</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#r2:48"><span class="id" title="variable">r2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extends"><span class="id" title="class">extends</span></a>/<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.merge"><span class="id" title="definition">merge</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">r1</span>, <span class="id" title="var">r2</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">destruct</span> ?; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">clear</span>; <span class="id" title="var">destruct_head'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Retroknowledge.extends_merge_idempotent" class="idref" href="#Retroknowledge.extends_merge_idempotent"><span class="id" title="lemma">extends_merge_idempotent</span></a> <a id="r1:49" class="idref" href="#r1:49"><span class="id" title="binder">r1</span></a> <a id="r2:50" class="idref" href="#r2:50"><span class="id" title="binder">r2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extends"><span class="id" title="class">extends</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#r1:49"><span class="id" title="variable">r1</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#r2:50"><span class="id" title="variable">r2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#r1:49"><span class="id" title="variable">r1</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#r2:50"><span class="id" title="variable">r2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#r2:50"><span class="id" title="variable">r2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extends"><span class="id" title="class">extends</span></a>/<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.merge"><span class="id" title="definition">merge</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">r1</span>, <span class="id" title="var">r2</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="var">rdest</span>; <span class="id" title="var">destruct_head'</span> (@<a class="idref" href="MetaRocq.Utils.MROption.html#option_extends"><span class="id" title="inductive">option_extends</span></a>); <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Retroknowledge.compatible" class="idref" href="#Retroknowledge.compatible"><span class="id" title="definition">compatible</span></a> (<a id="x:51" class="idref" href="#x:51"><span class="id" title="binder">x</span></a> <a id="y:52" class="idref" href="#y:52"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.t"><span class="id" title="record">t</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#x:51"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_int63"><span class="id" title="projection">retro_int63</span></a>), <a class="idref" href="MetaRocq.Common.Environment.html#y:52"><span class="id" title="variable">y</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_int63"><span class="id" title="projection">retro_int63</span></a>) <span class="id" title="keyword">with</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">y</span> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#x:51"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#12489c9c79e91749bd1f337dd0c899e9"><span class="id" title="notation">==</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#y:52"><span class="id" title="variable">y</span></a> | <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#x:51"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_float64"><span class="id" title="projection">retro_float64</span></a>), <a class="idref" href="MetaRocq.Common.Environment.html#y:52"><span class="id" title="variable">y</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_float64"><span class="id" title="projection">retro_float64</span></a>) <span class="id" title="keyword">with</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">y</span> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#x:51"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#12489c9c79e91749bd1f337dd0c899e9"><span class="id" title="notation">==</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#y:52"><span class="id" title="variable">y</span></a> | <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#x:51"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_string"><span class="id" title="projection">retro_string</span></a>), <a class="idref" href="MetaRocq.Common.Environment.html#y:52"><span class="id" title="variable">y</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_string"><span class="id" title="projection">retro_string</span></a>) <span class="id" title="keyword">with</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">y</span> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#x:51"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#12489c9c79e91749bd1f337dd0c899e9"><span class="id" title="notation">==</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#y:52"><span class="id" title="variable">y</span></a> | <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#x:51"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_array"><span class="id" title="projection">retro_array</span></a>), <a class="idref" href="MetaRocq.Common.Environment.html#y:52"><span class="id" title="variable">y</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_array"><span class="id" title="projection">retro_array</span></a>) <span class="id" title="keyword">with</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">y</span> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#x:51"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#12489c9c79e91749bd1f337dd0c899e9"><span class="id" title="notation">==</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#y:52"><span class="id" title="variable">y</span></a> | <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Retroknowledge.extends_r_merge" class="idref" href="#Retroknowledge.extends_r_merge"><span class="id" title="lemma">extends_r_merge</span></a> <a id="r1:53" class="idref" href="#r1:53"><span class="id" title="binder">r1</span></a> <a id="r2:54" class="idref" href="#r2:54"><span class="id" title="binder">r2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.compatible"><span class="id" title="definition">compatible</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#r1:53"><span class="id" title="variable">r1</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#r2:54"><span class="id" title="variable">r2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extends"><span class="id" title="class">extends</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#r2:54"><span class="id" title="variable">r2</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#r1:53"><span class="id" title="variable">r1</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#r2:54"><span class="id" title="variable">r2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extends"><span class="id" title="class">extends</span></a>/<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.merge"><span class="id" title="definition">merge</span></a>/<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.compatible"><span class="id" title="definition">compatible</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">r1</span>, <span class="id" title="var">r2</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">destruct</span> ?; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">case</span>: <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> ⇒ //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">clear</span>; <span class="id" title="var">destruct_head'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge"><span class="id" title="module">Retroknowledge</span></a>.<br/>
<span class="id" title="keyword">Export</span> (<span class="id" title="var">hints</span>) <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge"><span class="id" title="module">Retroknowledge</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="Environment" class="idref" href="#Environment"><span class="id" title="module">Environment</span></a> (<span class="id" title="var">T</span> : <a class="idref" href="MetaRocq.Common.Environment.html#Term"><span class="id" title="module">Term</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Common.Environment.html#T"><span class="id" title="module">T</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <a class="idref" href="MetaRocq.Common.Environment.html#T.subst_instance_constr"><span class="id" title="axiom">subst_instance_constr</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.judgment" class="idref" href="#Environment.judgment"><span class="id" title="definition">judgment</span></a> := <a class="idref" href="MetaRocq.Common.BasicAst.html#judgment_"><span class="id" title="record">judgment_</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Sort.t"><span class="id" title="definition">Sort.t</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab2"></a><h2 class="section">Declarations</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="Environment.context_decl" class="idref" href="#Environment.context_decl"><span class="id" title="abbreviation">context_decl</span></a> := (<a class="idref" href="MetaRocq.Common.BasicAst.html#context_decl"><span class="id" title="record">context_decl</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a>).<br/>

<br/>
</div>

<div class="doc">
Local (de Bruijn) variable binding 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.vass" class="idref" href="#Environment.vass"><span class="id" title="definition">vass</span></a> <a id="x:55" class="idref" href="#x:55"><span class="id" title="binder">x</span></a> <a id="A:56" class="idref" href="#A:56"><span class="id" title="binder">A</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_decl"><span class="id" title="abbreviation">context_decl</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#x:55"><span class="id" title="variable">x</span></a> ; <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ; <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#A:56"><span class="id" title="variable">A</span></a> |}.<br/>

<br/>
</div>

<div class="doc">
Local (de Bruijn) let-binding 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.vdef" class="idref" href="#Environment.vdef"><span class="id" title="definition">vdef</span></a> <a id="x:57" class="idref" href="#x:57"><span class="id" title="binder">x</span></a> <a id="t:58" class="idref" href="#t:58"><span class="id" title="binder">t</span></a> <a id="A:59" class="idref" href="#A:59"><span class="id" title="binder">A</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_decl"><span class="id" title="abbreviation">context_decl</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#x:57"><span class="id" title="variable">x</span></a> ; <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t:58"><span class="id" title="variable">t</span></a> ; <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#A:59"><span class="id" title="variable">A</span></a> |}.<br/>

<br/>
</div>

<div class="doc">
Local (de Bruijn) context 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.context" class="idref" href="#Environment.context"><span class="id" title="definition">context</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_decl"><span class="id" title="abbreviation">context_decl</span></a>.<br/>

<br/>
</div>

<div class="doc">
Last declaration first 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.lift_decl" class="idref" href="#Environment.lift_decl"><span class="id" title="definition">lift_decl</span></a> <a id="n:60" class="idref" href="#n:60"><span class="id" title="binder">n</span></a> <a id="k:61" class="idref" href="#k:61"><span class="id" title="binder">k</span></a> <a id="d:62" class="idref" href="#d:62"><span class="id" title="binder">d</span></a> := (<a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#T.lift"><span class="id" title="axiom">lift</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:60"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:61"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#d:62"><span class="id" title="variable">d</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.lift_context" class="idref" href="#Environment.lift_context"><span class="id" title="definition">lift_context</span></a> <a id="n:63" class="idref" href="#n:63"><span class="id" title="binder">n</span></a> <a id="k:64" class="idref" href="#k:64"><span class="id" title="binder">k</span></a> (<a id="79e37c9ff12ecc84ba1fac2efe4b1d20" class="idref" href="#79e37c9ff12ecc84ba1fac2efe4b1d20"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a>) : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a> (<span class="id" title="keyword">fun</span> <a id="k':66" class="idref" href="#k':66"><span class="id" title="binder">k'</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#T.lift"><span class="id" title="axiom">lift</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:63"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#k':66"><span class="id" title="variable">k'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:64"><span class="id" title="variable">k</span></a>)) <a class="idref" href="MetaRocq.Common.Environment.html#79e37c9ff12ecc84ba1fac2efe4b1d20"><span class="id" title="variable">Γ</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.lift_context_alt" class="idref" href="#Environment.lift_context_alt"><span class="id" title="lemma">lift_context_alt</span></a> <a id="n:67" class="idref" href="#n:67"><span class="id" title="binder">n</span></a> <a id="k:68" class="idref" href="#k:68"><span class="id" title="binder">k</span></a> <a id="d9cbd174a3bae4a421a199e380807c56" class="idref" href="#d9cbd174a3bae4a421a199e380807c56"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:67"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:68"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d9cbd174a3bae4a421a199e380807c56"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="k':70" class="idref" href="#k':70"><span class="id" title="binder">k'</span></a> <a id="d:71" class="idref" href="#d:71"><span class="id" title="binder">d</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lift_decl"><span class="id" title="definition">lift_decl</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:67"><span class="id" title="variable">n</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.pred"><span class="id" title="definition">Nat.pred</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#d9cbd174a3bae4a421a199e380807c56"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k':70"><span class="id" title="variable">k'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:68"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#d:71"><span class="id" title="variable">d</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#d9cbd174a3bae4a421a199e380807c56"><span class="id" title="variable">Γ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lift_context"><span class="id" title="definition">lift_context</span></a>. <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k_alt"><span class="id" title="lemma">fold_context_k_alt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.lift_context_length" class="idref" href="#Environment.lift_context_length"><span class="id" title="lemma">lift_context_length</span></a> <a id="n:72" class="idref" href="#n:72"><span class="id" title="binder">n</span></a> <a id="k:73" class="idref" href="#k:73"><span class="id" title="binder">k</span></a> <a id="e39533f4436c70a60eb8bc25b64a6730" class="idref" href="#e39533f4436c70a60eb8bc25b64a6730"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#Environment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:72"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:73"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#e39533f4436c70a60eb8bc25b64a6730"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#e39533f4436c70a60eb8bc25b64a6730"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Environment.html#Environment.lift_context"><span class="id" title="definition">lift_context</span></a>; <span class="id" title="var">len</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lift_context_length"><span class="id" title="lemma">lift_context_length</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.subst_context" class="idref" href="#Environment.subst_context"><span class="id" title="definition">subst_context</span></a> <a id="s:75" class="idref" href="#s:75"><span class="id" title="binder">s</span></a> <a id="k:76" class="idref" href="#k:76"><span class="id" title="binder">k</span></a> (<a id="6e1b0d30b2bbad08194ab9a2257ab851" class="idref" href="#6e1b0d30b2bbad08194ab9a2257ab851"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a>) : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a> (<span class="id" title="keyword">fun</span> <a id="k':78" class="idref" href="#k':78"><span class="id" title="binder">k'</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#T.subst"><span class="id" title="axiom">subst</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#s:75"><span class="id" title="variable">s</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#k':78"><span class="id" title="variable">k'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:76"><span class="id" title="variable">k</span></a>)) <a class="idref" href="MetaRocq.Common.Environment.html#6e1b0d30b2bbad08194ab9a2257ab851"><span class="id" title="variable">Γ</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.subst_decl" class="idref" href="#Environment.subst_decl"><span class="id" title="definition">subst_decl</span></a> <a id="s:79" class="idref" href="#s:79"><span class="id" title="binder">s</span></a> <a id="k:80" class="idref" href="#k:80"><span class="id" title="binder">k</span></a> (<a id="d:81" class="idref" href="#d:81"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_decl"><span class="id" title="abbreviation">context_decl</span></a>) := <a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#T.subst"><span class="id" title="axiom">subst</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#s:79"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:80"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#d:81"><span class="id" title="variable">d</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.subst_context_length" class="idref" href="#Environment.subst_context_length"><span class="id" title="lemma">subst_context_length</span></a> <a id="s:82" class="idref" href="#s:82"><span class="id" title="binder">s</span></a> <a id="n:83" class="idref" href="#n:83"><span class="id" title="binder">n</span></a> <a id="9f2f2171bb09ae89187003f4d4733ede" class="idref" href="#9f2f2171bb09ae89187003f4d4733ede"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#Environment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#s:82"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:83"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#9f2f2171bb09ae89187003f4d4733ede"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#9f2f2171bb09ae89187003f4d4733ede"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Environment.html#Environment.subst_context"><span class="id" title="definition">subst_context</span></a>; <span class="id" title="var">len</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.subst_context_length"><span class="id" title="lemma">subst_context_length</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.subst_context_nil" class="idref" href="#Environment.subst_context_nil"><span class="id" title="lemma">subst_context_nil</span></a> <a id="s:85" class="idref" href="#s:85"><span class="id" title="binder">s</span></a> <a id="n:86" class="idref" href="#n:86"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#s:85"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:86"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.subst_context_alt" class="idref" href="#Environment.subst_context_alt"><span class="id" title="lemma">subst_context_alt</span></a> <a id="s:87" class="idref" href="#s:87"><span class="id" title="binder">s</span></a> <a id="k:88" class="idref" href="#k:88"><span class="id" title="binder">k</span></a> <a id="27d9827c9a99dcd0f67a42a48d6a2a25" class="idref" href="#27d9827c9a99dcd0f67a42a48d6a2a25"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#s:87"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:88"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#27d9827c9a99dcd0f67a42a48d6a2a25"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="k':90" class="idref" href="#k':90"><span class="id" title="binder">k'</span></a> <a id="d:91" class="idref" href="#d:91"><span class="id" title="binder">d</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#Environment.subst_decl"><span class="id" title="definition">subst_decl</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#s:87"><span class="id" title="variable">s</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.pred"><span class="id" title="definition">Nat.pred</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#27d9827c9a99dcd0f67a42a48d6a2a25"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k':90"><span class="id" title="variable">k'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:88"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#d:91"><span class="id" title="variable">d</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#27d9827c9a99dcd0f67a42a48d6a2a25"><span class="id" title="variable">Γ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.subst_context"><span class="id" title="definition">subst_context</span></a>, <a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_mapi"><span class="id" title="lemma">rev_mapi</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev_involutive"><span class="id" title="lemma">List.rev_involutive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_rev"><span class="id" title="lemma">List.length_rev</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.subst_context_snoc" class="idref" href="#Environment.subst_context_snoc"><span class="id" title="lemma">subst_context_snoc</span></a> <a id="s:92" class="idref" href="#s:92"><span class="id" title="binder">s</span></a> <a id="k:93" class="idref" href="#k:93"><span class="id" title="binder">k</span></a> <a id="f0f0bdeb0c7a80e2c119a43408a6c4b2" class="idref" href="#f0f0bdeb0c7a80e2c119a43408a6c4b2"><span class="id" title="binder">Γ</span></a> <a id="d:95" class="idref" href="#d:95"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#s:92"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:93"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#d:95"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f0f0bdeb0c7a80e2c119a43408a6c4b2"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#s:92"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:93"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f0f0bdeb0c7a80e2c119a43408a6c4b2"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.subst_decl"><span class="id" title="definition">subst_decl</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#s:92"><span class="id" title="variable">s</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#f0f0bdeb0c7a80e2c119a43408a6c4b2"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:93"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#d:95"><span class="id" title="variable">d</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Environment.html#Environment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k_snoc0"><span class="id" title="lemma">fold_context_k_snoc0</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.subst_telescope" class="idref" href="#Environment.subst_telescope"><span class="id" title="definition">subst_telescope</span></a> <a id="s:96" class="idref" href="#s:96"><span class="id" title="binder">s</span></a> <a id="k:97" class="idref" href="#k:97"><span class="id" title="binder">k</span></a> (<a id="878757e82380a219aa75a7453ddf1b39" class="idref" href="#878757e82380a219aa75a7453ddf1b39"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a>) : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="k':99" class="idref" href="#k':99"><span class="id" title="binder">k'</span></a> <a id="decl:100" class="idref" href="#decl:100"><span class="id" title="binder">decl</span></a> ⇒ <a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#T.subst"><span class="id" title="axiom">subst</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#s:96"><span class="id" title="variable">s</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#k':99"><span class="id" title="variable">k'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:97"><span class="id" title="variable">k</span></a>)) <a class="idref" href="MetaRocq.Common.Environment.html#decl:100"><span class="id" title="variable">decl</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#878757e82380a219aa75a7453ddf1b39"><span class="id" title="variable">Γ</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Environment.subst_instance_decl" class="idref" href="#Environment.subst_instance_decl"><span class="id" title="instance">subst_instance_decl</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#UnivSubst"><span class="id" title="class">UnivSubst</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_decl"><span class="id" title="abbreviation">context_decl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Environment.subst_instance_context" class="idref" href="#Environment.subst_instance_context"><span class="id" title="instance">subst_instance_context</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#UnivSubst"><span class="id" title="class">UnivSubst</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="MetaRocq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.subst_instance_length" class="idref" href="#Environment.subst_instance_length"><span class="id" title="lemma">subst_instance_length</span></a> <a id="u:101" class="idref" href="#u:101"><span class="id" title="binder">u</span></a> (<a id="ctx:102" class="idref" href="#ctx:102"><span class="id" title="binder">ctx</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#u:101"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#ctx:102"><span class="id" title="variable">ctx</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#ctx:102"><span class="id" title="variable">ctx</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a>, <a class="idref" href="MetaRocq.Common.Environment.html#Environment.subst_instance_context"><span class="id" title="instance">subst_instance_context</span></a>, <a class="idref" href="MetaRocq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.subst_instance_length"><span class="id" title="lemma">subst_instance_length</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.set_binder_name" class="idref" href="#Environment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> (<a id="na:103" class="idref" href="#na:103"><span class="id" title="binder">na</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="x:104" class="idref" href="#x:104"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_decl"><span class="id" title="abbreviation">context_decl</span></a>) : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_decl"><span class="id" title="abbreviation">context_decl</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#na:103"><span class="id" title="variable">na</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#x:104"><span class="id" title="variable">x</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> := <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#x:104"><span class="id" title="variable">x</span></a> |}.<br/>

<br/>
</div>

<div class="doc">
Count the number of assumptions in a context (i.e. declarations that do not
      contain a body). 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="Environment.context_assumptions" class="idref" href="#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a id="679ee3ec1ad0fc855e729f07ee59c066" class="idref" href="#679ee3ec1ad0fc855e729f07ee59c066"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#679ee3ec1ad0fc855e729f07ee59c066"><span class="id" title="variable">Γ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">d</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">d</span>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#context_assumptions:106"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#679ee3ec1ad0fc855e729f07ee59c066"><span class="id" title="variable">Γ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#context_assumptions:106"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#679ee3ec1ad0fc855e729f07ee59c066"><span class="id" title="variable">Γ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="Environment.is_assumption_context" class="idref" href="#Environment.is_assumption_context"><span class="id" title="definition">is_assumption_context</span></a> (<a id="21b110d90ed5334f39e3c13b8af174d2" class="idref" href="#21b110d90ed5334f39e3c13b8af174d2"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#21b110d90ed5334f39e3c13b8af174d2"><span class="id" title="variable">Γ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">d</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">d</span>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#is_assumption_context:109"><span class="id" title="definition">is_assumption_context</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#21b110d90ed5334f39e3c13b8af174d2"><span class="id" title="variable">Γ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Smashing a context produces an assumption context. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="Environment.smash_context" class="idref" href="#Environment.smash_context"><span class="id" title="definition">smash_context</span></a> (<a id="5fed251aa58d6913e63540c17d3d6121" class="idref" href="#5fed251aa58d6913e63540c17d3d6121"><span class="id" title="binder">Γ</span></a> <a id="7927c99c4e9bdd94a8214a8d6ddf627b" class="idref" href="#7927c99c4e9bdd94a8214a8d6ddf627b"><span class="id" title="binder">Γ'</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a>) : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#7927c99c4e9bdd94a8214a8d6ddf627b"><span class="id" title="variable">Γ'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| {| <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">b</span> |} <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ'</span> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#smash_context:113"><span class="id" title="definition">smash_context</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">b</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> 0 <a class="idref" href="MetaRocq.Common.Environment.html#5fed251aa58d6913e63540c17d3d6121"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#7927c99c4e9bdd94a8214a8d6ddf627b"><span class="id" title="variable">Γ'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| {| <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> |} <span class="id" title="keyword">as</span> <span class="id" title="var">d</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ'</span> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#smash_context:113"><span class="id" title="definition">smash_context</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#5fed251aa58d6913e63540c17d3d6121"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">d</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#7927c99c4e9bdd94a8214a8d6ddf627b"><span class="id" title="variable">Γ'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#5fed251aa58d6913e63540c17d3d6121"><span class="id" title="variable">Γ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.smash_context_length" class="idref" href="#Environment.smash_context_length"><span class="id" title="lemma">smash_context_length</span></a> <a id="799b9f0182e743f0bacfeeb6ad1620c4" class="idref" href="#799b9f0182e743f0bacfeeb6ad1620c4"><span class="id" title="binder">Γ</span></a> <a id="07fe7d3175af71d156d64bf4c6b49a06" class="idref" href="#07fe7d3175af71d156d64bf4c6b49a06"><span class="id" title="binder">Γ'</span></a> : <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#Environment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#799b9f0182e743f0bacfeeb6ad1620c4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#07fe7d3175af71d156d64bf4c6b49a06"><span class="id" title="variable">Γ'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#799b9f0182e743f0bacfeeb6ad1620c4"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#07fe7d3175af71d156d64bf4c6b49a06"><span class="id" title="variable">Γ'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ'</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">body</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">tl</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">Γ</span> |- *; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHtl</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.subst_context_length"><span class="id" title="lemma">subst_context_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHtl</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_app"><span class="id" title="lemma">length_app</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.smash_context_length"><span class="id" title="lemma">smash_context_length</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.smash_context_app" class="idref" href="#Environment.smash_context_app"><span class="id" title="lemma">smash_context_app</span></a> <a id="822d01a139bb816c6ecc3e14a3ea3d66" class="idref" href="#822d01a139bb816c6ecc3e14a3ea3d66"><span class="id" title="binder">Δ</span></a> <a id="c614fd7f344488246e27443cc0ae1c43" class="idref" href="#c614fd7f344488246e27443cc0ae1c43"><span class="id" title="binder">Γ</span></a> <a id="a0171450b01c6de38182f4b887c94073" class="idref" href="#a0171450b01c6de38182f4b887c94073"><span class="id" title="binder">Γ'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#822d01a139bb816c6ecc3e14a3ea3d66"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#c614fd7f344488246e27443cc0ae1c43"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#a0171450b01c6de38182f4b887c94073"><span class="id" title="variable">Γ'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.smash_context"><span class="id" title="definition">smash_context</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#822d01a139bb816c6ecc3e14a3ea3d66"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#c614fd7f344488246e27443cc0ae1c43"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#a0171450b01c6de38182f4b887c94073"><span class="id" title="variable">Γ'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Δ</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]]; <span class="id" title="tactic">intros</span> <span class="id" title="var">Δ</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="Environment.extended_subst" class="idref" href="#Environment.extended_subst"><span class="id" title="definition">extended_subst</span></a> (<a id="1ed97380d6588f1d970b0e1889e78b16" class="idref" href="#1ed97380d6588f1d970b0e1889e78b16"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a>) (<a id="n:121" class="idref" href="#n:121"><span class="id" title="binder">n</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp; :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#1ed97380d6588f1d970b0e1889e78b16"><span class="id" title="variable">Γ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> <span class="id" title="var">d</span> <span class="id" title="var">vs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> <span class="id" title="var">d</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">b</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="s:124" class="idref" href="#s:124"><span class="id" title="binder">s</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#extended_subst:122"><span class="id" title="definition">extended_subst</span></a> <span class="id" title="var">vs</span> <a class="idref" href="MetaRocq.Common.Environment.html#n:121"><span class="id" title="variable">n</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="b':125" class="idref" href="#b':125"><span class="id" title="binder">b'</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#T.lift"><span class="id" title="axiom">lift</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <span class="id" title="var">vs</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:121"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#s:124"><span class="id" title="variable">s</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="var">b</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="b':126" class="idref" href="#b':126"><span class="id" title="binder">b'</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#T.subst"><span class="id" title="axiom">subst</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#s:124"><span class="id" title="variable">s</span></a> 0 <a class="idref" href="MetaRocq.Common.Environment.html#b':125"><span class="id" title="variable">b'</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#b':126"><span class="id" title="variable">b'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#s:124"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#T.tRel"><span class="id" title="axiom">tRel</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:121"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#extended_subst:122"><span class="id" title="definition">extended_subst</span></a> <span class="id" title="var">vs</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:121"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.extended_subst_length" class="idref" href="#Environment.extended_subst_length"><span class="id" title="lemma">extended_subst_length</span></a> <a id="6e782b379a22be72fd8811f565d97df0" class="idref" href="#6e782b379a22be72fd8811f565d97df0"><span class="id" title="binder">Γ</span></a> <a id="n:128" class="idref" href="#n:128"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#Environment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#6e782b379a22be72fd8811f565d97df0"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:128"><span class="id" title="variable">n</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#6e782b379a22be72fd8811f565d97df0"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [? [?|] ?] ⇒ /=; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extended_subst_length"><span class="id" title="lemma">extended_subst_length</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.expand_lets_k" class="idref" href="#Environment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> <a id="23810d0c00b2e0f4e602376e020d0477" class="idref" href="#23810d0c00b2e0f4e602376e020d0477"><span class="id" title="binder">Γ</span></a> <a id="k:130" class="idref" href="#k:130"><span class="id" title="binder">k</span></a> <a id="t:131" class="idref" href="#t:131"><span class="id" title="binder">t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Environment.html#T.subst"><span class="id" title="axiom">subst</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#23810d0c00b2e0f4e602376e020d0477"><span class="id" title="variable">Γ</span></a> 0) <a class="idref" href="MetaRocq.Common.Environment.html#k:130"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#T.lift"><span class="id" title="axiom">lift</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#23810d0c00b2e0f4e602376e020d0477"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.Common.Environment.html#k:130"><span class="id" title="variable">k</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#23810d0c00b2e0f4e602376e020d0477"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#t:131"><span class="id" title="variable">t</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.expand_lets" class="idref" href="#Environment.expand_lets"><span class="id" title="definition">expand_lets</span></a> <a id="a8852a1478e92cfb3798a7cee11ef3f8" class="idref" href="#a8852a1478e92cfb3798a7cee11ef3f8"><span class="id" title="binder">Γ</span></a> <a id="t:133" class="idref" href="#t:133"><span class="id" title="binder">t</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#Environment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#a8852a1478e92cfb3798a7cee11ef3f8"><span class="id" title="variable">Γ</span></a> 0 <a class="idref" href="MetaRocq.Common.Environment.html#t:133"><span class="id" title="variable">t</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.expand_lets_k_ctx" class="idref" href="#Environment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a> <a id="784d768ae6e85e0848ed43b713b18d98" class="idref" href="#784d768ae6e85e0848ed43b713b18d98"><span class="id" title="binder">Γ</span></a> <a id="k:135" class="idref" href="#k:135"><span class="id" title="binder">k</span></a> <a id="a82e7669fa99087a53835e65c4223d0d" class="idref" href="#a82e7669fa99087a53835e65c4223d0d"><span class="id" title="binder">Δ</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.subst_context"><span class="id" title="definition">subst_context</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#784d768ae6e85e0848ed43b713b18d98"><span class="id" title="variable">Γ</span></a> 0) <a class="idref" href="MetaRocq.Common.Environment.html#k:135"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.lift_context"><span class="id" title="definition">lift_context</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#784d768ae6e85e0848ed43b713b18d98"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.Common.Environment.html#k:135"><span class="id" title="variable">k</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#784d768ae6e85e0848ed43b713b18d98"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#a82e7669fa99087a53835e65c4223d0d"><span class="id" title="variable">Δ</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.expand_lets_ctx" class="idref" href="#Environment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> <a id="c91bc42e648d459a7dfac8df37a90ce6" class="idref" href="#c91bc42e648d459a7dfac8df37a90ce6"><span class="id" title="binder">Γ</span></a> <a id="1cdb497ac8c6a3b50ffc8779f303d9ad" class="idref" href="#1cdb497ac8c6a3b50ffc8779f303d9ad"><span class="id" title="binder">Δ</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#Environment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#c91bc42e648d459a7dfac8df37a90ce6"><span class="id" title="variable">Γ</span></a> 0 <a class="idref" href="MetaRocq.Common.Environment.html#1cdb497ac8c6a3b50ffc8779f303d9ad"><span class="id" title="variable">Δ</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.expand_lets_k_ctx_length" class="idref" href="#Environment.expand_lets_k_ctx_length"><span class="id" title="lemma">expand_lets_k_ctx_length</span></a> <a id="3f1ad0985b3b15c6f067f772239c78db" class="idref" href="#3f1ad0985b3b15c6f067f772239c78db"><span class="id" title="binder">Γ</span></a> <a id="k:140" class="idref" href="#k:140"><span class="id" title="binder">k</span></a> <a id="7ad7086e24b5d6403889caf601674ed4" class="idref" href="#7ad7086e24b5d6403889caf601674ed4"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#Environment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#3f1ad0985b3b15c6f067f772239c78db"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:140"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#7ad7086e24b5d6403889caf601674ed4"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#7ad7086e24b5d6403889caf601674ed4"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Environment.html#Environment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a>; <span class="id" title="var">len</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.expand_lets_k_ctx_length"><span class="id" title="lemma">expand_lets_k_ctx_length</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.expand_lets_ctx_length" class="idref" href="#Environment.expand_lets_ctx_length"><span class="id" title="lemma">expand_lets_ctx_length</span></a> <a id="0e57e1379e82b85f0519add418fbff0c" class="idref" href="#0e57e1379e82b85f0519add418fbff0c"><span class="id" title="binder">Γ</span></a> <a id="cd5ad0833a7eb687f562d187c2a0f099" class="idref" href="#cd5ad0833a7eb687f562d187c2a0f099"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#Environment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#0e57e1379e82b85f0519add418fbff0c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#cd5ad0833a7eb687f562d187c2a0f099"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#cd5ad0833a7eb687f562d187c2a0f099"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Environment.html#Environment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a>; <span class="id" title="var">len</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.expand_lets_ctx_length"><span class="id" title="lemma">expand_lets_ctx_length</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.fix_context" class="idref" href="#Environment.fix_context"><span class="id" title="definition">fix_context</span></a> (<a id="m:144" class="idref" href="#m:144"><span class="id" title="binder">m</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#mfixpoint"><span class="id" title="definition">mfixpoint</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a>) : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="i:145" class="idref" href="#i:145"><span class="id" title="binder">i</span></a> <a id="d:146" class="idref" href="#d:146"><span class="id" title="binder">d</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#Environment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d:146"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#dname"><span class="id" title="projection">dname</span></a>) (<a class="idref" href="MetaRocq.Common.Environment.html#T.lift"><span class="id" title="axiom">lift</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#i:145"><span class="id" title="variable">i</span></a> 0 <a class="idref" href="MetaRocq.Common.Environment.html#d:146"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a>))) <a class="idref" href="MetaRocq.Common.Environment.html#m:144"><span class="id" title="variable">m</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab3"></a><h3 class="section">Environments</h3>

<div class="paragraph"> </div>

 Data associated to a single inductive constructor. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="Environment.constructor_body" class="idref" href="#Environment.constructor_body"><span class="id" title="record">constructor_body</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Constructor name, without the module path. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.cstr_name" class="idref" href="#Environment.cstr_name"><span class="id" title="projection">cstr_name</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#ident"><span class="id" title="definition">ident</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Arguments of the constructor, which can depend on the inductives in the same block
        and the parameters of the inductive : `ind_bodies ,,, ind_params |- cstr_args`. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.cstr_args" class="idref" href="#Environment.cstr_args"><span class="id" title="projection">cstr_args</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Indices of the constructor, which can depend on the inductives in the same block,
        the parameters of the inductive and the constructor arguments :
        `ind_bodies ,,, ind_params ,,, cstr_args |- cstr_indices`. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.cstr_indices" class="idref" href="#Environment.cstr_indices"><span class="id" title="projection">cstr_indices</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Full type of the constructor, which can depend on the inductives in the same block :
        `ind_bodies |- cstr_type`. This should be equal to
        `forall ind_params cstr_args, I ind_params cstr_indices` 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.cstr_type" class="idref" href="#Environment.cstr_type"><span class="id" title="projection">cstr_type</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Number of arguments of the constructor, <i>without</i> let-in arguments and <i>without</i> parameters.
        This should be equal to `context_assumptions cstr_args`. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.cstr_arity" class="idref" href="#Environment.cstr_arity"><span class="id" title="projection">cstr_arity</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;&nbsp;}.<br/>

<br/>
</div>

<div class="doc">
Data associated to a primitive projection. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="Environment.projection_body" class="idref" href="#Environment.projection_body"><span class="id" title="record">projection_body</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Projection name, without the module path. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.proj_name" class="idref" href="#Environment.proj_name"><span class="id" title="projection">proj_name</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#ident"><span class="id" title="definition">ident</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Relevance of the projection. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.proj_relevance" class="idref" href="#Environment.proj_relevance"><span class="id" title="projection">proj_relevance</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#relevance"><span class="id" title="inductive">relevance</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Type of the projection, wich can depend on the parameters of the inductive
        and on the object we are projecting from : `ind_params ,,, x |- proj_type`. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.proj_type" class="idref" href="#Environment.proj_type"><span class="id" title="projection">proj_type</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a>;<br/>
&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.map_constructor_body" class="idref" href="#Environment.map_constructor_body"><span class="id" title="definition">map_constructor_body</span></a> <a id="npars:157" class="idref" href="#npars:157"><span class="id" title="binder">npars</span></a> <a id="arities:158" class="idref" href="#arities:158"><span class="id" title="binder">arities</span></a> <a id="f:159" class="idref" href="#f:159"><span class="id" title="binder">f</span></a> <a id="c:160" class="idref" href="#c:160"><span class="id" title="binder">c</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="MetaRocq.Common.Environment.html#Environment.cstr_name"><span class="id" title="projection">cstr_name</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#c:160"><span class="id" title="variable">c</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cstr_name"><span class="id" title="projection">cstr_name</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cstr_args"><span class="id" title="projection">cstr_args</span></a> := <a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a> (<span class="id" title="keyword">fun</span> <a id="x:161" class="idref" href="#x:161"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#f:159"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#x:161"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#npars:157"><span class="id" title="variable">npars</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#arities:158"><span class="id" title="variable">arities</span></a>)) <a class="idref" href="MetaRocq.Common.Environment.html#c:160"><span class="id" title="variable">c</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cstr_args"><span class="id" title="projection">cstr_args</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cstr_indices"><span class="id" title="projection">cstr_indices</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#f:159"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#npars:157"><span class="id" title="variable">npars</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#arities:158"><span class="id" title="variable">arities</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#c:160"><span class="id" title="variable">c</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cstr_args"><span class="id" title="projection">cstr_args</span></a>)<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)) <a class="idref" href="MetaRocq.Common.Environment.html#c:160"><span class="id" title="variable">c</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cstr_indices"><span class="id" title="projection">cstr_indices</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cstr_type"><span class="id" title="projection">cstr_type</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#f:159"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#arities:158"><span class="id" title="variable">arities</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#c:160"><span class="id" title="variable">c</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cstr_type"><span class="id" title="projection">cstr_type</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cstr_arity"><span class="id" title="projection">cstr_arity</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#c:160"><span class="id" title="variable">c</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cstr_arity"><span class="id" title="projection">cstr_arity</span></a>) |}.<br/>

<br/>
</div>

<div class="doc">
Here npars should be the `context_assumptions` of the parameters context. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.map_projection_body" class="idref" href="#Environment.map_projection_body"><span class="id" title="definition">map_projection_body</span></a> <a id="npars:162" class="idref" href="#npars:162"><span class="id" title="binder">npars</span></a> <a id="f:163" class="idref" href="#f:163"><span class="id" title="binder">f</span></a> <a id="c:164" class="idref" href="#c:164"><span class="id" title="binder">c</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="MetaRocq.Common.Environment.html#Environment.proj_name"><span class="id" title="projection">proj_name</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#c:164"><span class="id" title="variable">c</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.proj_name"><span class="id" title="projection">proj_name</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.proj_relevance"><span class="id" title="projection">proj_relevance</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#c:164"><span class="id" title="variable">c</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.proj_relevance"><span class="id" title="projection">proj_relevance</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.proj_type"><span class="id" title="projection">proj_type</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#f:163"><span class="id" title="variable">f</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#npars:162"><span class="id" title="variable">npars</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#c:164"><span class="id" title="variable">c</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.proj_type"><span class="id" title="projection">proj_type</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
</div>

<div class="doc">
Data associated to a single inductive in a mutual inductive block. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="Environment.one_inductive_body" class="idref" href="#Environment.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Name of the inductive, without the module path. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.ind_name" class="idref" href="#Environment.ind_name"><span class="id" title="projection">ind_name</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#ident"><span class="id" title="definition">ident</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Indices of the inductive, which can depend on the parameters :
        `ind_params |- ind_indices`. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.ind_indices" class="idref" href="#Environment.ind_indices"><span class="id" title="projection">ind_indices</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Sort of the inductive. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.ind_sort" class="idref" href="#Environment.ind_sort"><span class="id" title="projection">ind_sort</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#Sort.t"><span class="id" title="definition">Sort.t</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Full type of the inductive. This should be equal to
        `forall ind_params ind_indices, tSort ind_sort` 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.ind_type" class="idref" href="#Environment.ind_type"><span class="id" title="projection">ind_type</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Allowed eliminations for the inductive. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.ind_kelim" class="idref" href="#Environment.ind_kelim"><span class="id" title="projection">ind_kelim</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#allowed_eliminations"><span class="id" title="inductive">allowed_eliminations</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Constructors of the inductive. Order is important. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.ind_ctors" class="idref" href="#Environment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.constructor_body"><span class="id" title="record">constructor_body</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Names and types of primitive projections, if any. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.ind_projs" class="idref" href="#Environment.ind_projs"><span class="id" title="projection">ind_projs</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.projection_body"><span class="id" title="record">projection_body</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Relevance of the inductive. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.ind_relevance" class="idref" href="#Environment.ind_relevance"><span class="id" title="projection">ind_relevance</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#relevance"><span class="id" title="inductive">relevance</span></a> }.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.map_one_inductive_body" class="idref" href="#Environment.map_one_inductive_body"><span class="id" title="definition">map_one_inductive_body</span></a> <a id="npars:174" class="idref" href="#npars:174"><span class="id" title="binder">npars</span></a> <a id="arities:175" class="idref" href="#arities:175"><span class="id" title="binder">arities</span></a> <a id="f:176" class="idref" href="#f:176"><span class="id" title="binder">f</span></a> <a id="m:177" class="idref" href="#m:177"><span class="id" title="binder">m</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#m:177"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Common.Environment.html#Environment.Build_one_inductive_body"><span class="id" title="constructor">Build_one_inductive_body</span></a> <span class="id" title="var">ind_name</span> <span class="id" title="var">ind_indices</span> <span class="id" title="var">ind_sort</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ind_type</span> <span class="id" title="var">ind_kelim</span> <span class="id" title="var">ind_ctors</span> <span class="id" title="var">ind_projs</span> <span class="id" title="var">ind_relevance</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.Build_one_inductive_body"><span class="id" title="constructor">Build_one_inductive_body</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ind_name</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a> (<span class="id" title="keyword">fun</span> <a id="x:179" class="idref" href="#x:179"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#f:176"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#npars:174"><span class="id" title="variable">npars</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#x:179"><span class="id" title="variable">x</span></a>)) <span class="id" title="var">ind_indices</span>) <span class="id" title="var">ind_sort</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Environment.html#f:176"><span class="id" title="variable">f</span></a> 0 <span class="id" title="var">ind_type</span>) <span class="id" title="var">ind_kelim</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.map_constructor_body"><span class="id" title="definition">map_constructor_body</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#npars:174"><span class="id" title="variable">npars</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#arities:175"><span class="id" title="variable">arities</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f:176"><span class="id" title="variable">f</span></a>) <span class="id" title="var">ind_ctors</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.map_projection_body"><span class="id" title="definition">map_projection_body</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#npars:174"><span class="id" title="variable">npars</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f:176"><span class="id" title="variable">f</span></a>) <span class="id" title="var">ind_projs</span>) <span class="id" title="var">ind_relevance</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Data associated to a block of mutually inductive types. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="Environment.mutual_inductive_body" class="idref" href="#Environment.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Whether the block is inductive, coinductive or non-recursive (Records). 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.ind_finite" class="idref" href="#Environment.ind_finite"><span class="id" title="projection">ind_finite</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#recursivity_kind"><span class="id" title="inductive">recursivity_kind</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Number of parameters (including non-uniform ones), <i>without</i> counting let-in parameters.
        This should be equal to `context_assumptions ind_params`. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.ind_npars" class="idref" href="#Environment.ind_npars"><span class="id" title="projection">ind_npars</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Context of parameters (including non-uniform ones), <i>with</i> let-in parameters. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.ind_params" class="idref" href="#Environment.ind_params"><span class="id" title="projection">ind_params</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Components of the mutual inductive block. Order is important. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.ind_bodies" class="idref" href="#Environment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Whether the mutual inductive is universe monomorphic or universe polymorphic,
        and information about the local universes if polymorphic. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.ind_universes" class="idref" href="#Environment.ind_universes"><span class="id" title="projection">ind_universes</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#universes_decl"><span class="id" title="inductive">universes_decl</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Variance information. `None` when non-cumulative. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.ind_variance" class="idref" href="#Environment.ind_variance"><span class="id" title="projection">ind_variance</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Variance.t"><span class="id" title="inductive">Universes.Variance.t</span></a>) }.<br/>

<br/>
</div>

<div class="doc">
Data associated to a constant (definition, lemma or axiom). 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="Environment.constant_body" class="idref" href="#Environment.constant_body"><span class="id" title="record">constant_body</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Type of the constant. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.cst_type" class="idref" href="#Environment.cst_type"><span class="id" title="projection">cst_type</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Body of the constant. For axioms this is <span class="inlinecode"><span class="id" title="var">None</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.cst_body" class="idref" href="#Environment.cst_body"><span class="id" title="projection">cst_body</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Whether the constant is universe monomorphic or polymorphic, and if polymorphic
        information about its local universes. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.cst_universes" class="idref" href="#Environment.cst_universes"><span class="id" title="projection">cst_universes</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#universes_decl"><span class="id" title="inductive">universes_decl</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Proof relevance of this constant. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.cst_relevance" class="idref" href="#Environment.cst_relevance"><span class="id" title="projection">cst_relevance</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#relevance"><span class="id" title="inductive">relevance</span></a> }.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.map_constant_body" class="idref" href="#Environment.map_constant_body"><span class="id" title="definition">map_constant_body</span></a> <a id="f:192" class="idref" href="#f:192"><span class="id" title="binder">f</span></a> <a id="decl:193" class="idref" href="#decl:193"><span class="id" title="binder">decl</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="MetaRocq.Common.Environment.html#Environment.cst_type"><span class="id" title="projection">cst_type</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#f:192"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#decl:193"><span class="id" title="variable">decl</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cst_type"><span class="id" title="projection">cst_type</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cst_body"><span class="id" title="projection">cst_body</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f:192"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#decl:193"><span class="id" title="variable">decl</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cst_body"><span class="id" title="projection">cst_body</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cst_universes"><span class="id" title="projection">cst_universes</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#decl:193"><span class="id" title="variable">decl</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cst_universes"><span class="id" title="projection">cst_universes</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cst_relevance"><span class="id" title="projection">cst_relevance</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#decl:193"><span class="id" title="variable">decl</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cst_relevance"><span class="id" title="projection">cst_relevance</span></a>) |}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.map_cst_type" class="idref" href="#Environment.map_cst_type"><span class="id" title="lemma">map_cst_type</span></a> <a id="f:194" class="idref" href="#f:194"><span class="id" title="binder">f</span></a> <a id="decl:195" class="idref" href="#decl:195"><span class="id" title="binder">decl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#f:194"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cst_type"><span class="id" title="projection">cst_type</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#decl:195"><span class="id" title="variable">decl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.cst_type"><span class="id" title="projection">cst_type</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.map_constant_body"><span class="id" title="definition">map_constant_body</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f:194"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#decl:195"><span class="id" title="variable">decl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span>; <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.map_cst_body" class="idref" href="#Environment.map_cst_body"><span class="id" title="lemma">map_cst_body</span></a> <a id="f:196" class="idref" href="#f:196"><span class="id" title="binder">f</span></a> <a id="decl:197" class="idref" href="#decl:197"><span class="id" title="binder">decl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f:196"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cst_body"><span class="id" title="projection">cst_body</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#decl:197"><span class="id" title="variable">decl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.cst_body"><span class="id" title="projection">cst_body</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.map_constant_body"><span class="id" title="definition">map_constant_body</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f:196"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#decl:197"><span class="id" title="variable">decl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span>; <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
A global declaration is a definition, lemma, axiom or mutual inductive. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="Environment.global_decl" class="idref" href="#Environment.global_decl"><span class="id" title="definition, inductive"><span id="Environment.global_decl_rect" class="id"><span id="Environment.global_decl_ind" class="id"><span id="Environment.global_decl_rec" class="id"><span id="Environment.global_decl_sind" class="id">global_decl</span></span></span></span></span></a> :=<br/>
&nbsp;&nbsp;| <a id="Environment.ConstantDecl" class="idref" href="#Environment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.constant_body"><span class="id" title="record">constant_body</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#global_decl:198"><span class="id" title="inductive">global_decl</span></a><br/>
&nbsp;&nbsp;| <a id="Environment.InductiveDecl" class="idref" href="#Environment.InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#global_decl:198"><span class="id" title="inductive">global_decl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Derive</span> <span class="id" title="var">NoConfusion</span> <span class="id" title="keyword">for</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_decl"><span class="id" title="inductive">global_decl</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.global_declarations" class="idref" href="#Environment.global_declarations"><span class="id" title="definition">global_declarations</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_decl"><span class="id" title="inductive">global_decl</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="Environment.global_env" class="idref" href="#Environment.global_env"><span class="id" title="record">global_env</span></a> := <span class="id" title="var">mk_global_env</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <a id="Environment.universes" class="idref" href="#Environment.universes"><span class="id" title="projection">universes</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#ContextSet.t"><span class="id" title="definition">ContextSet.t</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.declarations" class="idref" href="#Environment.declarations"><span class="id" title="projection">declarations</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_declarations"><span class="id" title="definition">global_declarations</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="Environment.retroknowledge" class="idref" href="#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.t"><span class="id" title="record">Retroknowledge.t</span></a> }.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.universes"><span class="id" title="projection">universes</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.universes"><span class="id" title="projection">:</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.universes"><span class="id" title="projection">global_env</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.universes"><span class="id" title="projection">&gt;-&gt;</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.universes"><span class="id" title="projection">ContextSet.t</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.empty_global_env" class="idref" href="#Environment.empty_global_env"><span class="id" title="definition">empty_global_env</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="MetaRocq.Common.Environment.html#Environment.universes"><span class="id" title="projection">universes</span></a> := <a class="idref" href="MetaRocq.Common.Universes.html#ContextSet.empty"><span class="id" title="definition">ContextSet.empty</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.declarations"><span class="id" title="projection">declarations</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.empty"><span class="id" title="definition">Retroknowledge.empty</span></a> |}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.add_global_decl" class="idref" href="#Environment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a id="c27827c3cdb017ea2f080dc5adaf2a36" class="idref" href="#c27827c3cdb017ea2f080dc5adaf2a36"><span class="id" title="binder">Σ</span></a> <a id="decl:205" class="idref" href="#decl:205"><span class="id" title="binder">decl</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="MetaRocq.Common.Environment.html#Environment.universes"><span class="id" title="projection">universes</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#c27827c3cdb017ea2f080dc5adaf2a36"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.universes"><span class="id" title="projection">universes</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.declarations"><span class="id" title="projection">declarations</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#decl:205"><span class="id" title="variable">decl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#c27827c3cdb017ea2f080dc5adaf2a36"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.declarations"><span class="id" title="projection">declarations</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#c27827c3cdb017ea2f080dc5adaf2a36"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) |}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.eta_global_env" class="idref" href="#Environment.eta_global_env"><span class="id" title="lemma">eta_global_env</span></a> <a id="72f91791bbb602d0bfaf8d99438cd4c7" class="idref" href="#72f91791bbb602d0bfaf8d99438cd4c7"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#72f91791bbb602d0bfaf8d99438cd4c7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">{|</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.universes"><span class="id" title="projection">universes</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#72f91791bbb602d0bfaf8d99438cd4c7"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.universes"><span class="id" title="projection">universes</span></a>); <a class="idref" href="MetaRocq.Common.Environment.html#Environment.declarations"><span class="id" title="projection">declarations</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#72f91791bbb602d0bfaf8d99438cd4c7"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.declarations"><span class="id" title="projection">declarations</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#72f91791bbb602d0bfaf8d99438cd4c7"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">|}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.set_declarations" class="idref" href="#Environment.set_declarations"><span class="id" title="definition">set_declarations</span></a> <a id="2008e4a6f6b0fd127aa6f855da30ec04" class="idref" href="#2008e4a6f6b0fd127aa6f855da30ec04"><span class="id" title="binder">Σ</span></a> <a id="decls:208" class="idref" href="#decls:208"><span class="id" title="binder">decls</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="MetaRocq.Common.Environment.html#Environment.universes"><span class="id" title="projection">universes</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#2008e4a6f6b0fd127aa6f855da30ec04"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.universes"><span class="id" title="projection">universes</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.declarations"><span class="id" title="projection">declarations</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#decls:208"><span class="id" title="variable">decls</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#2008e4a6f6b0fd127aa6f855da30ec04"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) |}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="Environment.lookup_global" class="idref" href="#Environment.lookup_global"><span class="id" title="definition">lookup_global</span></a> (<a id="1d3c2712cd53f8ced44b9865a79a0e0b" class="idref" href="#1d3c2712cd53f8ced44b9865a79a0e0b"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_declarations"><span class="id" title="definition">global_declarations</span></a>) (<a id="kn:210" class="idref" href="#kn:210"><span class="id" title="binder">kn</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_decl"><span class="id" title="inductive">global_decl</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#1d3c2712cd53f8ced44b9865a79a0e0b"><span class="id" title="variable">Σ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">d</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">tl</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#kn:210"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#12489c9c79e91749bd1f337dd0c899e9"><span class="id" title="notation">==</span></a> <span class="id" title="var">d</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">d</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#lookup_global:211"><span class="id" title="definition">lookup_global</span></a> <span class="id" title="var">tl</span> <a class="idref" href="MetaRocq.Common.Environment.html#kn:210"><span class="id" title="variable">kn</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.lookup_env" class="idref" href="#Environment.lookup_env"><span class="id" title="definition">lookup_env</span></a> (<a id="52ae8f637803b72bd7dd56a99edfb191" class="idref" href="#52ae8f637803b72bd7dd56a99edfb191"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_env"><span class="id" title="record">global_env</span></a>) (<a id="kn:214" class="idref" href="#kn:214"><span class="id" title="binder">kn</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a>) := <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_global"><span class="id" title="definition">lookup_global</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#52ae8f637803b72bd7dd56a99edfb191"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#kn:214"><span class="id" title="variable">kn</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="Environment.lookup_globals" class="idref" href="#Environment.lookup_globals"><span class="id" title="definition">lookup_globals</span></a> (<a id="b9d6d0fb1df238201dff677e7114a90a" class="idref" href="#b9d6d0fb1df238201dff677e7114a90a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_declarations"><span class="id" title="definition">global_declarations</span></a>) (<a id="kn:216" class="idref" href="#kn:216"><span class="id" title="binder">kn</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_decl"><span class="id" title="inductive">global_decl</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#b9d6d0fb1df238201dff677e7114a90a"><span class="id" title="variable">Σ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">d</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">tl</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="tl:219" class="idref" href="#tl:219"><span class="id" title="binder">tl</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#lookup_globals:217"><span class="id" title="definition">lookup_globals</span></a> <span class="id" title="var">tl</span> <a class="idref" href="MetaRocq.Common.Environment.html#kn:216"><span class="id" title="variable">kn</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#kn:216"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#12489c9c79e91749bd1f337dd0c899e9"><span class="id" title="notation">==</span></a> <span class="id" title="var">d</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">d</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#tl:219"><span class="id" title="variable">tl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#tl:219"><span class="id" title="variable">tl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.lookup_envs" class="idref" href="#Environment.lookup_envs"><span class="id" title="definition">lookup_envs</span></a> (<a id="997ee4d95757579da4f10261f924b415" class="idref" href="#997ee4d95757579da4f10261f924b415"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_env"><span class="id" title="record">global_env</span></a>) (<a id="kn:221" class="idref" href="#kn:221"><span class="id" title="binder">kn</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a>) := <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals"><span class="id" title="definition">lookup_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#997ee4d95757579da4f10261f924b415"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#kn:221"><span class="id" title="variable">kn</span></a>.<br/>

<br/>
</div>

<div class="doc">
We define four notions of environment extension.  The two
      configurable bits are: is universe and retroknowledge extension
      strict (<span class="inlinecode"><span class="id" title="var">Logic.eq</span></span>) or loose (<span class="inlinecode">⊂<span class="id" title="var">_cs</span></span> / <span class="inlinecode"><span class="id" title="var">Retroknowledge.extends</span></span>);
      and is declaration extension strict (fully order-preserving,
      i.e., new declarations are added only at the front) or lax
      (declarations may be reordered and added freely, as long as all
      new declarations with existing names come before the old ones
      with the same names, and the relative order of declarations with
      identical names is preserved).

<div class="paragraph"> </div>

      In most cases, we are actually interested only in duplicate-free
      environments, where the lax construction is equivalent to merely
      requiring that the lookup function agrees on all existing
      delcarations.  However, we formulate the property in a way that
      makes sense for duplicative environments so that strict
      declaration extension will always imply lax declaration
      extension.  (The lookup function prefers earlier / newer
      declarations over older ones.)

<div class="paragraph"> </div>

      We thus have the following implication structure:
<code>&lt;
</code>┌-----------------------------┬------------------------┬---------------------------┐
|    univ/retro extension is: |        strict          |  lax                      |
├ declaration exension is ----┼------------------------┼---------------------------┤
|    lax                      |     extends_decls      →         extends           |
|                             |            ↑           ↗            ↑              |
|   strict                    | strictly_extends_decls → extends_strictly_on_decls |
└-----------------------------┴------------------------┴---------------------------┘
&gt;&gt;&gt;
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="Environment.extends_decls_part_globals" class="idref" href="#Environment.extends_decls_part_globals"><span class="id" title="abbreviation">extends_decls_part_globals</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Σ'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (<span class="id" title="keyword">∀</span> <a id="c:222" class="idref" href="#c:222"><span class="id" title="binder">c</span></a>, <a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="decls:223" class="idref" href="#decls:223"><span class="id" title="binder">decls</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals"><span class="id" title="definition">lookup_globals</span></a> <span class="id" title="var">Σ'</span> <a class="idref" href="MetaRocq.Common.Environment.html#c:222"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#decls:223"><span class="id" title="variable">decls</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals"><span class="id" title="definition">lookup_globals</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="MetaRocq.Common.Environment.html#c:222"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="Environment.strictly_extends_decls_part_globals" class="idref" href="#Environment.strictly_extends_decls_part_globals"><span class="id" title="abbreviation">strictly_extends_decls_part_globals</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Σ'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="67f05ce59ccfcd4c5b6f954b5cddcecb" class="idref" href="#67f05ce59ccfcd4c5b6f954b5cddcecb"><span class="id" title="binder">Σ''</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <span class="id" title="var">Σ'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#67f05ce59ccfcd4c5b6f954b5cddcecb"><span class="id" title="variable">Σ''</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Σ</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="Environment.extends_decls_part" class="idref" href="#Environment.extends_decls_part"><span class="id" title="abbreviation">extends_decls_part</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Σ'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (<span class="id" title="keyword">∀</span> <a id="c:225" class="idref" href="#c:225"><span class="id" title="binder">c</span></a>, <a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="decls:226" class="idref" href="#decls:226"><span class="id" title="binder">decls</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_envs"><span class="id" title="definition">lookup_envs</span></a> <span class="id" title="var">Σ'</span> <a class="idref" href="MetaRocq.Common.Environment.html#c:225"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#decls:226"><span class="id" title="variable">decls</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_envs"><span class="id" title="definition">lookup_envs</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="MetaRocq.Common.Environment.html#c:225"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="Environment.strictly_extends_decls_part" class="idref" href="#Environment.strictly_extends_decls_part"><span class="id" title="abbreviation">strictly_extends_decls_part</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Σ'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls_part_globals"><span class="id" title="abbreviation">strictly_extends_decls_part_globals</span></a> <span class="id" title="var">Σ</span>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.declarations"><span class="id" title="projection">declarations</span></a>) <span class="id" title="var">Σ'</span>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.declarations"><span class="id" title="projection">declarations</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.extends" class="idref" href="#Environment.extends"><span class="id" title="definition">extends</span></a> (<a id="f9bd5fc9770abfb32803e9e591f6fbd6" class="idref" href="#f9bd5fc9770abfb32803e9e591f6fbd6"><span class="id" title="binder">Σ</span></a> <a id="132069c463ccb15003bc92608ab1fa93" class="idref" href="#132069c463ccb15003bc92608ab1fa93"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_env"><span class="id" title="record">global_env</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">[×</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f9bd5fc9770abfb32803e9e591f6fbd6"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.universes"><span class="id" title="projection">universes</span></a>) <a class="idref" href="MetaRocq.Common.Universes.html#fa53e7e2e4fd81994788c41fd8d89a68"><span class="id" title="notation">⊂</span></a><a class="idref" href="MetaRocq.Common.Universes.html#fa53e7e2e4fd81994788c41fd8d89a68"><span class="id" title="notation">_cs</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#132069c463ccb15003bc92608ab1fa93"><span class="id" title="variable">Σ'</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.universes"><span class="id" title="projection">universes</span></a>)<a class="idref" href="MetaRocq.Utils.MRProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls_part"><span class="id" title="abbreviation">extends_decls_part</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f9bd5fc9770abfb32803e9e591f6fbd6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#132069c463ccb15003bc92608ab1fa93"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extends"><span class="id" title="class">Retroknowledge.extends</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f9bd5fc9770abfb32803e9e591f6fbd6"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#132069c463ccb15003bc92608ab1fa93"><span class="id" title="variable">Σ'</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>)<a class="idref" href="MetaRocq.Utils.MRProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">]</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.extends_decls" class="idref" href="#Environment.extends_decls"><span class="id" title="definition">extends_decls</span></a> (<a id="fd00ad96bddd6de4e947f2f06459212f" class="idref" href="#fd00ad96bddd6de4e947f2f06459212f"><span class="id" title="binder">Σ</span></a> <a id="396590d6fb1bfeb7cdfd0bbc77953caa" class="idref" href="#396590d6fb1bfeb7cdfd0bbc77953caa"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_env"><span class="id" title="record">global_env</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">[×</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#fd00ad96bddd6de4e947f2f06459212f"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.universes"><span class="id" title="projection">universes</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#396590d6fb1bfeb7cdfd0bbc77953caa"><span class="id" title="variable">Σ'</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.universes"><span class="id" title="projection">universes</span></a>)<a class="idref" href="MetaRocq.Utils.MRProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls_part"><span class="id" title="abbreviation">extends_decls_part</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#fd00ad96bddd6de4e947f2f06459212f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#396590d6fb1bfeb7cdfd0bbc77953caa"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#fd00ad96bddd6de4e947f2f06459212f"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#396590d6fb1bfeb7cdfd0bbc77953caa"><span class="id" title="variable">Σ'</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>)<a class="idref" href="MetaRocq.Utils.MRProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">]</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.extends_strictly_on_decls" class="idref" href="#Environment.extends_strictly_on_decls"><span class="id" title="definition">extends_strictly_on_decls</span></a> (<a id="30797e4e4c601c887d148f05ce2c62dd" class="idref" href="#30797e4e4c601c887d148f05ce2c62dd"><span class="id" title="binder">Σ</span></a> <a id="5f5f120860dcf1b744773f21aedf1846" class="idref" href="#5f5f120860dcf1b744773f21aedf1846"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_env"><span class="id" title="record">global_env</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">[×</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#30797e4e4c601c887d148f05ce2c62dd"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.universes"><span class="id" title="projection">universes</span></a>) <a class="idref" href="MetaRocq.Common.Universes.html#fa53e7e2e4fd81994788c41fd8d89a68"><span class="id" title="notation">⊂</span></a><a class="idref" href="MetaRocq.Common.Universes.html#fa53e7e2e4fd81994788c41fd8d89a68"><span class="id" title="notation">_cs</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#5f5f120860dcf1b744773f21aedf1846"><span class="id" title="variable">Σ'</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.universes"><span class="id" title="projection">universes</span></a>)<a class="idref" href="MetaRocq.Utils.MRProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls_part"><span class="id" title="abbreviation">strictly_extends_decls_part</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#30797e4e4c601c887d148f05ce2c62dd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#5f5f120860dcf1b744773f21aedf1846"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extends"><span class="id" title="class">Retroknowledge.extends</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#30797e4e4c601c887d148f05ce2c62dd"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#5f5f120860dcf1b744773f21aedf1846"><span class="id" title="variable">Σ'</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>)<a class="idref" href="MetaRocq.Utils.MRProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">]</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.strictly_extends_decls" class="idref" href="#Environment.strictly_extends_decls"><span class="id" title="definition">strictly_extends_decls</span></a> (<a id="6415288ff3ab9e6abe4d622289bc17a1" class="idref" href="#6415288ff3ab9e6abe4d622289bc17a1"><span class="id" title="binder">Σ</span></a> <a id="737f6c3da91f381605178bd06821c861" class="idref" href="#737f6c3da91f381605178bd06821c861"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_env"><span class="id" title="record">global_env</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">[×</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#6415288ff3ab9e6abe4d622289bc17a1"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.universes"><span class="id" title="projection">universes</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#737f6c3da91f381605178bd06821c861"><span class="id" title="variable">Σ'</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.universes"><span class="id" title="projection">universes</span></a>)<a class="idref" href="MetaRocq.Utils.MRProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls_part"><span class="id" title="abbreviation">strictly_extends_decls_part</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#6415288ff3ab9e6abe4d622289bc17a1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#737f6c3da91f381605178bd06821c861"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#6415288ff3ab9e6abe4d622289bc17a1"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#737f6c3da91f381605178bd06821c861"><span class="id" title="variable">Σ'</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>)<a class="idref" href="MetaRocq.Utils.MRProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">]</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Existing Class</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends"><span class="id" title="definition">extends</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Existing Class</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls"><span class="id" title="definition">extends_decls</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Existing Class</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_strictly_on_decls"><span class="id" title="definition">extends_strictly_on_decls</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Existing Class</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls"><span class="id" title="definition">strictly_extends_decls</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.lookup_global_None" class="idref" href="#Environment.lookup_global_None"><span class="id" title="lemma">lookup_global_None</span></a> <a id="882fcf1fe94e59b388c5dc19a766ec48" class="idref" href="#882fcf1fe94e59b388c5dc19a766ec48"><span class="id" title="binder">Σ</span></a> <a id="kn:236" class="idref" href="#kn:236"><span class="id" title="binder">kn</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#kn:236"><span class="id" title="variable">kn</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#882fcf1fe94e59b388c5dc19a766ec48"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_global"><span class="id" title="definition">lookup_global</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#882fcf1fe94e59b388c5dc19a766ec48"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#kn:236"><span class="id" title="variable">kn</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Σ</span>; <span class="id" title="tactic">elim</span> ⇒ //=; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ ??; <span class="id" title="tactic">case</span>: <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.hd_error_lookup_globals" class="idref" href="#Environment.hd_error_lookup_globals"><span class="id" title="lemma">hd_error_lookup_globals</span></a> <a id="60ad45966726b16eb38119e829257efc" class="idref" href="#60ad45966726b16eb38119e829257efc"><span class="id" title="binder">Σ</span></a> <a id="kn:238" class="idref" href="#kn:238"><span class="id" title="binder">kn</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#hd_error"><span class="id" title="definition">hd_error</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals"><span class="id" title="definition">lookup_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#60ad45966726b16eb38119e829257efc"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#kn:238"><span class="id" title="variable">kn</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_global"><span class="id" title="definition">lookup_global</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#60ad45966726b16eb38119e829257efc"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#kn:238"><span class="id" title="variable">kn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Σ</span>; <span class="id" title="tactic">elim</span> ⇒ //= ?? &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> ⇒ //=.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.lookup_globals_nil" class="idref" href="#Environment.lookup_globals_nil"><span class="id" title="lemma">lookup_globals_nil</span></a> <a id="5dd2a7569f1ecc1cbb62bc56f7481c16" class="idref" href="#5dd2a7569f1ecc1cbb62bc56f7481c16"><span class="id" title="binder">Σ</span></a> <a id="kn:240" class="idref" href="#kn:240"><span class="id" title="binder">kn</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#kn:240"><span class="id" title="variable">kn</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#5dd2a7569f1ecc1cbb62bc56f7481c16"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals"><span class="id" title="definition">lookup_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#5dd2a7569f1ecc1cbb62bc56f7481c16"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#kn:240"><span class="id" title="variable">kn</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_global_None"><span class="id" title="lemma">lookup_global_None</span></a>-<a class="idref" href="MetaRocq.Common.Environment.html#Environment.hd_error_lookup_globals"><span class="id" title="lemma">hd_error_lookup_globals</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals"><span class="id" title="definition">lookup_globals</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.NoDup_length_lookup_globals" class="idref" href="#Environment.NoDup_length_lookup_globals"><span class="id" title="lemma">NoDup_length_lookup_globals</span></a> <a id="fc8ad4f2c9645b87ad5bd2985675ad97" class="idref" href="#fc8ad4f2c9645b87ad5bd2985675ad97"><span class="id" title="binder">Σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#fc8ad4f2c9645b87ad5bd2985675ad97"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="kn:242" class="idref" href="#kn:242"><span class="id" title="binder">kn</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals"><span class="id" title="definition">lookup_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#fc8ad4f2c9645b87ad5bd2985675ad97"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#kn:242"><span class="id" title="variable">kn</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_global"><span class="id" title="definition">lookup_global</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#fc8ad4f2c9645b87ad5bd2985675ad97"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#kn:242"><span class="id" title="variable">kn</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> ⇒ 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H</span> <span class="id" title="var">kn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Σ</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">elim</span> ⇒ //=; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ ?? <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">H</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">assumption</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> ⇒ //= →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.MRProd.html#proj1"><span class="id" title="definition">proj1</span></a> (@<a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_global_None"><span class="id" title="lemma">lookup_global_None</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) ⇒ //= → //=.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.NoDup_lookup_globals_eq" class="idref" href="#Environment.NoDup_lookup_globals_eq"><span class="id" title="lemma">NoDup_lookup_globals_eq</span></a> <a id="2cf5d14a1ea75a8d6275c6d53ce503c0" class="idref" href="#2cf5d14a1ea75a8d6275c6d53ce503c0"><span class="id" title="binder">Σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#2cf5d14a1ea75a8d6275c6d53ce503c0"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="kn:244" class="idref" href="#kn:244"><span class="id" title="binder">kn</span></a>, <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals"><span class="id" title="definition">lookup_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#2cf5d14a1ea75a8d6275c6d53ce503c0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#kn:244"><span class="id" title="variable">kn</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_global"><span class="id" title="definition">lookup_global</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#2cf5d14a1ea75a8d6275c6d53ce503c0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#kn:244"><span class="id" title="variable">kn</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">v</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H</span> <span class="id" title="var">kn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.NoDup_length_lookup_globals"><span class="id" title="lemma">NoDup_length_lookup_globals</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">H</span> <span class="id" title="var">kn</span>) (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.hd_error_lookup_globals"><span class="id" title="lemma">hd_error_lookup_globals</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">kn</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">destruct</span> ?; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">case</span>: <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals"><span class="id" title="definition">lookup_globals</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ ? [|]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.lookup_globals_In" class="idref" href="#Environment.lookup_globals_In"><span class="id" title="lemma">lookup_globals_In</span></a> <a id="3dce340377acc480fac0799c5bfb5cb3" class="idref" href="#3dce340377acc480fac0799c5bfb5cb3"><span class="id" title="binder">Σ</span></a> <a id="kn:246" class="idref" href="#kn:246"><span class="id" title="binder">kn</span></a> <a id="decl:247" class="idref" href="#decl:247"><span class="id" title="binder">decl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Environment.html#kn:246"><span class="id" title="variable">kn</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#decl:247"><span class="id" title="variable">decl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#3dce340377acc480fac0799c5bfb5cb3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#decl:247"><span class="id" title="variable">decl</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals"><span class="id" title="definition">lookup_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#3dce340377acc480fac0799c5bfb5cb3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#kn:246"><span class="id" title="variable">kn</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Σ</span>; <span class="id" title="tactic">elim</span> ⇒ //=; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ [??]?; <span class="id" title="tactic">case</span>: <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> ⇒ ? //=; <span class="id" title="tactic">subst</span> ⇒ &lt;-; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">firstorder</span> (<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: (<span class="id" title="tactic">idtac</span> + <span class="id" title="tactic">constructor</span>); <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.lookup_global_Some_if_In" class="idref" href="#Environment.lookup_global_Some_if_In"><span class="id" title="lemma">lookup_global_Some_if_In</span></a> <a id="501ab271531919b68468ce50b3f5c9ad" class="idref" href="#501ab271531919b68468ce50b3f5c9ad"><span class="id" title="binder">Σ</span></a> <a id="kn:249" class="idref" href="#kn:249"><span class="id" title="binder">kn</span></a> <a id="decl:250" class="idref" href="#decl:250"><span class="id" title="binder">decl</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_global"><span class="id" title="definition">lookup_global</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#501ab271531919b68468ce50b3f5c9ad"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#kn:249"><span class="id" title="variable">kn</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#decl:250"><span class="id" title="variable">decl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Environment.html#kn:249"><span class="id" title="variable">kn</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#decl:250"><span class="id" title="variable">decl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#501ab271531919b68468ce50b3f5c9ad"><span class="id" title="variable">Σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Σ</span>; <span class="id" title="tactic">elim</span> ⇒ //=; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ [??]?; <span class="id" title="tactic">case</span>: <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> ⇒ ? <span class="id" title="var">IH</span>; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IH</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.lookup_global_Some_iff_In_NoDup" class="idref" href="#Environment.lookup_global_Some_iff_In_NoDup"><span class="id" title="lemma">lookup_global_Some_iff_In_NoDup</span></a> <a id="0b14b55db9d97ac76093678c3c588e71" class="idref" href="#0b14b55db9d97ac76093678c3c588e71"><span class="id" title="binder">Σ</span></a> <a id="kn:252" class="idref" href="#kn:252"><span class="id" title="binder">kn</span></a> <a id="decl:253" class="idref" href="#decl:253"><span class="id" title="binder">decl</span></a> (<a id="H:254" class="idref" href="#H:254"><span class="id" title="binder">H</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#0b14b55db9d97ac76093678c3c588e71"><span class="id" title="variable">Σ</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Environment.html#kn:252"><span class="id" title="variable">kn</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#decl:253"><span class="id" title="variable">decl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#0b14b55db9d97ac76093678c3c588e71"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_global"><span class="id" title="definition">lookup_global</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#0b14b55db9d97ac76093678c3c588e71"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#kn:252"><span class="id" title="variable">kn</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#decl:253"><span class="id" title="variable">decl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.Common.Environment.html#Environment.hd_error_lookup_globals"><span class="id" title="lemma">hd_error_lookup_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals_In"><span class="id" title="lemma">lookup_globals_In</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.NoDup_length_lookup_globals"><span class="id" title="lemma">NoDup_length_lookup_globals</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">kn</span>:=<span class="id" title="var">kn</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">move</span>: <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_global"><span class="id" title="definition">lookup_global</span></a>; <span class="id" title="tactic">case</span>: <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals"><span class="id" title="definition">lookup_globals</span></a> ⇒ [|?[]]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.lookup_global_extends_NoDup" class="idref" href="#Environment.lookup_global_extends_NoDup"><span class="id" title="lemma">lookup_global_extends_NoDup</span></a> <a id="909d71ef3eb6d1f9583fd04358b814cb" class="idref" href="#909d71ef3eb6d1f9583fd04358b814cb"><span class="id" title="binder">Σ</span></a> <a id="6e7bd83a7980d09525549610d0768520" class="idref" href="#6e7bd83a7980d09525549610d0768520"><span class="id" title="binder">Σ'</span></a> <a id="k:257" class="idref" href="#k:257"><span class="id" title="binder">k</span></a> <a id="d:258" class="idref" href="#d:258"><span class="id" title="binder">d</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#6e7bd83a7980d09525549610d0768520"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_global"><span class="id" title="definition">lookup_global</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#909d71ef3eb6d1f9583fd04358b814cb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:257"><span class="id" title="variable">k</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d:258"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls_part_globals"><span class="id" title="abbreviation">extends_decls_part_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#909d71ef3eb6d1f9583fd04358b814cb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#6e7bd83a7980d09525549610d0768520"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_global"><span class="id" title="definition">lookup_global</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#6e7bd83a7980d09525549610d0768520"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:257"><span class="id" title="variable">k</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d:258"><span class="id" title="variable">d</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= -!<a class="idref" href="MetaRocq.Common.Environment.html#Environment.hd_error_lookup_globals"><span class="id" title="lemma">hd_error_lookup_globals</span></a> ⇒ <span class="id" title="var">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (@<a class="idref" href="MetaRocq.Common.Environment.html#Environment.NoDup_length_lookup_globals"><span class="id" title="lemma">NoDup_length_lookup_globals</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hnd</span> <span class="id" title="var">k</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.Common.Environment.html#Environment.hd_error_lookup_globals"><span class="id" title="lemma">hd_error_lookup_globals</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">H</span> <span class="id" title="var">Hd</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">eq</span> <span class="id" title="var">k</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> ⇒ <span class="id" title="var">ls</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">eq</span> <span class="id" title="var">Hd</span> <span class="id" title="var">H</span> ⇒ →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">ls</span> ⇒ //= ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> ⇒ //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals"><span class="id" title="definition">lookup_globals</span></a> ⇒ //=.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.lookup_env_extends_NoDup" class="idref" href="#Environment.lookup_env_extends_NoDup"><span class="id" title="lemma">lookup_env_extends_NoDup</span></a> <a id="94d0c84ed07cc9827b73907d01f025a5" class="idref" href="#94d0c84ed07cc9827b73907d01f025a5"><span class="id" title="binder">Σ</span></a> <a id="94e6b43f28a12098622a2733d62cda7e" class="idref" href="#94e6b43f28a12098622a2733d62cda7e"><span class="id" title="binder">Σ'</span></a> <a id="k:261" class="idref" href="#k:261"><span class="id" title="binder">k</span></a> <a id="d:262" class="idref" href="#d:262"><span class="id" title="binder">d</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#94e6b43f28a12098622a2733d62cda7e"><span class="id" title="variable">Σ'</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.declarations"><span class="id" title="projection">declarations</span></a>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#94d0c84ed07cc9827b73907d01f025a5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:261"><span class="id" title="variable">k</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d:262"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends"><span class="id" title="class">extends</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#94d0c84ed07cc9827b73907d01f025a5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#94e6b43f28a12098622a2733d62cda7e"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#94e6b43f28a12098622a2733d62cda7e"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:261"><span class="id" title="variable">k</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d:262"><span class="id" title="variable">d</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">Hnd</span> <span class="id" title="var">Hd</span>; <span class="id" title="tactic">case</span> ⇒ ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_global_extends_NoDup"><span class="id" title="lemma">lookup_global_extends_NoDup</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.lookup_globals_app" class="idref" href="#Environment.lookup_globals_app"><span class="id" title="lemma">lookup_globals_app</span></a> <a id="08844aa7542baae4ff636c0eb6a3a5d8" class="idref" href="#08844aa7542baae4ff636c0eb6a3a5d8"><span class="id" title="binder">Σ</span></a> <a id="3a0034865abb7c9fb44b7e86cbb02115" class="idref" href="#3a0034865abb7c9fb44b7e86cbb02115"><span class="id" title="binder">Σ'</span></a> <a id="kn:265" class="idref" href="#kn:265"><span class="id" title="binder">kn</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals"><span class="id" title="definition">lookup_globals</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#08844aa7542baae4ff636c0eb6a3a5d8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#3a0034865abb7c9fb44b7e86cbb02115"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#kn:265"><span class="id" title="variable">kn</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals"><span class="id" title="definition">lookup_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#08844aa7542baae4ff636c0eb6a3a5d8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#kn:265"><span class="id" title="variable">kn</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals"><span class="id" title="definition">lookup_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#3a0034865abb7c9fb44b7e86cbb02115"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#kn:265"><span class="id" title="variable">kn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> ⇒ //= ??.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> ⇒ //= → → //=.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.strictly_extends_decls_extends_part_globals" class="idref" href="#Environment.strictly_extends_decls_extends_part_globals"><span class="id" title="lemma">strictly_extends_decls_extends_part_globals</span></a> <a id="5d61b44cf28aef9a9aecc422be7f8514" class="idref" href="#5d61b44cf28aef9a9aecc422be7f8514"><span class="id" title="binder">Σ</span></a> <a id="6fbe0dcbb55f1db23335ada3717a74db" class="idref" href="#6fbe0dcbb55f1db23335ada3717a74db"><span class="id" title="binder">Σ'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls_part_globals"><span class="id" title="abbreviation">strictly_extends_decls_part_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#5d61b44cf28aef9a9aecc422be7f8514"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#6fbe0dcbb55f1db23335ada3717a74db"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls_part_globals"><span class="id" title="abbreviation">extends_decls_part_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#5d61b44cf28aef9a9aecc422be7f8514"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#6fbe0dcbb55f1db23335ada3717a74db"><span class="id" title="variable">Σ'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> ⇒ //= ? → <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals_app"><span class="id" title="lemma">lookup_globals_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.strictly_extends_decls_extends_part" class="idref" href="#Environment.strictly_extends_decls_extends_part"><span class="id" title="lemma">strictly_extends_decls_extends_part</span></a> <a id="1c0e4273414546d17228b89ae2055cf6" class="idref" href="#1c0e4273414546d17228b89ae2055cf6"><span class="id" title="binder">Σ</span></a> <a id="1c5381176a1bc50074baac11bde13cad" class="idref" href="#1c5381176a1bc50074baac11bde13cad"><span class="id" title="binder">Σ'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls_part"><span class="id" title="abbreviation">strictly_extends_decls_part</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#1c0e4273414546d17228b89ae2055cf6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#1c5381176a1bc50074baac11bde13cad"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls_part"><span class="id" title="abbreviation">extends_decls_part</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#1c0e4273414546d17228b89ae2055cf6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#1c5381176a1bc50074baac11bde13cad"><span class="id" title="variable">Σ'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls_extends_part_globals"><span class="id" title="lemma">strictly_extends_decls_extends_part_globals</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Environment.strictly_extends_decls_extends_decls" class="idref" href="#Environment.strictly_extends_decls_extends_decls"><span class="id" title="instance">strictly_extends_decls_extends_decls</span></a> <a id="4e55f902055574206974ced071a2f4cb" class="idref" href="#4e55f902055574206974ced071a2f4cb"><span class="id" title="binder">Σ</span></a> <a id="23e6463f7c5d70119588248ac9cf821e" class="idref" href="#23e6463f7c5d70119588248ac9cf821e"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls"><span class="id" title="class">strictly_extends_decls</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#4e55f902055574206974ced071a2f4cb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#23e6463f7c5d70119588248ac9cf821e"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls"><span class="id" title="class">extends_decls</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#4e55f902055574206974ced071a2f4cb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#23e6463f7c5d70119588248ac9cf821e"><span class="id" title="variable">Σ'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>, <span class="id" title="var">Σ'</span>; <span class="id" title="tactic">case</span> ⇒ //= → ? →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls"><span class="id" title="class">extends_decls</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls_extends_part"><span class="id" title="lemma">strictly_extends_decls_extends_part</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Environment.strictly_extends_decls_extends_strictly_on_decls" class="idref" href="#Environment.strictly_extends_decls_extends_strictly_on_decls"><span class="id" title="instance">strictly_extends_decls_extends_strictly_on_decls</span></a> <a id="fff8b5ebb17023f01639f699e8493489" class="idref" href="#fff8b5ebb17023f01639f699e8493489"><span class="id" title="binder">Σ</span></a> <a id="7176e323aeb3b02b72ae85789ce1f5e0" class="idref" href="#7176e323aeb3b02b72ae85789ce1f5e0"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls"><span class="id" title="class">strictly_extends_decls</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#fff8b5ebb17023f01639f699e8493489"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#7176e323aeb3b02b72ae85789ce1f5e0"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_strictly_on_decls"><span class="id" title="class">extends_strictly_on_decls</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#fff8b5ebb17023f01639f699e8493489"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#7176e323aeb3b02b72ae85789ce1f5e0"><span class="id" title="variable">Σ'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>, <span class="id" title="var">Σ'</span>; <span class="id" title="tactic">intros</span> []. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">split</span> ⇒ //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">lsets</span>|<span class="id" title="var">csets</span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extends_refl"><span class="id" title="instance">Retroknowledge.extends_refl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Environment.extends_decls_extends" class="idref" href="#Environment.extends_decls_extends"><span class="id" title="instance">extends_decls_extends</span></a> <a id="cc664e2ebdb5001557a38eea9d90b077" class="idref" href="#cc664e2ebdb5001557a38eea9d90b077"><span class="id" title="binder">Σ</span></a> <a id="6a009e747094c2d02ad3996f0d79c2f8" class="idref" href="#6a009e747094c2d02ad3996f0d79c2f8"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls"><span class="id" title="class">extends_decls</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#cc664e2ebdb5001557a38eea9d90b077"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#6a009e747094c2d02ad3996f0d79c2f8"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends"><span class="id" title="class">extends</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#cc664e2ebdb5001557a38eea9d90b077"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#6a009e747094c2d02ad3996f0d79c2f8"><span class="id" title="variable">Σ'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>, <span class="id" title="var">Σ'</span>; <span class="id" title="tactic">intros</span> []. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">split</span> ⇒ //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">lsets</span>|<span class="id" title="var">csets</span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extends_refl"><span class="id" title="instance">Retroknowledge.extends_refl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Environment.extends_strictly_on_decls_extends" class="idref" href="#Environment.extends_strictly_on_decls_extends"><span class="id" title="instance">extends_strictly_on_decls_extends</span></a> <a id="be195ed1aa023b3a5afc2ee39bc7a9f9" class="idref" href="#be195ed1aa023b3a5afc2ee39bc7a9f9"><span class="id" title="binder">Σ</span></a> <a id="ed5aeabf97761848c295c99f9873df81" class="idref" href="#ed5aeabf97761848c295c99f9873df81"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_strictly_on_decls"><span class="id" title="class">extends_strictly_on_decls</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#be195ed1aa023b3a5afc2ee39bc7a9f9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#ed5aeabf97761848c295c99f9873df81"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends"><span class="id" title="class">extends</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#be195ed1aa023b3a5afc2ee39bc7a9f9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#ed5aeabf97761848c295c99f9873df81"><span class="id" title="variable">Σ'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>, <span class="id" title="var">Σ'</span>; <span class="id" title="tactic">case</span> ⇒ //= ? ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends"><span class="id" title="class">extends</span></a>; <span class="id" title="tactic">split</span> ⇒ //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls_extends_part"><span class="id" title="lemma">strictly_extends_decls_extends_part</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Environment.strictly_extends_decls_extends_decls_subrel" class="idref" href="#Environment.strictly_extends_decls_extends_decls_subrel"><span class="id" title="instance">strictly_extends_decls_extends_decls_subrel</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.CRelationClasses.html#subrelation"><span class="id" title="class">CRelationClasses.subrelation</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls"><span class="id" title="class">strictly_extends_decls</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls"><span class="id" title="class">extends_decls</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls_extends_decls"><span class="id" title="instance">strictly_extends_decls_extends_decls</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Environment.strictly_extends_decls_extends_strictly_on_decls_subrel" class="idref" href="#Environment.strictly_extends_decls_extends_strictly_on_decls_subrel"><span class="id" title="instance">strictly_extends_decls_extends_strictly_on_decls_subrel</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.CRelationClasses.html#subrelation"><span class="id" title="class">CRelationClasses.subrelation</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls"><span class="id" title="class">strictly_extends_decls</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_strictly_on_decls"><span class="id" title="class">extends_strictly_on_decls</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls_extends_strictly_on_decls"><span class="id" title="instance">strictly_extends_decls_extends_strictly_on_decls</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Environment.extends_decls_extends_subrel" class="idref" href="#Environment.extends_decls_extends_subrel"><span class="id" title="instance">extends_decls_extends_subrel</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.CRelationClasses.html#subrelation"><span class="id" title="class">CRelationClasses.subrelation</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls"><span class="id" title="class">extends_decls</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends"><span class="id" title="class">extends</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls_extends"><span class="id" title="instance">extends_decls_extends</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Environment.extends_strictly_on_decls_extends_subrel" class="idref" href="#Environment.extends_strictly_on_decls_extends_subrel"><span class="id" title="instance">extends_strictly_on_decls_extends_subrel</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.CRelationClasses.html#subrelation"><span class="id" title="class">CRelationClasses.subrelation</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_strictly_on_decls"><span class="id" title="class">extends_strictly_on_decls</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends"><span class="id" title="class">extends</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_strictly_on_decls_extends"><span class="id" title="instance">extends_strictly_on_decls_extends</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Environment.strictly_extends_decls_extends_subrel" class="idref" href="#Environment.strictly_extends_decls_extends_subrel"><span class="id" title="instance">strictly_extends_decls_extends_subrel</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.CRelationClasses.html#subrelation"><span class="id" title="class">CRelationClasses.subrelation</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls"><span class="id" title="class">strictly_extends_decls</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends"><span class="id" title="class">extends</span></a> := <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Environment.strictly_extends_decls_refl" class="idref" href="#Environment.strictly_extends_decls_refl"><span class="id" title="instance">strictly_extends_decls_refl</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.CRelationClasses.html#Reflexive"><span class="id" title="class">CRelationClasses.Reflexive</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls"><span class="id" title="class">strictly_extends_decls</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">split</span> ⇒ //; <span class="id" title="tactic">try</span> <span class="id" title="tactic">∃</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Environment.extends_decls_refl" class="idref" href="#Environment.extends_decls_refl"><span class="id" title="instance">extends_decls_refl</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.CRelationClasses.html#Reflexive"><span class="id" title="class">CRelationClasses.Reflexive</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls"><span class="id" title="class">extends_decls</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">split</span> ⇒ //; <span class="id" title="tactic">try</span> <span class="id" title="tactic">∃</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.extends_strictly_on_decls_refl" class="idref" href="#Environment.extends_strictly_on_decls_refl"><span class="id" title="lemma">extends_strictly_on_decls_refl</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.CRelationClasses.html#Reflexive"><span class="id" title="class">CRelationClasses.Reflexive</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_strictly_on_decls"><span class="id" title="class">extends_strictly_on_decls</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#incl_cs_refl"><span class="id" title="lemma">incl_cs_refl</span></a> | <span class="id" title="tactic">try</span> <span class="id" title="tactic">∃</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ // | <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extends_refl"><span class="id" title="instance">Retroknowledge.extends_refl</span></a>]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.extends_refl" class="idref" href="#Environment.extends_refl"><span class="id" title="lemma">extends_refl</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.CRelationClasses.html#Reflexive"><span class="id" title="class">CRelationClasses.Reflexive</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends"><span class="id" title="class">extends</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#incl_cs_refl"><span class="id" title="lemma">incl_cs_refl</span></a> | <span class="id" title="tactic">try</span> <span class="id" title="tactic">∃</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ // | <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extends_refl"><span class="id" title="instance">Retroknowledge.extends_refl</span></a>]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.extends_decls_part_globals_refl" class="idref" href="#Environment.extends_decls_part_globals_refl"><span class="id" title="lemma">extends_decls_part_globals_refl</span></a> <a id="2a3cde47c4ad7da712c9bc93ef5fbd78" class="idref" href="#2a3cde47c4ad7da712c9bc93ef5fbd78"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls_part_globals"><span class="id" title="abbreviation">extends_decls_part_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#2a3cde47c4ad7da712c9bc93ef5fbd78"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#2a3cde47c4ad7da712c9bc93ef5fbd78"><span class="id" title="variable">Σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.extends_decls_part_refl" class="idref" href="#Environment.extends_decls_part_refl"><span class="id" title="lemma">extends_decls_part_refl</span></a> <a id="d67063351bf8ca77b4cdd88504e2fd91" class="idref" href="#d67063351bf8ca77b4cdd88504e2fd91"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls_part"><span class="id" title="abbreviation">extends_decls_part</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d67063351bf8ca77b4cdd88504e2fd91"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d67063351bf8ca77b4cdd88504e2fd91"><span class="id" title="variable">Σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls_part_globals_refl"><span class="id" title="lemma">extends_decls_part_globals_refl</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.strictly_extends_decls_part_globals_refl" class="idref" href="#Environment.strictly_extends_decls_part_globals_refl"><span class="id" title="lemma">strictly_extends_decls_part_globals_refl</span></a> (<a id="16d5a522716a87cb2083ccb2eeedfdc3" class="idref" href="#16d5a522716a87cb2083ccb2eeedfdc3"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_declarations"><span class="id" title="definition">global_declarations</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls_part_globals"><span class="id" title="abbreviation">strictly_extends_decls_part_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#16d5a522716a87cb2083ccb2eeedfdc3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#16d5a522716a87cb2083ccb2eeedfdc3"><span class="id" title="variable">Σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.strictly_extends_decls_part_refl" class="idref" href="#Environment.strictly_extends_decls_part_refl"><span class="id" title="lemma">strictly_extends_decls_part_refl</span></a> <a id="814c8bffd75ac79057558b0ba1e67cc7" class="idref" href="#814c8bffd75ac79057558b0ba1e67cc7"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls_part"><span class="id" title="abbreviation">strictly_extends_decls_part</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#814c8bffd75ac79057558b0ba1e67cc7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#814c8bffd75ac79057558b0ba1e67cc7"><span class="id" title="variable">Σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls_part_globals_refl"><span class="id" title="lemma">strictly_extends_decls_part_globals_refl</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.extends_decls_part_globals_trans" class="idref" href="#Environment.extends_decls_part_globals_trans"><span class="id" title="lemma">extends_decls_part_globals_trans</span></a> <a id="dd4ecff0e7618bc3712143ec0202068b" class="idref" href="#dd4ecff0e7618bc3712143ec0202068b"><span class="id" title="binder">Σ</span></a> <a id="216eb1551c18fcf58d34bd2534b50502" class="idref" href="#216eb1551c18fcf58d34bd2534b50502"><span class="id" title="binder">Σ'</span></a> <a id="d66f0092c127fd01ba8e868d5d9dc818" class="idref" href="#d66f0092c127fd01ba8e868d5d9dc818"><span class="id" title="binder">Σ''</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls_part_globals"><span class="id" title="abbreviation">extends_decls_part_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#dd4ecff0e7618bc3712143ec0202068b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#216eb1551c18fcf58d34bd2534b50502"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls_part_globals"><span class="id" title="abbreviation">extends_decls_part_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#216eb1551c18fcf58d34bd2534b50502"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d66f0092c127fd01ba8e868d5d9dc818"><span class="id" title="variable">Σ''</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls_part_globals"><span class="id" title="abbreviation">extends_decls_part_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#dd4ecff0e7618bc3712143ec0202068b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d66f0092c127fd01ba8e868d5d9dc818"><span class="id" title="variable">Σ''</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">move</span>: (<span class="id" title="var">H1</span> <span class="id" title="var">c</span>) (<span class="id" title="var">H2</span> <span class="id" title="var">c</span>) ⇒ [? -&gt;] [? -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.extends_decls_part_trans" class="idref" href="#Environment.extends_decls_part_trans"><span class="id" title="lemma">extends_decls_part_trans</span></a> <a id="ecfbdabaddf4e5284d914e21ad7ca23c" class="idref" href="#ecfbdabaddf4e5284d914e21ad7ca23c"><span class="id" title="binder">Σ</span></a> <a id="8b1a9da13c8ae56c4046fbc0430b2d5d" class="idref" href="#8b1a9da13c8ae56c4046fbc0430b2d5d"><span class="id" title="binder">Σ'</span></a> <a id="396f348b027644cde522248d8a676f99" class="idref" href="#396f348b027644cde522248d8a676f99"><span class="id" title="binder">Σ''</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls_part"><span class="id" title="abbreviation">extends_decls_part</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#ecfbdabaddf4e5284d914e21ad7ca23c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#8b1a9da13c8ae56c4046fbc0430b2d5d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls_part"><span class="id" title="abbreviation">extends_decls_part</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#8b1a9da13c8ae56c4046fbc0430b2d5d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#396f348b027644cde522248d8a676f99"><span class="id" title="variable">Σ''</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls_part"><span class="id" title="abbreviation">extends_decls_part</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#ecfbdabaddf4e5284d914e21ad7ca23c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#396f348b027644cde522248d8a676f99"><span class="id" title="variable">Σ''</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls_part_globals_trans"><span class="id" title="lemma">extends_decls_part_globals_trans</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.strictly_extends_decls_part_globals_trans" class="idref" href="#Environment.strictly_extends_decls_part_globals_trans"><span class="id" title="lemma">strictly_extends_decls_part_globals_trans</span></a> (<a id="d541f9739cec167054278f287499b3ea" class="idref" href="#d541f9739cec167054278f287499b3ea"><span class="id" title="binder">Σ</span></a> <a id="692daecf8b590645a8351d76e49d5df8" class="idref" href="#692daecf8b590645a8351d76e49d5df8"><span class="id" title="binder">Σ'</span></a> <a id="ae816be58d9a2f28ef268c22fd08b1f3" class="idref" href="#ae816be58d9a2f28ef268c22fd08b1f3"><span class="id" title="binder">Σ''</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_declarations"><span class="id" title="definition">global_declarations</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls_part_globals"><span class="id" title="abbreviation">strictly_extends_decls_part_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d541f9739cec167054278f287499b3ea"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#692daecf8b590645a8351d76e49d5df8"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls_part_globals"><span class="id" title="abbreviation">strictly_extends_decls_part_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#692daecf8b590645a8351d76e49d5df8"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#ae816be58d9a2f28ef268c22fd08b1f3"><span class="id" title="variable">Σ''</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls_part_globals"><span class="id" title="abbreviation">strictly_extends_decls_part_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d541f9739cec167054278f287499b3ea"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#ae816be58d9a2f28ef268c22fd08b1f3"><span class="id" title="variable">Σ''</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ [? -&gt;] [? -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.strictly_extends_decls_part_trans" class="idref" href="#Environment.strictly_extends_decls_part_trans"><span class="id" title="lemma">strictly_extends_decls_part_trans</span></a> <a id="07d01f85913ec2647572c9e21fd4915c" class="idref" href="#07d01f85913ec2647572c9e21fd4915c"><span class="id" title="binder">Σ</span></a> <a id="37af6f98d237651897f4a548f240528d" class="idref" href="#37af6f98d237651897f4a548f240528d"><span class="id" title="binder">Σ'</span></a> <a id="1dd6026b19bb6bf17f21772bd8e46f46" class="idref" href="#1dd6026b19bb6bf17f21772bd8e46f46"><span class="id" title="binder">Σ''</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls_part"><span class="id" title="abbreviation">strictly_extends_decls_part</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#07d01f85913ec2647572c9e21fd4915c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#37af6f98d237651897f4a548f240528d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls_part"><span class="id" title="abbreviation">strictly_extends_decls_part</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#37af6f98d237651897f4a548f240528d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#1dd6026b19bb6bf17f21772bd8e46f46"><span class="id" title="variable">Σ''</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls_part"><span class="id" title="abbreviation">strictly_extends_decls_part</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#07d01f85913ec2647572c9e21fd4915c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#1dd6026b19bb6bf17f21772bd8e46f46"><span class="id" title="variable">Σ''</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls_part_globals_trans"><span class="id" title="lemma">strictly_extends_decls_part_globals_trans</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">extends_trans_t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [?] [?] [?] [?] [?]; <span class="id" title="tactic">red</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="var">etransitivity</span>; <span class="id" title="var">eassumption</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Universes.html#incl_cs_trans"><span class="id" title="lemma">incl_cs_trans</span></a>; <span class="id" title="var">eassumption</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls_part_globals_trans"><span class="id" title="lemma">strictly_extends_decls_part_globals_trans</span></a>; <span class="id" title="var">eassumption</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls_part_globals_trans"><span class="id" title="lemma">extends_decls_part_globals_trans</span></a>; <span class="id" title="var">eassumption</span> ].<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Environment.strictly_extends_decls_trans" class="idref" href="#Environment.strictly_extends_decls_trans"><span class="id" title="instance">strictly_extends_decls_trans</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.CRelationClasses.html#Transitive"><span class="id" title="class">CRelationClasses.Transitive</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls"><span class="id" title="class">strictly_extends_decls</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">extends_trans_t</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Environment.extends_decls_trans" class="idref" href="#Environment.extends_decls_trans"><span class="id" title="instance">extends_decls_trans</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.CRelationClasses.html#Transitive"><span class="id" title="class">CRelationClasses.Transitive</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls"><span class="id" title="class">extends_decls</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">extends_trans_t</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Environment.extends_strictly_on_decls_trans" class="idref" href="#Environment.extends_strictly_on_decls_trans"><span class="id" title="instance">extends_strictly_on_decls_trans</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.CRelationClasses.html#Transitive"><span class="id" title="class">CRelationClasses.Transitive</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_strictly_on_decls"><span class="id" title="class">extends_strictly_on_decls</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">extends_trans_t</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Environment.extends_trans" class="idref" href="#Environment.extends_trans"><span class="id" title="instance">extends_trans</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.CRelationClasses.html#Transitive"><span class="id" title="class">CRelationClasses.Transitive</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends"><span class="id" title="class">extends</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">extends_trans_t</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Merge two lists of global_declarations, assuming that any globals sharing a name are identical 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.declared_kername_set" class="idref" href="#Environment.declared_kername_set"><span class="id" title="definition">declared_kername_set</span></a> (<a id="d2959ac75b6e0d36cc79e21b63eb81d5" class="idref" href="#d2959ac75b6e0d36cc79e21b63eb81d5"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_declarations"><span class="id" title="definition">global_declarations</span></a>) : <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.t"><span class="id" title="definition">KernameSet.t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#fold_right"><span class="id" title="definition">List.fold_right</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.add"><span class="id" title="definition">KernameSet.add</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.empty"><span class="id" title="definition">KernameSet.empty</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map"><span class="id" title="abbreviation">List.map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d2959ac75b6e0d36cc79e21b63eb81d5"><span class="id" title="variable">Σ</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.merge_globals" class="idref" href="#Environment.merge_globals"><span class="id" title="definition">merge_globals</span></a> (<a id="e40022e43c32054c5dfe18761c3ef976" class="idref" href="#e40022e43c32054c5dfe18761c3ef976"><span class="id" title="binder">Σ</span></a> <a id="81fa10e14f54f5ac6fbd00390998c446" class="idref" href="#81fa10e14f54f5ac6fbd00390998c446"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_declarations"><span class="id" title="definition">global_declarations</span></a>) : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_declarations"><span class="id" title="definition">global_declarations</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">let</span> <a id="known_kns:297" class="idref" href="#known_kns:297"><span class="id" title="binder">known_kns</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#Environment.declared_kername_set"><span class="id" title="definition">declared_kername_set</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#e40022e43c32054c5dfe18761c3ef976"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#filter"><span class="id" title="definition">List.filter</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:299" class="idref" href="#pat:299"><span class="id" title="binder">(</span></a><a id="kn:298" class="idref" href="#kn:298"><span class="id" title="binder"><span id="pat:299" class="id">kn</span></span></a><a id="pat:299" class="idref" href="#pat:299"><span class="id" title="binder">,</span></a> <a id="pat:299" class="idref" href="#pat:299"><span class="id" title="binder">_</span></a><a id="pat:299" class="idref" href="#pat:299"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#kn:298"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#known_kns:297"><span class="id" title="variable">known_kns</span></a>)) <a class="idref" href="MetaRocq.Common.Environment.html#81fa10e14f54f5ac6fbd00390998c446"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#e40022e43c32054c5dfe18761c3ef976"><span class="id" title="variable">Σ</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.merge_global_envs" class="idref" href="#Environment.merge_global_envs"><span class="id" title="definition">merge_global_envs</span></a> (<a id="4e5abe9f83af3c7b054a6daf55c8c3da" class="idref" href="#4e5abe9f83af3c7b054a6daf55c8c3da"><span class="id" title="binder">Σ</span></a> <a id="d77807782ff0572c49415854fbcfed78" class="idref" href="#d77807782ff0572c49415854fbcfed78"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_env"><span class="id" title="record">global_env</span></a>) : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_env"><span class="id" title="record">global_env</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= {| <a class="idref" href="MetaRocq.Common.Environment.html#Environment.universes"><span class="id" title="projection">universes</span></a> := <a class="idref" href="MetaRocq.Common.Universes.html#ContextSet.union"><span class="id" title="definition">ContextSet.union</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#4e5abe9f83af3c7b054a6daf55c8c3da"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.universes"><span class="id" title="projection">universes</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#d77807782ff0572c49415854fbcfed78"><span class="id" title="variable">Σ'</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.universes"><span class="id" title="projection">universes</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <a class="idref" href="MetaRocq.Common.Environment.html#Environment.declarations"><span class="id" title="projection">declarations</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#Environment.merge_globals"><span class="id" title="definition">merge_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#4e5abe9f83af3c7b054a6daf55c8c3da"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#d77807782ff0572c49415854fbcfed78"><span class="id" title="variable">Σ'</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.declarations"><span class="id" title="projection">declarations</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.merge"><span class="id" title="definition">Retroknowledge.merge</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#4e5abe9f83af3c7b054a6daf55c8c3da"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#d77807782ff0572c49415854fbcfed78"><span class="id" title="variable">Σ'</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) |}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.compatible_globals" class="idref" href="#Environment.compatible_globals"><span class="id" title="definition">compatible_globals</span></a> (<a id="79dda1cbd77dbb61e02897917de54ada" class="idref" href="#79dda1cbd77dbb61e02897917de54ada"><span class="id" title="binder">Σ</span></a> <a id="fb60baa71b390efff228cf8fbff805a9" class="idref" href="#fb60baa71b390efff228cf8fbff805a9"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_declarations"><span class="id" title="definition">global_declarations</span></a>) : <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">∀</span> <a id="c:304" class="idref" href="#c:304"><span class="id" title="binder">c</span></a>, <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals"><span class="id" title="definition">lookup_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#79dda1cbd77dbb61e02897917de54ada"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#c:304"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals"><span class="id" title="definition">lookup_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#fb60baa71b390efff228cf8fbff805a9"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#c:304"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals"><span class="id" title="definition">lookup_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#79dda1cbd77dbb61e02897917de54ada"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#c:304"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals"><span class="id" title="definition">lookup_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#fb60baa71b390efff228cf8fbff805a9"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#c:304"><span class="id" title="variable">c</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.compatible" class="idref" href="#Environment.compatible"><span class="id" title="definition">compatible</span></a> (<a id="d68ed844074a930bffb1235194237726" class="idref" href="#d68ed844074a930bffb1235194237726"><span class="id" title="binder">Σ</span></a> <a id="1c65486e19f0d71dd4586d1432b9a47c" class="idref" href="#1c65486e19f0d71dd4586d1432b9a47c"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_env"><span class="id" title="record">global_env</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.compatible"><span class="id" title="definition">Retroknowledge.compatible</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d68ed844074a930bffb1235194237726"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#1c65486e19f0d71dd4586d1432b9a47c"><span class="id" title="variable">Σ'</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.compatible_globals"><span class="id" title="definition">compatible_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d68ed844074a930bffb1235194237726"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#1c65486e19f0d71dd4586d1432b9a47c"><span class="id" title="variable">Σ'</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.declarations"><span class="id" title="projection">declarations</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.lookup_globals_filter" class="idref" href="#Environment.lookup_globals_filter"><span class="id" title="lemma">lookup_globals_filter</span></a> <a id="p:307" class="idref" href="#p:307"><span class="id" title="binder">p</span></a> <a id="4ad11e2e742be70e2aac5b04bf8df518" class="idref" href="#4ad11e2e742be70e2aac5b04bf8df518"><span class="id" title="binder">Σ</span></a> <a id="c:309" class="idref" href="#c:309"><span class="id" title="binder">c</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals"><span class="id" title="definition">lookup_globals</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:311" class="idref" href="#pat:311"><span class="id" title="binder">(</span></a><a id="kn:310" class="idref" href="#kn:310"><span class="id" title="binder"><span id="pat:311" class="id">kn</span></span></a><a id="pat:311" class="idref" href="#pat:311"><span class="id" title="binder">,</span></a> <a id="pat:311" class="idref" href="#pat:311"><span class="id" title="binder">_</span></a><a id="pat:311" class="idref" href="#pat:311"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#p:307"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#kn:310"><span class="id" title="variable">kn</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#4ad11e2e742be70e2aac5b04bf8df518"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#c:309"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#p:307"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#c:309"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals"><span class="id" title="definition">lookup_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#4ad11e2e742be70e2aac5b04bf8df518"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#c:309"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [|?? <span class="id" title="var">IH</span>]; <span class="id" title="var">cbn</span>; <span class="id" title="var">rdest</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">destruct</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> ⇒ ?; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">destruct</span> ?; <span class="id" title="tactic">subst</span> ⇒ //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_refl"><span class="id" title="lemma">eqb_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">case</span>: <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> ⇒ ?; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.strictly_extends_decls_l_merge_globals" class="idref" href="#Environment.strictly_extends_decls_l_merge_globals"><span class="id" title="lemma">strictly_extends_decls_l_merge_globals</span></a> <a id="2400c02506ae4d15486eb9a9e093aa98" class="idref" href="#2400c02506ae4d15486eb9a9e093aa98"><span class="id" title="binder">Σ</span></a> <a id="49d69bb6e802d7667201bf30397f66f3" class="idref" href="#49d69bb6e802d7667201bf30397f66f3"><span class="id" title="binder">Σ'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls_part_globals"><span class="id" title="abbreviation">strictly_extends_decls_part_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#2400c02506ae4d15486eb9a9e093aa98"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.merge_globals"><span class="id" title="definition">merge_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#2400c02506ae4d15486eb9a9e093aa98"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#49d69bb6e802d7667201bf30397f66f3"><span class="id" title="variable">Σ'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.extends_l_merge_globals" class="idref" href="#Environment.extends_l_merge_globals"><span class="id" title="lemma">extends_l_merge_globals</span></a> <a id="9c87d76fe686b3d69b371f5515b1ca47" class="idref" href="#9c87d76fe686b3d69b371f5515b1ca47"><span class="id" title="binder">Σ</span></a> <a id="db4bab3cfc11e0f74e53e309bfde1f4c" class="idref" href="#db4bab3cfc11e0f74e53e309bfde1f4c"><span class="id" title="binder">Σ'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls_part_globals"><span class="id" title="abbreviation">extends_decls_part_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#9c87d76fe686b3d69b371f5515b1ca47"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.merge_globals"><span class="id" title="definition">merge_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#9c87d76fe686b3d69b371f5515b1ca47"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#db4bab3cfc11e0f74e53e309bfde1f4c"><span class="id" title="variable">Σ'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Environment.html#Environment.merge_globals"><span class="id" title="definition">merge_globals</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals_app"><span class="id" title="lemma">lookup_globals_app</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals_filter"><span class="id" title="lemma">lookup_globals_filter</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.extends_strictly_on_decls_l_merge" class="idref" href="#Environment.extends_strictly_on_decls_l_merge"><span class="id" title="lemma">extends_strictly_on_decls_l_merge</span></a> <a id="ab4371cf41d405f92c7f9c7d1eb82b76" class="idref" href="#ab4371cf41d405f92c7f9c7d1eb82b76"><span class="id" title="binder">Σ</span></a> <a id="430f224abd2f2b0e5e3c40c291726803" class="idref" href="#430f224abd2f2b0e5e3c40c291726803"><span class="id" title="binder">Σ'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_strictly_on_decls"><span class="id" title="class">extends_strictly_on_decls</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#ab4371cf41d405f92c7f9c7d1eb82b76"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.merge_global_envs"><span class="id" title="definition">merge_global_envs</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#ab4371cf41d405f92c7f9c7d1eb82b76"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#430f224abd2f2b0e5e3c40c291726803"><span class="id" title="variable">Σ'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_strictly_on_decls"><span class="id" title="class">extends_strictly_on_decls</span></a>/<a class="idref" href="MetaRocq.Common.Environment.html#Environment.merge_global_envs"><span class="id" title="definition">merge_global_envs</span></a>/<a class="idref" href="MetaRocq.Common.Environment.html#Environment.merge_globals"><span class="id" title="definition">merge_globals</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">first</span> [ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#ContextSet.union_spec"><span class="id" title="definition">ContextSet.union_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extends_l_merge"><span class="id" title="lemma">Retroknowledge.extends_l_merge</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.strictly_extends_decls_l_merge_globals"><span class="id" title="lemma">strictly_extends_decls_l_merge_globals</span></a> ].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 0 (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_strictly_on_decls"><span class="id" title="class">extends_strictly_on_decls</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.merge_global_envs"><span class="id" title="definition">merge_global_envs</span></a> ?<span class="id" title="var">Σ</span> ?<span class="id" title="var">Σ'</span>)) ⇒ <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> (@<a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_strictly_on_decls_l_merge"><span class="id" title="lemma">extends_strictly_on_decls_l_merge</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Σ'</span>) : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.extends_l_merge" class="idref" href="#Environment.extends_l_merge"><span class="id" title="lemma">extends_l_merge</span></a> <a id="dcf172020ed7587215e246e9a220e523" class="idref" href="#dcf172020ed7587215e246e9a220e523"><span class="id" title="binder">Σ</span></a> <a id="8e1108fd395ca42675b12c15a69a327e" class="idref" href="#8e1108fd395ca42675b12c15a69a327e"><span class="id" title="binder">Σ'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends"><span class="id" title="class">extends</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#dcf172020ed7587215e246e9a220e523"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.merge_global_envs"><span class="id" title="definition">merge_global_envs</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#dcf172020ed7587215e246e9a220e523"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#8e1108fd395ca42675b12c15a69a327e"><span class="id" title="variable">Σ'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.declared_kername_set_spec" class="idref" href="#Environment.declared_kername_set_spec"><span class="id" title="lemma">declared_kername_set_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> <a id="8877546a324f24b33a0c6d2f99b69af3" class="idref" href="#8877546a324f24b33a0c6d2f99b69af3"><span class="id" title="binder">Σ</span></a> <a id="c:321" class="idref" href="#c:321"><span class="id" title="binder">c</span></a>, <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#c:321"><span class="id" title="variable">c</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.declared_kername_set"><span class="id" title="definition">declared_kername_set</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#8877546a324f24b33a0c6d2f99b69af3"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#c:321"><span class="id" title="variable">c</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#8877546a324f24b33a0c6d2f99b69af3"><span class="id" title="variable">Σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> ⇒ //=; <span class="id" title="tactic">try</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSetFact.empty_iff"><span class="id" title="lemma">KernameSetFact.empty_iff</span></a> ⇒ //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ [? ?] ? <span class="id" title="var">IH</span> <span class="id" title="var">c</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.add_spec"><span class="id" title="lemma">KernameSet.add_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.declared_kername_set_mem_iff" class="idref" href="#Environment.declared_kername_set_mem_iff"><span class="id" title="lemma">declared_kername_set_mem_iff</span></a> <a id="4d0883628eba86e4c49a7810b57b235c" class="idref" href="#4d0883628eba86e4c49a7810b57b235c"><span class="id" title="binder">Σ</span></a> <a id="c:323" class="idref" href="#c:323"><span class="id" title="binder">c</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#c:323"><span class="id" title="variable">c</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.declared_kername_set"><span class="id" title="definition">declared_kername_set</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#4d0883628eba86e4c49a7810b57b235c"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#c:323"><span class="id" title="variable">c</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#4d0883628eba86e4c49a7810b57b235c"><span class="id" title="variable">Σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSetFact.mem_iff"><span class="id" title="lemma">KernameSetFact.mem_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.declared_kername_set_spec"><span class="id" title="lemma">declared_kername_set_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.extends_r_merge_globals" class="idref" href="#Environment.extends_r_merge_globals"><span class="id" title="lemma">extends_r_merge_globals</span></a> <a id="67b0156cbaf42ad5cf0db72219186833" class="idref" href="#67b0156cbaf42ad5cf0db72219186833"><span class="id" title="binder">Σ</span></a> <a id="03c933cde5c0c40e568c0f3c3f4e3e2b" class="idref" href="#03c933cde5c0c40e568c0f3c3f4e3e2b"><span class="id" title="binder">Σ'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Environment.html#Environment.compatible_globals"><span class="id" title="definition">compatible_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#67b0156cbaf42ad5cf0db72219186833"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#03c933cde5c0c40e568c0f3c3f4e3e2b"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_decls_part_globals"><span class="id" title="abbreviation">extends_decls_part_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#03c933cde5c0c40e568c0f3c3f4e3e2b"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.merge_globals"><span class="id" title="definition">merge_globals</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#67b0156cbaf42ad5cf0db72219186833"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#03c933cde5c0c40e568c0f3c3f4e3e2b"><span class="id" title="variable">Σ'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Environment.html#Environment.merge_globals"><span class="id" title="definition">merge_globals</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H2</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cbv</span> [<a class="idref" href="MetaRocq.Common.Environment.html#Environment.compatible_globals"><span class="id" title="definition">compatible_globals</span></a>] <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <span class="id" title="var">c</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals_app"><span class="id" title="lemma">lookup_globals_app</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals_filter"><span class="id" title="lemma">lookup_globals_filter</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <span class="id" title="definition">eq_dec</span> <span class="id" title="var">c</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">Σ'</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">H'</span>|<span class="id" title="var">H'</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">∃</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> | <span class="id" title="tactic">∃</span> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals"><span class="id" title="definition">lookup_globals</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">c</span>) ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals_nil"><span class="id" title="lemma">lookup_globals_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> ?; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals_nil"><span class="id" title="lemma">lookup_globals_nil</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">c</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_globals_nil"><span class="id" title="lemma">lookup_globals_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.declared_kername_set_mem_iff"><span class="id" title="lemma">declared_kername_set_mem_iff</span></a> <span class="id" title="var">Σ</span>) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hc</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hc</span> ?<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> //=. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.extends_r_merge" class="idref" href="#Environment.extends_r_merge"><span class="id" title="lemma">extends_r_merge</span></a> <a id="4a71d8014be45b8930cc05a0c5ed961a" class="idref" href="#4a71d8014be45b8930cc05a0c5ed961a"><span class="id" title="binder">Σ</span></a> <a id="ddaea3c143cbb76f60d6cf2cfb805f53" class="idref" href="#ddaea3c143cbb76f60d6cf2cfb805f53"><span class="id" title="binder">Σ'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.Common.Environment.html#Environment.compatible"><span class="id" title="definition">compatible</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#4a71d8014be45b8930cc05a0c5ed961a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#ddaea3c143cbb76f60d6cf2cfb805f53"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends"><span class="id" title="class">extends</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#ddaea3c143cbb76f60d6cf2cfb805f53"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.merge_global_envs"><span class="id" title="definition">merge_global_envs</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#4a71d8014be45b8930cc05a0c5ed961a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#ddaea3c143cbb76f60d6cf2cfb805f53"><span class="id" title="variable">Σ'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends"><span class="id" title="class">extends</span></a>/<a class="idref" href="MetaRocq.Common.Environment.html#Environment.compatible"><span class="id" title="definition">compatible</span></a>/<a class="idref" href="MetaRocq.Common.Environment.html#Environment.merge_global_envs"><span class="id" title="definition">merge_global_envs</span></a>/<a class="idref" href="MetaRocq.Common.Environment.html#Environment.lookup_envs"><span class="id" title="definition">lookup_envs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">first</span> [ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#ContextSet.union_spec"><span class="id" title="definition">ContextSet.union_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.extends_r_merge"><span class="id" title="lemma">Retroknowledge.extends_r_merge</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.extends_r_merge_globals"><span class="id" title="lemma">extends_r_merge_globals</span></a> ].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.primitive_constant" class="idref" href="#Environment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> (<a id="f32db98b73c91639d2e862ef3ebecfa3" class="idref" href="#f32db98b73c91639d2e862ef3ebecfa3"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_env"><span class="id" title="record">global_env</span></a>) (<a id="p:329" class="idref" href="#p:329"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaRocq.Common.Primitive.html#prim_tag"><span class="id" title="inductive">prim_tag</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#p:329"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Common.Primitive.html#primInt"><span class="id" title="constructor">primInt</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#f32db98b73c91639d2e862ef3ebecfa3"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>).(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_int63"><span class="id" title="projection">Retroknowledge.retro_int63</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Common.Primitive.html#primFloat"><span class="id" title="constructor">primFloat</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#f32db98b73c91639d2e862ef3ebecfa3"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>).(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_float64"><span class="id" title="projection">Retroknowledge.retro_float64</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Common.Primitive.html#primString"><span class="id" title="constructor">primString</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#f32db98b73c91639d2e862ef3ebecfa3"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>).(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_string"><span class="id" title="projection">Retroknowledge.retro_string</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Common.Primitive.html#primArray"><span class="id" title="constructor">primArray</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#f32db98b73c91639d2e862ef3ebecfa3"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>).(<a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.retro_array"><span class="id" title="projection">Retroknowledge.retro_array</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.tImpl" class="idref" href="#Environment.tImpl"><span class="id" title="definition">tImpl</span></a> (<a id="dom:331" class="idref" href="#dom:331"><span class="id" title="binder">dom</span></a> <a id="codom:332" class="idref" href="#codom:332"><span class="id" title="binder">codom</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a>) : <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#T.tProd"><span class="id" title="axiom">tProd</span></a> {| <a class="idref" href="MetaRocq.Common.BasicAst.html#binder_name"><span class="id" title="projection">binder_name</span></a> := <a class="idref" href="MetaRocq.Common.BasicAst.html#nAnon"><span class="id" title="constructor">nAnon</span></a>; <a class="idref" href="MetaRocq.Common.BasicAst.html#binder_relevance"><span class="id" title="projection">binder_relevance</span></a> := <a class="idref" href="MetaRocq.Common.BasicAst.html#Relevant"><span class="id" title="constructor">Relevant</span></a> |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#dom:331"><span class="id" title="variable">dom</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#T.lift"><span class="id" title="axiom">lift</span></a> 1 0 <a class="idref" href="MetaRocq.Common.Environment.html#codom:332"><span class="id" title="variable">codom</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.array_uctx" class="idref" href="#Environment.array_uctx"><span class="id" title="definition">array_uctx</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaRocq.Common.BasicAst.html#nAnon"><span class="id" title="constructor">nAnon</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#ConstraintSet.empty"><span class="id" title="definition">ConstraintSet.empty</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.primitive_invariants" class="idref" href="#Environment.primitive_invariants"><span class="id" title="definition">primitive_invariants</span></a> (<a id="p:333" class="idref" href="#p:333"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaRocq.Common.Primitive.html#prim_tag"><span class="id" title="inductive">prim_tag</span></a>) (<a id="cdecl:334" class="idref" href="#cdecl:334"><span class="id" title="binder">cdecl</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.constant_body"><span class="id" title="record">constant_body</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#p:333"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Common.Primitive.html#primInt"><span class="id" title="constructor">primInt</span></a> | <a class="idref" href="MetaRocq.Common.Primitive.html#primFloat"><span class="id" title="constructor">primFloat</span></a> | <a class="idref" href="MetaRocq.Common.Primitive.html#primString"><span class="id" title="constructor">primString</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">[/\</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#cdecl:334"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cst_type"><span class="id" title="projection">cst_type</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.tSort"><span class="id" title="axiom">tSort</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Sort.type0"><span class="id" title="definition">Sort.type0</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#cdecl:334"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cst_body"><span class="id" title="projection">cst_body</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#cdecl:334"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cst_universes"><span class="id" title="projection">cst_universes</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Monomorphic_ctx"><span class="id" title="constructor">Monomorphic_ctx</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Common.Primitive.html#primArray"><span class="id" title="constructor">primArray</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="s:336" class="idref" href="#s:336"><span class="id" title="binder">s</span></a> := <a class="idref" href="MetaRocq.Common.Universes.html#sType"><span class="id" title="abbreviation">sType</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Universe.make'"><span class="id" title="definition">Universe.make'</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a> 0)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">[/\</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#cdecl:334"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cst_type"><span class="id" title="projection">cst_type</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.tImpl"><span class="id" title="definition">tImpl</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#T.tSort"><span class="id" title="axiom">tSort</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#s:336"><span class="id" title="variable">s</span></a>) (<a class="idref" href="MetaRocq.Common.Environment.html#T.tSort"><span class="id" title="axiom">tSort</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#s:336"><span class="id" title="variable">s</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#cdecl:334"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cst_body"><span class="id" title="projection">cst_body</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#cdecl:334"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.cst_universes"><span class="id" title="projection">cst_universes</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Polymorphic_ctx"><span class="id" title="constructor">Polymorphic_ctx</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.array_uctx"><span class="id" title="definition">array_uctx</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
A context of global declarations + global universe constraints,
      i.e. a global environment 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.global_env_ext" class="idref" href="#Environment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a> : <span class="id" title="keyword">Type</span> := <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_env"><span class="id" title="record">global_env</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#universes_decl"><span class="id" title="inductive">universes_decl</span></a>.<br/>

<br/>
</div>

<div class="doc">
Use a coercion for this common projection of the global context. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.fst_ctx" class="idref" href="#Environment.fst_ctx"><span class="id" title="definition">fst_ctx</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_env"><span class="id" title="record">global_env</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.fst_ctx"><span class="id" title="definition">fst_ctx</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.fst_ctx"><span class="id" title="definition">:</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.fst_ctx"><span class="id" title="definition">global_env_ext</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.fst_ctx"><span class="id" title="definition">&gt;-&gt;</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.fst_ctx"><span class="id" title="definition">global_env</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.empty_ext" class="idref" href="#Environment.empty_ext"><span class="id" title="definition">empty_ext</span></a> (<a id="d0cb65222dbfb10a28aa5132b66ab05b" class="idref" href="#d0cb65222dbfb10a28aa5132b66ab05b"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_env"><span class="id" title="record">global_env</span></a>) : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Environment.html#d0cb65222dbfb10a28aa5132b66ab05b"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Monomorphic_ctx"><span class="id" title="constructor">Monomorphic_ctx</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab4"></a><h3 class="section">Programs</h3>


<div class="paragraph"> </div>

    A set of declarations and a term, as produced by <span class="inlinecode"><span class="id" title="var">MetaRocq</span></span> <span class="inlinecode"><span class="id" title="var">Quote</span></span> <span class="inlinecode"><span class="id" title="var">Recursively</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.program" class="idref" href="#Environment.program"><span class="id" title="definition">program</span></a> : <span class="id" title="keyword">Type</span> := <a class="idref" href="MetaRocq.Common.Environment.html#Environment.global_env"><span class="id" title="record">global_env</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a>.<br/>

<br/>
</div>

<div class="doc">
Make a lambda/let-in string of abstractions from a context <span class="inlinecode"><span class="id" title="var">Γ</span></span>, ending with term <span class="inlinecode"><span class="id" title="var">t</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.mkLambda_or_LetIn" class="idref" href="#Environment.mkLambda_or_LetIn"><span class="id" title="definition">mkLambda_or_LetIn</span></a> <a id="d:338" class="idref" href="#d:338"><span class="id" title="binder">d</span></a> <a id="t:339" class="idref" href="#t:339"><span class="id" title="binder">t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#d:338"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#T.tLambda"><span class="id" title="axiom">tLambda</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d:338"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#d:338"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#t:339"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">b</span> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#T.tLetIn"><span class="id" title="axiom">tLetIn</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d:338"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a>) <span class="id" title="var">b</span> <a class="idref" href="MetaRocq.Common.Environment.html#d:338"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#t:339"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.it_mkLambda_or_LetIn" class="idref" href="#Environment.it_mkLambda_or_LetIn"><span class="id" title="definition">it_mkLambda_or_LetIn</span></a> (<a id="l:340" class="idref" href="#l:340"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a>) (<a id="t:341" class="idref" href="#t:341"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#fold_left"><span class="id" title="definition">List.fold_left</span></a> (<span class="id" title="keyword">fun</span> <a id="acc:342" class="idref" href="#acc:342"><span class="id" title="binder">acc</span></a> <a id="d:343" class="idref" href="#d:343"><span class="id" title="binder">d</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#Environment.mkLambda_or_LetIn"><span class="id" title="definition">mkLambda_or_LetIn</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d:343"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#acc:342"><span class="id" title="variable">acc</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#l:340"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t:341"><span class="id" title="variable">t</span></a>.<br/>

<br/>
</div>

<div class="doc">
Make a prod/let-in string of abstractions from a context <span class="inlinecode"><span class="id" title="var">Γ</span></span>, ending with term <span class="inlinecode"><span class="id" title="var">t</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.mkProd_or_LetIn" class="idref" href="#Environment.mkProd_or_LetIn"><span class="id" title="definition">mkProd_or_LetIn</span></a> <a id="d:344" class="idref" href="#d:344"><span class="id" title="binder">d</span></a> <a id="t:345" class="idref" href="#t:345"><span class="id" title="binder">t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#d:344"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#T.tProd"><span class="id" title="axiom">tProd</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d:344"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#d:344"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#t:345"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">b</span> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#T.tLetIn"><span class="id" title="axiom">tLetIn</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d:344"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a>) <span class="id" title="var">b</span> <a class="idref" href="MetaRocq.Common.Environment.html#d:344"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#t:345"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.it_mkProd_or_LetIn" class="idref" href="#Environment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> (<a id="l:346" class="idref" href="#l:346"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a>) (<a id="t:347" class="idref" href="#t:347"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#fold_left"><span class="id" title="definition">List.fold_left</span></a> (<span class="id" title="keyword">fun</span> <a id="acc:348" class="idref" href="#acc:348"><span class="id" title="binder">acc</span></a> <a id="d:349" class="idref" href="#d:349"><span class="id" title="binder">d</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#Environment.mkProd_or_LetIn"><span class="id" title="definition">mkProd_or_LetIn</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d:349"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#acc:348"><span class="id" title="variable">acc</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#l:346"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t:347"><span class="id" title="variable">t</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.it_mkProd_or_LetIn_app" class="idref" href="#Environment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a> <a id="l:350" class="idref" href="#l:350"><span class="id" title="binder">l</span></a> <a id="l':351" class="idref" href="#l':351"><span class="id" title="binder">l'</span></a> <a id="t:352" class="idref" href="#t:352"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#l:350"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#l':351"><span class="id" title="variable">l'</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#t:352"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#l':351"><span class="id" title="variable">l'</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#l:350"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t:352"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span>, <span class="id" title="var">t</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="Environment.reln" class="idref" href="#Environment.reln"><span class="id" title="definition">reln</span></a> (<a id="l:353" class="idref" href="#l:353"><span class="id" title="binder">l</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a>) (<a id="p:354" class="idref" href="#p:354"><span class="id" title="binder">p</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="a529f756e29acebe5e7f5ff9e65f2627" class="idref" href="#a529f756e29acebe5e7f5ff9e65f2627"><span class="id" title="binder">Γ0</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_decl"><span class="id" title="abbreviation">context_decl</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">Γ0</span>} : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#a529f756e29acebe5e7f5ff9e65f2627"><span class="id" title="variable">Γ0</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#l:353"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| {| <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> |} <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">hyps</span> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#reln:356"><span class="id" title="definition">reln</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#l:353"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#p:354"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <span class="id" title="var">hyps</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| {| <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> |} <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">hyps</span> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#reln:356"><span class="id" title="definition">reln</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#T.tRel"><span class="id" title="axiom">tRel</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#p:354"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#l:353"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MetaRocq.Common.Environment.html#p:354"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <span class="id" title="var">hyps</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.to_extended_list_k" class="idref" href="#Environment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a> <a id="4df62c979e3abd2ab398ba933d53992f" class="idref" href="#4df62c979e3abd2ab398ba933d53992f"><span class="id" title="binder">Γ</span></a> <a id="k:359" class="idref" href="#k:359"><span class="id" title="binder">k</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#Environment.reln"><span class="id" title="definition">reln</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:359"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#4df62c979e3abd2ab398ba933d53992f"><span class="id" title="variable">Γ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.to_extended_list" class="idref" href="#Environment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a> <a id="c33bed169a5c5284844fe9a66a755ce5" class="idref" href="#c33bed169a5c5284844fe9a66a755ce5"><span class="id" title="binder">Γ</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#Environment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#c33bed169a5c5284844fe9a66a755ce5"><span class="id" title="variable">Γ</span></a> 0.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.reln_fold" class="idref" href="#Environment.reln_fold"><span class="id" title="lemma">reln_fold</span></a> <a id="f:361" class="idref" href="#f:361"><span class="id" title="binder">f</span></a> <a id="ctx:362" class="idref" href="#ctx:362"><span class="id" title="binder">ctx</span></a> <a id="n:363" class="idref" href="#n:363"><span class="id" title="binder">n</span></a> <a id="acc:364" class="idref" href="#acc:364"><span class="id" title="binder">acc</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.reln"><span class="id" title="definition">reln</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#acc:364"><span class="id" title="variable">acc</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:363"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f:361"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#ctx:362"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.reln"><span class="id" title="definition">reln</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#acc:364"><span class="id" title="variable">acc</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:363"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#ctx:362"><span class="id" title="variable">ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ctx</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">ctx</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>, <span class="id" title="var">acc</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k_snoc0"><span class="id" title="lemma">fold_context_k_snoc0</span></a> /=; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHctx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.reln_list_lift_above" class="idref" href="#Environment.reln_list_lift_above"><span class="id" title="lemma">reln_list_lift_above</span></a> <a id="l:365" class="idref" href="#l:365"><span class="id" title="binder">l</span></a> <a id="p:366" class="idref" href="#p:366"><span class="id" title="binder">p</span></a> <a id="60ae0d3c858d79cb126ad17ae7dde48a" class="idref" href="#60ae0d3c858d79cb126ad17ae7dde48a"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:368" class="idref" href="#x:368"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="n:369" class="idref" href="#n:369"><span class="id" title="binder">n</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#x:368"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.tRel"><span class="id" title="axiom">tRel</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:369"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#p:366"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:369"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:369"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#p:366"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#60ae0d3c858d79cb126ad17ae7dde48a"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#l:365"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:370" class="idref" href="#x:370"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="n:371" class="idref" href="#n:371"><span class="id" title="binder">n</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#x:370"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.tRel"><span class="id" title="axiom">tRel</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:371"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#p:366"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:371"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:371"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#p:366"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#60ae0d3c858d79cb126ad17ae7dde48a"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.reln"><span class="id" title="definition">reln</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#l:365"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#p:366"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#60ae0d3c858d79cb126ad17ae7dde48a"><span class="id" title="variable">Γ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.le_refl"><span class="id" title="lemma">Nat.le_refl</span></a> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">p</span> <span class="id" title="tactic">at</span> 1 3 5.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>, <span class="id" title="var">l</span> |- ×. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">decl_body</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">p0</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHΓ</span> <span class="id" title="var">l</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">p0</span> <span class="id" title="var">H1</span>). <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_succ_comm"><span class="id" title="lemma">Nat.add_succ_comm</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_succ_comm"><span class="id" title="lemma">Nat.add_succ_comm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHΓ</span> (<a class="idref" href="MetaRocq.Common.Environment.html#T.tRel"><span class="id" title="axiom">tRel</span></a> <span class="id" title="var">p</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">p0</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">lia</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_succ_comm"><span class="id" title="lemma">Nat.add_succ_comm</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHΓ</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_succ_comm"><span class="id" title="lemma">Nat.add_succ_comm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.to_extended_list_k_spec" class="idref" href="#Environment.to_extended_list_k_spec"><span class="id" title="lemma">to_extended_list_k_spec</span></a> <a id="bdc2c2e16590b1f532b9d79f672a85a0" class="idref" href="#bdc2c2e16590b1f532b9d79f672a85a0"><span class="id" title="binder">Γ</span></a> <a id="k:373" class="idref" href="#k:373"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:374" class="idref" href="#x:374"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="n:375" class="idref" href="#n:375"><span class="id" title="binder">n</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#x:374"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.tRel"><span class="id" title="axiom">tRel</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:375"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:373"><span class="id" title="variable">k</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:375"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:375"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:373"><span class="id" title="variable">k</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#bdc2c2e16590b1f532b9d79f672a85a0"><span class="id" title="variable">Γ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#bdc2c2e16590b1f532b9d79f672a85a0"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:373"><span class="id" title="variable">k</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.reln_list_lift_above"><span class="id" title="lemma">reln_list_lift_above</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">k</span> <span class="id" title="var">Γ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.to_extended_list_lift_above" class="idref" href="#Environment.to_extended_list_lift_above"><span class="id" title="lemma">to_extended_list_lift_above</span></a> <a id="61b10952e4476c102e8165da3ff793a4" class="idref" href="#61b10952e4476c102e8165da3ff793a4"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:377" class="idref" href="#x:377"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="n:378" class="idref" href="#n:378"><span class="id" title="binder">n</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#x:377"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.tRel"><span class="id" title="axiom">tRel</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:378"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:378"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#61b10952e4476c102e8165da3ff793a4"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#61b10952e4476c102e8165da3ff793a4"><span class="id" title="variable">Γ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.reln_list_lift_above"><span class="id" title="lemma">reln_list_lift_above</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> 0 <span class="id" title="var">Γ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_impl"><span class="id" title="lemma">Forall_impl</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="Environment.reln_alt" class="idref" href="#Environment.reln_alt"><span class="id" title="definition">reln_alt</span></a> <a id="p:379" class="idref" href="#p:379"><span class="id" title="binder">p</span></a> (<a id="823aa2ce5f2ccb6fc55b260845d5e0dd" class="idref" href="#823aa2ce5f2ccb6fc55b260845d5e0dd"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#823aa2ce5f2ccb6fc55b260845d5e0dd"><span class="id" title="variable">Γ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| {| <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> |} <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#reln_alt:381"><span class="id" title="definition">reln_alt</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#p:379"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <a class="idref" href="MetaRocq.Common.Environment.html#823aa2ce5f2ccb6fc55b260845d5e0dd"><span class="id" title="variable">Γ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| {| <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> |} <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#T.tRel"><span class="id" title="axiom">tRel</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#p:379"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#reln_alt:381"><span class="id" title="definition">reln_alt</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#p:379"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <a class="idref" href="MetaRocq.Common.Environment.html#823aa2ce5f2ccb6fc55b260845d5e0dd"><span class="id" title="variable">Γ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.reln_alt_eq" class="idref" href="#Environment.reln_alt_eq"><span class="id" title="lemma">reln_alt_eq</span></a> <a id="l:383" class="idref" href="#l:383"><span class="id" title="binder">l</span></a> <a id="f165e96a5b788706f02cafde7cd19824" class="idref" href="#f165e96a5b788706f02cafde7cd19824"><span class="id" title="binder">Γ</span></a> <a id="k:385" class="idref" href="#k:385"><span class="id" title="binder">k</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.reln"><span class="id" title="definition">reln</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#l:383"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:385"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f165e96a5b788706f02cafde7cd19824"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.reln_alt"><span class="id" title="definition">reln_alt</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:385"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f165e96a5b788706f02cafde7cd19824"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#l:383"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>, <span class="id" title="var">k</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">body</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span> -<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.to_extended_list_k_cons" class="idref" href="#Environment.to_extended_list_k_cons"><span class="id" title="lemma">to_extended_list_k_cons</span></a> <a id="d:386" class="idref" href="#d:386"><span class="id" title="binder">d</span></a> <a id="4252f0e0fc9c300d98c0e3eaff8a2435" class="idref" href="#4252f0e0fc9c300d98c0e3eaff8a2435"><span class="id" title="binder">Γ</span></a> <a id="k:388" class="idref" href="#k:388"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#d:386"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#4252f0e0fc9c300d98c0e3eaff8a2435"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#k:388"><span class="id" title="variable">k</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#d:386"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#Environment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#4252f0e0fc9c300d98c0e3eaff8a2435"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:388"><span class="id" title="variable">k</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaRocq.Common.Environment.html#T.tRel"><span class="id" title="axiom">tRel</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:388"><span class="id" title="variable">k</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">b</span> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#Environment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#4252f0e0fc9c300d98c0e3eaff8a2435"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:388"><span class="id" title="variable">k</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.reln_alt_eq"><span class="id" title="lemma">reln_alt_eq</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">body</span>|] <span class="id" title="var">ty</span>]. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.reln_alt_eq"><span class="id" title="lemma">reln_alt_eq</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.reln_alt_eq"><span class="id" title="lemma">reln_alt_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>, !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.arities_context" class="idref" href="#Environment.arities_context"><span class="id" title="definition">arities_context</span></a> (<a id="l:389" class="idref" href="#l:389"><span class="id" title="binder">l</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#rev_map"><span class="id" title="definition">rev_map</span></a> (<span class="id" title="keyword">fun</span> <a id="ind:390" class="idref" href="#ind:390"><span class="id" title="binder">ind</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#Environment.vass"><span class="id" title="definition">vass</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#mkBindAnn"><span class="id" title="constructor">mkBindAnn</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#nNamed"><span class="id" title="constructor">nNamed</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#ind:390"><span class="id" title="variable">ind</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.ind_name"><span class="id" title="projection">ind_name</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Environment.html#ind:390"><span class="id" title="variable">ind</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.ind_relevance"><span class="id" title="projection">ind_relevance</span></a>))) <a class="idref" href="MetaRocq.Common.Environment.html#ind:390"><span class="id" title="variable">ind</span></a>.(<a class="idref" href="MetaRocq.Common.Environment.html#Environment.ind_type"><span class="id" title="projection">ind_type</span></a>)) <a class="idref" href="MetaRocq.Common.Environment.html#l:389"><span class="id" title="variable">l</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.arities_context_length" class="idref" href="#Environment.arities_context_length"><span class="id" title="lemma">arities_context_length</span></a> <a id="l:391" class="idref" href="#l:391"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#Environment.arities_context"><span class="id" title="definition">arities_context</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#l:391"><span class="id" title="variable">l</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#l:391"><span class="id" title="variable">l</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.arities_context"><span class="id" title="definition">arities_context</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#length_rev_map"><span class="id" title="lemma">length_rev_map</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.arities_context_length"><span class="id" title="lemma">arities_context_length</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.map_mutual_inductive_body" class="idref" href="#Environment.map_mutual_inductive_body"><span class="id" title="definition">map_mutual_inductive_body</span></a> <a id="f:392" class="idref" href="#f:392"><span class="id" title="binder">f</span></a> <a id="m:393" class="idref" href="#m:393"><span class="id" title="binder">m</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#m:393"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Common.Environment.html#Environment.Build_mutual_inductive_body"><span class="id" title="constructor">Build_mutual_inductive_body</span></a> <span class="id" title="var">finite</span> <span class="id" title="var">ind_npars</span> <span class="id" title="var">ind_pars</span> <span class="id" title="var">ind_bodies</span> <span class="id" title="var">ind_universes</span> <span class="id" title="var">ind_variance</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="arities:395" class="idref" href="#arities:395"><span class="id" title="binder">arities</span></a> := <a class="idref" href="MetaRocq.Common.Environment.html#Environment.arities_context"><span class="id" title="definition">arities_context</span></a> <span class="id" title="var">ind_bodies</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="pars:396" class="idref" href="#pars:396"><span class="id" title="binder">pars</span></a> := <a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f:392"><span class="id" title="variable">f</span></a> <span class="id" title="var">ind_pars</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.Build_mutual_inductive_body"><span class="id" title="constructor">Build_mutual_inductive_body</span></a> <span class="id" title="var">finite</span> <span class="id" title="var">ind_npars</span> <a class="idref" href="MetaRocq.Common.Environment.html#pars:396"><span class="id" title="variable">pars</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.map_one_inductive_body"><span class="id" title="definition">map_one_inductive_body</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#pars:396"><span class="id" title="variable">pars</span></a>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#arities:395"><span class="id" title="variable">arities</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#f:392"><span class="id" title="variable">f</span></a>) <span class="id" title="var">ind_bodies</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ind_universes</span> <span class="id" title="var">ind_variance</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.ind_type_map" class="idref" href="#Environment.ind_type_map"><span class="id" title="lemma">ind_type_map</span></a> <a id="f:397" class="idref" href="#f:397"><span class="id" title="binder">f</span></a> <a id="npars_ass:398" class="idref" href="#npars_ass:398"><span class="id" title="binder">npars_ass</span></a> <a id="arities:399" class="idref" href="#arities:399"><span class="id" title="binder">arities</span></a> <a id="oib:400" class="idref" href="#oib:400"><span class="id" title="binder">oib</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.ind_type"><span class="id" title="projection">ind_type</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.map_one_inductive_body"><span class="id" title="definition">map_one_inductive_body</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#npars_ass:398"><span class="id" title="variable">npars_ass</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#arities:399"><span class="id" title="variable">arities</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f:397"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#oib:400"><span class="id" title="variable">oib</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f:397"><span class="id" title="variable">f</span></a> 0 (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.ind_type"><span class="id" title="projection">ind_type</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#oib:400"><span class="id" title="variable">oib</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">oib</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.ind_ctors_map" class="idref" href="#Environment.ind_ctors_map"><span class="id" title="lemma">ind_ctors_map</span></a> <a id="f:401" class="idref" href="#f:401"><span class="id" title="binder">f</span></a> <a id="npars_ass:402" class="idref" href="#npars_ass:402"><span class="id" title="binder">npars_ass</span></a> <a id="arities:403" class="idref" href="#arities:403"><span class="id" title="binder">arities</span></a> <a id="oib:404" class="idref" href="#oib:404"><span class="id" title="binder">oib</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.map_one_inductive_body"><span class="id" title="definition">map_one_inductive_body</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#npars_ass:402"><span class="id" title="variable">npars_ass</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#arities:403"><span class="id" title="variable">arities</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f:401"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#oib:404"><span class="id" title="variable">oib</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.map_constructor_body"><span class="id" title="definition">map_constructor_body</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#npars_ass:402"><span class="id" title="variable">npars_ass</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#arities:403"><span class="id" title="variable">arities</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f:401"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#oib:404"><span class="id" title="variable">oib</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">oib</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.ind_pars_map" class="idref" href="#Environment.ind_pars_map"><span class="id" title="lemma">ind_pars_map</span></a> <a id="f:405" class="idref" href="#f:405"><span class="id" title="binder">f</span></a> <a id="m:406" class="idref" href="#m:406"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.ind_params"><span class="id" title="projection">ind_params</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.map_mutual_inductive_body"><span class="id" title="definition">map_mutual_inductive_body</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f:405"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#m:406"><span class="id" title="variable">m</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f:405"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#m:406"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.ind_projs_map" class="idref" href="#Environment.ind_projs_map"><span class="id" title="lemma">ind_projs_map</span></a> <a id="f:407" class="idref" href="#f:407"><span class="id" title="binder">f</span></a> <a id="npars_ass:408" class="idref" href="#npars_ass:408"><span class="id" title="binder">npars_ass</span></a> <a id="arities:409" class="idref" href="#arities:409"><span class="id" title="binder">arities</span></a> <a id="oib:410" class="idref" href="#oib:410"><span class="id" title="binder">oib</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.ind_projs"><span class="id" title="projection">ind_projs</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.map_one_inductive_body"><span class="id" title="definition">map_one_inductive_body</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#npars_ass:408"><span class="id" title="variable">npars_ass</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#arities:409"><span class="id" title="variable">arities</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f:407"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#oib:410"><span class="id" title="variable">oib</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.map_projection_body"><span class="id" title="definition">map_projection_body</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#npars_ass:408"><span class="id" title="variable">npars_ass</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f:407"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.ind_projs"><span class="id" title="projection">ind_projs</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#oib:410"><span class="id" title="variable">oib</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">oib</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="Environment.projs" class="idref" href="#Environment.projs"><span class="id" title="definition">projs</span></a> <a id="ind:411" class="idref" href="#ind:411"><span class="id" title="binder">ind</span></a> <a id="npars:412" class="idref" href="#npars:412"><span class="id" title="binder">npars</span></a> <a id="k:413" class="idref" href="#k:413"><span class="id" title="binder">k</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Environment.html#k:413"><span class="id" title="variable">k</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k'</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Environment.html#T.tProj"><span class="id" title="axiom">tProj</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#mkProjection"><span class="id" title="constructor">mkProjection</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#ind:411"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#npars:412"><span class="id" title="variable">npars</span></a> <span class="id" title="var">k'</span>) (<a class="idref" href="MetaRocq.Common.Environment.html#T.tRel"><span class="id" title="axiom">tRel</span></a> 0)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#projs:414"><span class="id" title="definition">projs</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#ind:411"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#npars:412"><span class="id" title="variable">npars</span></a> <span class="id" title="var">k'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.projs_length" class="idref" href="#Environment.projs_length"><span class="id" title="lemma">projs_length</span></a> <a id="ind:416" class="idref" href="#ind:416"><span class="id" title="binder">ind</span></a> <a id="npars:417" class="idref" href="#npars:417"><span class="id" title="binder">npars</span></a> <a id="k:418" class="idref" href="#k:418"><span class="id" title="binder">k</span></a> : <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#Environment.projs"><span class="id" title="definition">projs</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#ind:416"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#npars:417"><span class="id" title="variable">npars</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:418"><span class="id" title="variable">k</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:418"><span class="id" title="variable">k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.context_assumptions_fold" class="idref" href="#Environment.context_assumptions_fold"><span class="id" title="lemma">context_assumptions_fold</span></a> <a id="182081a3d26401167eb6aef97e63e86e" class="idref" href="#182081a3d26401167eb6aef97e63e86e"><span class="id" title="binder">Γ</span></a> <a id="f:420" class="idref" href="#f:420"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f:420"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#182081a3d26401167eb6aef97e63e86e"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#182081a3d26401167eb6aef97e63e86e"><span class="id" title="variable">Γ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k_alt"><span class="id" title="lemma">fold_context_k_alt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Utils.MRList.html#mapi"><span class="id" title="definition">mapi</span></a>. <span class="id" title="tactic">generalize</span> 0 (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.pred"><span class="id" title="definition">Nat.pred</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">body</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">tl</span>]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions_fold"><span class="id" title="lemma">context_assumptions_fold</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.nth_error_fold_context_k" class="idref" href="#Environment.nth_error_fold_context_k"><span class="id" title="lemma">nth_error_fold_context_k</span></a> (<a id="f:421" class="idref" href="#f:421"><span class="id" title="binder">f</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="f431b8ce6ac05a7a1b822ffa00715958" class="idref" href="#f431b8ce6ac05a7a1b822ffa00715958"><span class="id" title="binder">Γ'</span></a> <a id="347bcac6ffe87b4349041b851e7c3e91" class="idref" href="#347bcac6ffe87b4349041b851e7c3e91"><span class="id" title="binder">Γ''</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a>) (<a id="v:424" class="idref" href="#v:424"><span class="id" title="binder">v</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#v:424"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f431b8ce6ac05a7a1b822ffa00715958"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="nth:425" class="idref" href="#nth:425"><span class="id" title="binder">nth</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f431b8ce6ac05a7a1b822ffa00715958"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#v:424"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#nth:425"><span class="id" title="variable">nth</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f:421"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f431b8ce6ac05a7a1b822ffa00715958"><span class="id" title="variable">Γ'</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#v:424"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#f:421"><span class="id" title="variable">f</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f431b8ce6ac05a7a1b822ffa00715958"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#v:424"><span class="id" title="variable">v</span></a>)) <a class="idref" href="MetaRocq.Common.Environment.html#nth:425"><span class="id" title="variable">nth</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ'</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k_snoc0"><span class="id" title="lemma">fold_context_k_snoc0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHΓ'</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; (<span class="id" title="var">lia</span> || <span class="id" title="tactic">congruence</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.nth_error_fold_context_k_eq" class="idref" href="#Environment.nth_error_fold_context_k_eq"><span class="id" title="lemma">nth_error_fold_context_k_eq</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="7e3da72d45d2bc50b02d04c8b863d113" class="idref" href="#7e3da72d45d2bc50b02d04c8b863d113"><span class="id" title="binder">Γ'</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a>) (<a id="v:427" class="idref" href="#v:427"><span class="id" title="binder">v</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="f:428" class="idref" href="#f:428"><span class="id" title="binder">f</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f:428"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#7e3da72d45d2bc50b02d04c8b863d113"><span class="id" title="variable">Γ'</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#v:427"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#f:428"><span class="id" title="variable">f</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#7e3da72d45d2bc50b02d04c8b863d113"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#v:427"><span class="id" title="variable">v</span></a>))) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#7e3da72d45d2bc50b02d04c8b863d113"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#v:427"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ'</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a>; <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_nil"><span class="id" title="lemma">nth_error_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k_snoc0"><span class="id" title="lemma">fold_context_k_snoc0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHΓ'</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; (<span class="id" title="var">lia</span> || <span class="id" title="tactic">congruence</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.nth_error_ge" class="idref" href="#Environment.nth_error_ge"><span class="id" title="lemma">nth_error_ge</span></a> {<a id="bbc8dc0cb6ec16e86396d2320ba50f91" class="idref" href="#bbc8dc0cb6ec16e86396d2320ba50f91"><span class="id" title="binder">Γ</span></a> <a id="fff0faf8e00603c7fd59e07625367f4b" class="idref" href="#fff0faf8e00603c7fd59e07625367f4b"><span class="id" title="binder">Γ'</span></a> <a id="v:431" class="idref" href="#v:431"><span class="id" title="binder">v</span></a> <a id="d806076daae4c30eb15931819f97304c" class="idref" href="#d806076daae4c30eb15931819f97304c"><span class="id" title="binder">Γ''</span></a>} (<a id="f:433" class="idref" href="#f:433"><span class="id" title="binder">f</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#fff0faf8e00603c7fd59e07625367f4b"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#v:431"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#fff0faf8e00603c7fd59e07625367f4b"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#bbc8dc0cb6ec16e86396d2320ba50f91"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#v:431"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f:433"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#fff0faf8e00603c7fd59e07625367f4b"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d806076daae4c30eb15931819f97304c"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#bbc8dc0cb6ec16e86396d2320ba50f91"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d806076daae4c30eb15931819f97304c"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#v:431"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> → !<a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_app_ge"><span class="id" title="lemma">nth_error_app_ge</span></a>, ?<a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k_length"><span class="id" title="lemma">fold_context_k_length</span></a>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k_length"><span class="id" title="lemma">fold_context_k_length</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k_length"><span class="id" title="lemma">fold_context_k_length</span></a>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.nth_error_lt" class="idref" href="#Environment.nth_error_lt"><span class="id" title="lemma">nth_error_lt</span></a> {<a id="9222df8a7b8c6f516746a41ebac1d389" class="idref" href="#9222df8a7b8c6f516746a41ebac1d389"><span class="id" title="binder">Γ</span></a> <a id="bc684aac2519be5c672700d32fc2a3e1" class="idref" href="#bc684aac2519be5c672700d32fc2a3e1"><span class="id" title="binder">Γ'</span></a> <a id="30168899de9156441cf64b30f8f8f756" class="idref" href="#30168899de9156441cf64b30f8f8f756"><span class="id" title="binder">Γ''</span></a> <a id="v:437" class="idref" href="#v:437"><span class="id" title="binder">v</span></a>} (<a id="f:438" class="idref" href="#f:438"><span class="id" title="binder">f</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#v:437"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#bc684aac2519be5c672700d32fc2a3e1"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f:438"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#bc684aac2519be5c672700d32fc2a3e1"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#30168899de9156441cf64b30f8f8f756"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#9222df8a7b8c6f516746a41ebac1d389"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#v:437"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#f:438"><span class="id" title="variable">f</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#bc684aac2519be5c672700d32fc2a3e1"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#v:437"><span class="id" title="variable">v</span></a>))) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#bc684aac2519be5c672700d32fc2a3e1"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#9222df8a7b8c6f516746a41ebac1d389"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Common.Environment.html#v:437"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> → !<a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_app_lt"><span class="id" title="lemma">nth_error_app_lt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.nth_error_fold_context_k_eq"><span class="id" title="lemma">nth_error_fold_context_k_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#fold_context_k_length"><span class="id" title="lemma">fold_context_k_length</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.context_assumptions_length_bound" class="idref" href="#Environment.context_assumptions_length_bound"><span class="id" title="lemma">context_assumptions_length_bound</span></a> <a id="cd0143433fe7737571c578347b4ca798" class="idref" href="#cd0143433fe7737571c578347b4ca798"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#cd0143433fe7737571c578347b4ca798"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Environment.html#cd0143433fe7737571c578347b4ca798"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [? [?|] ?]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.context_assumptions_map" class="idref" href="#Environment.context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a> <a id="f:440" class="idref" href="#f:440"><span class="id" title="binder">f</span></a> <a id="d9fd27b6f071c9d27c2d528a3b3a3b99" class="idref" href="#d9fd27b6f071c9d27c2d528a3b3a3b99"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#f:440"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d9fd27b6f071c9d27c2d528a3b3a3b99"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d9fd27b6f071c9d27c2d528a3b3a3b99"><span class="id" title="variable">Γ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [|[? [?|] ?] ?]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.context_assumptions_app" class="idref" href="#Environment.context_assumptions_app"><span class="id" title="lemma">context_assumptions_app</span></a> <a id="a5f45efa0b31d084f580ce1f9b4a2685" class="idref" href="#a5f45efa0b31d084f580ce1f9b4a2685"><span class="id" title="binder">Γ</span></a> <a id="5bcf7b2216f89b4daa5823b124e04ae8" class="idref" href="#5bcf7b2216f89b4daa5823b124e04ae8"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#a5f45efa0b31d084f580ce1f9b4a2685"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#5bcf7b2216f89b4daa5823b124e04ae8"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#a5f45efa0b31d084f580ce1f9b4a2685"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#5bcf7b2216f89b4daa5823b124e04ae8"><span class="id" title="variable">Δ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [|[? [] ?] ?]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.context_assumptions_rev" class="idref" href="#Environment.context_assumptions_rev"><span class="id" title="lemma">context_assumptions_rev</span></a> <a id="3521a3b7148f925207ebb24918828702" class="idref" href="#3521a3b7148f925207ebb24918828702"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#3521a3b7148f925207ebb24918828702"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#3521a3b7148f925207ebb24918828702"><span class="id" title="variable">Γ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions_app"><span class="id" title="lemma">context_assumptions_app</span></a> <span class="id" title="var">IHΓ</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> <span class="id" title="var">a</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.context_assumptions_mapi" class="idref" href="#Environment.context_assumptions_mapi"><span class="id" title="lemma">context_assumptions_mapi</span></a> <a id="f:445" class="idref" href="#f:445"><span class="id" title="binder">f</span></a> <a id="5a5ce17fc249048e08148d136ea86e37" class="idref" href="#5a5ce17fc249048e08148d136ea86e37"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="i:447" class="idref" href="#i:447"><span class="id" title="binder">i</span></a> ⇒ <a class="idref" href="MetaRocq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#f:445"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#i:447"><span class="id" title="variable">i</span></a>)) <a class="idref" href="MetaRocq.Common.Environment.html#5a5ce17fc249048e08148d136ea86e37"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#5a5ce17fc249048e08148d136ea86e37"><span class="id" title="variable">Γ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Utils.MRList.html#mapi"><span class="id" title="definition">mapi</span></a>; <span class="id" title="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [? [<span class="id" title="var">b</span>|] ?]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions_mapi"><span class="id" title="lemma">context_assumptions_mapi</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions_app"><span class="id" title="lemma">context_assumptions_app</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.context_assumptions_subst_instance" class="idref" href="#Environment.context_assumptions_subst_instance"><span class="id" title="lemma">context_assumptions_subst_instance</span></a> <a id="u:448" class="idref" href="#u:448"><span class="id" title="binder">u</span></a> <a id="6552616fa39b717a1e3c55ad576eaf38" class="idref" href="#6552616fa39b717a1e3c55ad576eaf38"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#u:448"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#6552616fa39b717a1e3c55ad576eaf38"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#6552616fa39b717a1e3c55ad576eaf38"><span class="id" title="variable">Γ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.context_assumptions_subst_context" class="idref" href="#Environment.context_assumptions_subst_context"><span class="id" title="lemma">context_assumptions_subst_context</span></a> <a id="s:450" class="idref" href="#s:450"><span class="id" title="binder">s</span></a> <a id="k:451" class="idref" href="#k:451"><span class="id" title="binder">k</span></a> <a id="5f9b6a0c88de0744893e8d8e98a662d1" class="idref" href="#5f9b6a0c88de0744893e8d8e98a662d1"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#s:450"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:451"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#5f9b6a0c88de0744893e8d8e98a662d1"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#5f9b6a0c88de0744893e8d8e98a662d1"><span class="id" title="variable">Γ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions_fold"><span class="id" title="lemma">context_assumptions_fold</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.context_assumptions_lift_context" class="idref" href="#Environment.context_assumptions_lift_context"><span class="id" title="lemma">context_assumptions_lift_context</span></a> <a id="n:453" class="idref" href="#n:453"><span class="id" title="binder">n</span></a> <a id="k:454" class="idref" href="#k:454"><span class="id" title="binder">k</span></a> <a id="7c28713cb82329e194002a6db7c34a62" class="idref" href="#7c28713cb82329e194002a6db7c34a62"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#n:453"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#k:454"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#7c28713cb82329e194002a6db7c34a62"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#7c28713cb82329e194002a6db7c34a62"><span class="id" title="variable">Γ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions_fold"><span class="id" title="lemma">context_assumptions_fold</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions_subst_instance"><span class="id" title="lemma">context_assumptions_subst_instance</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions_subst_context"><span class="id" title="lemma">context_assumptions_subst_context</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_assumptions_lift_context"><span class="id" title="lemma">context_assumptions_lift_context</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
</div>

<div class="doc">
Lifting a relation to declarations, without alpha renaming. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="Environment.All_decls" class="idref" href="#Environment.All_decls"><span class="id" title="definition, inductive"><span id="Environment.All_decls_rect" class="id"><span id="Environment.All_decls_ind" class="id"><span id="Environment.All_decls_rec" class="id"><span id="Environment.All_decls_sind" class="id">All_decls</span></span></span></span></span></a> (<a id="P:456" class="idref" href="#P:456"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_decl"><span class="id" title="abbreviation">context_decl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_decl"><span class="id" title="abbreviation">context_decl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="Environment.on_vass" class="idref" href="#Environment.on_vass"><span class="id" title="constructor">on_vass</span></a> <a id="na:459" class="idref" href="#na:459"><span class="id" title="binder">na</span></a> <a id="t:460" class="idref" href="#t:460"><span class="id" title="binder">t</span></a> <a id="t':461" class="idref" href="#t':461"><span class="id" title="binder">t'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#P:456"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t:460"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t':461"><span class="id" title="variable">t'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#All_decls:457"><span class="id" title="inductive">All_decls</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#P:456"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#na:459"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t:460"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#na:459"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t':461"><span class="id" title="variable">t'</span></a>)<br/>
<br/>
&nbsp;&nbsp;| <a id="Environment.on_vdef" class="idref" href="#Environment.on_vdef"><span class="id" title="constructor">on_vdef</span></a> <a id="na:462" class="idref" href="#na:462"><span class="id" title="binder">na</span></a> <a id="b:463" class="idref" href="#b:463"><span class="id" title="binder">b</span></a> <a id="t:464" class="idref" href="#t:464"><span class="id" title="binder">t</span></a> <a id="b':465" class="idref" href="#b':465"><span class="id" title="binder">b'</span></a> <a id="t':466" class="idref" href="#t':466"><span class="id" title="binder">t'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#P:456"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#b:463"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#b':465"><span class="id" title="variable">b'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#P:456"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t:464"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t':466"><span class="id" title="variable">t'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#All_decls:457"><span class="id" title="inductive">All_decls</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#P:456"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.vdef"><span class="id" title="definition">vdef</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#na:462"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#b:463"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t:464"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.vdef"><span class="id" title="definition">vdef</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#na:462"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#b':465"><span class="id" title="variable">b'</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t':466"><span class="id" title="variable">t'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Derive</span> <span class="id" title="var">Signature</span> <span class="id" title="var">NoConfusion</span> <span class="id" title="keyword">for</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.All_decls"><span class="id" title="inductive">All_decls</span></a>.<br/>

<br/>
</div>

<div class="doc">
Allow alpha-renaming of binders 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="Environment.All_decls_alpha" class="idref" href="#Environment.All_decls_alpha"><span class="id" title="definition, inductive"><span id="Environment.All_decls_alpha_rect" class="id"><span id="Environment.All_decls_alpha_ind" class="id"><span id="Environment.All_decls_alpha_rec" class="id"><span id="Environment.All_decls_alpha_sind" class="id">All_decls_alpha</span></span></span></span></span></a> (<a id="P:467" class="idref" href="#P:467"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_decl"><span class="id" title="abbreviation">context_decl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_decl"><span class="id" title="abbreviation">context_decl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="Environment.on_vass_alpha" class="idref" href="#Environment.on_vass_alpha"><span class="id" title="constructor">on_vass_alpha</span></a> <a id="na:470" class="idref" href="#na:470"><span class="id" title="binder">na</span></a> <a id="na':471" class="idref" href="#na':471"><span class="id" title="binder">na'</span></a> <a id="t:472" class="idref" href="#t:472"><span class="id" title="binder">t</span></a> <a id="t':473" class="idref" href="#t':473"><span class="id" title="binder">t'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#na:470"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#na':471"><span class="id" title="variable">na'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#P:467"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t:472"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t':473"><span class="id" title="variable">t'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#All_decls_alpha:468"><span class="id" title="inductive">All_decls_alpha</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#P:467"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#na:470"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t:472"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#na':471"><span class="id" title="variable">na'</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t':473"><span class="id" title="variable">t'</span></a>)<br/>
<br/>
&nbsp;&nbsp;| <a id="Environment.on_vdef_alpha" class="idref" href="#Environment.on_vdef_alpha"><span class="id" title="constructor">on_vdef_alpha</span></a> <a id="na:474" class="idref" href="#na:474"><span class="id" title="binder">na</span></a> <a id="na':475" class="idref" href="#na':475"><span class="id" title="binder">na'</span></a> <a id="b:476" class="idref" href="#b:476"><span class="id" title="binder">b</span></a> <a id="t:477" class="idref" href="#t:477"><span class="id" title="binder">t</span></a> <a id="b':478" class="idref" href="#b':478"><span class="id" title="binder">b'</span></a> <a id="t':479" class="idref" href="#t':479"><span class="id" title="binder">t'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#na:474"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#na':475"><span class="id" title="variable">na'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#P:467"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#b:476"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#b':478"><span class="id" title="variable">b'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#P:467"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t:477"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t':479"><span class="id" title="variable">t'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#All_decls_alpha:468"><span class="id" title="inductive">All_decls_alpha</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#P:467"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.vdef"><span class="id" title="definition">vdef</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#na:474"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#b:476"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t:477"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.vdef"><span class="id" title="definition">vdef</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#na':475"><span class="id" title="variable">na'</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#b':478"><span class="id" title="variable">b'</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t':479"><span class="id" title="variable">t'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Derive</span> <span class="id" title="var">Signature</span> <span class="id" title="var">NoConfusion</span> <span class="id" title="keyword">for</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.All_decls_alpha"><span class="id" title="inductive">All_decls_alpha</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.All_decls_impl" class="idref" href="#Environment.All_decls_impl"><span class="id" title="lemma">All_decls_impl</span></a> (<a id="P:480" class="idref" href="#P:480"><span class="id" title="binder">P</span></a> <a id="Q:481" class="idref" href="#Q:481"><span class="id" title="binder">Q</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) <a id="d:482" class="idref" href="#d:482"><span class="id" title="binder">d</span></a> <a id="d':483" class="idref" href="#d':483"><span class="id" title="binder">d'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.All_decls"><span class="id" title="inductive">All_decls</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#P:480"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d:482"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d':483"><span class="id" title="variable">d'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="t:484" class="idref" href="#t:484"><span class="id" title="binder">t</span></a> <a id="t':485" class="idref" href="#t':485"><span class="id" title="binder">t'</span></a>, <a class="idref" href="MetaRocq.Common.Environment.html#P:480"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t:484"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t':485"><span class="id" title="variable">t'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Q:481"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t:484"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t':485"><span class="id" title="variable">t'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.All_decls"><span class="id" title="inductive">All_decls</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Q:481"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d:482"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d':483"><span class="id" title="variable">d'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ond</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">ond</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.All_decls_alpha_impl" class="idref" href="#Environment.All_decls_alpha_impl"><span class="id" title="lemma">All_decls_alpha_impl</span></a> (<a id="P:486" class="idref" href="#P:486"><span class="id" title="binder">P</span></a> <a id="Q:487" class="idref" href="#Q:487"><span class="id" title="binder">Q</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) <a id="d:488" class="idref" href="#d:488"><span class="id" title="binder">d</span></a> <a id="d':489" class="idref" href="#d':489"><span class="id" title="binder">d'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.All_decls_alpha"><span class="id" title="inductive">All_decls_alpha</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#P:486"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d:488"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d':489"><span class="id" title="variable">d'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="t:490" class="idref" href="#t:490"><span class="id" title="binder">t</span></a> <a id="t':491" class="idref" href="#t':491"><span class="id" title="binder">t'</span></a>, <a class="idref" href="MetaRocq.Common.Environment.html#P:486"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t:490"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t':491"><span class="id" title="variable">t'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Q:487"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t:490"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#t':491"><span class="id" title="variable">t'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.All_decls_alpha"><span class="id" title="inductive">All_decls_alpha</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Q:487"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d:488"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d':489"><span class="id" title="variable">d'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ond</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">ond</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Environment.All_decls_to_alpha" class="idref" href="#Environment.All_decls_to_alpha"><span class="id" title="lemma">All_decls_to_alpha</span></a> (<a id="P:492" class="idref" href="#P:492"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) <a id="d:493" class="idref" href="#d:493"><span class="id" title="binder">d</span></a> <a id="d':494" class="idref" href="#d':494"><span class="id" title="binder">d'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.All_decls"><span class="id" title="inductive">All_decls</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#P:492"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d:493"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d':494"><span class="id" title="variable">d'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Environment.html#Environment.All_decls_alpha"><span class="id" title="inductive">All_decls_alpha</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#P:492"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d:493"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#d':494"><span class="id" title="variable">d'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Environment.All2_fold_over" class="idref" href="#Environment.All2_fold_over"><span class="id" title="definition">All2_fold_over</span></a> (<a id="P:495" class="idref" href="#P:495"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context"><span class="id" title="definition">context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_decl"><span class="id" title="abbreviation">context_decl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Environment.context_decl"><span class="id" title="abbreviation">context_decl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) <a id="c6c75d5ec579c2fb273e05d3a9fdb312" class="idref" href="#c6c75d5ec579c2fb273e05d3a9fdb312"><span class="id" title="binder">Γ</span></a> <a id="773c2489fbac21ee6ae0dadb0e9ba02c" class="idref" href="#773c2489fbac21ee6ae0dadb0e9ba02c"><span class="id" title="binder">Γ'</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_fold"><span class="id" title="inductive">All2_fold</span></a> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All_over"><span class="id" title="definition">All_over</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#P:495"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#c6c75d5ec579c2fb273e05d3a9fdb312"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#773c2489fbac21ee6ae0dadb0e9ba02c"><span class="id" title="variable">Γ'</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="Environment.on_decls" class="idref" href="#Environment.on_decls"><span class="id" title="abbreviation">on_decls</span></a> <span class="id" title="var">P</span> := (<span class="id" title="keyword">fun</span> <a id="790cbccabfb454b39c928f048183cbd3" class="idref" href="#790cbccabfb454b39c928f048183cbd3"><span class="id" title="binder">Γ</span></a> <a id="cfcb0107828b22cfb9e900503dff6f1e" class="idref" href="#cfcb0107828b22cfb9e900503dff6f1e"><span class="id" title="binder">Γ'</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Environment.html#Environment.All_decls"><span class="id" title="inductive">All_decls</span></a> (<span class="id" title="var">P</span> <a class="idref" href="MetaRocq.Common.Environment.html#790cbccabfb454b39c928f048183cbd3"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#cfcb0107828b22cfb9e900503dff6f1e"><span class="id" title="variable">Γ'</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="Environment.on_contexts" class="idref" href="#Environment.on_contexts"><span class="id" title="abbreviation">on_contexts</span></a> <span class="id" title="var">P</span> := (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_fold"><span class="id" title="inductive">All2_fold</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.on_decls"><span class="id" title="abbreviation">on_decls</span></a> <span class="id" title="var">P</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="Environment.on_contexts_over" class="idref" href="#Environment.on_contexts_over"><span class="id" title="abbreviation">on_contexts_over</span></a> <span class="id" title="var">P</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span> := (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_fold"><span class="id" title="inductive">All2_fold</span></a> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All_over"><span class="id" title="definition">All_over</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#Environment.on_decls"><span class="id" title="abbreviation">on_decls</span></a> <span class="id" title="var">P</span>) <span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span>)).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment"><span class="id" title="module">Environment</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="EnvironmentSig" class="idref" href="#EnvironmentSig"><span class="id" title="module">EnvironmentSig</span></a> (<span class="id" title="var">T</span> : <a class="idref" href="MetaRocq.Common.Environment.html#Term"><span class="id" title="module">Term</span></a>).<br/>
&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="MetaRocq.Common.Environment.html#Environment"><span class="id" title="module">Environment</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T"><span class="id" title="module">T</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.Common.Environment.html#EnvironmentSig"><span class="id" title="module">EnvironmentSig</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="EnvironmentDecide" class="idref" href="#EnvironmentDecide"><span class="id" title="module">EnvironmentDecide</span></a> (<span class="id" title="var">T</span> : <a class="idref" href="MetaRocq.Common.Environment.html#Term"><span class="id" title="module">Term</span></a>) (<span class="id" title="keyword">Import</span> <span class="id" title="var">E</span> : <a class="idref" href="MetaRocq.Common.Environment.html#EnvironmentSig"><span class="id" title="module">EnvironmentSig</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T"><span class="id" title="module">T</span></a>).<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="EnvironmentDecide.context_eq_dec" class="idref" href="#EnvironmentDecide.context_eq_dec"><span class="id" title="instance">context_eq_dec</span></a> : <span class="id" title="class">EqDec</span> <a class="idref" href="MetaRocq.Common.Environment.html#E.context"><span class="id" title="definition">context</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="EnvironmentDecide.constructor_body_eq_dec" class="idref" href="#EnvironmentDecide.constructor_body_eq_dec"><span class="id" title="instance">constructor_body_eq_dec</span></a> : <span class="id" title="class">EqDec</span> <a class="idref" href="MetaRocq.Common.Environment.html#E.constructor_body"><span class="id" title="record">constructor_body</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="EnvironmentDecide.projection_body_eq_dec" class="idref" href="#EnvironmentDecide.projection_body_eq_dec"><span class="id" title="instance">projection_body_eq_dec</span></a> : <span class="id" title="class">EqDec</span> <a class="idref" href="MetaRocq.Common.Environment.html#E.projection_body"><span class="id" title="record">projection_body</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="EnvironmentDecide.one_inductive_body_eq_dec" class="idref" href="#EnvironmentDecide.one_inductive_body_eq_dec"><span class="id" title="instance">one_inductive_body_eq_dec</span></a> : <span class="id" title="class">EqDec</span> <a class="idref" href="MetaRocq.Common.Environment.html#E.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="EnvironmentDecide.mutual_inductive_body_eq_dec" class="idref" href="#EnvironmentDecide.mutual_inductive_body_eq_dec"><span class="id" title="instance">mutual_inductive_body_eq_dec</span></a> : <span class="id" title="class">EqDec</span> <a class="idref" href="MetaRocq.Common.Environment.html#E.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="EnvironmentDecide.constant_body_eq_dec" class="idref" href="#EnvironmentDecide.constant_body_eq_dec"><span class="id" title="instance">constant_body_eq_dec</span></a> : <span class="id" title="class">EqDec</span> <a class="idref" href="MetaRocq.Common.Environment.html#E.constant_body"><span class="id" title="record">constant_body</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="EnvironmentDecide.global_decl_eq_dec" class="idref" href="#EnvironmentDecide.global_decl_eq_dec"><span class="id" title="instance">global_decl_eq_dec</span></a> : <span class="id" title="class">EqDec</span> <a class="idref" href="MetaRocq.Common.Environment.html#E.global_decl"><span class="id" title="inductive">global_decl</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 0 (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#ReflectEq"><span class="id" title="class">ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.context"><span class="id" title="definition">context</span></a>) ⇒ <span class="id" title="tactic">exact</span> (@<a class="idref" href="MetaRocq.Utils.ReflectEq.html#EqDec_ReflectEq"><span class="id" title="definition">EqDec_ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.context"><span class="id" title="definition">context</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#EnvironmentDecide.context_eq_dec"><span class="id" title="axiom">context_eq_dec</span></a>) : <span class="id" title="var">typeclass_instances</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 0 (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#ReflectEq"><span class="id" title="class">ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.constructor_body"><span class="id" title="record">constructor_body</span></a>) ⇒ <span class="id" title="tactic">exact</span> (@<a class="idref" href="MetaRocq.Utils.ReflectEq.html#EqDec_ReflectEq"><span class="id" title="definition">EqDec_ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.constructor_body"><span class="id" title="record">constructor_body</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#EnvironmentDecide.constructor_body_eq_dec"><span class="id" title="axiom">constructor_body_eq_dec</span></a>) : <span class="id" title="var">typeclass_instances</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 0 (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#ReflectEq"><span class="id" title="class">ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.projection_body"><span class="id" title="record">projection_body</span></a>) ⇒ <span class="id" title="tactic">exact</span> (@<a class="idref" href="MetaRocq.Utils.ReflectEq.html#EqDec_ReflectEq"><span class="id" title="definition">EqDec_ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.projection_body"><span class="id" title="record">projection_body</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#EnvironmentDecide.projection_body_eq_dec"><span class="id" title="axiom">projection_body_eq_dec</span></a>) : <span class="id" title="var">typeclass_instances</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 0 (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#ReflectEq"><span class="id" title="class">ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a>) ⇒ <span class="id" title="tactic">exact</span> (@<a class="idref" href="MetaRocq.Utils.ReflectEq.html#EqDec_ReflectEq"><span class="id" title="definition">EqDec_ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#EnvironmentDecide.one_inductive_body_eq_dec"><span class="id" title="axiom">one_inductive_body_eq_dec</span></a>) : <span class="id" title="var">typeclass_instances</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 0 (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#ReflectEq"><span class="id" title="class">ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a>) ⇒ <span class="id" title="tactic">exact</span> (@<a class="idref" href="MetaRocq.Utils.ReflectEq.html#EqDec_ReflectEq"><span class="id" title="definition">EqDec_ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#EnvironmentDecide.mutual_inductive_body_eq_dec"><span class="id" title="axiom">mutual_inductive_body_eq_dec</span></a>) : <span class="id" title="var">typeclass_instances</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 0 (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#ReflectEq"><span class="id" title="class">ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.constant_body"><span class="id" title="record">constant_body</span></a>) ⇒ <span class="id" title="tactic">exact</span> (@<a class="idref" href="MetaRocq.Utils.ReflectEq.html#EqDec_ReflectEq"><span class="id" title="definition">EqDec_ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.constant_body"><span class="id" title="record">constant_body</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#EnvironmentDecide.constant_body_eq_dec"><span class="id" title="axiom">constant_body_eq_dec</span></a>) : <span class="id" title="var">typeclass_instances</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 0 (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#ReflectEq"><span class="id" title="class">ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.global_decl"><span class="id" title="inductive">global_decl</span></a>) ⇒ <span class="id" title="tactic">exact</span> (@<a class="idref" href="MetaRocq.Utils.ReflectEq.html#EqDec_ReflectEq"><span class="id" title="definition">EqDec_ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.global_decl"><span class="id" title="inductive">global_decl</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#EnvironmentDecide.global_decl_eq_dec"><span class="id" title="axiom">global_decl_eq_dec</span></a>) : <span class="id" title="var">typeclass_instances</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.Common.Environment.html#EnvironmentDecide"><span class="id" title="module">EnvironmentDecide</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="EnvironmentDecideReflectInstances" class="idref" href="#EnvironmentDecideReflectInstances"><span class="id" title="module">EnvironmentDecideReflectInstances</span></a> (<span class="id" title="var">T</span> : <a class="idref" href="MetaRocq.Common.Environment.html#Term"><span class="id" title="module">Term</span></a>) (<span class="id" title="keyword">Import</span> <span class="id" title="var">E</span> : <a class="idref" href="MetaRocq.Common.Environment.html#EnvironmentSig"><span class="id" title="module">EnvironmentSig</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T"><span class="id" title="module">T</span></a>) (<span class="id" title="keyword">Import</span> <span class="id" title="var">EDec</span> : <a class="idref" href="MetaRocq.Common.Environment.html#EnvironmentDecide"><span class="id" title="module">EnvironmentDecide</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T"><span class="id" title="module">T</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E"><span class="id" title="module">E</span></a>).<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 0 (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#ReflectEq"><span class="id" title="class">ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.context"><span class="id" title="definition">context</span></a>) ⇒ <span class="id" title="tactic">exact</span> (@<a class="idref" href="MetaRocq.Utils.ReflectEq.html#EqDec_ReflectEq"><span class="id" title="definition">EqDec_ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.context"><span class="id" title="definition">context</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#EDec.context_eq_dec"><span class="id" title="axiom">context_eq_dec</span></a>) : <span class="id" title="var">typeclass_instances</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 0 (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#ReflectEq"><span class="id" title="class">ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.constructor_body"><span class="id" title="record">constructor_body</span></a>) ⇒ <span class="id" title="tactic">exact</span> (@<a class="idref" href="MetaRocq.Utils.ReflectEq.html#EqDec_ReflectEq"><span class="id" title="definition">EqDec_ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.constructor_body"><span class="id" title="record">constructor_body</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#EDec.constructor_body_eq_dec"><span class="id" title="axiom">constructor_body_eq_dec</span></a>) : <span class="id" title="var">typeclass_instances</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 0 (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#ReflectEq"><span class="id" title="class">ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.projection_body"><span class="id" title="record">projection_body</span></a>) ⇒ <span class="id" title="tactic">exact</span> (@<a class="idref" href="MetaRocq.Utils.ReflectEq.html#EqDec_ReflectEq"><span class="id" title="definition">EqDec_ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.projection_body"><span class="id" title="record">projection_body</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#EDec.projection_body_eq_dec"><span class="id" title="axiom">projection_body_eq_dec</span></a>) : <span class="id" title="var">typeclass_instances</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 0 (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#ReflectEq"><span class="id" title="class">ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a>) ⇒ <span class="id" title="tactic">exact</span> (@<a class="idref" href="MetaRocq.Utils.ReflectEq.html#EqDec_ReflectEq"><span class="id" title="definition">EqDec_ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#EDec.one_inductive_body_eq_dec"><span class="id" title="axiom">one_inductive_body_eq_dec</span></a>) : <span class="id" title="var">typeclass_instances</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 0 (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#ReflectEq"><span class="id" title="class">ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a>) ⇒ <span class="id" title="tactic">exact</span> (@<a class="idref" href="MetaRocq.Utils.ReflectEq.html#EqDec_ReflectEq"><span class="id" title="definition">EqDec_ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#EDec.mutual_inductive_body_eq_dec"><span class="id" title="axiom">mutual_inductive_body_eq_dec</span></a>) : <span class="id" title="var">typeclass_instances</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 0 (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#ReflectEq"><span class="id" title="class">ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.constant_body"><span class="id" title="record">constant_body</span></a>) ⇒ <span class="id" title="tactic">exact</span> (@<a class="idref" href="MetaRocq.Utils.ReflectEq.html#EqDec_ReflectEq"><span class="id" title="definition">EqDec_ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.constant_body"><span class="id" title="record">constant_body</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#EDec.constant_body_eq_dec"><span class="id" title="axiom">constant_body_eq_dec</span></a>) : <span class="id" title="var">typeclass_instances</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 0 (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#ReflectEq"><span class="id" title="class">ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.global_decl"><span class="id" title="inductive">global_decl</span></a>) ⇒ <span class="id" title="tactic">exact</span> (@<a class="idref" href="MetaRocq.Utils.ReflectEq.html#EqDec_ReflectEq"><span class="id" title="definition">EqDec_ReflectEq</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.global_decl"><span class="id" title="inductive">global_decl</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#EDec.global_decl_eq_dec"><span class="id" title="axiom">global_decl_eq_dec</span></a>) : <span class="id" title="var">typeclass_instances</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.Common.Environment.html#EnvironmentDecideReflectInstances"><span class="id" title="module">EnvironmentDecideReflectInstances</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="TermUtils" class="idref" href="#TermUtils"><span class="id" title="module">TermUtils</span></a> (<span class="id" title="var">T</span>: <a class="idref" href="MetaRocq.Common.Environment.html#Term"><span class="id" title="module">Term</span></a>) (<span class="id" title="var">E</span>: <a class="idref" href="MetaRocq.Common.Environment.html#EnvironmentSig"><span class="id" title="module">EnvironmentSig</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T"><span class="id" title="module">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Common.Environment.html#T"><span class="id" title="module">T</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E"><span class="id" title="module">E</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="keyword">Inline</span> <a id="TermUtils.destArity" class="idref" href="#TermUtils.destArity"><span class="id" title="axiom">destArity</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#E.context"><span class="id" title="definition">context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="MetaRocq.Common.Environment.html#E.context"><span class="id" title="definition">context</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Sort.t"><span class="id" title="definition">Sort.t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="keyword">Inline</span> <a id="TermUtils.inds" class="idref" href="#TermUtils.inds"><span class="id" title="axiom">inds</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Instance.t"><span class="id" title="definition">Instance.t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#E.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#T.term"><span class="id" title="axiom">term</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.Common.Environment.html#TermUtils"><span class="id" title="module">TermUtils</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
