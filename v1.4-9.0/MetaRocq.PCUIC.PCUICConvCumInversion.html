<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./index.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaRocq.PCUIC.PCUICConvCumInversion</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ssr.ssrbool.html#"><span class="id" title="library">ssrbool</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#"><span class="id" title="library">PCUICAst</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#"><span class="id" title="library">PCUICAstUtils</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICContextConversion.html#"><span class="id" title="library">PCUICContextConversion</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICContextReduction.html#"><span class="id" title="library">PCUICContextReduction</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#"><span class="id" title="library">PCUICCumulativity</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#"><span class="id" title="library">PCUICConversion</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#"><span class="id" title="library">PCUICEquality</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#"><span class="id" title="library">PCUICLiftSubst</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#"><span class="id" title="library">PCUICNormal</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#"><span class="id" title="library">PCUICReduction</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#"><span class="id" title="library">PCUICTyping</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICGlobalEnv.html#"><span class="id" title="library">PCUICGlobalEnv</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConfluence.html#"><span class="id" title="library">PCUICConfluence</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSubstitution.html#"><span class="id" title="library">PCUICSubstitution</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#"><span class="id" title="library">PCUICClosed</span></a> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#"><span class="id" title="library">PCUICClosedTyp</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICWeakeningEnvConv.html#"><span class="id" title="library">PCUICWeakeningEnvConv</span></a> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#"><span class="id" title="library">PCUICWeakeningEnvTyp</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#"><span class="id" title="library">PCUICWellScopedCumulativity</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#"><span class="id" title="library">PCUICOnFreeVars</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSR.html#"><span class="id" title="library">PCUICSR</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Common</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Common.config.html#"><span class="id" title="library">config</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Utils.utils.html#"><span class="id" title="library">utils</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Goal</span> <span class="id" title="var">Selector</span> "!".<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">cf</span> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>) (<span class="id" title="var">Σ</span> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="conv_cum" class="idref" href="#conv_cum"><span class="id" title="definition">conv_cum</span></a> {<a id="cf:1" class="idref" href="#cf:1"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="pb:2" class="idref" href="#pb:2"><span class="id" title="binder">pb</span></a> <a id="eb9571817dd417966f307c3a9de8fe7f" class="idref" href="#eb9571817dd417966f307c3a9de8fe7f"><span class="id" title="binder">Σ</span></a> <a id="9cfd66c80bf9988ea8f7104e167ac5cd" class="idref" href="#9cfd66c80bf9988ea8f7104e167ac5cd"><span class="id" title="binder">Γ</span></a> <a id="u:5" class="idref" href="#u:5"><span class="id" title="binder">u</span></a> <a id="v:6" class="idref" href="#v:6"><span class="id" title="binder">v</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#eb9571817dd417966f307c3a9de8fe7f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#35217f73df56646eb74cda65149cc63c"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#9cfd66c80bf9988ea8f7104e167ac5cd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#35217f73df56646eb74cda65149cc63c"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#u:5"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#35217f73df56646eb74cda65149cc63c"><span class="id" title="notation">≤[</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#pb:2"><span class="id" title="variable">pb</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#35217f73df56646eb74cda65149cc63c"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#v:6"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_term_eq_termp" class="idref" href="#eq_term_eq_termp"><span class="id" title="lemma">eq_term_eq_termp</span></a> {<a id="cf:7" class="idref" href="#cf:7"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="leq:8" class="idref" href="#leq:8"><span class="id" title="binder">leq</span></a> (<a id="2ff76d4cddec082cd899c55bae9fabf3" class="idref" href="#2ff76d4cddec082cd899c55bae9fabf3"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) <a id="x:10" class="idref" href="#x:10"><span class="id" title="binder">x</span></a> <a id="y:11" class="idref" href="#y:11"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_term"><span class="id" title="abbreviation">eq_term</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#2ff76d4cddec082cd899c55bae9fabf3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#2ff76d4cddec082cd899c55bae9fabf3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#x:10"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#y:11"><span class="id" title="variable">y</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#eq_termp"><span class="id" title="abbreviation">eq_termp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#2ff76d4cddec082cd899c55bae9fabf3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#leq:8"><span class="id" title="variable">leq</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#x:10"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#y:11"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">leq</span>; [<span class="id" title="var">easy</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_term_leq_term"><span class="id" title="instance">eq_term_leq_term</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="alt_into_ws_cumul_pb_terms" class="idref" href="#alt_into_ws_cumul_pb_terms"><span class="id" title="lemma">alt_into_ws_cumul_pb_terms</span></a> {<a id="cf:12" class="idref" href="#cf:12"><span class="id" title="binder">cf</span></a> <a id="475f6c17bae93ed6b0d4829862030679" class="idref" href="#475f6c17bae93ed6b0d4829862030679"><span class="id" title="binder">Σ</span></a>} {<a id="1219f08efa76e393d55349894949766e" class="idref" href="#1219f08efa76e393d55349894949766e"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#475f6c17bae93ed6b0d4829862030679"><span class="id" title="variable">Σ</span></a>} {<a id="918d7ebace48bcbe2bb5610a4828654d" class="idref" href="#918d7ebace48bcbe2bb5610a4828654d"><span class="id" title="binder">Γ</span></a> <a id="l:16" class="idref" href="#l:16"><span class="id" title="binder">l</span></a> <a id="l':17" class="idref" href="#l':17"><span class="id" title="binder">l'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#convAlgo"><span class="id" title="abbreviation">convAlgo</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#475f6c17bae93ed6b0d4829862030679"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#918d7ebace48bcbe2bb5610a4828654d"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#l:16"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#l':17"><span class="id" title="variable">l'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_closed_context"><span class="id" title="abbreviation">is_closed_context</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#918d7ebace48bcbe2bb5610a4828654d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#918d7ebace48bcbe2bb5610a4828654d"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#l:16"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#918d7ebace48bcbe2bb5610a4828654d"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#l':17"><span class="id" title="variable">l'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#ws_cumul_pb_terms"><span class="id" title="abbreviation">ws_cumul_pb_terms</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#475f6c17bae93ed6b0d4829862030679"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#918d7ebace48bcbe2bb5610a4828654d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#l:16"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#l':17"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#into_ws_cumul_pb"><span class="id" title="lemma">into_ws_cumul_pb</span></a>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Might be better suited with <span class="inlinecode"><span class="id" title="var">red_context</span></span> hyps ensuring closedness directly 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="red_ctx_rel_par_conv" class="idref" href="#red_ctx_rel_par_conv"><span class="id" title="lemma">red_ctx_rel_par_conv</span></a> {<a id="cf:18" class="idref" href="#cf:18"><span class="id" title="binder">cf</span></a> <a id="957e39afe9f7f3b3133a35f49f47db88" class="idref" href="#957e39afe9f7f3b3133a35f49f47db88"><span class="id" title="binder">Σ</span></a> <a id="5072e11836a76219245d89c98ca72259" class="idref" href="#5072e11836a76219245d89c98ca72259"><span class="id" title="binder">Γ</span></a> <a id="796c7c642bf040c2fb0cca92edddcb54" class="idref" href="#796c7c642bf040c2fb0cca92edddcb54"><span class="id" title="binder">Γ0</span></a> <a id="a856cd013c9607b2e6380c433ca99f00" class="idref" href="#a856cd013c9607b2e6380c433ca99f00"><span class="id" title="binder">Γ0'</span></a> <a id="24ed466a31ff97bbb1e2410c88c7c284" class="idref" href="#24ed466a31ff97bbb1e2410c88c7c284"><span class="id" title="binder">Γ1</span></a> <a id="042d9bfdf1119132e3824a05cc37df2c" class="idref" href="#042d9bfdf1119132e3824a05cc37df2c"><span class="id" title="binder">Γ1'</span></a>} {<a id="d57803fc8bec82f3c6d053f67a63ffc7" class="idref" href="#d57803fc8bec82f3c6d053f67a63ffc7"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#957e39afe9f7f3b3133a35f49f47db88"><span class="id" title="variable">Σ</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_closed_context"><span class="id" title="abbreviation">is_closed_context</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#5072e11836a76219245d89c98ca72259"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#796c7c642bf040c2fb0cca92edddcb54"><span class="id" title="variable">Γ0</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_closed_context"><span class="id" title="abbreviation">is_closed_context</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#5072e11836a76219245d89c98ca72259"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#24ed466a31ff97bbb1e2410c88c7c284"><span class="id" title="variable">Γ1</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red_ctx_rel"><span class="id" title="definition">red_ctx_rel</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#957e39afe9f7f3b3133a35f49f47db88"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#5072e11836a76219245d89c98ca72259"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#796c7c642bf040c2fb0cca92edddcb54"><span class="id" title="variable">Γ0</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#a856cd013c9607b2e6380c433ca99f00"><span class="id" title="variable">Γ0'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red_ctx_rel"><span class="id" title="definition">red_ctx_rel</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#957e39afe9f7f3b3133a35f49f47db88"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#5072e11836a76219245d89c98ca72259"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#24ed466a31ff97bbb1e2410c88c7c284"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#042d9bfdf1119132e3824a05cc37df2c"><span class="id" title="variable">Γ1'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_context"><span class="id" title="abbreviation">eq_context</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#957e39afe9f7f3b3133a35f49f47db88"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#957e39afe9f7f3b3133a35f49f47db88"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#a856cd013c9607b2e6380c433ca99f00"><span class="id" title="variable">Γ0'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#042d9bfdf1119132e3824a05cc37df2c"><span class="id" title="variable">Γ1'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#ws_cumul_ctx_pb_rel"><span class="id" title="definition">ws_cumul_ctx_pb_rel</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#957e39afe9f7f3b3133a35f49f47db88"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#5072e11836a76219245d89c98ca72259"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#796c7c642bf040c2fb0cca92edddcb54"><span class="id" title="variable">Γ0</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#24ed466a31ff97bbb1e2410c88c7c284"><span class="id" title="variable">Γ1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">clΓ0</span> <span class="id" title="var">clΓ1</span> <span class="id" title="var">r0</span> <span class="id" title="var">r1</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContextReduction.html#red_ctx_rel_red_context_rel"><span class="id" title="lemma">red_ctx_rel_red_context_rel</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICContextReduction.html#red_context_app_same_left"><span class="id" title="lemma">red_context_app_same_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;2:{ <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_on_ctx_free_vars_closedP_impl"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars_closedP_impl</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContextReduction.html#red_ctx_rel_red_context_rel"><span class="id" title="lemma">red_ctx_rel_red_context_rel</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICContextReduction.html#red_context_app_same_left"><span class="id" title="lemma">red_context_app_same_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;2:{ <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_on_ctx_free_vars_closedP_impl"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars_closedP_impl</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConfluence.html#red_ctx_red_context"><span class="id" title="lemma">red_ctx_red_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r0</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConfluence.html#red_ctx_red_context"><span class="id" title="lemma">red_ctx_red_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSR.html#into_closed_red_ctx"><span class="id" title="lemma">into_closed_red_ctx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r0</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSR.html#into_closed_red_ctx"><span class="id" title="lemma">into_closed_red_ctx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r1</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICContextConversion.html#red_ctx_ws_cumul_ctx_pb"><span class="id" title="lemma">red_ctx_ws_cumul_ctx_pb</span></a> (<span class="id" title="var">l</span>:=<a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">r0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICContextConversion.html#red_ctx_ws_cumul_ctx_pb"><span class="id" title="lemma">red_ctx_ws_cumul_ctx_pb</span></a> (<span class="id" title="var">l</span>:=<a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">r1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#ws_cumul_ctx_pb_rel_app"><span class="id" title="lemma">ws_cumul_ctx_pb_rel_app</span></a>. <span class="id" title="var">etransitivity</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. 2: <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#eq_context_upto_ws_cumul_ctx_pb"><span class="id" title="lemma">eq_context_upto_ws_cumul_ctx_pb</span></a>. 1-2:<span class="id" title="var">fvs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_context_upto_cat"><span class="id" title="lemma">eq_context_upto_cat</span></a>. 1: <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="into_red_terms" class="idref" href="#into_red_terms"><span class="id" title="lemma">into_red_terms</span></a> {<a id="e023703f3460855264e8fbe327a7ed6a" class="idref" href="#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="binder">Σ</span></a> <a id="4832fec869a4ebb2d0fe43325389536a" class="idref" href="#4832fec869a4ebb2d0fe43325389536a"><span class="id" title="binder">Γ</span></a> <a id="ts:28" class="idref" href="#ts:28"><span class="id" title="binder">ts</span></a> <a id="ts':29" class="idref" href="#ts':29"><span class="id" title="binder">ts'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red"><span class="id" title="definition">red</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#4832fec869a4ebb2d0fe43325389536a"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#ts:28"><span class="id" title="variable">ts</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#ts':29"><span class="id" title="variable">ts'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_closed_context"><span class="id" title="abbreviation">is_closed_context</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#4832fec869a4ebb2d0fe43325389536a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#4832fec869a4ebb2d0fe43325389536a"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#ts:28"><span class="id" title="variable">ts</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#red_terms"><span class="id" title="abbreviation">red_terms</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#4832fec869a4ebb2d0fe43325389536a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#ts:28"><span class="id" title="variable">ts</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#ts':29"><span class="id" title="variable">ts'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; [<span class="id" title="tactic">constructor</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /= <span class="id" title="var">clΓ</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[<span class="id" title="var">clx</span> <span class="id" title="var">cll</span>]. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#into_closed_red"><span class="id" title="lemma">into_closed_red</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="untyped_subslet_ass" class="idref" href="#untyped_subslet_ass"><span class="id" title="lemma">untyped_subslet_ass</span></a> {<a id="a84750bab259aa2f16170b25727bba3f" class="idref" href="#a84750bab259aa2f16170b25727bba3f"><span class="id" title="binder">Γ</span></a> <a id="s:31" class="idref" href="#s:31"><span class="id" title="binder">s</span></a> <a id="2bcbcfac893072643a1e60157be04321" class="idref" href="#2bcbcfac893072643a1e60157be04321"><span class="id" title="binder">Δ</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#assumption_context"><span class="id" title="inductive">assumption_context</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#2bcbcfac893072643a1e60157be04321"><span class="id" title="variable">Δ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#s:31"><span class="id" title="variable">s</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#2bcbcfac893072643a1e60157be04321"><span class="id" title="variable">Δ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICSubstitution.html#untyped_subslet"><span class="id" title="inductive">untyped_subslet</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#a84750bab259aa2f16170b25727bba3f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#s:31"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#2bcbcfac893072643a1e60157be04321"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">Δ</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">s</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>; <span class="id" title="var">exfalso</span>; <span class="id" title="var">inv</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>; <span class="id" title="var">exfalso</span>; <span class="id" title="var">inv</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> [=]. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHΔ</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">inv</span> <span class="id" title="var">h</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftnP_up" class="idref" href="#shiftnP_up"><span class="id" title="lemma">shiftnP_up</span></a> <a id="n:33" class="idref" href="#n:33"><span class="id" title="binder">n</span></a> <a id="m:34" class="idref" href="#m:34"><span class="id" title="binder">m</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#n:33"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#m:34"><span class="id" title="variable">m</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="i:35" class="idref" href="#i:35"><span class="id" title="binder">i</span></a>, <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#n:33"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#i:35"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#m:34"><span class="id" title="variable">m</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#i:35"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">lt</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#orb_false_r"><span class="id" title="lemma">orb_false_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a> ⇒ <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_case_ws_cumul_ctx_pb" class="idref" href="#inst_case_ws_cumul_ctx_pb"><span class="id" title="lemma">inst_case_ws_cumul_ctx_pb</span></a> {<a id="cf:36" class="idref" href="#cf:36"><span class="id" title="binder">cf</span></a> <a id="01696af10e39986da2e9d1f22eb04999" class="idref" href="#01696af10e39986da2e9d1f22eb04999"><span class="id" title="binder">Σ</span></a>} {<a id="3cae42dcce5413ec7830cea21e1350c5" class="idref" href="#3cae42dcce5413ec7830cea21e1350c5"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#01696af10e39986da2e9d1f22eb04999"><span class="id" title="variable">Σ</span></a>} {<a id="ind:39" class="idref" href="#ind:39"><span class="id" title="binder">ind</span></a> <a id="mdecl:40" class="idref" href="#mdecl:40"><span class="id" title="binder">mdecl</span></a> <a id="idecl:41" class="idref" href="#idecl:41"><span class="id" title="binder">idecl</span></a> <a id="18bf8c43a60891738d0d6115aa956824" class="idref" href="#18bf8c43a60891738d0d6115aa956824"><span class="id" title="binder">Γ</span></a> <a id="pars:43" class="idref" href="#pars:43"><span class="id" title="binder">pars</span></a> <a id="pars':44" class="idref" href="#pars':44"><span class="id" title="binder">pars'</span></a> <a id="puinst:45" class="idref" href="#puinst:45"><span class="id" title="binder">puinst</span></a> <a id="puinst':46" class="idref" href="#puinst':46"><span class="id" title="binder">puinst'</span></a> <a id="ctx:47" class="idref" href="#ctx:47"><span class="id" title="binder">ctx</span></a> <a id="ctx':48" class="idref" href="#ctx':48"><span class="id" title="binder">ctx'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#01696af10e39986da2e9d1f22eb04999"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#ind:39"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#mdecl:40"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#idecl:41"><span class="id" title="variable">idecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#pars:43"><span class="id" title="variable">pars</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_npars"><span class="id" title="projection">ind_npars</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#mdecl:40"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#pars':44"><span class="id" title="variable">pars'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_npars"><span class="id" title="projection">ind_npars</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#mdecl:40"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#pars:43"><span class="id" title="variable">pars</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>) <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#ctx:47"><span class="id" title="variable">ctx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#pars':44"><span class="id" title="variable">pars'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>) <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#ctx':48"><span class="id" title="variable">ctx'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_closed_context"><span class="id" title="abbreviation">is_closed_context</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#18bf8c43a60891738d0d6115aa956824"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#ws_cumul_pb_terms"><span class="id" title="abbreviation">ws_cumul_pb_terms</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#01696af10e39986da2e9d1f22eb04999"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#18bf8c43a60891738d0d6115aa956824"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#pars:43"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#pars':44"><span class="id" title="variable">pars'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#cmp_universe_instance"><span class="id" title="definition">cmp_universe_instance</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#eq_universe"><span class="id" title="definition">eq_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#01696af10e39986da2e9d1f22eb04999"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#puinst:45"><span class="id" title="variable">puinst</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#puinst':46"><span class="id" title="variable">puinst'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_context_upto_names"><span class="id" title="abbreviation">eq_context_upto_names</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#ctx:47"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#ctx':48"><span class="id" title="variable">ctx'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#01696af10e39986da2e9d1f22eb04999"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#8249679dbd26c3790f32ed1c0d47bbe1"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#18bf8c43a60891738d0d6115aa956824"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#pars:43"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#puinst:45"><span class="id" title="variable">puinst</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#ctx:47"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#8249679dbd26c3790f32ed1c0d47bbe1"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#18bf8c43a60891738d0d6115aa956824"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#pars':44"><span class="id" title="variable">pars'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#puinst':46"><span class="id" title="variable">puinst'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#ctx':48"><span class="id" title="variable">ctx'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">decli</span> <span class="id" title="var">wfp</span> <span class="id" title="var">wfp'</span> <span class="id" title="var">onp</span> <span class="id" title="var">onp'</span> <span class="id" title="var">clΓ</span> <span class="id" title="var">eqpars</span> <span class="id" title="var">eqinst</span> <span class="id" title="var">eqctx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#ws_cumul_ctx_pb_rel_app"><span class="id" title="lemma">ws_cumul_ctx_pb_rel_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">clpars</span> : <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_closed_context"><span class="id" title="abbreviation">is_closed_context</span></a> (<span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <span class="id" title="var">mdecl</span>)).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_app"><span class="id" title="lemma">on_free_vars_ctx_app</span></a> <span class="id" title="var">clΓ</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_smash"><span class="id" title="lemma">on_free_vars_ctx_smash</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#declared_inductive_closed_params"><span class="id" title="lemma">declared_inductive_closed_params</span></a> <span class="id" title="var">decli</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/(<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closed_ctx_on_free_vars"><span class="id" title="lemma">closed_ctx_on_free_vars</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a>)). }<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">lenpars</span> : <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">pars</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <span class="id" title="var">mdecl</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.PCUIC.PCUICGlobalEnv.html#declared_minductive_ind_npars"><span class="id" title="lemma">declared_minductive_ind_npars</span></a> <span class="id" title="var">decli</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">wfp</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">asspars</span> : <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#assumption_context"><span class="id" title="inductive">assumption_context</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <span class="id" title="var">mdecl</span>)).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContexts.html#smash_context_assumption_context"><span class="id" title="lemma">PCUICContexts.smash_context_assumption_context</span></a> ⇒ //. <span class="id" title="tactic">constructor</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">lenpars'</span> : <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">pars</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <span class="id" title="var">mdecl</span>)).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#context_assumptions_smash_context"><span class="id" title="lemma">context_assumptions_smash_context</span></a> /= //. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#substitution_ws_cumul_ctx_pb_subst_conv"><span class="id" title="lemma">substitution_ws_cumul_ctx_pb_subst_conv</span></a> (<span class="id" title="var">Γ''</span>:=<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Γ'</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">mdecl</span>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Γ'0</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">mdecl</span>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a>))) ⇒ //.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#ws_cumul_ctx_pb_rel_trans"><span class="id" title="lemma">PCUICSpine.ws_cumul_ctx_pb_rel_trans</span></a> (<span class="id" title="var">Δ'</span> := <span class="id" title="var">ctx'@</span><a class="idref" href="MetaRocq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">[</span></a><span class="id" title="var">puinst</span><a class="idref" href="MetaRocq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">]</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#ws_cumul_ctx_pb_rel_app"><span class="id" title="lemma">ws_cumul_ctx_pb_rel_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#eq_context_upto_ws_cumul_ctx_pb"><span class="id" title="lemma">eq_context_upto_ws_cumul_ctx_pb</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_app"><span class="id" title="lemma">on_free_vars_ctx_app</span></a> <span class="id" title="var">clpars</span> /=. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_subst_instance"><span class="id" title="lemma">on_free_vars_ctx_subst_instance</span></a> -<span class="id" title="var">lenpars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_impl"><span class="id" title="lemma">on_free_vars_ctx_impl</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#shiftnP_up"><span class="id" title="lemma">shiftnP_up</span></a>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_app"><span class="id" title="lemma">on_free_vars_ctx_app</span></a> <span class="id" title="var">clpars</span> /=. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_subst_instance"><span class="id" title="lemma">on_free_vars_ctx_subst_instance</span></a> -<span class="id" title="var">lenpars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_impl"><span class="id" title="lemma">on_free_vars_ctx_impl</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#shiftnP_up"><span class="id" title="lemma">shiftnP_up</span></a>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_context_upto_cat"><span class="id" title="lemma">eq_context_upto_cat</span></a>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConfluence.html#eq_context_upto_names_subst_instance"><span class="id" title="lemma">eq_context_upto_names_subst_instance</span></a>; <span class="id" title="var">tc</span>. 1:<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#subst_instance_ws_cumul_ctx_pb_rel"><span class="id" title="lemma">subst_instance_ws_cumul_ctx_pb_rel</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_app"><span class="id" title="lemma">on_free_vars_ctx_app</span></a> <span class="id" title="var">clΓ</span> /=. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_smash"><span class="id" title="lemma">on_free_vars_ctx_smash</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#declared_inductive_closed_params"><span class="id" title="lemma">declared_inductive_closed_params</span></a> <span class="id" title="var">decli</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/(<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closed_ctx_on_free_vars"><span class="id" title="lemma">closed_ctx_on_free_vars</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a>)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.PCUIC.PCUICGlobalEnv.html#declared_minductive_ind_npars"><span class="id" title="lemma">declared_minductive_ind_npars</span></a> <span class="id" title="var">decli</span>) -<span class="id" title="var">wfp'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_impl"><span class="id" title="lemma">on_free_vars_ctx_impl</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP_shiftnP"><span class="id" title="lemma">closedP_shiftnP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#shiftnP_up"><span class="id" title="lemma">shiftnP_up</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_rev"><span class="id" title="lemma">All2_rev</span></a>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#untyped_subslet_ass"><span class="id" title="lemma">untyped_subslet_ass</span></a> <span class="id" title="var">asspars</span>). <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#untyped_subslet_ass"><span class="id" title="lemma">untyped_subslet_ass</span></a> <span class="id" title="var">asspars</span>). <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">sq</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="conv_cum_alt" class="idref" href="#conv_cum_alt"><span class="id" title="lemma">conv_cum_alt</span></a> {<a id="cf:49" class="idref" href="#cf:49"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="pb:50" class="idref" href="#pb:50"><span class="id" title="binder">pb</span></a>} {<a id="cbbfa2396495d39f80c59fc2f71e0bb6" class="idref" href="#cbbfa2396495d39f80c59fc2f71e0bb6"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="60ffb00576919416289d5bb12a3b56d1" class="idref" href="#60ffb00576919416289d5bb12a3b56d1"><span class="id" title="binder">Γ</span></a> <a id="t:53" class="idref" href="#t:53"><span class="id" title="binder">t</span></a> <a id="t':54" class="idref" href="#t':54"><span class="id" title="binder">t'</span></a>} (<a id="bc5a68328f26fe8774c702b73a23df47" class="idref" href="#bc5a68328f26fe8774c702b73a23df47"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#cbbfa2396495d39f80c59fc2f71e0bb6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#conv_cum"><span class="id" title="definition">conv_cum</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#pb:50"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#cbbfa2396495d39f80c59fc2f71e0bb6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#60ffb00576919416289d5bb12a3b56d1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#t:53"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#t':54"><span class="id" title="variable">t'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="v:56" class="idref" href="#v:56"><span class="id" title="binder">v</span></a> <a id="v':57" class="idref" href="#v':57"><span class="id" title="binder">v'</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">[×</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#cbbfa2396495d39f80c59fc2f71e0bb6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#60ffb00576919416289d5bb12a3b56d1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#t:53"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#v:56"><span class="id" title="variable">v</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#cbbfa2396495d39f80c59fc2f71e0bb6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#60ffb00576919416289d5bb12a3b56d1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#t':54"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#v':57"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#eq_termp"><span class="id" title="abbreviation">eq_termp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#cbbfa2396495d39f80c59fc2f71e0bb6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#pb:50"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#v:56"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#v':57"><span class="id" title="variable">v'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">]</span></a><a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> <a id="P:58" class="idref" href="#P:58"><span class="id" title="binder"><span id="P:60" class="id">P</span></span></a> <a id="Q:59" class="idref" href="#Q:59"><span class="id" title="binder"><span id="Q:61" class="id">Q</span></span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#P:58"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Utils.MRRelations.html#e8aac4a093c83da9a780e8c256235d19"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#Q:59"><span class="id" title="variable">Q</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#P:58"><span class="id" title="variable">P</span></a><a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#Q:59"><span class="id" title="variable">Q</span></a><a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">p</span>]; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ws_cumul_pb_alt_closed"><span class="id" title="lemma">ws_cumul_pb_alt_closed</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="conv_conv_cum_l" class="idref" href="#conv_conv_cum_l"><span class="id" title="lemma">conv_conv_cum_l</span></a> {<a id="cf:62" class="idref" href="#cf:62"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="45eeb0a1cf4691796472cadbc1cb66fd" class="idref" href="#45eeb0a1cf4691796472cadbc1cb66fd"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) <a id="leq:64" class="idref" href="#leq:64"><span class="id" title="binder">leq</span></a> <a id="79e37c9ff12ecc84ba1fac2efe4b1d20" class="idref" href="#79e37c9ff12ecc84ba1fac2efe4b1d20"><span class="id" title="binder">Γ</span></a> <a id="u:66" class="idref" href="#u:66"><span class="id" title="binder">u</span></a> <a id="v:67" class="idref" href="#v:67"><span class="id" title="binder">v</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#45eeb0a1cf4691796472cadbc1cb66fd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#79e37c9ff12ecc84ba1fac2efe4b1d20"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#u:66"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#v:67"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#conv_cum"><span class="id" title="definition">conv_cum</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#leq:64"><span class="id" title="variable">leq</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#45eeb0a1cf4691796472cadbc1cb66fd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#79e37c9ff12ecc84ba1fac2efe4b1d20"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#u:66"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#v:67"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> [] <span class="id" title="var">Γ</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContextConversion.html#ws_cumul_pb_eq_le"><span class="id" title="lemma">ws_cumul_pb_eq_le</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="conv_conv_cum_r" class="idref" href="#conv_conv_cum_r"><span class="id" title="lemma">conv_conv_cum_r</span></a> {<a id="cf:68" class="idref" href="#cf:68"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="4490fc2114c8436ece16d296ed53d878" class="idref" href="#4490fc2114c8436ece16d296ed53d878"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) <a id="leq:70" class="idref" href="#leq:70"><span class="id" title="binder">leq</span></a> <a id="ae54ab5c4475beb427c8e416da54c258" class="idref" href="#ae54ab5c4475beb427c8e416da54c258"><span class="id" title="binder">Γ</span></a> <a id="u:72" class="idref" href="#u:72"><span class="id" title="binder">u</span></a> <a id="v:73" class="idref" href="#v:73"><span class="id" title="binder">v</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#4490fc2114c8436ece16d296ed53d878"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#ae54ab5c4475beb427c8e416da54c258"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#u:72"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#v:73"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#conv_cum"><span class="id" title="definition">conv_cum</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#leq:70"><span class="id" title="variable">leq</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#4490fc2114c8436ece16d296ed53d878"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#ae54ab5c4475beb427c8e416da54c258"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#v:73"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#u:72"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> [] <span class="id" title="var">Γ</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContextConversion.html#ws_cumul_pb_eq_le"><span class="id" title="lemma">ws_cumul_pb_eq_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="closed_red_red" class="idref" href="#closed_red_red"><span class="id" title="definition">closed_red_red</span></a> {<a id="0bb1b226b53b6455e93ad6a4d211d8ec" class="idref" href="#0bb1b226b53b6455e93ad6a4d211d8ec"><span class="id" title="binder">Σ</span></a> <a id="e51bcafeb9b433188a2c3b3a39d1e22b" class="idref" href="#e51bcafeb9b433188a2c3b3a39d1e22b"><span class="id" title="binder">Γ</span></a> <a id="T:76" class="idref" href="#T:76"><span class="id" title="binder">T</span></a> <a id="U:77" class="idref" href="#U:77"><span class="id" title="binder">U</span></a>} : <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#0bb1b226b53b6455e93ad6a4d211d8ec"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#e51bcafeb9b433188a2c3b3a39d1e22b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#T:76"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#U:77"><span class="id" title="variable">U</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red"><span class="id" title="definition">red</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#0bb1b226b53b6455e93ad6a4d211d8ec"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#e51bcafeb9b433188a2c3b3a39d1e22b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#T:76"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#U:77"><span class="id" title="variable">U</span></a> := <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#clrel_rel"><span class="id" title="projection">clrel_rel</span></a>.<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#closed_red_red"><span class="id" title="definition">closed_red_red</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#closed_red_red"><span class="id" title="definition">:</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#closed_red_red"><span class="id" title="definition">closed_red</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#closed_red_red"><span class="id" title="definition">&gt;-&gt;</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#closed_red_red"><span class="id" title="definition">red</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="fixed" class="idref" href="#fixed"><span class="id" title="section">fixed</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="fixed.cf" class="idref" href="#fixed.cf"><span class="id" title="variable">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="3650aae66c316967b6d0f706611c2145" class="idref" href="#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="66442364613dbb5d1573b60e758d9021" class="idref" href="#66442364613dbb5d1573b60e758d9021"><span class="id" title="variable">wfΣ</span></a> : <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="isIndConstructApp" class="idref" href="#isIndConstructApp"><span class="id" title="definition">isIndConstructApp</span></a> (<a id="t:81" class="idref" href="#t:81"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#t:81"><span class="id" title="variable">t</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="isIndConstructApp_mkApps" class="idref" href="#isIndConstructApp_mkApps"><span class="id" title="lemma">isIndConstructApp_mkApps</span></a> <a id="hd:82" class="idref" href="#hd:82"><span class="id" title="binder">hd</span></a> <a id="args:83" class="idref" href="#args:83"><span class="id" title="binder">args</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#isIndConstructApp"><span class="id" title="definition">isIndConstructApp</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#hd:82"><span class="id" title="variable">hd</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#args:83"><span class="id" title="variable">args</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#isIndConstructApp"><span class="id" title="definition">isIndConstructApp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#hd:82"><span class="id" title="variable">hd</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#isIndConstructApp"><span class="id" title="definition">isIndConstructApp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#mkApps_elim"><span class="id" title="lemma">mkApps_elim</span></a> <span class="id" title="var">hd</span> <span class="id" title="var">args</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app_mkApps"><span class="id" title="lemma">decompose_app_mkApps</span></a>; <span class="id" title="tactic">by</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eq_term_upto_univ_napp_nonind" class="idref" href="#eq_term_upto_univ_napp_nonind"><span class="id" title="lemma">eq_term_upto_univ_napp_nonind</span></a> <a id="cmp_universe:84" class="idref" href="#cmp_universe:84"><span class="id" title="binder">cmp_universe</span></a> <a id="cmp_sort:85" class="idref" href="#cmp_sort:85"><span class="id" title="binder">cmp_sort</span></a> <a id="pb:86" class="idref" href="#pb:86"><span class="id" title="binder">pb</span></a> <a id="napp:87" class="idref" href="#napp:87"><span class="id" title="binder">napp</span></a> <a id="t:88" class="idref" href="#t:88"><span class="id" title="binder">t</span></a> <a id="t':89" class="idref" href="#t':89"><span class="id" title="binder">t'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_term_upto_univ_napp"><span class="id" title="inductive">eq_term_upto_univ_napp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#cmp_universe:84"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#cmp_sort:85"><span class="id" title="variable">cmp_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#pb:86"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#napp:87"><span class="id" title="variable">napp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#t:88"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#t':89"><span class="id" title="variable">t'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#isIndConstructApp"><span class="id" title="definition">isIndConstructApp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#t:88"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_term_upto_univ"><span class="id" title="abbreviation">eq_term_upto_univ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#cmp_universe:84"><span class="id" title="variable">cmp_universe</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#cmp_sort:85"><span class="id" title="variable">cmp_sort</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#pb:86"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#t:88"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#t':89"><span class="id" title="variable">t'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">eq</span> <span class="id" title="var">not_ind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">k</span>, <span class="id" title="var">not_ind</span> |- *; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_term_upto_univ_napp"><span class="id" title="inductive">eq_term_upto_univ_napp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#isIndConstructApp_mkApps"><span class="id" title="lemma">isIndConstructApp_mkApps</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">u</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">not_ind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">discriminate</span> <span class="id" title="var">not_ind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">discriminate</span> <span class="id" title="var">not_ind</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="whnf_red_isIndConstructApp" class="idref" href="#whnf_red_isIndConstructApp"><span class="id" title="lemma">whnf_red_isIndConstructApp</span></a> <a id="db027aca38788e2b507c990d428e4c0e" class="idref" href="#db027aca38788e2b507c990d428e4c0e"><span class="id" title="binder">Γ</span></a> <a id="t:91" class="idref" href="#t:91"><span class="id" title="binder">t</span></a> <a id="t':92" class="idref" href="#t':92"><span class="id" title="binder">t'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_red"><span class="id" title="inductive">whnf_red</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#db027aca38788e2b507c990d428e4c0e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#t:91"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#t':92"><span class="id" title="variable">t'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#isIndConstructApp"><span class="id" title="definition">isIndConstructApp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#t':92"><span class="id" title="variable">t'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#isIndConstructApp"><span class="id" title="definition">isIndConstructApp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#t:91"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#isIndConstructApp_mkApps"><span class="id" title="lemma">isIndConstructApp_mkApps</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">arg'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#isIndConstructApp_mkApps"><span class="id" title="lemma">isIndConstructApp_mkApps</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">arg</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eq_termp_mkApps_inv" class="idref" href="#eq_termp_mkApps_inv"><span class="id" title="lemma">eq_termp_mkApps_inv</span></a> <a id="pb:93" class="idref" href="#pb:93"><span class="id" title="binder">pb</span></a> <a id="v:94" class="idref" href="#v:94"><span class="id" title="binder">v</span></a> <a id="args:95" class="idref" href="#args:95"><span class="id" title="binder">args</span></a> <a id="v':96" class="idref" href="#v':96"><span class="id" title="binder">v'</span></a> <a id="args':97" class="idref" href="#args':97"><span class="id" title="binder">args'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#isApp"><span class="id" title="definition">isApp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#v:94"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#isApp"><span class="id" title="definition">isApp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#v':96"><span class="id" title="variable">v'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#eq_termp"><span class="id" title="abbreviation">eq_termp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#pb:93"><span class="id" title="variable">pb</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#v:94"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#args:95"><span class="id" title="variable">args</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#v':96"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#args':97"><span class="id" title="variable">args'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#eq_termp_napp"><span class="id" title="definition">eq_termp_napp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#pb:93"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#args:95"><span class="id" title="variable">args</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#v:94"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#v':96"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:98" class="idref" href="#x:98"><span class="id" title="binder">x</span></a> <a id="y:99" class="idref" href="#y:99"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_term"><span class="id" title="abbreviation">eq_term</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#x:98"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#y:99"><span class="id" title="variable">y</span></a>) <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#args:95"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#args':97"><span class="id" title="variable">args'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">noapp1</span> <span class="id" title="var">noapp2</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_term_upto_univ_mkApps_inv"><span class="id" title="lemma">eq_term_upto_univ_mkApps_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span> <span class="id" title="keyword">as</span> (?&amp;?) ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="conv_cum_napp" class="idref" href="#conv_cum_napp"><span class="id" title="definition">conv_cum_napp</span></a> <a id="pb:100" class="idref" href="#pb:100"><span class="id" title="binder">pb</span></a> <a id="34cd44dd39c6730766cf1b6ffd7a4239" class="idref" href="#34cd44dd39c6730766cf1b6ffd7a4239"><span class="id" title="binder">Γ</span></a> <a id="napp:102" class="idref" href="#napp:102"><span class="id" title="binder">napp</span></a> <a id="t:103" class="idref" href="#t:103"><span class="id" title="binder">t</span></a> <a id="t':104" class="idref" href="#t':104"><span class="id" title="binder">t'</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#t:103"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#eq_termp_napp"><span class="id" title="definition">eq_termp_napp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#pb:100"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#napp:102"><span class="id" title="variable">napp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#t:103"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#t':104"><span class="id" title="variable">t'</span></a><a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#conv_cum"><span class="id" title="definition">conv_cum</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#pb:100"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#34cd44dd39c6730766cf1b6ffd7a4239"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#t:103"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#t':104"><span class="id" title="variable">t'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="conv_cum_mkApps_inv" class="idref" href="#conv_cum_mkApps_inv"><span class="id" title="lemma">conv_cum_mkApps_inv</span></a> <a id="pb:106" class="idref" href="#pb:106"><span class="id" title="binder">pb</span></a> <a id="367e0b75814c690d9518e83afce12d6f" class="idref" href="#367e0b75814c690d9518e83afce12d6f"><span class="id" title="binder">Γ</span></a> <a id="hd:108" class="idref" href="#hd:108"><span class="id" title="binder">hd</span></a> <a id="args:109" class="idref" href="#args:109"><span class="id" title="binder">args</span></a> <a id="hd':110" class="idref" href="#hd':110"><span class="id" title="binder">hd'</span></a> <a id="args':111" class="idref" href="#args':111"><span class="id" title="binder">args'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#conv_cum"><span class="id" title="definition">conv_cum</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#pb:106"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#367e0b75814c690d9518e83afce12d6f"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#hd:108"><span class="id" title="variable">hd</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#args:109"><span class="id" title="variable">args</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#hd':110"><span class="id" title="variable">hd'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#args':111"><span class="id" title="variable">args'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#isApp"><span class="id" title="definition">isApp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#hd:108"><span class="id" title="variable">hd</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#isApp"><span class="id" title="definition">isApp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#hd':110"><span class="id" title="variable">hd'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf"><span class="id" title="inductive">whnf</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.default"><span class="id" title="definition">RedFlags.default</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#367e0b75814c690d9518e83afce12d6f"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#hd:108"><span class="id" title="variable">hd</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#args:109"><span class="id" title="variable">args</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf"><span class="id" title="inductive">whnf</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.default"><span class="id" title="definition">RedFlags.default</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#367e0b75814c690d9518e83afce12d6f"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#hd':110"><span class="id" title="variable">hd'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#args':111"><span class="id" title="variable">args'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#conv_cum_napp"><span class="id" title="definition">conv_cum_napp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#pb:106"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#367e0b75814c690d9518e83afce12d6f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#args:109"><span class="id" title="variable">args</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#hd:108"><span class="id" title="variable">hd</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#hd':110"><span class="id" title="variable">hd'</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#ws_cumul_pb_terms"><span class="id" title="abbreviation">ws_cumul_pb_terms</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#367e0b75814c690d9518e83afce12d6f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#args:109"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#args':111"><span class="id" title="variable">args'</span></a><a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">conv</span> <span class="id" title="var">notapp</span> <span class="id" title="var">notapp'</span> <span class="id" title="var">wh</span> <span class="id" title="var">wh'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#conv_cum_alt"><span class="id" title="lemma">conv_cum_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">conv</span> <span class="id" title="keyword">as</span> [(?&amp;?&amp;[<span class="id" title="var">r1</span> <span class="id" title="var">r2</span> <span class="id" title="var">e</span>])]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_red_inv"><span class="id" title="lemma">whnf_red_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wh</span> <span class="id" title="var">r1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">w1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_red_mkApps_l_inv"><span class="id" title="lemma">whnf_red_mkApps_l_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">w1</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;-&gt;&amp;?&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_red_inv"><span class="id" title="lemma">whnf_red_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wh'</span> <span class="id" title="var">r2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">w2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_red_mkApps_l_inv"><span class="id" title="lemma">whnf_red_mkApps_l_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">w2</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;-&gt;&amp;?&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_red_isApp"><span class="id" title="lemma">whnf_red_isApp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">w</span> <span class="id" title="keyword">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_red_isApp"><span class="id" title="lemma">whnf_red_isApp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">w0</span> <span class="id" title="keyword">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#eq_termp_mkApps_inv"><span class="id" title="lemma">eq_termp_mkApps_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> (?&amp;?); <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">clΓ</span> : <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_closed_context"><span class="id" title="abbreviation">is_closed_context</span></a> <span class="id" title="var">Γ</span> <span class="id" title="tactic">by</span> <span class="id" title="var">fvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> [<span class="id" title="var">clhd</span> <span class="id" title="var">clargs</span>] : <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">hd</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <span class="id" title="var">Γ</span>) <span class="id" title="var">args</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#clrel_src"><span class="id" title="projection">clrel_src</span></a>: <span class="id" title="var">r1</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_mkApps"><span class="id" title="lemma">on_free_vars_mkApps</span></a> ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> [<span class="id" title="var">clhd'</span> <span class="id" title="var">clargs'</span>] : <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">hd'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <span class="id" title="var">Γ</span>) <span class="id" title="var">args'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#clrel_src"><span class="id" title="projection">clrel_src</span></a>: <span class="id" title="var">r2</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_mkApps"><span class="id" title="lemma">on_free_vars_mkApps</span></a> ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#whnf_red_isIndConstructApp"><span class="id" title="lemma">whnf_red_isIndConstructApp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">w</span> <span class="id" title="keyword">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-9, 12-16: <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#conv_cum_alt"><span class="id" title="lemma">conv_cum_alt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-13: <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-13: <span class="id" title="tactic">∃</span> <span class="id" title="var">x1</span>, <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-13: <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-13: (<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#eq_term_upto_univ_napp_nonind"><span class="id" title="lemma">eq_term_upto_univ_napp_nonind</span></a>; [<span class="id" title="tactic">exact</span> <span class="id" title="var">e</span>|<span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">H1</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-13: <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-3: <span class="id" title="var">depelim</span> <span class="id" title="var">w</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">e</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">w0</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">auto</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">∃</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tPrim"><span class="id" title="constructor">tPrim</span></a> <span class="id" title="var">i'</span>), (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tPrim"><span class="id" title="constructor">tPrim</span></a> <span class="id" title="var">i'0</span>). <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="var">all</span>:<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#alt_into_ws_cumul_pb_terms"><span class="id" title="lemma">alt_into_ws_cumul_pb_terms</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">a1</span> <span class="id" title="var">a</span> <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">a1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">args</span>, <span class="id" title="var">args'</span>, <span class="id" title="var">x2</span>, <span class="id" title="var">a</span>, <span class="id" title="var">x3</span>, <span class="id" title="var">a0</span>, <span class="id" title="var">a1</span> |- *; <span class="id" title="var">depelim</span> <span class="id" title="var">a</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">a0</span>; [<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#cumul_alt"><span class="id" title="lemma">cumul_alt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>, <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHa1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="conv_cum_tCase_inv" class="idref" href="#conv_cum_tCase_inv"><span class="id" title="lemma">conv_cum_tCase_inv</span></a> <a id="leq:112" class="idref" href="#leq:112"><span class="id" title="binder">leq</span></a> <a id="b753e80e0e5dfbb52eabc9cec0d12fc6" class="idref" href="#b753e80e0e5dfbb52eabc9cec0d12fc6"><span class="id" title="binder">Γ</span></a> <a id="ci:114" class="idref" href="#ci:114"><span class="id" title="binder">ci</span></a> <a id="p:115" class="idref" href="#p:115"><span class="id" title="binder">p</span></a> <a id="discr:116" class="idref" href="#discr:116"><span class="id" title="binder">discr</span></a> <a id="brs:117" class="idref" href="#brs:117"><span class="id" title="binder">brs</span></a> <a id="ci':118" class="idref" href="#ci':118"><span class="id" title="binder">ci'</span></a> <a id="p':119" class="idref" href="#p':119"><span class="id" title="binder">p'</span></a> <a id="discr':120" class="idref" href="#discr':120"><span class="id" title="binder">discr'</span></a> <a id="brs':121" class="idref" href="#brs':121"><span class="id" title="binder">brs'</span></a> <a id="mdecl:122" class="idref" href="#mdecl:122"><span class="id" title="binder">mdecl</span></a> <a id="idecl:123" class="idref" href="#idecl:123"><span class="id" title="binder">idecl</span></a> <a id="mdecl':124" class="idref" href="#mdecl':124"><span class="id" title="binder">mdecl'</span></a> <a id="idecl':125" class="idref" href="#idecl':125"><span class="id" title="binder">idecl'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#conv_cum"><span class="id" title="definition">conv_cum</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#leq:112"><span class="id" title="variable">leq</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#b753e80e0e5dfbb52eabc9cec0d12fc6"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#ci:114"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#p:115"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#discr:116"><span class="id" title="variable">discr</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#brs:117"><span class="id" title="variable">brs</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#ci':118"><span class="id" title="variable">ci'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#p':119"><span class="id" title="variable">p'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#discr':120"><span class="id" title="variable">discr'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#brs':121"><span class="id" title="variable">brs'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#ci:114"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#mdecl:122"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#idecl:123"><span class="id" title="variable">idecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#ci':118"><span class="id" title="variable">ci'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#mdecl':124"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#idecl':125"><span class="id" title="variable">idecl'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_predicate"><span class="id" title="definition">wf_predicate</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#mdecl:122"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#idecl:123"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#p:115"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_predicate"><span class="id" title="definition">wf_predicate</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#mdecl':124"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#idecl':125"><span class="id" title="variable">idecl'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#p':119"><span class="id" title="variable">p'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf"><span class="id" title="inductive">whnf</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.default"><span class="id" title="definition">RedFlags.default</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#b753e80e0e5dfbb52eabc9cec0d12fc6"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#ci:114"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#p:115"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#discr:116"><span class="id" title="variable">discr</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#brs:117"><span class="id" title="variable">brs</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf"><span class="id" title="inductive">whnf</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.default"><span class="id" title="definition">RedFlags.default</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#b753e80e0e5dfbb52eabc9cec0d12fc6"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#ci':118"><span class="id" title="variable">ci'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#p':119"><span class="id" title="variable">p'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#discr':120"><span class="id" title="variable">discr'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#brs':121"><span class="id" title="variable">brs'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">[×</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#ci:114"><span class="id" title="variable">ci</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#ci':118"><span class="id" title="variable">ci'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#ws_cumul_pb_predicate"><span class="id" title="definition">ws_cumul_pb_predicate</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#b753e80e0e5dfbb52eabc9cec0d12fc6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#p:115"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#p':119"><span class="id" title="variable">p'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#b753e80e0e5dfbb52eabc9cec0d12fc6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#discr:116"><span class="id" title="variable">discr</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#discr':120"><span class="id" title="variable">discr'</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#ws_cumul_pb_brs"><span class="id" title="definition">ws_cumul_pb_brs</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#b753e80e0e5dfbb52eabc9cec0d12fc6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#p:115"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#brs:117"><span class="id" title="variable">brs</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#brs':121"><span class="id" title="variable">brs'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">]</span></a><a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">conv</span> <span class="id" title="var">decli</span> <span class="id" title="var">decli'</span> <span class="id" title="var">wfp</span> <span class="id" title="var">wfp'</span> <span class="id" title="var">whl</span> <span class="id" title="var">whr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">whl</span>; <span class="id" title="var">solve_discr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">w</span>; <span class="id" title="var">solve_discr</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">whr</span>; <span class="id" title="var">solve_discr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">w0</span>; <span class="id" title="var">solve_discr</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#conv_cum_alt"><span class="id" title="lemma">conv_cum_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">conv</span> <span class="id" title="keyword">as</span> [(?&amp;?&amp;[<span class="id" title="var">r1</span> <span class="id" title="var">r2</span> <span class="id" title="var">eq</span>])]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">clΓ</span> : <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_closed_context"><span class="id" title="abbreviation">is_closed_context</span></a> <span class="id" title="var">Γ</span> <span class="id" title="tactic">by</span> <span class="id" title="var">fvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span>(<span class="id" title="var">l</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <span class="id" title="var">ci</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span>(<span class="id" title="var">r</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <span class="id" title="var">ci'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">cll</span> : <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#clrel_src"><span class="id" title="projection">clrel_src</span></a>: <span class="id" title="var">r1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">clr</span> : <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#clrel_src"><span class="id" title="projection">clrel_src</span></a>: <span class="id" title="var">r2</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_red_inv"><span class="id" title="lemma">whnf_red_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_red_inv"><span class="id" title="lemma">whnf_red_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">r1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">r2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">pl</span> := {| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> := <span class="id" title="var">motivepars</span> |}) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">pr</span> := {| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> := <span class="id" title="var">motivepars0</span> |}) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">decli_</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_inductive_to_gen"><span class="id" title="lemma">declared_inductive_to_gen</span></a> <span class="id" title="var">decli</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">decli'_</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_inductive_to_gen"><span class="id" title="lemma">declared_inductive_to_gen</span></a> <span class="id" title="var">decli'</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICGlobalEnv.html#declared_inductive_inj"><span class="id" title="lemma">declared_inductive_inj</span></a> <span class="id" title="var">decli_</span> <span class="id" title="var">decli'_</span>) <span class="id" title="keyword">as</span> [-&gt; -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">inv_on_free_vars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">clred</span> : <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#red_terms"><span class="id" title="abbreviation">red_terms</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Γ</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">motivepars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#into_red_terms"><span class="id" title="lemma">into_red_terms</span></a>; <span class="id" title="var">tea</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">clred'</span> : <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#red_terms"><span class="id" title="abbreviation">red_terms</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Γ</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> <span class="id" title="var">p'</span>) <span class="id" title="var">motivepars0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#into_red_terms"><span class="id" title="lemma">into_red_terms</span></a>; <span class="id" title="var">tea</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">eqpars</span> : <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#ws_cumul_pb_terms"><span class="id" title="abbreviation">ws_cumul_pb_terms</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Γ</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> <span class="id" title="var">p</span>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> <span class="id" title="var">p'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">etransitivity</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#red_terms_ws_cumul_pb_terms"><span class="id" title="lemma">red_terms_ws_cumul_pb_terms</span></a>; <span class="id" title="var">tea</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> <span class="id" title="var">motivepars0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#eq_terms_ws_cumul_pb_terms"><span class="id" title="lemma">eq_terms_ws_cumul_pb_terms</span></a>; <span class="id" title="var">fvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#closed_red_terms_open_right"><span class="id" title="lemma">closed_red_terms_open_right</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">clred</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#closed_red_terms_open_right"><span class="id" title="lemma">closed_red_terms_open_right</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">clred'</span>; <span class="id" title="var">solve_all</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#red_terms_ws_cumul_pb_terms"><span class="id" title="lemma">red_terms_ws_cumul_pb_terms</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#into_red_terms"><span class="id" title="lemma">into_red_terms</span></a>; <span class="id" title="var">tea</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">eq_instctx</span> : <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#8249679dbd26c3790f32ed1c0d47bbe1"><span class="id" title="notation">⊢</span></a> <span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_predicate_context"><span class="id" title="definition">inst_case_predicate_context</span></a> <span class="id" title="var">p</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#8249679dbd26c3790f32ed1c0d47bbe1"><span class="id" title="notation">=</span></a> <span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_predicate_context"><span class="id" title="definition">inst_case_predicate_context</span></a> <span class="id" title="var">p'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#inst_case_ws_cumul_ctx_pb"><span class="id" title="lemma">inst_case_ws_cumul_ctx_pb</span></a> <span class="id" title="var">decli</span>); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_predicate_length_pars"><span class="id" title="lemma">wf_predicate_length_pars</span></a> <span class="id" title="var">wfp</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_predicate_length_pars"><span class="id" title="lemma">wf_predicate_length_pars</span></a> <span class="id" title="var">wfp'</span>). } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">transitivity</span> <span class="id" title="var">motiveret0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ws_cumul_pb_alt_closed"><span class="id" title="lemma">ws_cumul_pb_alt_closed</span></a>. <span class="id" title="tactic">∃</span> <span class="id" title="var">motiveret</span>, <span class="id" title="var">motiveret0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_app"><span class="id" title="lemma">on_free_vars_ctx_app</span></a>. <span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_inst_case_context"><span class="id" title="lemma">on_free_vars_ctx_inst_case_context</span></a>; <span class="id" title="var">tea</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#test_context_k_closed_on_free_vars_ctx"><span class="id" title="lemma">test_context_k_closed_on_free_vars_ctx</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">len</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">p6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContextConversion.html#closed_red_refl"><span class="id" title="lemma">closed_red_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_app"><span class="id" title="lemma">on_free_vars_ctx_app</span></a>. <span class="id" title="tactic">apply</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_inst_case_context"><span class="id" title="lemma">on_free_vars_ctx_inst_case_context</span></a>; <span class="id" title="var">tea</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#test_context_k_closed_on_free_vars_ctx"><span class="id" title="lemma">test_context_k_closed_on_free_vars_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#red_on_free_vars"><span class="id" title="lemma">red_on_free_vars</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r1</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="var">a4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">p1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="var">a4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_inst_case_context"><span class="id" title="lemma">on_ctx_free_vars_inst_case_context</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#test_context_k_closed_on_free_vars_ctx"><span class="id" title="lemma">test_context_k_closed_on_free_vars_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">erewrite</span> → <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_on_ctx_free_vars"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICContextConversion.html#ws_cumul_pb_ws_cumul_ctx"><span class="id" title="lemma">ws_cumul_pb_ws_cumul_ctx</span></a> (<span class="id" title="var">Γ</span> := <span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_predicate_context"><span class="id" title="definition">inst_case_predicate_context</span></a> <span class="id" title="var">p'</span>) (<span class="id" title="var">pb'</span>:=<a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a>)) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#red_ws_cumul_pb"><span class="id" title="lemma">red_ws_cumul_pb</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#into_closed_red"><span class="id" title="lemma">into_closed_red</span></a>; <span class="id" title="tactic">eauto</span>. 1:<span class="id" title="var">fvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">p1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ws_cumul_pb_alt_closed"><span class="id" title="lemma">ws_cumul_pb_alt_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">discr'0</span>, <span class="id" title="var">discr'1</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#into_closed_red"><span class="id" title="lemma">into_closed_red</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rename</span> <span class="id" title="var">a0</span> <span class="id" title="var">into</span> <span class="id" title="var">brsa1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">a2</span> <span class="id" title="var">into</span> <span class="id" title="var">brsa2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">e0</span> <span class="id" title="var">into</span> <span class="id" title="var">brseq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">wfΣ</span> <span class="id" title="var">decli</span> <span class="id" title="var">brsa1</span> <span class="id" title="var">brsa2</span> <span class="id" title="var">brseq</span> <span class="id" title="var">clΓ</span> <span class="id" title="var">wfp</span> <span class="id" title="var">wfp'</span> <span class="id" title="var">a</span> <span class="id" title="var">a1</span> <span class="id" title="var">p0</span> <span class="id" title="var">p5</span> <span class="id" title="var">p4</span> <span class="id" title="var">p9</span> <span class="id" title="var">c</span> <span class="id" title="var">eqpars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">brseq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">brs</span>, <span class="id" title="var">brs'</span>, <span class="id" title="var">brsa1</span>, <span class="id" title="var">brsa2</span>, <span class="id" title="var">p4</span>, <span class="id" title="var">p9</span> |- *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">brsa1</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">brsa2</span>; [<span class="id" title="tactic">constructor</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p0</span>, <span class="id" title="var">p1</span>, <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p4</span>, <span class="id" title="var">p9</span>. <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">p4</span> ⇒ [<span class="id" title="var">fv</span> <span class="id" title="var">p4</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">p9</span> ⇒ [<span class="id" title="var">fv'</span> <span class="id" title="var">p9</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">apply</span> <span class="id" title="var">IHbrseq</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">eqctx</span> : <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#8249679dbd26c3790f32ed1c0d47bbe1"><span class="id" title="notation">⊢</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a> <span class="id" title="var">p</span> <span class="id" title="var">x0</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#8249679dbd26c3790f32ed1c0d47bbe1"><span class="id" title="notation">=</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a> <span class="id" title="var">p'</span> <span class="id" title="var">x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#inst_case_ws_cumul_ctx_pb"><span class="id" title="lemma">inst_case_ws_cumul_ctx_pb</span></a> <span class="id" title="var">decli</span>); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_predicate_length_pars"><span class="id" title="lemma">wf_predicate_length_pars</span></a> <span class="id" title="var">wfp</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#wf_predicate_length_pars"><span class="id" title="lemma">wf_predicate_length_pars</span></a> <span class="id" title="var">wfp'</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#test_context_k_closed_on_free_vars_ctx"><span class="id" title="lemma">test_context_k_closed_on_free_vars_ctx</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">fv'</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#test_context_k_closed_on_free_vars_ctx"><span class="id" title="lemma">test_context_k_closed_on_free_vars_ctx</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">fv</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="var">e0</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="var">e0</span>; <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a> <span class="id" title="var">x</span>); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#red_ws_cumul_pb"><span class="id" title="lemma">red_ws_cumul_pb</span></a>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ws_cumul_ctx_pb_closed_left"><span class="id" title="lemma">ws_cumul_ctx_pb_closed_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">fv'</span> ⇒ []. <span class="id" title="var">now</span> <span class="id" title="var">len</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a> <span class="id" title="var">y</span>); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. 1:<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ws_cumul_ctx_pb_closed_left"><span class="id" title="lemma">ws_cumul_ctx_pb_closed_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#closed_red_open_right"><span class="id" title="lemma">closed_red_open_right</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#into_closed_red"><span class="id" title="lemma">into_closed_red</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ws_cumul_ctx_pb_closed_left"><span class="id" title="lemma">ws_cumul_ctx_pb_closed_left</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">fv'</span> ⇒ []. <span class="id" title="var">len</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">fv</span> ⇒ [] <span class="id" title="var">fv</span> <span class="id" title="var">fvx1</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#red_on_free_vars"><span class="id" title="lemma">red_on_free_vars</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">fvx1</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="var">a0</span>) -<span class="id" title="var">e0</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">fvx1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a>. <span class="id" title="var">relativize</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <span class="id" title="var">x1</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id" title="tactic">rewrite</span> → <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_on_ctx_free_vars"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars</span></a>. 2:<span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ws_cumul_ctx_pb_closed_right"><span class="id" title="lemma">ws_cumul_ctx_pb_closed_right</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqctx</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContextConversion.html#ws_cumul_pb_ws_cumul_ctx"><span class="id" title="lemma">ws_cumul_pb_ws_cumul_ctx</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#red_ws_cumul_pb"><span class="id" title="lemma">red_ws_cumul_pb</span></a>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ws_cumul_ctx_pb_closed_right"><span class="id" title="lemma">ws_cumul_ctx_pb_closed_right</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">fv</span> ⇒ []. <span class="id" title="var">len</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="conv_cum_tFix_inv" class="idref" href="#conv_cum_tFix_inv"><span class="id" title="lemma">conv_cum_tFix_inv</span></a> <a id="leq:126" class="idref" href="#leq:126"><span class="id" title="binder">leq</span></a> <a id="6e782b379a22be72fd8811f565d97df0" class="idref" href="#6e782b379a22be72fd8811f565d97df0"><span class="id" title="binder">Γ</span></a> <a id="mfix:128" class="idref" href="#mfix:128"><span class="id" title="binder">mfix</span></a> <a id="idx:129" class="idref" href="#idx:129"><span class="id" title="binder">idx</span></a> <a id="mfix':130" class="idref" href="#mfix':130"><span class="id" title="binder">mfix'</span></a> <a id="idx':131" class="idref" href="#idx':131"><span class="id" title="binder">idx'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#conv_cum"><span class="id" title="definition">conv_cum</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#leq:126"><span class="id" title="variable">leq</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#6e782b379a22be72fd8811f565d97df0"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#mfix:128"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#idx:129"><span class="id" title="variable">idx</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#mfix':130"><span class="id" title="variable">mfix'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#idx':131"><span class="id" title="variable">idx'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#idx:129"><span class="id" title="variable">idx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#idx':131"><span class="id" title="variable">idx'</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="d:132" class="idref" href="#d:132"><span class="id" title="binder">d</span></a> <a id="d':133" class="idref" href="#d':133"><span class="id" title="binder">d'</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">[×</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#rarg"><span class="id" title="projection">rarg</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#d:132"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#rarg"><span class="id" title="projection">rarg</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#d':133"><span class="id" title="variable">d'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#d:132"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#dname"><span class="id" title="projection">dname</span></a>) <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#d':133"><span class="id" title="variable">d'</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#dname"><span class="id" title="projection">dname</span></a>)<a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#6e782b379a22be72fd8811f565d97df0"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#d:132"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#d':133"><span class="id" title="variable">d'</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#6e782b379a22be72fd8811f565d97df0"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#mfix:128"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#d:132"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#d':133"><span class="id" title="variable">d'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#mfix:128"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#mfix':130"><span class="id" title="variable">mfix'</span></a><a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">conv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#conv_cum_alt"><span class="id" title="lemma">conv_cum_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">conv</span> <span class="id" title="keyword">as</span> [(?&amp;?&amp;[<span class="id" title="var">r1</span> <span class="id" title="var">r2</span> <span class="id" title="var">eq</span>])]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> <a id="defs:134" class="idref" href="#defs:134"><span class="id" title="binder"><span id="defs:136" class="id">defs</span></span></a> <a id="i:135" class="idref" href="#i:135"><span class="id" title="binder"><span id="i:137" class="id">i</span></span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf"><span class="id" title="inductive">whnf</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.default"><span class="id" title="definition">RedFlags.default</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Γ</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#defs:134"><span class="id" title="variable">defs</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#i:135"><span class="id" title="variable">i</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">defs</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_fixapp"><span class="id" title="constructor">whnf_fixapp</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">args</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; [|<span class="id" title="var">easy</span>]. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_nil"><span class="id" title="lemma">nth_error_nil</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">clΓ</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#clrel_ctx"><span class="id" title="projection">clrel_ctx</span></a> <span class="id" title="var">r1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">cll</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#clrel_src"><span class="id" title="projection">clrel_src</span></a> <span class="id" title="var">r1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">clr</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#clrel_src"><span class="id" title="projection">clrel_src</span></a> <span class="id" title="var">r2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">clx</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#closed_red_open_right"><span class="id" title="lemma">closed_red_open_right</span></a> <span class="id" title="var">r1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">cly</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#closed_red_open_right"><span class="id" title="lemma">closed_red_open_right</span></a> <span class="id" title="var">r2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_red_inv"><span class="id" title="lemma">whnf_red_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_red_inv"><span class="id" title="lemma">whnf_red_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">r1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">r2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">easy</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cll</span>, <span class="id" title="var">clr</span>, <span class="id" title="var">clx</span>, <span class="id" title="var">cly</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">clmfixctx</span> : <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_closed_context"><span class="id" title="abbreviation">is_closed_context</span></a> (<span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <span class="id" title="var">mfix</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_app"><span class="id" title="lemma">on_free_vars_ctx_app</span></a> <span class="id" title="var">clΓ</span> /=. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_fix_context"><span class="id" title="lemma">on_free_vars_fix_context</span></a>; <span class="id" title="var">solve_all</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">clmfixctx'</span> : <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_closed_context"><span class="id" title="abbreviation">is_closed_context</span></a> (<span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <span class="id" title="var">mfix'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_app"><span class="id" title="lemma">on_free_vars_ctx_app</span></a> <span class="id" title="var">clΓ</span> /=. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_fix_context"><span class="id" title="lemma">on_free_vars_fix_context</span></a>; <span class="id" title="var">solve_all</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_mfixpoint"><span class="id" title="definition">eq_mfixpoint</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">clmfixctx</span> <span class="id" title="var">clmfixctx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">wfΣ</span> <span class="id" title="var">a</span> <span class="id" title="var">a0</span> <span class="id" title="var">e</span> <span class="id" title="var">clΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix'</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[|<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a0</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">a</span> <span class="id" title="var">a0</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">mfix</span> <span class="id" title="keyword">as</span> <span class="id" title="var">ctx_fix</span> <span class="id" title="tactic">in</span> |-. <span class="id" title="tactic">set</span> <span class="id" title="var">mfix'</span> <span class="id" title="keyword">as</span> <span class="id" title="var">ctx_fix'</span> <span class="id" title="tactic">in</span> |-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <span class="id" title="var">mfix</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <span class="id" title="var">ctx_fix</span>). <span class="id" title="tactic">change</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <span class="id" title="var">mfix'</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <span class="id" title="var">ctx_fix'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">ctx_fix</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>. <span class="id" title="tactic">change</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix'</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">ctx_fix'</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">ctx_fix</span> <span class="id" title="var">ctx_fix'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">all1</span> <span class="id" title="var">all2</span> <span class="id" title="var">all</span> <span class="id" title="var">len_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">all</span> <span class="id" title="tactic">in</span> <span class="id" title="var">mfix</span>, <span class="id" title="var">mfix'</span>, <span class="id" title="var">all1</span>, <span class="id" title="var">all2</span>, <span class="id" title="var">all</span> |- *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">all1</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">all2</span>; <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">constructor</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [|<span class="id" title="var">now</span> <span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> ((?&amp;(? &amp; ? &amp; ? &amp; ?))&amp;?), <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?), <span class="id" title="var">p0</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ws_cumul_pb_alt_closed"><span class="id" title="lemma">ws_cumul_pb_alt_closed</span></a>; <span class="id" title="tactic">∃</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <span class="id" title="var">x</span>), (<a class="idref" href="MetaRocq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <span class="id" title="var">y</span>). <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#into_closed_red"><span class="id" title="lemma">into_closed_red</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">i1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">i2</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ws_cumul_pb_alt_closed"><span class="id" title="lemma">ws_cumul_pb_alt_closed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <span class="id" title="var">x</span>), (<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| |<span class="id" title="var">easy</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#into_closed_red"><span class="id" title="lemma">into_closed_red</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">i1</span> ⇒ []. <span class="id" title="var">now</span> <span class="id" title="var">len</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICRedTypeIrrelevance.html#context_pres_let_bodies_red"><span class="id" title="lemma">PCUICRedTypeIrrelevance.context_pres_let_bodies_red</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICRedTypeIrrelevance.html#fix_context_pres_let_bodies"><span class="id" title="lemma">PCUICRedTypeIrrelevance.fix_context_pres_let_bodies</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">i2</span> ⇒ []. <span class="id" title="var">len</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">len_eq</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="conv_cum_tCoFix_inv" class="idref" href="#conv_cum_tCoFix_inv"><span class="id" title="lemma">conv_cum_tCoFix_inv</span></a> <a id="leq:138" class="idref" href="#leq:138"><span class="id" title="binder">leq</span></a> <a id="3f1ad0985b3b15c6f067f772239c78db" class="idref" href="#3f1ad0985b3b15c6f067f772239c78db"><span class="id" title="binder">Γ</span></a> <a id="mfix:140" class="idref" href="#mfix:140"><span class="id" title="binder">mfix</span></a> <a id="idx:141" class="idref" href="#idx:141"><span class="id" title="binder">idx</span></a> <a id="mfix':142" class="idref" href="#mfix':142"><span class="id" title="binder">mfix'</span></a> <a id="idx':143" class="idref" href="#idx':143"><span class="id" title="binder">idx'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#conv_cum"><span class="id" title="definition">conv_cum</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#leq:138"><span class="id" title="variable">leq</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3f1ad0985b3b15c6f067f772239c78db"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#mfix:140"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#idx:141"><span class="id" title="variable">idx</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#mfix':142"><span class="id" title="variable">mfix'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#idx':143"><span class="id" title="variable">idx'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#idx:141"><span class="id" title="variable">idx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#idx':143"><span class="id" title="variable">idx'</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="d:144" class="idref" href="#d:144"><span class="id" title="binder">d</span></a> <a id="d':145" class="idref" href="#d':145"><span class="id" title="binder">d'</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">[×</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#rarg"><span class="id" title="projection">rarg</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#d:144"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#rarg"><span class="id" title="projection">rarg</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#d':145"><span class="id" title="variable">d'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#d:144"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#dname"><span class="id" title="projection">dname</span></a>) <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#d':145"><span class="id" title="variable">d'</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#dname"><span class="id" title="projection">dname</span></a>)<a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3f1ad0985b3b15c6f067f772239c78db"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#d:144"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#d':145"><span class="id" title="variable">d'</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3f1ad0985b3b15c6f067f772239c78db"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#mfix:140"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#d:144"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#d':145"><span class="id" title="variable">d'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#mfix:140"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#mfix':142"><span class="id" title="variable">mfix'</span></a><a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">conv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#conv_cum_alt"><span class="id" title="lemma">conv_cum_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">conv</span> <span class="id" title="keyword">as</span> [(?&amp;?&amp;[<span class="id" title="var">r1</span> <span class="id" title="var">r2</span> <span class="id" title="var">eq</span>])]; <span class="id" title="tactic">auto</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> <a id="defs:146" class="idref" href="#defs:146"><span class="id" title="binder"><span id="defs:148" class="id">defs</span></span></a> <a id="i:147" class="idref" href="#i:147"><span class="id" title="binder"><span id="i:149" class="id">i</span></span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf"><span class="id" title="inductive">whnf</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.default"><span class="id" title="definition">RedFlags.default</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Γ</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#defs:146"><span class="id" title="variable">defs</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#i:147"><span class="id" title="variable">i</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">defs</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_cofixapp"><span class="id" title="constructor">whnf_cofixapp</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">v</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">clΓ</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#clrel_ctx"><span class="id" title="projection">clrel_ctx</span></a> <span class="id" title="var">r1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">cll</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#clrel_src"><span class="id" title="projection">clrel_src</span></a> <span class="id" title="var">r1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">clr</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#clrel_src"><span class="id" title="projection">clrel_src</span></a> <span class="id" title="var">r2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">clx</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#closed_red_open_right"><span class="id" title="lemma">closed_red_open_right</span></a> <span class="id" title="var">r1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">cly</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#closed_red_open_right"><span class="id" title="lemma">closed_red_open_right</span></a> <span class="id" title="var">r2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_red_inv"><span class="id" title="lemma">whnf_red_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_red_inv"><span class="id" title="lemma">whnf_red_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">r1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">r2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">easy</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cll</span>, <span class="id" title="var">clr</span>, <span class="id" title="var">clx</span>, <span class="id" title="var">cly</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">clmfixctx</span> : <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_closed_context"><span class="id" title="abbreviation">is_closed_context</span></a> (<span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <span class="id" title="var">mfix</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_app"><span class="id" title="lemma">on_free_vars_ctx_app</span></a> <span class="id" title="var">clΓ</span> /=. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_fix_context"><span class="id" title="lemma">on_free_vars_fix_context</span></a>; <span class="id" title="var">solve_all</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">clmfixctx'</span> : <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#is_closed_context"><span class="id" title="abbreviation">is_closed_context</span></a> (<span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <span class="id" title="var">mfix'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_app"><span class="id" title="lemma">on_free_vars_ctx_app</span></a> <span class="id" title="var">clΓ</span> /=. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_fix_context"><span class="id" title="lemma">on_free_vars_fix_context</span></a>; <span class="id" title="var">solve_all</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#eq_mfixpoint"><span class="id" title="definition">eq_mfixpoint</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">clmfixctx</span> <span class="id" title="var">clmfixctx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">wfΣ</span> <span class="id" title="var">a</span> <span class="id" title="var">a0</span> <span class="id" title="var">e</span> <span class="id" title="var">clΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix'</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[|<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a0</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">a</span> <span class="id" title="var">a0</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">mfix</span> <span class="id" title="keyword">as</span> <span class="id" title="var">ctx_fix</span> <span class="id" title="tactic">in</span> |-. <span class="id" title="tactic">set</span> <span class="id" title="var">mfix'</span> <span class="id" title="keyword">as</span> <span class="id" title="var">ctx_fix'</span> <span class="id" title="tactic">in</span> |-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <span class="id" title="var">mfix</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <span class="id" title="var">ctx_fix</span>). <span class="id" title="tactic">change</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <span class="id" title="var">mfix'</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <span class="id" title="var">ctx_fix'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">ctx_fix</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>. <span class="id" title="tactic">change</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix'</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">ctx_fix'</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">ctx_fix</span> <span class="id" title="var">ctx_fix'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">all1</span> <span class="id" title="var">all2</span> <span class="id" title="var">all</span> <span class="id" title="var">len_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">all</span> <span class="id" title="tactic">in</span> <span class="id" title="var">mfix</span>, <span class="id" title="var">mfix'</span>, <span class="id" title="var">all1</span>, <span class="id" title="var">all2</span>, <span class="id" title="var">all</span> |- *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">all1</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">all2</span>; <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">constructor</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [|<span class="id" title="var">now</span> <span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> ((?&amp;(? &amp; ? &amp; ? &amp; ?))&amp;?), <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?), <span class="id" title="var">p0</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ws_cumul_pb_alt_closed"><span class="id" title="lemma">ws_cumul_pb_alt_closed</span></a>; <span class="id" title="tactic">∃</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <span class="id" title="var">x</span>), (<a class="idref" href="MetaRocq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <span class="id" title="var">y</span>). <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#into_closed_red"><span class="id" title="lemma">into_closed_red</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">i1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">i2</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ws_cumul_pb_alt_closed"><span class="id" title="lemma">ws_cumul_pb_alt_closed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <span class="id" title="var">x</span>), (<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| |<span class="id" title="var">easy</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#into_closed_red"><span class="id" title="lemma">into_closed_red</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">i1</span> ⇒ []. <span class="id" title="var">now</span> <span class="id" title="var">len</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICRedTypeIrrelevance.html#context_pres_let_bodies_red"><span class="id" title="lemma">PCUICRedTypeIrrelevance.context_pres_let_bodies_red</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICRedTypeIrrelevance.html#fix_context_pres_let_bodies"><span class="id" title="lemma">PCUICRedTypeIrrelevance.fix_context_pres_let_bodies</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">i2</span> ⇒ []. <span class="id" title="var">len</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">len_eq</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="conv_cum_tProj_inv" class="idref" href="#conv_cum_tProj_inv"><span class="id" title="lemma">conv_cum_tProj_inv</span></a> <a id="leq:150" class="idref" href="#leq:150"><span class="id" title="binder">leq</span></a> <a id="646e4bc5bf1c33aade7489a0a12cfdca" class="idref" href="#646e4bc5bf1c33aade7489a0a12cfdca"><span class="id" title="binder">Γ</span></a> <a id="p:152" class="idref" href="#p:152"><span class="id" title="binder">p</span></a> <a id="c:153" class="idref" href="#c:153"><span class="id" title="binder">c</span></a> <a id="p':154" class="idref" href="#p':154"><span class="id" title="binder">p'</span></a> <a id="c':155" class="idref" href="#c':155"><span class="id" title="binder">c'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#conv_cum"><span class="id" title="definition">conv_cum</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#leq:150"><span class="id" title="variable">leq</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#646e4bc5bf1c33aade7489a0a12cfdca"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#p:152"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#c:153"><span class="id" title="variable">c</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#p':154"><span class="id" title="variable">p'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#c':155"><span class="id" title="variable">c'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf"><span class="id" title="inductive">whnf</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.default"><span class="id" title="definition">RedFlags.default</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#646e4bc5bf1c33aade7489a0a12cfdca"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#p:152"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#c:153"><span class="id" title="variable">c</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf"><span class="id" title="inductive">whnf</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#RedFlags.default"><span class="id" title="definition">RedFlags.default</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#646e4bc5bf1c33aade7489a0a12cfdca"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#p':154"><span class="id" title="variable">p'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#c':155"><span class="id" title="variable">c'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#p:152"><span class="id" title="variable">p</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#p':154"><span class="id" title="variable">p'</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#3650aae66c316967b6d0f706611c2145"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#646e4bc5bf1c33aade7489a0a12cfdca"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#c:153"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ef93fc0aa5631a2954ee48fa80bbfa3a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#c':155"><span class="id" title="variable">c'</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">conv</span> <span class="id" title="var">whl</span> <span class="id" title="var">whr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#conv_cum_alt"><span class="id" title="lemma">conv_cum_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">conv</span> <span class="id" title="keyword">as</span> [(?&amp;?&amp;[<span class="id" title="var">r1</span> <span class="id" title="var">r2</span> ?])]; <span class="id" title="tactic">auto</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">clΓ</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#clrel_ctx"><span class="id" title="projection">clrel_ctx</span></a> <span class="id" title="var">r1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">cll</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#clrel_src"><span class="id" title="projection">clrel_src</span></a> <span class="id" title="var">r1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">clr</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#clrel_src"><span class="id" title="projection">clrel_src</span></a> <span class="id" title="var">r2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_red_inv"><span class="id" title="lemma">whnf_red_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#whnf_red_inv"><span class="id" title="lemma">whnf_red_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">r1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">r2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">c0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">easy</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ws_cumul_pb_alt_closed"><span class="id" title="lemma">ws_cumul_pb_alt_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">c'0</span>, <span class="id" title="var">c'1</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#into_closed_red"><span class="id" title="lemma">into_closed_red</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConvCumInversion.html#fixed"><span class="id" title="section">fixed</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
