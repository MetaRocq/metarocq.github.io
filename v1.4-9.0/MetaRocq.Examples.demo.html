<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./index.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaRocq.Examples.demo</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">utils</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Template</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="keyword">All</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="var">Init</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">MRMonadNotation</span>.<br/>

<br/>
</div>

<div class="doc">
This is just printing 
</div>
<div class="code">
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Test</span> <span class="id" title="var">Quote</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <span class="id" title="var">nat</span> ⇒ <span class="id" title="var">x</span>).<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Test</span> <span class="id" title="var">Quote</span> (<span class="id" title="keyword">fun</span> (<span class="id" title="var">f</span> : <span class="id" title="var">nat</span> → <span class="id" title="var">nat</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">nat</span>) ⇒ <span class="id" title="var">f</span> <span class="id" title="var">x</span>).<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Test</span> <span class="id" title="var">Quote</span> (<span class="id" title="keyword">let</span> <span class="id" title="var">x</span> := 2 <span class="id" title="tactic">in</span> <span class="id" title="var">x</span>).<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Test</span> <span class="id" title="var">Quote</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">l</span> : <span class="id" title="var">list</span> <span class="id" title="var">nat</span> ⇒ <span class="id" title="keyword">match</span> <span class="id" title="var">l</span> <span class="id" title="keyword">with</span> <span class="id" title="var">nil</span> ⇒ 0 | <span class="id" title="var">cons</span> <span class="id" title="var">x</span> <span class="id" title="var">l</span> ⇒ 1 <span class="id" title="keyword">end</span>).<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Test</span> <span class="id" title="var">Quote</span> (<span class="id" title="keyword">let</span> <span class="id" title="var">x</span> := 2 <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">x</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 ⇒ 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">S</span> <span class="id" title="var">n</span> ⇒ <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Test</span> <span class="id" title="var">Unquote</span> (<span class="id" title="var">Ast.tConstruct</span> (<span class="id" title="var">mkInd</span> (<span class="id" title="var">MPfile</span> ["Datatypes"; "Init"; "Corelib"], "nat") 0) 0 []).<br/>

<br/>
</div>

<div class="doc">
Build a definition 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">d</span> : <span class="id" title="var">Ast.term</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">t</span> := <span class="id" title="keyword">constr</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <span class="id" title="var">nat</span> ⇒ <span class="id" title="var">x</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">k</span> <span class="id" title="var">x</span> := <span class="id" title="tactic">refine</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">quote_term</span> <span class="id" title="var">t</span> <span class="id" title="var">k</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Another way 
</div>
<div class="code">
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Quote</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">d'</span> := (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <span class="id" title="var">nat</span> ⇒ <span class="id" title="var">x</span>).<br/>

<br/>
</div>

<div class="doc">
To quote existing definitions 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">id_nat</span> : <span class="id" title="var">nat</span> → <span class="id" title="var">nat</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> ⇒ <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Quote</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">d''</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">id_nat</span>.<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Quote</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">d3</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">id_nat</span>.<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Quote</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">d4</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">unfold</span> <span class="id" title="var">id_nat</span> <span class="id" title="tactic">in</span> <span class="id" title="var">id_nat</span>.<br/>

<br/>
</div>

<div class="doc">
Fixpoints 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <span class="id" title="var">add</span> (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">nat</span>) : <span class="id" title="var">nat</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">a</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| 0 ⇒ <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">S</span> <span class="id" title="var">a</span> ⇒ <span class="id" title="var">S</span> (<span class="id" title="var">add</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="keyword">vm_compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">add</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <span class="id" title="var">add'</span> (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">nat</span>) : <span class="id" title="var">nat</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">b</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| 0 ⇒ <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">S</span> <span class="id" title="var">b</span> ⇒ <span class="id" title="var">S</span> (<span class="id" title="var">add'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <span class="id" title="var">even</span> (<span class="id" title="var">a</span> : <span class="id" title="var">nat</span>) : <span class="id" title="var">bool</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">a</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| 0 ⇒ <span class="id" title="var">true</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">S</span> <span class="id" title="var">a</span> ⇒ <span class="id" title="var">odd</span> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<span class="id" title="keyword">with</span> <span class="id" title="var">odd</span> (<span class="id" title="var">a</span> : <span class="id" title="var">nat</span>) : <span class="id" title="var">bool</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">a</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| 0 ⇒ <span class="id" title="var">false</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">S</span> <span class="id" title="var">a</span> ⇒ <span class="id" title="var">even</span> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Quote</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">add_syntax</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">add</span>.<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Quote</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">eo_syntax</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">even</span>.<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Quote</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">add'_syntax</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">add'</span>.<br/>

<br/>
</div>

<div class="doc">
Reflecting definitions 
</div>
<div class="code">
<span class="id" title="keyword">Check</span> <span class="id" title="var">Corelib.Init.Datatypes.nat</span>.<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Unquote</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">zero_from_syntax</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">Ast.tConstruct</span> (<span class="id" title="var">mkInd</span> (<span class="id" title="var">MPfile</span> ["Datatypes"; "Init"; "Corelib"], "nat") 0) 0 []).<br/>
<span class="id" title="keyword">Set Printing All</span>.<br/>

<br/>
<span class="id" title="keyword">Print</span> <span class="id" title="var">add_syntax</span>.<br/>
<span class="id" title="keyword">Print</span> <span class="id" title="var">tCase</span>.<br/>
<span class="id" title="keyword">Print</span> <span class="id" title="var">add_syntax</span>.<br/>
<span class="id" title="keyword">Check</span> <span class="id" title="var">tCase</span>.<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Unquote</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">add_from_syntax</span> := <span class="id" title="var">add_syntax</span>.<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Unquote</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">eo_from_syntax</span> := <span class="id" title="var">eo_syntax</span>.<br/>
<span class="id" title="keyword">Print</span> <span class="id" title="var">eo_from_syntax</span>.<br/>

<br/>
<span class="id" title="keyword">Local Notation</span> <span class="id" title="var">Nat_module</span> := (<span class="id" title="var">MPfile</span> ["Datatypes"; "Init"; "Corelib"], "nat").<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Unquote</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">two_from_syntax</span> := (<span class="id" title="var">Ast.tApp</span> (<span class="id" title="var">Ast.tConstruct</span> (<span class="id" title="var">Kernames.mkInd</span> <span class="id" title="var">Nat_module</span> 0) 1 <span class="id" title="var">nil</span>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Ast.tApp</span> (<span class="id" title="var">Ast.tConstruct</span> (<span class="id" title="var">Kernames.mkInd</span> <span class="id" title="var">Nat_module</span> 0) 1 <span class="id" title="var">nil</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Ast.tConstruct</span> (<span class="id" title="var">Kernames.mkInd</span> <span class="id" title="var">Nat_module</span> 0) 0 <span class="id" title="var">nil</span> :: <span class="id" title="var">nil</span>) :: <span class="id" title="var">nil</span>)).<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Quote</span> <span class="id" title="var">Recursively</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">plus_syntax</span> := <span class="id" title="var">plus</span>.<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Quote</span> <span class="id" title="var">Recursively</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">mult_syntax</span> := <span class="id" title="var">mult</span>.<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Unquote</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">d''_from_syntax</span> := <span class="id" title="var">d''</span>.<br/>

<br/>
</div>

<div class="doc">
Primitive Projections. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Primitive</span> <span class="id" title="var">Projections</span>.<br/>
<span class="id" title="keyword">Record</span> <span class="id" title="var">prod'</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">pair'</span> { <span class="id" title="var">fst'</span> : <span class="id" title="var">A</span> ; <span class="id" title="var">snd'</span> : <span class="id" title="var">B</span> }.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">fst'</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">snd'</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Test</span> <span class="id" title="var">Quote</span> ((<span class="id" title="var">pair'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">true</span> 4).(<span class="id" title="var">snd'</span>)).<br/>

<br/>
</div>

<div class="doc">
Reflecting  Inductives 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">one_i</span> : <span class="id" title="var">one_inductive_entry</span> :=<br/>
{|<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_typename</span> := "demoBool";<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_arity</span> := <span class="id" title="var">tSort</span> <span class="id" title="var">Sort.type0</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_consnames</span> := ["demoTrue"; "demoFalse"];<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_lc</span> := [<span class="id" title="var">tRel</span> 1; <span class="id" title="var">tRel</span> 1];<br/>
|}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">one_i2</span> : <span class="id" title="var">one_inductive_entry</span> :=<br/>
{|<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_typename</span> := "demoBool2";<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_arity</span> := <span class="id" title="var">tSort</span> <span class="id" title="var">Sort.type0</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_consnames</span> := ["demoTrue2"; "demoFalse2"];<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_lc</span> := [<span class="id" title="var">tRel</span> 0; <span class="id" title="var">tRel</span> 0];<br/>
|}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">mut_i</span> : <span class="id" title="var">mutual_inductive_entry</span> :=<br/>
{|<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_record</span> := <span class="id" title="var">None</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_finite</span> := <span class="id" title="var">Finite</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_params</span> := [];<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_inds</span> := [<span class="id" title="var">one_i</span>; <span class="id" title="var">one_i2</span>];<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_universes</span> := <span class="id" title="var">Monomorphic_entry</span> (<span class="id" title="var">LevelSet.empty</span>, <span class="id" title="var">ConstraintSet.empty</span>);<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_template</span> := <span class="id" title="var">false</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_variance</span> := <span class="id" title="var">None</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_private</span> := <span class="id" title="var">None</span>;<br/>
|}.<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Unquote</span> <span class="id" title="keyword">Inductive</span> <span class="id" title="var">mut_i</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">anonb</span> := {| <span class="id" title="var">binder_name</span> := <span class="id" title="var">nAnon</span>; <span class="id" title="var">binder_relevance</span> := <span class="id" title="var">Relevant</span> |}.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">bnamed</span> <span class="id" title="var">n</span> := {| <span class="id" title="var">binder_name</span> := <span class="id" title="var">nNamed</span> <span class="id" title="var">n</span>; <span class="id" title="var">binder_relevance</span> := <span class="id" title="var">Relevant</span> |}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">mkImpl</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">term</span>) : <span class="id" title="var">term</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">tProd</span> <span class="id" title="var">anonb</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">one_list_i</span> : <span class="id" title="var">one_inductive_entry</span> :=<br/>
{|<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_typename</span> := "demoList";<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_arity</span> := <span class="id" title="var">tSort</span> <span class="id" title="var">Sort.type0</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_consnames</span> := ["demoNil"; "demoCons"];<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_lc</span> := [<span class="id" title="var">tApp</span> (<span class="id" title="var">tRel</span> 1) [<span class="id" title="var">tRel</span> 0];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mkImpl</span> (<span class="id" title="var">tRel</span> 0) (<span class="id" title="var">mkImpl</span> (<span class="id" title="var">tApp</span> (<span class="id" title="var">tRel</span> 2) [<span class="id" title="var">tRel</span> 1]) (<span class="id" title="var">tApp</span> (<span class="id" title="var">tRel</span> 3) [<span class="id" title="var">tRel</span> 2]))];<br/>
|}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">mut_list_i</span> : <span class="id" title="var">mutual_inductive_entry</span> :=<br/>
{|<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_record</span> := <span class="id" title="var">None</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_finite</span> := <span class="id" title="var">Finite</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_params</span> := [{| <span class="id" title="var">decl_name</span> := <span class="id" title="var">bnamed</span> "A"; <span class="id" title="var">decl_body</span> := <span class="id" title="var">None</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">decl_type</span> := (<span class="id" title="var">tSort</span> <span class="id" title="var">Sort.type0</span>) |}];<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_inds</span> := [<span class="id" title="var">one_list_i</span>];<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_universes</span> := <span class="id" title="var">Monomorphic_entry</span> (<span class="id" title="var">LevelSet.empty</span>, <span class="id" title="var">ConstraintSet.empty</span>);<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_template</span> := <span class="id" title="var">false</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_variance</span> := <span class="id" title="var">None</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_private</span> := <span class="id" title="var">None</span>;<br/>
|}.<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Unquote</span> <span class="id" title="keyword">Inductive</span> <span class="id" title="var">mut_list_i</span>.<br/>
</div>

<div class="doc">
Records 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">one_pt_i</span> : <span class="id" title="var">one_inductive_entry</span> :=<br/>
{|<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_typename</span> := "Point";<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_arity</span> := <span class="id" title="var">tSort</span> <span class="id" title="var">Sort.type0</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_consnames</span> := ["mkPoint"];<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_lc</span> := [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mkImpl</span> (<span class="id" title="var">tRel</span> 0) (<span class="id" title="var">mkImpl</span> (<span class="id" title="var">tRel</span> 1) (<span class="id" title="var">tApp</span> (<span class="id" title="var">tRel</span> 3) [<span class="id" title="var">tRel</span> 2]))];<br/>
|}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">mut_pt_i</span> : <span class="id" title="var">mutual_inductive_entry</span> :=<br/>
{|<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_record</span> := <span class="id" title="var">Some</span> (<span class="id" title="var">Some</span> "pp");<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_finite</span> := <span class="id" title="var">BiFinite</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_params</span> := [{| <span class="id" title="var">decl_name</span> := <span class="id" title="var">bnamed</span> "A"; <span class="id" title="var">decl_body</span> := <span class="id" title="var">None</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">decl_type</span> := (<span class="id" title="var">tSort</span> <span class="id" title="var">Sort.type0</span>) |}];<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_inds</span> := [<span class="id" title="var">one_pt_i</span>];<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_universes</span> := <span class="id" title="var">Monomorphic_entry</span> <span class="id" title="var">ContextSet.empty</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_template</span> := <span class="id" title="var">false</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_variance</span> := <span class="id" title="var">None</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">mind_entry_private</span> := <span class="id" title="var">None</span>;<br/>
|}.<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Unquote</span> <span class="id" title="keyword">Inductive</span> <span class="id" title="var">mut_pt_i</span>.<br/>

<br/>

<br/>
</div>

<div class="doc">
Putting the above commands in monadic program 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <span class="id" title="var">inat</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">inductive_mind</span> := <span class="id" title="var">Nat_module</span>; <span class="id" title="var">inductive_ind</span> := 0 |}.<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">tmBind</span> (<span class="id" title="var">tmQuote</span> (3 + 3)) <span class="id" title="var">tmPrint</span>).<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">tmBind</span> (<span class="id" title="var">tmQuoteRec</span> <span class="id" title="var">add</span>) <span class="id" title="var">tmPrint</span>).<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">tmBind</span> (<span class="id" title="var">tmLocate</span> "add") <span class="id" title="var">tmPrint</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">printInductive</span> (<span class="id" title="var">q</span> : <span class="id" title="var">qualid</span>): <span class="id" title="var">TemplateMonad</span> <span class="id" title="var">unit</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">kn</span> &lt;- <span class="id" title="var">tmLocate1</span> <span class="id" title="var">q</span> ;;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">kn</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">IndRef</span> <span class="id" title="var">ind</span> ⇒ (<span class="id" title="var">tmQuoteInductive</span> <span class="id" title="var">ind</span>.(<span class="id" title="var">inductive_mind</span>)) &gt;&gt;= <span class="id" title="var">tmPrint</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="var">tmFail</span> ("[" ^ <span class="id" title="var">q</span> ^ "] is not an inductive")<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">printInductive</span> "Init.Datatypes.nat").<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">printInductive</span> "nat").<br/>

<br/>
<span class="id" title="keyword">CoInductive</span> <span class="id" title="var">cnat</span> : <span class="id" title="keyword">Set</span> :=  <span class="id" title="var">O</span> :<span class="id" title="var">cnat</span> | <span class="id" title="var">S</span> : <span class="id" title="var">cnat</span> → <span class="id" title="var">cnat</span>.<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">printInductive</span> "cnat").<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">printConstant</span> (<span class="id" title="var">q</span> : <span class="id" title="var">qualid</span>) <span class="id" title="var">b</span> : <span class="id" title="var">TemplateMonad</span> <span class="id" title="var">unit</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">kn</span> &lt;- <span class="id" title="var">tmLocate1</span> <span class="id" title="var">q</span> ;;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">kn</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">ConstRef</span> <span class="id" title="var">kn</span> ⇒ (<span class="id" title="var">tmQuoteConstant</span> <span class="id" title="var">kn</span> <span class="id" title="var">b</span>) &gt;&gt;= <span class="id" title="var">tmPrint</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="var">tmFail</span> ("[" ^ <span class="id" title="var">q</span> ^ "] is not a constant")<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">printConstant</span> "add" <span class="id" title="var">false</span>).<br/>
<span class="id" title="var">Fail</span> <span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">printConstant</span> "nat" <span class="id" title="var">false</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">six</span> : <span class="id" title="var">nat</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (3 + 3).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">printConstant</span> "six" <span class="id" title="var">true</span>).<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">printConstant</span> "six" <span class="id" title="var">false</span>).<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">t</span> &lt;- <span class="id" title="var">tmLemma</span> "foo4" <span class="id" title="var">nat</span>;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tmDefinition</span> "foo5" (<span class="id" title="var">t</span> + <span class="id" title="var">t</span> + 2)).<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> 3.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Print</span> <span class="id" title="var">foo5</span>.<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">t</span> &lt;- <span class="id" title="var">tmLemma</span> "foo44" <span class="id" title="var">nat</span> ;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">qt</span> &lt;- <span class="id" title="var">tmQuote</span> <span class="id" title="var">t</span> ;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">t</span> &lt;- <span class="id" title="var">tmEval</span> <span class="id" title="var">all</span> <span class="id" title="var">t</span> ;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tmPrint</span> <span class="id" title="var">qt</span> ;; <span class="id" title="var">tmPrint</span> <span class="id" title="var">t</span>).<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (3+2).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">tmDefinition</span> "foo4'" <span class="id" title="var">nat</span> &gt;&gt;= <span class="id" title="var">tmPrint</span>).<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">t</span> &lt;- <span class="id" title="var">tmDefinition</span> "foo5'" 12 ;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tmDefinition</span> "foo6'" <span class="id" title="var">t</span>).<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">tmLemma</span> "foo51" <span class="id" title="var">nat</span> ;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tmLemma</span> "foo61" <span class="id" title="var">bool</span>).<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> 3.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">true</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">printConstant'</span> (<span class="id" title="var">name</span>  : <span class="id" title="var">qualid</span>): <span class="id" title="var">TemplateMonad</span> <span class="id" title="var">unit</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">gr</span> &lt;- <span class="id" title="var">tmLocate1</span> <span class="id" title="var">name</span> ;;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">gr</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">ConstRef</span> <span class="id" title="var">kn</span> ⇒ <span class="id" title="var">X</span> &lt;- <span class="id" title="var">tmUnquote</span> (<span class="id" title="var">tConst</span> <span class="id" title="var">kn</span> []) ;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">X'</span> &lt;- <span class="id" title="var">tmEval</span> <span class="id" title="var">all</span> (<span class="id" title="var">my_projT2</span> <span class="id" title="var">X</span>) ;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tmPrint</span> <span class="id" title="var">X'</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="var">tmFail</span> ("[" ^ <span class="id" title="var">name</span> ^ "] is not a constant")<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="var">Fail</span> <span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">printInductive</span> "Stdlib.Arith.PeanoNat.Nat.add").<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">printConstant'</span> "Stdlib.Arith.PeanoNat.Nat.add").<br/>

<br/>
<span class="id" title="var">Fail</span> <span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">tmUnquoteTyped</span> (<span class="id" title="var">nat</span> → <span class="id" title="var">nat</span>) <span class="id" title="var">add_syntax</span> &gt;&gt;= <span class="id" title="var">tmPrint</span>).<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">tmUnquoteTyped</span> (<span class="id" title="var">nat</span> → <span class="id" title="var">nat</span> → <span class="id" title="var">nat</span>) <span class="id" title="var">add_syntax</span> &gt;&gt;= <span class="id" title="var">tmPrint</span>).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">NonRec</span> (<span class="id" title="var">A</span>:<span class="id" title="keyword">Set</span>) (<span class="id" title="var">C</span>: <span class="id" title="var">A</span> → <span class="id" title="keyword">Set</span>): <span class="id" title="keyword">Set</span> :=<br/>
| <span class="id" title="var">SS</span> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">f</span>:<span class="id" title="var">A</span>), <span class="id" title="var">C</span> <span class="id" title="var">f</span> → <span class="id" title="var">NonRec</span> <span class="id" title="var">A</span> <span class="id" title="var">C</span>.<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">printInductive</span> "NonRec").<br/>

<br/>
<span class="id" title="keyword">Set Printing Universes</span>.<br/>
<span class="id" title="keyword">Monomorphic Definition</span> <span class="id" title="var">Funtm</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span>: <span class="id" title="keyword">Type</span>) := <span class="id" title="var">A</span>→<span class="id" title="var">B</span>.<br/>
<span class="id" title="keyword">Polymorphic Definition</span> <span class="id" title="var">Funtp@</span>{<span class="id" title="var">i</span>} (<span class="id" title="var">A</span> <span class="id" title="var">B</span>: <span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}) := <span class="id" title="var">A</span>→<span class="id" title="var">B</span>.<br/>

<br/>
<span class="id" title="keyword">Polymorphic Definition</span> <span class="id" title="var">Funtp2@</span>{<span class="id" title="var">i</span> <span class="id" title="var">j</span>}<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">A</span>: <span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}) (<span class="id" title="var">B</span>: <span class="id" title="var">Type@</span>{<span class="id" title="var">j</span>}) := <span class="id" title="var">A</span>→<span class="id" title="var">B</span>.<br/>
 
<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">tmEval</span> <span class="id" title="var">cbn</span> <span class="id" title="var">add_syntax</span> &gt;&gt;= <span class="id" title="var">tmMkDefinition</span> "foo1").<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> ((<span class="id" title="var">tmFreshName</span> "foo") &gt;&gt;= <span class="id" title="var">tmPrint</span>).<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">tmAxiom</span> "foo0" (<span class="id" title="var">nat</span> → <span class="id" title="var">nat</span>) &gt;&gt;= <span class="id" title="var">tmPrint</span>).<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">tmAxiom</span> "foo0'" (<span class="id" title="var">nat</span> → <span class="id" title="var">nat</span>) &gt;&gt;=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> ⇒ <span class="id" title="var">tmDefinition</span> "foo0''" <span class="id" title="var">t</span>).<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">tmFreshName</span> "foo" &gt;&gt;= <span class="id" title="var">tmPrint</span>).<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">tmBind</span> (<span class="id" title="var">tmLocate</span> "foo") <span class="id" title="var">tmPrint</span>).<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">tmBind</span> (<span class="id" title="var">tmLocate</span> "qlsnkqsdlfhkdlfh") <span class="id" title="var">tmPrint</span>).<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">tmBind</span> (<span class="id" title="var">tmLocate</span> "eq") <span class="id" title="var">tmPrint</span>).<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">tmBind</span> (<span class="id" title="var">tmLocate</span> "Logic.eq") <span class="id" title="var">tmPrint</span>).<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">tmBind</span> (<span class="id" title="var">tmLocate</span> "eq_refl") <span class="id" title="var">tmPrint</span>).<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">tmCurrentModPath</span> <span class="id" title="var">tt</span> &gt;&gt;= <span class="id" title="var">tmPrint</span>).<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">tmBind</span> (<span class="id" title="var">tmEval</span> <span class="id" title="var">all</span> (3 + 3)) <span class="id" title="var">tmPrint</span>).<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">tmBind</span> (<span class="id" title="var">tmEval</span> <span class="id" title="tactic">hnf</span> (3 + 3)) <span class="id" title="var">tmPrint</span>).<br/>

<br/>
<span class="id" title="var">Fail</span> <span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">tmFail</span> "foo" &gt;&gt;= <span class="id" title="var">tmQuoteInductive</span>).<br/>

<br/>

<br/>

<br/>
</div>

<div class="doc">
Universes 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Set Printing Universes</span>.<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Test</span> <span class="id" title="var">Quote</span> <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Test</span> <span class="id" title="var">Quote</span> <span class="id" title="keyword">Set</span>.<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Test</span> <span class="id" title="var">Quote</span> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">T</span> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <span class="id" title="var">toto</span> : <span class="id" title="keyword">Type</span> → <span class="id" title="var">T</span>.<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Quote</span> <span class="id" title="var">Recursively</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">TT</span> := <span class="id" title="var">T</span>.<br/>

<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="var">MetaRocq</span> <span class="id" title="keyword">Strict</span> <span class="id" title="var">Unquote</span> <span class="id" title="var">Universe</span> <span class="id" title="var">Mode</span>.<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Unquote</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">t</span> := (<span class="id" title="var">tSort</span> (<span class="id" title="var">sType</span> (<span class="id" title="var">Universe.make'</span> (<span class="id" title="var">Level.level</span> "Top.20000")))).<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Unquote</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">t'</span> := (<span class="id" title="var">tSort</span> (<span class="id" title="var">sType</span> <span class="id" title="var">fresh_universe</span>)).<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Unquote</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">myProp</span> := (<span class="id" title="var">tSort</span> <span class="id" title="var">sProp</span>).<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Unquote</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">mySet</span> := (<span class="id" title="var">tSort</span> (<span class="id" title="var">sType</span> (<span class="id" title="var">Universe.make'</span> <span class="id" title="var">Level.lzero</span>))).<br/>

<br/>
</div>

<div class="doc">
Cofixpoints 
</div>
<div class="code">
<span class="id" title="keyword">CoInductive</span> <span class="id" title="var">streamn</span> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">scons</span> : <span class="id" title="var">nat</span> → <span class="id" title="var">streamn</span> → <span class="id" title="var">streamn</span>.<br/>

<br/>
<span class="id" title="keyword">CoFixpoint</span> <span class="id" title="var">ones</span> : <span class="id" title="var">streamn</span> := <span class="id" title="var">scons</span> 1 <span class="id" title="var">ones</span>.<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Quote</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">ones_syntax</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ones</span>.<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Unquote</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">ones'</span> := <span class="id" title="var">ones_syntax</span>.<br/>

<br/>
<span class="id" title="keyword">Check</span> <span class="id" title="var">eq_refl</span> : <span class="id" title="var">ones</span> = <span class="id" title="var">ones'</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">kername_of_qualid</span> (<span class="id" title="var">q</span> : <span class="id" title="var">qualid</span>) : <span class="id" title="var">TemplateMonad</span> <span class="id" title="var">kername</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">gr</span> &lt;- <span class="id" title="var">tmLocate1</span> <span class="id" title="var">q</span> ;;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">gr</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">ConstRef</span> <span class="id" title="var">kn</span>  ⇒ <span class="id" title="var">ret</span> <span class="id" title="var">kn</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">IndRef</span> <span class="id" title="var">ind</span> ⇒ <span class="id" title="var">ret</span> <span class="id" title="var">ind</span>.(<span class="id" title="var">inductive_mind</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">ConstructRef</span> <span class="id" title="var">ind</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">ret</span> <span class="id" title="var">ind</span>.(<span class="id" title="var">inductive_mind</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">VarRef</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">tmFail</span> ("tmLocate: " ^ <span class="id" title="var">q</span> ^ " is a Var")<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">kername_of_qualid</span> "add" &gt;&gt;= <span class="id" title="var">tmPrint</span>).<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">kername_of_qualid</span> "BinNat.N.add" &gt;&gt;= <span class="id" title="var">tmPrint</span>).<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">kername_of_qualid</span> "Stdlib.NArith.BinNatDef.N.add" &gt;&gt;= <span class="id" title="var">tmPrint</span>).<br/>
<span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">kername_of_qualid</span> "N.add" &gt;&gt;= <span class="id" title="var">tmPrint</span>).<br/>
<span class="id" title="var">Fail</span> <span class="id" title="var">MetaRocq</span> <span class="id" title="var">Run</span> (<span class="id" title="var">kername_of_qualid</span> "qlskf" &gt;&gt;= <span class="id" title="var">tmPrint</span>).<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
