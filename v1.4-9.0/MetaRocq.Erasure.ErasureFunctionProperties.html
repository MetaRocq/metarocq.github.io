<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./index.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaRocq.Erasure.ErasureFunctionProperties</h1>

<div class="code">
<span class="comment">(*&nbsp;Distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;MIT&nbsp;license.&nbsp;*)</span><br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Program</span> <span class="id" title="library">ssreflect</span> <span class="id" title="library">ssrbool</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Transparent</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Utils.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Common</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Common.config.html#"><span class="id" title="library">config</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#"><span class="id" title="library">Kernames</span></a> <a class="idref" href="MetaRocq.Common.uGraph.html#"><span class="id" title="library">uGraph</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#"><span class="id" title="library">PCUICAst</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#"><span class="id" title="library">PCUICAstUtils</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICPrimitive.html#"><span class="id" title="library">PCUICPrimitive</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#"><span class="id" title="library">PCUICReduction</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICReflect.html#"><span class="id" title="library">PCUICReflect</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#"><span class="id" title="library">PCUICWeakeningEnv</span></a> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#"><span class="id" title="library">PCUICWeakeningEnvTyp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCasesContexts.html#"><span class="id" title="library">PCUICCasesContexts</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICWeakeningConv.html#"><span class="id" title="library">PCUICWeakeningConv</span></a> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningTyp.html#"><span class="id" title="library">PCUICWeakeningTyp</span></a> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICContextConversionTyp.html#"><span class="id" title="library">PCUICContextConversionTyp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#"><span class="id" title="library">PCUICTyping</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICGlobalEnv.html#"><span class="id" title="library">PCUICGlobalEnv</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#"><span class="id" title="library">PCUICInversion</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICGeneration.html#"><span class="id" title="library">PCUICGeneration</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICConfluence.html#"><span class="id" title="library">PCUICConfluence</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#"><span class="id" title="library">PCUICConversion</span></a> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICUnivSubstitutionTyp.html#"><span class="id" title="library">PCUICUnivSubstitutionTyp</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#"><span class="id" title="library">PCUICCumulativity</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSR.html#"><span class="id" title="library">PCUICSR</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#"><span class="id" title="library">PCUICSafeLemmata</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICNormalization.html#"><span class="id" title="library">PCUICNormalization</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICValidity.html#"><span class="id" title="library">PCUICValidity</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICPrincipality.html#"><span class="id" title="library">PCUICPrincipality</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICElimination.html#"><span class="id" title="library">PCUICElimination</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#"><span class="id" title="library">PCUICOnFreeVars</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#"><span class="id" title="library">PCUICWellScopedCumulativity</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#"><span class="id" title="library">PCUICSN</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICEtaExpand.html#"><span class="id" title="library">PCUICEtaExpand</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICFirstorder.html#"><span class="id" title="library">PCUICFirstorder</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.SafeChecker</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#"><span class="id" title="library">PCUICErrors</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#"><span class="id" title="library">PCUICWfEnv</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#"><span class="id" title="library">PCUICSafeReduce</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeRetyping.html#"><span class="id" title="library">PCUICSafeRetyping</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICRetypingEnvIrrelevance.html#"><span class="id" title="library">PCUICRetypingEnvIrrelevance</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Erasure</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#"><span class="id" title="library">EPrimitive</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#"><span class="id" title="library">EAstUtils</span></a> <a class="idref" href="MetaRocq.Erasure.ELiftSubst.html#"><span class="id" title="library">ELiftSubst</span></a> <a class="idref" href="MetaRocq.Erasure.EArities.html#"><span class="id" title="library">EArities</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#"><span class="id" title="library">Extract</span></a> <a class="idref" href="MetaRocq.Erasure.Prelim.html#"><span class="id" title="library">Prelim</span></a> <a class="idref" href="MetaRocq.Erasure.EDeps.html#"><span class="id" title="library">EDeps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureProperties.html#"><span class="id" title="library">ErasureProperties</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#"><span class="id" title="library">ErasureCorrectness</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#"><span class="id" title="library">ErasureFunction</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">string_scope</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Asymmetric</span> <span class="id" title="var">Patterns</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type*".<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#MRMonadNotation"><span class="id" title="module">MRMonadNotation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">cf</span> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>).<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#extraction_normalizing"><span class="id" title="instance">extraction_normalizing</span></a>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <a class="idref" href="MetaRocq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">extraction_checker_flags</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="alpha_eq" class="idref" href="#alpha_eq"><span class="id" title="abbreviation">alpha_eq</span></a> := (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#compare_decls"><span class="id" title="definition">PCUICEquality.compare_decls</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="global_erased_with_deps" class="idref" href="#global_erased_with_deps"><span class="id" title="definition">global_erased_with_deps</span></a> (<a id="0101b9beac487b383a5ba2a8f6922788" class="idref" href="#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) (<a id="3d19765a7cabb12219cbdf7f2c787f02" class="idref" href="#3d19765a7cabb12219cbdf7f2c787f02"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#global_declarations"><span class="id" title="definition">EAst.global_declarations</span></a>) <a id="kn:3" class="idref" href="#kn:3"><span class="id" title="binder">kn</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="cst:4" class="idref" href="#cst:4"><span class="id" title="binder">cst</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_constant"><span class="id" title="definition">declared_constant</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:3"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cst:4"><span class="id" title="variable">cst</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="cst':5" class="idref" href="#cst':5"><span class="id" title="binder">cst'</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#constant_body"><span class="id" title="record">EAst.constant_body</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#declared_constant"><span class="id" title="definition">EGlobalEnv.declared_constant</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#3d19765a7cabb12219cbdf7f2c787f02"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:3"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cst':5"><span class="id" title="variable">cst'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#erases_constant_body"><span class="id" title="definition">erases_constant_body</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cst:4"><span class="id" title="variable">cst</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cst:4"><span class="id" title="variable">cst</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cst':5"><span class="id" title="variable">cst'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="body:6" class="idref" href="#body:6"><span class="id" title="binder">body</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EAst.html#cst_body"><span class="id" title="projection">EAst.cst_body</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cst':5"><span class="id" title="variable">cst'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#body:6"><span class="id" title="variable">body</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#erases_deps"><span class="id" title="inductive">erases_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#3d19765a7cabb12219cbdf7f2c787f02"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#body:6"><span class="id" title="variable">body</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="mib:7" class="idref" href="#mib:7"><span class="id" title="binder">mib</span></a> <a id="mib':8" class="idref" href="#mib':8"><span class="id" title="binder">mib'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_minductive"><span class="id" title="definition">declared_minductive</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:3"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#mib:7"><span class="id" title="variable">mib</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#declared_minductive"><span class="id" title="definition">EGlobalEnv.declared_minductive</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#3d19765a7cabb12219cbdf7f2c787f02"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:3"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#mib':8"><span class="id" title="variable">mib'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#erases_mutual_inductive_body"><span class="id" title="definition">erases_mutual_inductive_body</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#mib:7"><span class="id" title="variable">mib</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#mib':8"><span class="id" title="variable">mib'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="includes_deps" class="idref" href="#includes_deps"><span class="id" title="definition">includes_deps</span></a> (<a id="2ff76d4cddec082cd899c55bae9fabf3" class="idref" href="#2ff76d4cddec082cd899c55bae9fabf3"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) (<a id="3b3567d6a6935953a1b46a9750d6f196" class="idref" href="#3b3567d6a6935953a1b46a9750d6f196"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#global_declarations"><span class="id" title="definition">EAst.global_declarations</span></a>) <a id="deps:11" class="idref" href="#deps:11"><span class="id" title="binder">deps</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="kn:12" class="idref" href="#kn:12"><span class="id" title="binder">kn</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:12"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:11"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#global_erased_with_deps"><span class="id" title="definition">global_erased_with_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#2ff76d4cddec082cd899c55bae9fabf3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#3b3567d6a6935953a1b46a9750d6f196"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:12"><span class="id" title="variable">kn</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="includes_deps_union" class="idref" href="#includes_deps_union"><span class="id" title="lemma">includes_deps_union</span></a> (<a id="475f6c17bae93ed6b0d4829862030679" class="idref" href="#475f6c17bae93ed6b0d4829862030679"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) (<a id="129bace80fdde2061481386cb5ffe02d" class="idref" href="#129bace80fdde2061481386cb5ffe02d"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#global_declarations"><span class="id" title="definition">EAst.global_declarations</span></a>) <a id="deps:15" class="idref" href="#deps:15"><span class="id" title="binder">deps</span></a> <a id="deps':16" class="idref" href="#deps':16"><span class="id" title="binder">deps'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#includes_deps"><span class="id" title="definition">includes_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#475f6c17bae93ed6b0d4829862030679"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#129bace80fdde2061481386cb5ffe02d"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:15"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps':16"><span class="id" title="variable">deps'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#includes_deps"><span class="id" title="definition">includes_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#475f6c17bae93ed6b0d4829862030679"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#129bace80fdde2061481386cb5ffe02d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:15"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#includes_deps"><span class="id" title="definition">includes_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#475f6c17bae93ed6b0d4829862030679"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#129bace80fdde2061481386cb5ffe02d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps':16"><span class="id" title="variable">deps'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">knin</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="includes_deps_fold" class="idref" href="#includes_deps_fold"><span class="id" title="lemma">includes_deps_fold</span></a> {<a id="A:17" class="idref" href="#A:17"><span class="id" title="binder">A</span></a>} (<a id="8b13b958e79b112c1b4fdea541acbd8a" class="idref" href="#8b13b958e79b112c1b4fdea541acbd8a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) (<a id="bc8d373c80d91a3a9d3cbc2846d43380" class="idref" href="#bc8d373c80d91a3a9d3cbc2846d43380"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#global_declarations"><span class="id" title="definition">EAst.global_declarations</span></a>) <a id="brs:20" class="idref" href="#brs:20"><span class="id" title="binder">brs</span></a> <a id="deps:21" class="idref" href="#deps:21"><span class="id" title="binder">deps</span></a> (<a id="f:22" class="idref" href="#f:22"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#A:17"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#includes_deps"><span class="id" title="definition">includes_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8b13b958e79b112c1b4fdea541acbd8a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#bc8d373c80d91a3a9d3cbc2846d43380"><span class="id" title="variable">Σ'</span></a><br/>
&nbsp;&nbsp;(<span class="id" title="definition">fold_left</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="acc:23" class="idref" href="#acc:23"><span class="id" title="binder">acc</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.t"><span class="id" title="definition">KernameSet.t</span></a>) (<a id="x:24" class="idref" href="#x:24"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#A:17"><span class="id" title="variable">A</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f:22"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#x:24"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#acc:23"><span class="id" title="variable">acc</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#brs:20"><span class="id" title="variable">brs</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:21"><span class="id" title="variable">deps</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#includes_deps"><span class="id" title="definition">includes_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8b13b958e79b112c1b4fdea541acbd8a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#bc8d373c80d91a3a9d3cbc2846d43380"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:21"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:25" class="idref" href="#x:25"><span class="id" title="binder">x</span></a>, <span class="id" title="definition">In</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#x:25"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#brs:20"><span class="id" title="variable">brs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#includes_deps"><span class="id" title="definition">includes_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8b13b958e79b112c1b4fdea541acbd8a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#bc8d373c80d91a3a9d3cbc2846d43380"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f:22"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#x:25"><span class="id" title="variable">x</span></a>))<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">incl</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">knin</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">incl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">br</span> <span class="id" title="var">brin</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">knin</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">incl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">br</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="declared_kn" class="idref" href="#declared_kn"><span class="id" title="definition">declared_kn</span></a> <a id="e023703f3460855264e8fbe327a7ed6a" class="idref" href="#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="binder">Σ</span></a> <a id="kn:27" class="idref" href="#kn:27"><span class="id" title="binder">kn</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="decl:28" class="idref" href="#decl:28"><span class="id" title="binder">decl</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:27"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decl:28"><span class="id" title="variable">decl</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="term_global_deps_spec" class="idref" href="#term_global_deps_spec"><span class="id" title="lemma">term_global_deps_spec</span></a> {<a id="cf:29" class="idref" href="#cf:29"><span class="id" title="binder">cf</span></a>} {<a id="837da4610b9e0a7574f49c54d2569297" class="idref" href="#837da4610b9e0a7574f49c54d2569297"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="8decad70299c441b89994a0a90fd6833" class="idref" href="#8decad70299c441b89994a0a90fd6833"><span class="id" title="binder">Γ</span></a> <a id="t:32" class="idref" href="#t:32"><span class="id" title="binder">t</span></a> <a id="et:33" class="idref" href="#et:33"><span class="id" title="binder">et</span></a> <a id="T:34" class="idref" href="#T:34"><span class="id" title="binder">T</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#837da4610b9e0a7574f49c54d2569297"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#837da4610b9e0a7574f49c54d2569297"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8decad70299c441b89994a0a90fd6833"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:32"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#T:34"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#837da4610b9e0a7574f49c54d2569297"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8decad70299c441b89994a0a90fd6833"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:32"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#et:33"><span class="id" title="variable">et</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:35" class="idref" href="#x:35"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#x:35"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#et:33"><span class="id" title="variable">et</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#declared_kn"><span class="id" title="definition">declared_kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#837da4610b9e0a7574f49c54d2569297"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#x:35"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wt</span> <span class="id" title="var">er</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">er</span> <span class="id" title="tactic">in</span> <span class="id" title="var">T</span>, <span class="id" title="var">wt</span> |- × <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Erasure.Extract.html#erases_forall_list_ind"><span class="id" title="lemma">erases_forall_list_ind</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">constructor</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">kn'</span> <span class="id" title="var">hin</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.empty"><span class="id" title="definition">KernameSet.empty</span></a> |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.empty_spec"><span class="id" title="lemma">KernameSet.empty_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span> <span class="id" title="keyword">as</span> [?|?]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Lambda"><span class="id" title="lemma">inversion_Lambda</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_LetIn"><span class="id" title="lemma">inversion_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; <span class="id" title="var">h1</span> &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#unlift_TermTyp"><span class="id" title="lemma">unlift_TermTyp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_LetIn"><span class="id" title="lemma">inversion_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_App"><span class="id" title="lemma">inversion_App</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_App"><span class="id" title="lemma">inversion_App</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Const"><span class="id" title="lemma">inversion_Const</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_constant_to_gen"><span class="id" title="lemma">declared_constant_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">red</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Construct"><span class="id" title="lemma">inversion_Construct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">kn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">H'</span> <span class="id" title="var">_</span>] <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Case"><span class="id" title="lemma">inversion_Case</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; [] &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ci</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn</span> <span class="id" title="var">i'</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">d</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Case"><span class="id" title="lemma">inversion_Case</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; [] &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHer</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">br</span> [<span class="id" title="var">inbr</span> <span class="id" title="var">inkn</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="br:36" class="idref" href="#br:36"><span class="id" title="binder"><span id="br:38" class="id">br</span></span></a> ⇒ <a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="T:37" class="idref" href="#T:37"><span class="id" title="binder"><span id="T:39" class="id">T</span></span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a> <span class="id" title="var">p</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#br:36"><span class="id" title="variable">br</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#br:36"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a>) <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#T:37"><span class="id" title="variable">T</span></a>) <span class="id" title="var">brs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2i_All_right"><span class="id" title="lemma">All2i_All_right</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">brs_ty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eexists</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.PCUIC.PCUICCasesContexts.html#inst_case_branch_context_eq"><span class="id" title="lemma">PCUICCasesContexts.inst_case_branch_context_eq</span></a> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_All_mix_left"><span class="id" title="lemma">All2_All_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_In_right"><span class="id" title="lemma">All2_In_right</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">br'</span> [[<span class="id" title="var">T'</span> <span class="id" title="var">HT</span>] ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Proj"><span class="id" title="lemma">inversion_Proj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_projection_to_gen"><span class="id" title="lemma">declared_projection_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [[[<span class="id" title="var">d</span> <span class="id" title="var">_</span>] <span class="id" title="var">_</span>] <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Proj"><span class="id" title="lemma">inversion_Proj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Fix"><span class="id" title="lemma">inversion_Fix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span> <span class="id" title="keyword">as</span> [|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.empty_spec"><span class="id" title="lemma">KernameSet.empty_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [? [<span class="id" title="var">ina</span> <span class="id" title="var">indeps</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_All_mix_left"><span class="id" title="lemma">All2_All_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_In_right"><span class="id" title="lemma">All2_In_right</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">def</span> [<span class="id" title="var">Hty</span> <span class="id" title="var">Hdef</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#unlift_TermTyp"><span class="id" title="lemma">unlift_TermTyp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hdef</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_CoFix"><span class="id" title="lemma">inversion_CoFix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span> <span class="id" title="keyword">as</span> [|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.empty_spec"><span class="id" title="lemma">KernameSet.empty_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [? [<span class="id" title="var">ina</span> <span class="id" title="var">indeps</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_All_mix_left"><span class="id" title="lemma">All2_All_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_In_right"><span class="id" title="lemma">All2_In_right</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">def</span> [<span class="id" title="var">Hty</span> <span class="id" title="var">Hdef</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#unlift_TermTyp"><span class="id" title="lemma">unlift_TermTyp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hdef</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Prim"><span class="id" title="lemma">inversion_Prim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">prim_ty</span> [<span class="id" title="var">decl</span> []]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#prim_global_deps"><span class="id" title="definition">prim_global_deps</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>. <span class="id" title="var">depelim</span> <span class="id" title="var">H0</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">X</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">p1</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> [<span class="id" title="var">hin</span> <span class="id" title="var">inkn</span>]]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_All_mix_left"><span class="id" title="lemma">All2_All_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a2</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_In_right"><span class="id" title="lemma">All2_In_right</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a2</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">x</span> []]]; <span class="id" title="var">tea</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">d1</span>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global</span> <span class="id" title="var">Remove</span> <span class="id" title="var">Hints</span> <span class="id" title="var">erases_deps_eval</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_erases_deps" class="idref" href="#erase_global_erases_deps"><span class="id" title="lemma">erase_global_erases_deps</span></a> {<a id="a5fa9249bdc19684169f7ebb302b006b" class="idref" href="#a5fa9249bdc19684169f7ebb302b006b"><span class="id" title="binder">Σ</span></a>} {<a id="f7ddf502e84bf8c656bf4f40aab5a78d" class="idref" href="#f7ddf502e84bf8c656bf4f40aab5a78d"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#global_declarations"><span class="id" title="definition">EAst.global_declarations</span></a>} {<a id="18bf8c43a60891738d0d6115aa956824" class="idref" href="#18bf8c43a60891738d0d6115aa956824"><span class="id" title="binder">Γ</span></a> <a id="t:43" class="idref" href="#t:43"><span class="id" title="binder">t</span></a> <a id="et:44" class="idref" href="#et:44"><span class="id" title="binder">et</span></a> <a id="T:45" class="idref" href="#T:45"><span class="id" title="binder">T</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a5fa9249bdc19684169f7ebb302b006b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a5fa9249bdc19684169f7ebb302b006b"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#18bf8c43a60891738d0d6115aa956824"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:43"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#T:45"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a5fa9249bdc19684169f7ebb302b006b"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#18bf8c43a60891738d0d6115aa956824"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:43"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#et:44"><span class="id" title="variable">et</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#includes_deps"><span class="id" title="definition">includes_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a5fa9249bdc19684169f7ebb302b006b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f7ddf502e84bf8c656bf4f40aab5a78d"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#et:44"><span class="id" title="variable">et</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#erases_deps"><span class="id" title="inductive">erases_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a5fa9249bdc19684169f7ebb302b006b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f7ddf502e84bf8c656bf4f40aab5a78d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#et:44"><span class="id" title="variable">et</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wt</span> <span class="id" title="var">er</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">er</span> <span class="id" title="tactic">in</span> <span class="id" title="var">er</span>, <span class="id" title="var">t</span>, <span class="id" title="var">T</span>, <span class="id" title="keyword">wf</span>, <span class="id" title="var">wt</span> |- × <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Erasure.Extract.html#erases_forall_list_ind"><span class="id" title="lemma">erases_forall_list_ind</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">constructor</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">Σer</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#includes_deps"><span class="id" title="definition">includes_deps</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ) |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#includes_deps_union"><span class="id" title="lemma">includes_deps_union</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? ?]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Evar"><span class="id" title="lemma">inversion_Evar</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Lambda"><span class="id" title="lemma">inversion_Lambda</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_LetIn"><span class="id" title="lemma">inversion_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; <span class="id" title="var">h1</span> &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#unlift_TermTyp"><span class="id" title="lemma">unlift_TermTyp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_App"><span class="id" title="lemma">inversion_App</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Const"><span class="id" title="lemma">inversion_Const</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Σer</span> <span class="id" title="var">kn</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">Σer</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wf'</span> := <span class="id" title="keyword">wf</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_constant_to_gen"><span class="id" title="lemma">declared_constant_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σer</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">c'</span> [<span class="id" title="var">declc'</span> (? &amp; ? &amp; ? &amp; ?)]]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_constant_to_gen"><span class="id" title="lemma">declared_constant_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICGlobalEnv.html#declared_constant_inj"><span class="id" title="lemma">declared_constant_inj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">d</span> <span class="id" title="var">declc'</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_constant_from_gen"><span class="id" title="lemma">declared_constant_from_gen</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">mib</span> [<span class="id" title="var">mib'</span> [<span class="id" title="var">declm</span> <span class="id" title="var">declm'</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declm</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declm</span>, <span class="id" title="var">d</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_minductive_gen"><span class="id" title="definition">declared_minductive_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">d</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declm</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">declm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Construct"><span class="id" title="lemma">inversion_Construct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Σer</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">kn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSetFact.singleton_iff"><span class="id" title="lemma">KernameSetFact.singleton_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Σer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">wf'</span> := <span class="id" title="keyword">wf</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Σer</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>) <span class="id" title="keyword">as</span> [ (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?) | (? &amp; ? &amp; ? &amp; ? &amp; ?) ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [[]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_constant_to_gen"><span class="id" title="lemma">declared_constant_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>, <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.fst_ctx"><span class="id" title="definition">PCUICEnvironment.fst_ctx</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H2'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H3</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall2_nth_error_Some_l"><span class="id" title="lemma">Forall2_nth_error_Some_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">H6</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H6'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall2_nth_error_Some_l"><span class="id" title="lemma">Forall2_nth_error_Some_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span> <span class="id" title="keyword">as</span> ([] &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_constructor_from_gen"><span class="id" title="lemma">declared_constructor_from_gen</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Case"><span class="id" title="lemma">inversion_Case</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; [] &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ci</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">kn</span> <span class="id" title="var">i'</span>] ? ?]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#includes_deps_fold"><span class="id" title="lemma">includes_deps_fold</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wf'</span> := <span class="id" title="keyword">wf</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> <span class="id" title="var">kn</span>). <span class="id" title="var">forward</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">cst</span> [<span class="id" title="var">declc</span> <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">x1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">d</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_constant_to_gen"><span class="id" title="lemma">declared_constant_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>, <span class="id" title="var">declc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_constant_gen"><span class="id" title="definition">declared_constant_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">d</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">declc</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">mib</span> [<span class="id" title="var">mib'</span> [<span class="id" title="var">declm</span> [<span class="id" title="var">declm'</span> <span class="id" title="var">em</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">em</span> <span class="id" title="keyword">as</span> <span class="id" title="var">em'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">em'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x1</span> <span class="id" title="var">hnth</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x1</span>, <span class="id" title="var">declm</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x1</span>, <span class="id" title="var">declm</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_minductive_gen"><span class="id" title="definition">declared_minductive_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declm</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">x1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declm</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">declm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EDeps.html#Forall2_nth_error_left"><span class="id" title="lemma">Forall2_nth_error_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [? [? ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.Extract.html#erases_deps_tCase"><span class="id" title="constructor">erases_deps_tCase</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_inductive_from_gen"><span class="id" title="lemma">declared_inductive_from_gen</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall2_length"><span class="id" title="lemma">Forall2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall2_length"><span class="id" title="lemma">Forall2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wf_brs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#In_Forall"><span class="id" title="lemma">In_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_Forall"><span class="id" title="lemma">All_Forall</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_All"><span class="id" title="lemma">Forall_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_All_mix_right"><span class="id" title="lemma">All2_All_mix_right</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="br:46" class="idref" href="#br:46"><span class="id" title="binder"><span id="br:48" class="id">br</span></span></a> ⇒ <a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="T:47" class="idref" href="#T:47"><span class="id" title="binder"><span id="T:49" class="id">T</span></span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a> <span class="id" title="var">p</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#br:46"><span class="id" title="variable">br</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#br:46"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a>) <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#T:47"><span class="id" title="variable">T</span></a>) <span class="id" title="var">brs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2i_All_right"><span class="id" title="lemma">All2i_All_right</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">brs_ty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eexists</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.PCUIC.PCUICCasesContexts.html#inst_case_branch_context_eq"><span class="id" title="lemma">PCUICCasesContexts.inst_case_branch_context_eq</span></a> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ELiftSubst.solve_all</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T'</span> <span class="id" title="var">HT</span>]. <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Proj"><span class="id" title="lemma">inversion_Proj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.MRProd.html#proj1"><span class="id" title="definition">proj1</span></a> <span class="id" title="var">d</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wf'</span> := <span class="id" title="keyword">wf</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <span class="id" title="var">p</span>.(<a class="idref" href="MetaRocq.Common.Kernames.html#proj_ind"><span class="id" title="projection">proj_ind</span></a>))). <span class="id" title="var">forward</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">cst</span> [<span class="id" title="var">declc</span> <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_constant_to_gen"><span class="id" title="lemma">declared_constant_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [[[<span class="id" title="var">d</span> <span class="id" title="var">_</span>] <span class="id" title="var">_</span>] <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_constant_gen"><span class="id" title="definition">declared_constant_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">d</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">declc</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">mib</span> [<span class="id" title="var">mib'</span> [<span class="id" title="var">declm</span> [<span class="id" title="var">declm'</span> <span class="id" title="var">em</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">mib</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [[[]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declm</span>, <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>, <span class="id" title="var">declm</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_minductive_gen"><span class="id" title="definition">declared_minductive_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declm</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declm</span>. <span class="id" title="var">now</span> <span class="id" title="var">noconf</span> <span class="id" title="var">declm</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">em</span> <span class="id" title="keyword">as</span> <span class="id" title="var">em'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">em'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EDeps.html#Forall2_nth_error_left"><span class="id" title="lemma">Forall2_nth_error_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x'</span> &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">apply</span> <span class="id" title="var">d</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a> <span class="id" title="var">x1</span>) ⇒ //. <span class="id" title="var">noconf</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">H1'</span> := <span class="id" title="var">H5</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1'</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">d'</span> := <span class="id" title="var">d</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">d'</span> <span class="id" title="keyword">as</span> [[[]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_nth_error_Some"><span class="id" title="lemma">All2_nth_error_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> [? [? []]]; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hprojs</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprojs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_nth_error_Some"><span class="id" title="lemma">All2_nth_error_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprojs</span> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">eapply</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">all</span>:<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //. 2:<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H4</span>. <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">d</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Fix"><span class="id" title="lemma">inversion_Fix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_Forall"><span class="id" title="lemma">All_Forall</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#includes_deps_fold"><span class="id" title="lemma">includes_deps_fold</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Σer</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Σer</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#In_Forall"><span class="id" title="lemma">In_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Σer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_All"><span class="id" title="lemma">Forall_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Σer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ELiftSubst.solve_all</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#unlift_TermTyp"><span class="id" title="lemma">unlift_TermTyp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_CoFix"><span class="id" title="lemma">inversion_CoFix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_Forall"><span class="id" title="lemma">All_Forall</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#includes_deps_fold"><span class="id" title="lemma">includes_deps_fold</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Σer</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Σer</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#In_Forall"><span class="id" title="lemma">In_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Σer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_All"><span class="id" title="lemma">Forall_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Σer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ELiftSubst.solve_all</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#unlift_TermTyp"><span class="id" title="lemma">unlift_TermTyp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Prim"><span class="id" title="lemma">inversion_Prim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">prim_ty</span> [<span class="id" title="var">decl</span> []]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">H0</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">X</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">X0</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">p1</span>; <span class="id" title="tactic">constructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">simp</span> <span class="id" title="var">prim_global_deps</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Σer</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">e0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Σer</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Σer</span> <span class="id" title="var">kn</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Σer</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_Forall"><span class="id" title="lemma">All_Forall</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#includes_deps_fold"><span class="id" title="lemma">includes_deps_fold</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Σer</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">Σer</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#In_Forall"><span class="id" title="lemma">In_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Σer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_All"><span class="id" title="lemma">Forall_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Σer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erases_deps_weaken" class="idref" href="#erases_deps_weaken"><span class="id" title="lemma">erases_deps_weaken</span></a> <a id="kn:50" class="idref" href="#kn:50"><span class="id" title="binder">kn</span></a> <a id="d:51" class="idref" href="#d:51"><span class="id" title="binder">d</span></a> (<a id="2419f67097a80bf54d8cab0e41eb773a" class="idref" href="#2419f67097a80bf54d8cab0e41eb773a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) (<a id="8c1c1745d8246e72b40a14314bc0c42a" class="idref" href="#8c1c1745d8246e72b40a14314bc0c42a"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#global_declarations"><span class="id" title="definition">EAst.global_declarations</span></a>) <a id="t:54" class="idref" href="#t:54"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#2419f67097a80bf54d8cab0e41eb773a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:50"><span class="id" title="variable">kn</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:51"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#erases_deps"><span class="id" title="inductive">erases_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#2419f67097a80bf54d8cab0e41eb773a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8c1c1745d8246e72b40a14314bc0c42a"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:54"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#erases_deps"><span class="id" title="inductive">erases_deps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#2419f67097a80bf54d8cab0e41eb773a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:50"><span class="id" title="variable">kn</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:51"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8c1c1745d8246e72b40a14314bc0c42a"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:54"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">er</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">wfΣ'</span> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <span class="id" title="var">Σ</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#strictly_extends_decls_wf"><span class="id" title="lemma">strictly_extends_decls_wf</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">split</span> ⇒ //; <span class="id" title="tactic">eexists</span> <span class="id" title="notation">[</span><span class="id" title="var">_</span><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">er</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Erasure.EDeps.html#erases_deps_forall_ind"><span class="id" title="lemma">erases_deps_forall_ind</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">inv</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <span class="id" title="var">Σ</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">inversion</span> <span class="id" title="var">H4</span>;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">H_</span> := <span class="id" title="var">H</span>). <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_constant_to_gen"><span class="id" title="lemma">declared_constant_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">kn</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="var">kn0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#lookup_env_Some_fresh"><span class="id" title="lemma">lookup_env_Some_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>. <span class="id" title="var">contradiction</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.Extract.html#erases_deps_tConst"><span class="id" title="constructor">erases_deps_tConst</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">cb</span> <span class="id" title="var">cb'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_constant_from_gen"><span class="id" title="lemma">declared_constant_from_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_constant_gen"><span class="id" title="definition">declared_constant_gen</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#lookup_env_cons_fresh"><span class="id" title="lemma">lookup_env_cons_fresh</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_body"><span class="id" title="projection">cst_body</span></a> <span class="id" title="var">cb</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">cbe</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.Extract.html#E.cst_body"><span class="id" title="projection">E.cst_body</span></a> <span class="id" title="var">cb'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">cbe'</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H3</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#on_declared_constant"><span class="id" title="lemma">on_declared_constant</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">cbe</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#unlift_TermTyp"><span class="id" title="lemma">unlift_TermTyp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_weakening_env"><span class="id" title="lemma">erases_weakening_env</span></a> (<span class="id" title="var">Σ</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">cb</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Σ'</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">cb</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //; <span class="id" title="tactic">eexists</span> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#weakening_env_declared_constructor"><span class="id" title="lemma">weakening_env_declared_constructor</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">tc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.extends_decls_extends"><span class="id" title="instance">extends_decls_extends</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.strictly_extends_decls_extends_decls"><span class="id" title="instance">strictly_extends_decls_extends_decls</span></a>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">eexists</span> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_inductive_from_gen"><span class="id" title="lemma">declared_inductive_from_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">H3</span> <span class="id" title="var">into</span> <span class="id" title="var">Hlen</span>, <span class="id" title="var">H4</span> <span class="id" title="var">into</span> <span class="id" title="var">H3</span>, <span class="id" title="var">H5</span> <span class="id" title="var">into</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">inv</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <span class="id" title="var">Σ</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">inversion</span> <span class="id" title="var">H5</span>;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_inductive_to_gen"><span class="id" title="lemma">declared_inductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <span class="id" title="var">p</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>) <span class="id" title="var">kn</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#lookup_env_Some_fresh"><span class="id" title="lemma">lookup_env_Some_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">kn</span>; <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">inv</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <span class="id" title="var">Σ</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">inversion</span> <span class="id" title="var">H3</span>;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_projection_from_gen"><span class="id" title="lemma">declared_projection_from_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_projection_to_gen"><span class="id" title="lemma">declared_projection_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <span class="id" title="var">p</span>.(<a class="idref" href="MetaRocq.Common.Kernames.html#proj_ind"><span class="id" title="projection">proj_ind</span></a>)) <span class="id" title="var">kn</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#lookup_env_Some_fresh"><span class="id" title="lemma">lookup_env_Some_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">kn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_env_ext" class="idref" href="#lookup_env_ext"><span class="id" title="lemma">lookup_env_ext</span></a> {<a id="f1e8fd5f016d0a22b08224b45bb8ae16" class="idref" href="#f1e8fd5f016d0a22b08224b45bb8ae16"><span class="id" title="binder">Σ</span></a> <a id="kn:56" class="idref" href="#kn:56"><span class="id" title="binder">kn</span></a> <a id="kn':57" class="idref" href="#kn':57"><span class="id" title="binder">kn'</span></a> <a id="d:58" class="idref" href="#d:58"><span class="id" title="binder">d</span></a> <a id="d':59" class="idref" href="#d':59"><span class="id" title="binder">d'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f1e8fd5f016d0a22b08224b45bb8ae16"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn':57"><span class="id" title="variable">kn'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d':59"><span class="id" title="variable">d'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f1e8fd5f016d0a22b08224b45bb8ae16"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:56"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:58"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:56"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn':57"><span class="id" title="variable">kn'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#lookup_env_Some_fresh"><span class="id" title="lemma">lookup_env_Some_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="keyword">wf</span>. <span class="id" title="var">inv</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">kn'</span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_env_cons_disc" class="idref" href="#lookup_env_cons_disc"><span class="id" title="lemma">lookup_env_cons_disc</span></a> {<a id="18525328a91152dd2803b9136e78a252" class="idref" href="#18525328a91152dd2803b9136e78a252"><span class="id" title="binder">Σ</span></a> <a id="kn:61" class="idref" href="#kn:61"><span class="id" title="binder">kn</span></a> <a id="kn':62" class="idref" href="#kn':62"><span class="id" title="binder">kn'</span></a> <a id="d:63" class="idref" href="#d:63"><span class="id" title="binder">d</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:61"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn':62"><span class="id" title="variable">kn'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#18525328a91152dd2803b9136e78a252"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn':62"><span class="id" title="variable">kn'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:63"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:61"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#18525328a91152dd2803b9136e78a252"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:61"><span class="id" title="variable">kn</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hk</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">kn'</span>); <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="elookup_env_cons_disc" class="idref" href="#elookup_env_cons_disc"><span class="id" title="lemma">elookup_env_cons_disc</span></a> {<a id="cc2b65564304e5a54a9642e62d8a48fa" class="idref" href="#cc2b65564304e5a54a9642e62d8a48fa"><span class="id" title="binder">Σ</span></a> <a id="kn:65" class="idref" href="#kn:65"><span class="id" title="binder">kn</span></a> <a id="kn':66" class="idref" href="#kn':66"><span class="id" title="binder">kn'</span></a> <a id="d:67" class="idref" href="#d:67"><span class="id" title="binder">d</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:65"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn':66"><span class="id" title="variable">kn'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">EGlobalEnv.lookup_env</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn':66"><span class="id" title="variable">kn'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:67"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cc2b65564304e5a54a9642e62d8a48fa"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:65"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">EGlobalEnv.lookup_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cc2b65564304e5a54a9642e62d8a48fa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:65"><span class="id" title="variable">kn</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hk</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">kn'</span>); <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_erases_with_deps_cons" class="idref" href="#global_erases_with_deps_cons"><span class="id" title="lemma">global_erases_with_deps_cons</span></a> <a id="kn:68" class="idref" href="#kn:68"><span class="id" title="binder">kn</span></a> <a id="kn':69" class="idref" href="#kn':69"><span class="id" title="binder">kn'</span></a> <a id="d:70" class="idref" href="#d:70"><span class="id" title="binder">d</span></a> <a id="d':71" class="idref" href="#d':71"><span class="id" title="binder">d'</span></a> <a id="5f7f8a3a36b9c7b682466610e664c174" class="idref" href="#5f7f8a3a36b9c7b682466610e664c174"><span class="id" title="binder">Σ</span></a> <a id="75b19ed2ba318e2163d2c457d73450f7" class="idref" href="#75b19ed2ba318e2163d2c457d73450f7"><span class="id" title="binder">Σ'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#5f7f8a3a36b9c7b682466610e664c174"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn':69"><span class="id" title="variable">kn'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:70"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#global_erased_with_deps"><span class="id" title="definition">global_erased_with_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#5f7f8a3a36b9c7b682466610e664c174"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#75b19ed2ba318e2163d2c457d73450f7"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:68"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#global_erased_with_deps"><span class="id" title="definition">global_erased_with_deps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#5f7f8a3a36b9c7b682466610e664c174"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn':69"><span class="id" title="variable">kn'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:70"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn':69"><span class="id" title="variable">kn'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d':71"><span class="id" title="variable">d'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#75b19ed2ba318e2163d2c457d73450f7"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:68"><span class="id" title="variable">kn</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> [[<span class="id" title="var">cst</span> [<span class="id" title="var">declc</span> [<span class="id" title="var">cst'</span> [<span class="id" title="var">declc'</span> [<span class="id" title="var">ebody</span> <span class="id" title="var">IH</span>]]]]]|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">inv</span> <span class="id" title="keyword">wf</span>. <span class="id" title="var">inv</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">wfΣ</span> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">PCUICTyping.wf</span></a> <span class="id" title="var">Σ</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#strictly_extends_decls_wf"><span class="id" title="lemma">strictly_extends_decls_wf</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="var">tea</span> ; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span> <span class="id" title="notation">[</span><span class="id" title="var">_</span><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">cst</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_constant_from_gen"><span class="id" title="lemma">declared_constant_from_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_constant_to_gen"><span class="id" title="lemma">declared_constant_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span> |- ×. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_constant_gen"><span class="id" title="definition">declared_constant_gen</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#lookup_env_cons_fresh"><span class="id" title="lemma">lookup_env_cons_fresh</span></a> //.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#lookup_env_Some_fresh"><span class="id" title="lemma">lookup_env_Some_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> &lt;-; <span class="id" title="var">contradiction</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">cst'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">declc_</span> := <span class="id" title="var">declc</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_constant_to_gen"><span class="id" title="lemma">declared_constant_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#declared_constant"><span class="id" title="definition">EGlobalEnv.declared_constant</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#elookup_env_cons_fresh"><span class="id" title="lemma">EGlobalEnv.elookup_env_cons_fresh</span></a> //.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#lookup_env_Some_fresh"><span class="id" title="lemma">lookup_env_Some_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> &lt;-; <span class="id" title="var">contradiction</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ebody</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.Extract.html#erases_constant_body"><span class="id" title="definition">erases_constant_body</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_body"><span class="id" title="projection">cst_body</span></a> <span class="id" title="var">cst</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">bod</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.Extract.html#E.cst_body"><span class="id" title="projection">E.cst_body</span></a> <span class="id" title="var">cst'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">bod'</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_weakening_env"><span class="id" title="lemma">erases_weakening_env</span></a> (<span class="id" title="var">Σ</span>  := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">cst</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) (<span class="id" title="var">Σ'</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn'</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">cst</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">∃</span> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn'</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#on_declared_constant"><span class="id" title="lemma">on_declared_constant</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc_</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declc_</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">bod</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declc_</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">declc_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EDeps.html#erases_deps_cons"><span class="id" title="lemma">erases_deps_cons</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wf_</span> := <span class="id" title="keyword">wf</span>). <span class="id" title="var">inv</span> <span class="id" title="keyword">wf</span>. <span class="id" title="var">inv</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <span class="id" title="var">Σ</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">mib</span> [<span class="id" title="var">mib'</span> [? [? ?]]]].<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">mib</span>, <span class="id" title="var">mib'</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_minductive_from_gen"><span class="id" title="lemma">declared_minductive_from_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#lookup_env_ext"><span class="id" title="lemma">lookup_env_ext</span></a> <span class="id" title="var">wf_</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_minductive_gen"><span class="id" title="definition">declared_minductive_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#lookup_env_cons_disc"><span class="id" title="lemma">lookup_env_cons_disc</span></a>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">red</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#lookup_env_ext"><span class="id" title="lemma">lookup_env_ext</span></a> <span class="id" title="var">wf_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#elookup_env_cons_disc"><span class="id" title="lemma">elookup_env_cons_disc</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_erases_with_deps_weaken" class="idref" href="#global_erases_with_deps_weaken"><span class="id" title="lemma">global_erases_with_deps_weaken</span></a> <a id="kn:74" class="idref" href="#kn:74"><span class="id" title="binder">kn</span></a> <a id="kn':75" class="idref" href="#kn':75"><span class="id" title="binder">kn'</span></a> <a id="d:76" class="idref" href="#d:76"><span class="id" title="binder">d</span></a> <a id="15bb1c35edab98229a8cfae9c0763c1a" class="idref" href="#15bb1c35edab98229a8cfae9c0763c1a"><span class="id" title="binder">Σ</span></a> <a id="51fb5752e00c1a82c8e09b0dfce31c6d" class="idref" href="#51fb5752e00c1a82c8e09b0dfce31c6d"><span class="id" title="binder">Σ'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#15bb1c35edab98229a8cfae9c0763c1a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn':75"><span class="id" title="variable">kn'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:76"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#global_erased_with_deps"><span class="id" title="definition">global_erased_with_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#15bb1c35edab98229a8cfae9c0763c1a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#51fb5752e00c1a82c8e09b0dfce31c6d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:74"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#global_erased_with_deps"><span class="id" title="definition">global_erased_with_deps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#15bb1c35edab98229a8cfae9c0763c1a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn':75"><span class="id" title="variable">kn'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:76"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#51fb5752e00c1a82c8e09b0dfce31c6d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:74"><span class="id" title="variable">kn</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> [[<span class="id" title="var">cst</span> [<span class="id" title="var">declc</span> [<span class="id" title="var">cst'</span> [<span class="id" title="var">declc'</span> [<span class="id" title="var">ebody</span> <span class="id" title="var">IH</span>]]]]]|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">inv</span> <span class="id" title="keyword">wf</span>. <span class="id" title="var">inv</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">wfΣ</span> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">PCUICTyping.wf</span></a> <span class="id" title="var">Σ</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#strictly_extends_decls_wf"><span class="id" title="lemma">strictly_extends_decls_wf</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="var">tea</span> ; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span> <span class="id" title="notation">[</span><span class="id" title="var">_</span><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">cst</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_constant_from_gen"><span class="id" title="lemma">declared_constant_from_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_constant_to_gen"><span class="id" title="lemma">declared_constant_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span> |- ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_constant_gen"><span class="id" title="definition">declared_constant_gen</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#lookup_env_cons_fresh"><span class="id" title="lemma">lookup_env_cons_fresh</span></a> //.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#lookup_env_Some_fresh"><span class="id" title="lemma">lookup_env_Some_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> &lt;-. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>. <span class="id" title="var">contradiction</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">cst'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#declared_constant"><span class="id" title="definition">EGlobalEnv.declared_constant</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ebody</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.Extract.html#erases_constant_body"><span class="id" title="definition">erases_constant_body</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_body"><span class="id" title="projection">cst_body</span></a> <span class="id" title="var">cst</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">bod</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.Extract.html#E.cst_body"><span class="id" title="projection">E.cst_body</span></a> <span class="id" title="var">cst'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">bod'</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_weakening_env"><span class="id" title="lemma">erases_weakening_env</span></a> (<span class="id" title="var">Σ</span>  := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">cst</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) (<span class="id" title="var">Σ'</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn'</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">cst</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)). 5:<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">∃</span> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn'</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#on_declared_constant"><span class="id" title="lemma">on_declared_constant</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">bod</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">declc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erases_deps_weaken"><span class="id" title="lemma">erases_deps_weaken</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">mib</span> [<span class="id" title="var">mib'</span> [<span class="id" title="var">Hm</span> [? ?]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">mib</span>, <span class="id" title="var">mib'</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wf_</span> := <span class="id" title="keyword">wf</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="keyword">wf</span>. <span class="id" title="var">inv</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <span class="id" title="var">Σ</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_minductive_from_gen"><span class="id" title="lemma">declared_minductive_from_gen</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_minductive_gen"><span class="id" title="definition">declared_minductive_gen</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#lookup_env_cons_fresh"><span class="id" title="lemma">lookup_env_cons_fresh</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#lookup_env_ext"><span class="id" title="lemma">lookup_env_ext</span></a> <span class="id" title="var">wf_</span> <span class="id" title="var">Hm</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_includes" class="idref" href="#erase_global_includes"><span class="id" title="lemma">erase_global_includes</span></a> <a id="X_type:79" class="idref" href="#X_type:79"><span class="id" title="binder">X_type</span></a> (<a id="X:80" class="idref" href="#X:80"><span class="id" title="binder">X</span></a>:<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:79"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) <a id="deps:81" class="idref" href="#deps:81"><span class="id" title="binder">deps</span></a> <a id="decls:82" class="idref" href="#decls:82"><span class="id" title="binder">decls</span></a> {<a id="normalization_in:83" class="idref" href="#normalization_in:83"><span class="id" title="binder">normalization_in</span></a>} <a id="prf:84" class="idref" href="#prf:84"><span class="id" title="binder">prf</span></a> <a id="deps':85" class="idref" href="#deps':85"><span class="id" title="binder">deps'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="d:86" class="idref" href="#d:86"><span class="id" title="binder">d</span></a>, <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:86"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps':85"><span class="id" title="variable">deps'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="5fd230c3c15b522aef8df06c20946321" class="idref" href="#5fd230c3c15b522aef8df06c20946321"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:80"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#5fd230c3c15b522aef8df06c20946321"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="decl:88" class="idref" href="#decl:88"><span class="id" title="binder">decl</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#5fd230c3c15b522aef8df06c20946321"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:86"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decl:88"><span class="id" title="variable">decl</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.subset"><span class="id" title="definition">KernameSet.subset</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps':85"><span class="id" title="variable">deps'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:81"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="c51b7ec861f7c17647e5cb8afff8d01c" class="idref" href="#c51b7ec861f7c17647e5cb8afff8d01c"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:80"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#c51b7ec861f7c17647e5cb8afff8d01c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="bfc10697e38b86eb0cca6c7b077fa47d" class="idref" href="#bfc10697e38b86eb0cca6c7b077fa47d"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:81"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:80"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:82"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:83"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:84"><span class="id" title="variable">prf</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#includes_deps"><span class="id" title="definition">includes_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#c51b7ec861f7c17647e5cb8afff8d01c"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#bfc10697e38b86eb0cca6c7b077fa47d"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps':85"><span class="id" title="variable">deps'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">sub</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>, <span class="id" title="var">H</span>, <span class="id" title="var">sub</span>, <span class="id" title="var">prf</span>, <span class="id" title="var">deps</span>, <span class="id" title="var">deps'</span>, <span class="id" title="var">Σ</span> , <span class="id" title="var">wfΣ</span>, <span class="id" title="var">normalization_in</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">hin</span>. <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<span class="id" title="var">H</span> <span class="id" title="var">i</span> <span class="id" title="var">hin</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">decl</span> <span class="id" title="var">Hdecl</span>]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hdecl</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">Hdecl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn</span> <span class="id" title="var">d</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.subset_spec"><span class="id" title="lemma">KernameSet.subset_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<span class="id" title="var">H</span> <span class="id" title="var">i</span> <span class="id" title="var">hin</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">decl</span> <span class="id" title="var">Hdecl</span>]]; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdecl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">i</span> <span class="id" title="var">kn</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hdecl</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">Hdecl</span>. <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">H0</span>. <span class="id" title="tactic">intros</span> → [= &lt;-].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [|]; [<span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">Xpop</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xmake</span> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <span class="id" title="var">Xpop</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">Xpop</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σpop</span> <span class="id" title="var">wfpop</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">Xmake</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σmake</span> <span class="id" title="var">wfmake</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_constant_from_gen"><span class="id" title="lemma">declared_constant_from_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_constant_gen"><span class="id" title="definition">declared_constant_gen</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#eq_kername_refl"><span class="id" title="lemma">eq_kername_refl</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">sub</span> <span class="id" title="var">_</span> <span class="id" title="var">hin</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">indeps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem_spec"><span class="id" title="lemma">KernameSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">indeps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#declared_constant"><span class="id" title="definition">EGlobalEnv.declared_constant</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">hin</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">decl</span> <span class="id" title="var">hd</span>]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">indeps</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#eq_kername_refl"><span class="id" title="lemma">eq_kername_refl</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.strictly_extends_decls"><span class="id" title="class">strictly_extends_decls</span></a> <span class="id" title="var">Σpop</span> <span class="id" title="var">Σ</span>) ⇒ [?|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body_correct"><span class="id" title="lemma">erase_constant_body_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σpop</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">Xpop</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span> <span class="id" title="var">Σpop</span> <span class="id" title="var">Σmake</span> <span class="id" title="var">wfpop</span> <span class="id" title="var">wfmake</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#strictly_extends_decls_wf"><span class="id" title="lemma">strictly_extends_decls_wf</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Σpop</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfpop</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">indeps</span>. <span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Σpop</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpop</span> [<span class="id" title="var">Hpop'</span> <span class="id" title="var">Hpop''</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">prf'</span> := <span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hpop'</span> <span class="id" title="var">Hpop''</span> <span class="id" title="var">prf'</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hpop</span> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EDeps.html#erases_deps_cons"><span class="id" title="lemma">erases_deps_cons</span></a> <span class="id" title="var">Σpop</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hpop'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hpop</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">prf'</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">wf</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="keyword">wf</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hpop''</span> <span class="id" title="var">Hpop'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body_correct'"><span class="id" title="lemma">erase_constant_body_correct'</span></a> <span class="id" title="var">H0</span>). <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfmake</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">bod</span> [<span class="id" title="var">bodty</span> [[<span class="id" title="var">Hbod</span> <span class="id" title="var">Hebod</span>] <span class="id" title="var">Heqdeps</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">Xpop</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span> <span class="id" title="var">Σpop</span> <span class="id" title="var">Σmake</span> <span class="id" title="var">wfpop</span> <span class="id" title="var">wfmake</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hbod</span>, <span class="id" title="var">Hebod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_erases_deps"><span class="id" title="lemma">erase_global_erases_deps</span></a> (<span class="id" title="var">Σ</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σpop</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">depelim</span> <span class="id" title="keyword">wf</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hpop'</span> <span class="id" title="var">Hpop''</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>, <span class="id" title="var">o</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">prf'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>. <span class="id" title="tactic">rewrite</span>  &lt;- <span class="id" title="var">Hpop</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hpop'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">o</span> <span class="id" title="var">o0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">o0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="keyword">wf</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hpop'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>, <span class="id" title="var">o</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">prf'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hpop</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">o0</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">o0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHdecls</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wf'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σpop</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">clear</span> <span class="id" title="var">prf'</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">H2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpop</span> <span class="id" title="var">Hpop'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#term_global_deps_spec"><span class="id" title="lemma">term_global_deps_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hebod</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{  <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.subset_spec"><span class="id" title="lemma">KernameSet.subset_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">hin'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Heqdeps</span>. } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eexists</span> <span class="id" title="var">m</span>, <span class="id" title="var">_</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_minductive_from_gen"><span class="id" title="lemma">declared_minductive_from_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_minductive"><span class="id" title="definition">declared_minductive</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_minductive_gen"><span class="id" title="definition">declared_minductive_gen</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <span class="id" title="var">prf</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#eq_kername_refl"><span class="id" title="lemma">eq_kername_refl</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">sub</span> <span class="id" title="var">_</span> <span class="id" title="var">hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem_spec"><span class="id" title="lemma">KernameSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#eq_kername_refl"><span class="id" title="lemma">eq_kername_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_minductive"><span class="id" title="definition">declared_minductive</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">kn</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_minductive_from_gen"><span class="id" title="lemma">declared_minductive_from_gen</span></a>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_minductive_gen"><span class="id" title="definition">declared_minductive_gen</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">prf</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_refl"><span class="id" title="lemma">eqb_refl</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#on_declared_minductive"><span class="id" title="lemma">on_declared_minductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_mutual"><span class="id" title="lemma">erases_mutual</span></a>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">ikn</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">deps</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">eqkn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xpop</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xmake</span> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <span class="id" title="var">Xpop</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">Xpop</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σp</span> <span class="id" title="var">wfpop</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpop</span> [<span class="id" title="var">Hpop'</span> <span class="id" title="var">Hpop''</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#global_erases_with_deps_cons"><span class="id" title="lemma">global_erases_with_deps_cons</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">IHdecls</span> <span class="id" title="var">Xpop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton"><span class="id" title="definition">KernameSet.singleton</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3:{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> ⇒ //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="var">wfpop</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">decl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.subset_spec"><span class="id" title="lemma">KernameSet.subset_spec</span></a>. <span class="id" title="tactic">intros</span> ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">sub</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">Xpop</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">Xpop</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σp</span> <span class="id" title="var">wfpop</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Σp</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpop</span> [<span class="id" title="var">Hpop'</span> <span class="id" title="var">Hpop''</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#global_erases_with_deps_weaken"><span class="id" title="lemma">global_erases_with_deps_weaken</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3:<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">ind</span>%<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">wfpop</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.subset_spec"><span class="id" title="lemma">KernameSet.subset_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">hin'</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">sub</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin'</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">Xpop</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">Xpop</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σp</span> <span class="id" title="var">wfpop</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Σp</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpop</span> [<span class="id" title="var">Hpop'</span> <span class="id" title="var">Hpop''</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">deps</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">eqkn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#global_erases_with_deps_cons"><span class="id" title="lemma">global_erases_with_deps_cons</span></a> <span class="id" title="var">_</span> <span class="id" title="var">kn</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">Σp</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">IHdecls</span> <span class="id" title="var">Xpop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton"><span class="id" title="definition">KernameSet.singleton</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3:{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> ⇒ //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="var">wfpop</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.subset_spec"><span class="id" title="lemma">KernameSet.subset_spec</span></a>. <span class="id" title="tactic">intros</span> ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">sub</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#global_erases_with_deps_weaken"><span class="id" title="lemma">global_erases_with_deps_weaken</span></a> <span class="id" title="var">_</span> <span class="id" title="var">kn</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">Σp</span>). <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">IHdecls</span> <span class="id" title="var">Xpop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>  (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton"><span class="id" title="definition">KernameSet.singleton</span></a> <span class="id" title="var">i</span>)) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3:<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">ind</span>%<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">wfpop</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.subset_spec"><span class="id" title="lemma">KernameSet.subset_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">hin'</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">sub</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin'</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_correct" class="idref" href="#erase_correct"><span class="id" title="lemma">erase_correct</span></a> (<a id="wfl:91" class="idref" href="#wfl:91"><span class="id" title="binder">wfl</span></a> := <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#default_wcbv_flags"><span class="id" title="definition">EWcbvEval.default_wcbv_flags</span></a>) <a id="X_type:92" class="idref" href="#X_type:92"><span class="id" title="binder">X_type</span></a> (<a id="X:93" class="idref" href="#X:93"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:92"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>)<br/>
&nbsp;&nbsp;<a id="univs:94" class="idref" href="#univs:94"><span class="id" title="binder">univs</span></a> <a id="wfext:95" class="idref" href="#wfext:95"><span class="id" title="binder">wfext</span></a> <a id="t:96" class="idref" href="#t:96"><span class="id" title="binder">t</span></a> <a id="v:97" class="idref" href="#v:97"><span class="id" title="binder">v</span></a> <a id="305e24bc258c12357ae4d8b544e45c9b" class="idref" href="#305e24bc258c12357ae4d8b544e45c9b"><span class="id" title="binder">Σ'</span></a> <a id="t':99" class="idref" href="#t':99"><span class="id" title="binder">t'</span></a> <a id="deps:100" class="idref" href="#deps:100"><span class="id" title="binder">deps</span></a> <a id="decls:101" class="idref" href="#decls:101"><span class="id" title="binder">decls</span></a> {<a id="normalization_in:102" class="idref" href="#normalization_in:102"><span class="id" title="binder">normalization_in</span></a>} <a id="prf:103" class="idref" href="#prf:103"><span class="id" title="binder">prf</span></a><br/>
&nbsp;&nbsp;(<a id="Xext:104" class="idref" href="#Xext:104"><span class="id" title="binder">Xext</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:93"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:94"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wfext:95"><span class="id" title="variable">wfext</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in':106" class="idref" href="#normalization_in':106"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="1ff6ac9c7b5724ab259a0ddfc84e9a1e" class="idref" href="#1ff6ac9c7b5724ab259a0ddfc84e9a1e"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#1ff6ac9c7b5724ab259a0ddfc84e9a1e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#1ff6ac9c7b5724ab259a0ddfc84e9a1e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:104"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#1ff6ac9c7b5724ab259a0ddfc84e9a1e"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="wt:108" class="idref" href="#wt:108"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="3cedca6701e55d274b90a4066ad3c858" class="idref" href="#3cedca6701e55d274b90a4066ad3c858"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#3cedca6701e55d274b90a4066ad3c858"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:104"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#3cedca6701e55d274b90a4066ad3c858"><span class="id" title="variable">Σ</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:96"><span class="id" title="variable">t</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:92"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:104"><span class="id" title="variable">Xext</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:96"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:108"><span class="id" title="variable">wt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':99"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.subset"><span class="id" title="definition">KernameSet.subset</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':99"><span class="id" title="variable">t'</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:100"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:100"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:93"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:101"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:102"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:103"><span class="id" title="variable">prf</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#305e24bc258c12357ae4d8b544e45c9b"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="7ad40d36cb1e314bda9bf8f0bc2340d1" class="idref" href="#7ad40d36cb1e314bda9bf8f0bc2340d1"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:93"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#7ad40d36cb1e314bda9bf8f0bc2340d1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#7ad40d36cb1e314bda9bf8f0bc2340d1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#2d097e5690ef6bc9865db9af0d700e66"><span class="id" title="notation">|-</span></a><a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#2d097e5690ef6bc9865db9af0d700e66"><span class="id" title="notation">p</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:96"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#2d097e5690ef6bc9865db9af0d700e66"><span class="id" title="notation">⇓</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:97"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="34ae1c9c84b00c7df18c2fc2612b37e3" class="idref" href="#34ae1c9c84b00c7df18c2fc2612b37e3"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:104"><span class="id" title="variable">Xext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#34ae1c9c84b00c7df18c2fc2612b37e3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="v':111" class="idref" href="#v':111"><span class="id" title="binder">v'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#34ae1c9c84b00c7df18c2fc2612b37e3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:97"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v':111"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#305e24bc258c12357ae4d8b544e45c9b"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#3959a00793ec04b4dc50ed24aec9b5cc"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':99"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#3959a00793ec04b4dc50ed24aec9b5cc"><span class="id" title="notation">⇓</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v':111"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HΣ'</span> <span class="id" title="var">Hsub</span> <span class="id" title="var">Ht'</span> <span class="id" title="var">ev</span> <span class="id" title="var">Σext</span> <span class="id" title="var">wfΣex</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a> (<span class="id" title="var">X</span> := <span class="id" title="var">Xext</span>) <span class="id" title="var">wt</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HΣ'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">wt</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣex</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> <span class="id" title="var">wt'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣex</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣ</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣex</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_erases_deps"><span class="id" title="lemma">erase_global_erases_deps</span></a> (<span class="id" title="var">Σ'</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">Σ'</span>) <span class="id" title="var">wfΣ</span> <span class="id" title="var">wt'</span> <span class="id" title="var">H</span> <span class="id" title="var">_</span>); <span class="id" title="var">cycle</span> 2.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Ht'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_includes"><span class="id" title="lemma">erase_global_includes</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#term_global_deps_spec"><span class="id" title="lemma">term_global_deps_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfext</span> <span class="id" title="var">Σ</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="var">wfΣex</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣX</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfext</span> <span class="id" title="var">Σ</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣX</span> <span class="id" title="var">wfΣex</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣX</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#erases_correct"><span class="id" title="lemma">erases_correct</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfext</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣX</span> <span class="id" title="var">wfΣex</span>); <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_env_ind" class="idref" href="#global_env_ind"><span class="id" title="lemma">global_env_ind</span></a> (<a id="P:112" class="idref" href="#P:112"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;(<a id="Pnil:115" class="idref" href="#Pnil:115"><span class="id" title="binder">Pnil</span></a> : <span class="id" title="keyword">∀</span> <a id="univs:113" class="idref" href="#univs:113"><span class="id" title="binder">univs</span></a> <a id="retro:114" class="idref" href="#retro:114"><span class="id" title="binder">retro</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#P:112"><span class="id" title="variable">P</span></a> {| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:113"><span class="id" title="variable">univs</span></a>; <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <span class="id" title="notation">[]</span>; <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#retro:114"><span class="id" title="variable">retro</span></a> |})<br/>
&nbsp;&nbsp;(<a id="Pcons:118" class="idref" href="#Pcons:118"><span class="id" title="binder">Pcons</span></a> : <span class="id" title="keyword">∀</span> (<a id="0825dac73746aacc9ef4b9d8e6b9d8f6" class="idref" href="#0825dac73746aacc9ef4b9d8e6b9d8f6"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) <a id="d:117" class="idref" href="#d:117"><span class="id" title="binder">d</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#P:112"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#0825dac73746aacc9ef4b9d8e6b9d8f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#P:112"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#0825dac73746aacc9ef4b9d8e6b9d8f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:117"><span class="id" title="variable">d</span></a>))<br/>
&nbsp;&nbsp;(<a id="a24658b2adcc01e6c41a8c2c40c17df4" class="idref" href="#a24658b2adcc01e6c41a8c2c40c17df4"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#P:112"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a24658b2adcc01e6c41a8c2c40c17df4"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs</span> <span class="id" title="var">Σ</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Pnil</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">Pcons</span> {| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <span class="id" title="var">univs</span>; <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <span class="id" title="var">Σ</span> |} <span class="id" title="var">a</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_global_env_ind" class="idref" href="#on_global_env_ind"><span class="id" title="lemma">on_global_env_ind</span></a> (<a id="P:121" class="idref" href="#P:121"><span class="id" title="binder">P</span></a> : <span class="id" title="keyword">∀</span> <a id="3f8c1c10906746294e3c27001291be1f" class="idref" href="#3f8c1c10906746294e3c27001291be1f"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#3f8c1c10906746294e3c27001291be1f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;(<a id="Pnil:125" class="idref" href="#Pnil:125"><span class="id" title="binder">Pnil</span></a> : <span class="id" title="keyword">∀</span> <a id="univs:122" class="idref" href="#univs:122"><span class="id" title="binder">univs</span></a> <a id="retro:123" class="idref" href="#retro:123"><span class="id" title="binder">retro</span></a> (<a id="onu:124" class="idref" href="#onu:124"><span class="id" title="binder">onu</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_global_univs"><span class="id" title="definition">on_global_univs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:122"><span class="id" title="variable">univs</span></a>), <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#P:121"><span class="id" title="variable">P</span></a> {| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:122"><span class="id" title="variable">univs</span></a>; <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <span class="id" title="notation">[]</span>; <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#retro:123"><span class="id" title="variable">retro</span></a> |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#onu:124"><span class="id" title="variable">onu</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#globenv_nil"><span class="id" title="constructor">globenv_nil</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="Pcons:134" class="idref" href="#Pcons:134"><span class="id" title="binder">Pcons</span></a> : <span class="id" title="keyword">∀</span> (<a id="8475528fc27833cff18e277488ae9e00" class="idref" href="#8475528fc27833cff18e277488ae9e00"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) <a id="kn:127" class="idref" href="#kn:127"><span class="id" title="binder">kn</span></a> <a id="d:128" class="idref" href="#d:128"><span class="id" title="binder">d</span></a> (<a id="wf:129" class="idref" href="#wf:129"><span class="id" title="binder">wf</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8475528fc27833cff18e277488ae9e00"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hfresh:130" class="idref" href="#Hfresh:130"><span class="id" title="binder">Hfresh</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#fresh_global"><span class="id" title="definition">fresh_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:127"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8475528fc27833cff18e277488ae9e00"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="udecl:131" class="idref" href="#udecl:131"><span class="id" title="binder">udecl</span></a> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICLookup.universes_decl_of_decl"><span class="id" title="definition">PCUICLookup.universes_decl_of_decl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:128"><span class="id" title="variable">d</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="onud:132" class="idref" href="#onud:132"><span class="id" title="binder">onud</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_udecl"><span class="id" title="definition">on_udecl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8475528fc27833cff18e277488ae9e00"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#udecl:131"><span class="id" title="variable">udecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="pd:133" class="idref" href="#pd:133"><span class="id" title="binder">pd</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_global_decl"><span class="id" title="definition">on_global_decl</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">({|</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8475528fc27833cff18e277488ae9e00"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a>); <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8475528fc27833cff18e277488ae9e00"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>); <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8475528fc27833cff18e277488ae9e00"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">|},</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#udecl:131"><span class="id" title="variable">udecl</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:127"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:128"><span class="id" title="variable">d</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#P:121"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8475528fc27833cff18e277488ae9e00"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf:129"><span class="id" title="variable">wf</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#P:121"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8475528fc27833cff18e277488ae9e00"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:127"><span class="id" title="variable">kn</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:128"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf:129"><span class="id" title="variable">wf</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#globenv_decl"><span class="id" title="constructor">globenv_decl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8475528fc27833cff18e277488ae9e00"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8475528fc27833cff18e277488ae9e00"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8475528fc27833cff18e277488ae9e00"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:127"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:128"><span class="id" title="variable">d</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf:129"><span class="id" title="variable">wf</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#kn_fresh"><span class="id" title="projection">kn_fresh</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Hfresh:130"><span class="id" title="variable">Hfresh</span></a> ; <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_udecl_udecl"><span class="id" title="projection">on_udecl_udecl</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#onud:132"><span class="id" title="variable">onud</span></a> ; <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_global_decl_d"><span class="id" title="projection">on_global_decl_d</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#pd:133"><span class="id" title="variable">pd</span></a> |}<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="ad4a3b2d31090031b38b45a91aa8372b" class="idref" href="#ad4a3b2d31090031b38b45a91aa8372b"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) (<a id="ff92c43399b1b2bafc25b196a6971bc9" class="idref" href="#ff92c43399b1b2bafc25b196a6971bc9"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ad4a3b2d31090031b38b45a91aa8372b"><span class="id" title="variable">Σ</span></a>) : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#P:121"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ad4a3b2d31090031b38b45a91aa8372b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ff92c43399b1b2bafc25b196a6971bc9"><span class="id" title="variable">wfΣ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs</span> <span class="id" title="var">Σ</span>]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣ</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">o0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Pnil</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">Pcons</span> {| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <span class="id" title="var">univs</span>; <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <span class="id" title="var">Σ</span> |} <span class="id" title="var">kn</span> <span class="id" title="var">d</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">o</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">o0</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">IHo0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_eta</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="MetaRocq.PCUIC.PCUICEtaExpand.html#expanded"><span class="id" title="inductive">PCUICEtaExpand.expanded</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="var">depelim</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="leq_term_propositional_sorted_l" class="idref" href="#leq_term_propositional_sorted_l"><span class="id" title="lemma">leq_term_propositional_sorted_l</span></a> {<a id="9e9733f8cc0a39ebf7cdff4c63de12e8" class="idref" href="#9e9733f8cc0a39ebf7cdff4c63de12e8"><span class="id" title="binder">Σ</span></a> <a id="95326f8d0825c1ba274f0ebe6b4b68f1" class="idref" href="#95326f8d0825c1ba274f0ebe6b4b68f1"><span class="id" title="binder">Γ</span></a> <a id="v:139" class="idref" href="#v:139"><span class="id" title="binder">v</span></a> <a id="v':140" class="idref" href="#v':140"><span class="id" title="binder">v'</span></a> <a id="u:141" class="idref" href="#u:141"><span class="id" title="binder">u</span></a> <a id="u':142" class="idref" href="#u':142"><span class="id" title="binder">u'</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#9e9733f8cc0a39ebf7cdff4c63de12e8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#leq_term"><span class="id" title="abbreviation">PCUICEquality.leq_term</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#9e9733f8cc0a39ebf7cdff4c63de12e8"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#9e9733f8cc0a39ebf7cdff4c63de12e8"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:139"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v':140"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#9e9733f8cc0a39ebf7cdff4c63de12e8"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#95326f8d0825c1ba274f0ebe6b4b68f1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:139"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#u:141"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#9e9733f8cc0a39ebf7cdff4c63de12e8"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#95326f8d0825c1ba274f0ebe6b4b68f1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v':140"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#u':142"><span class="id" title="variable">u'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Sort.is_propositional"><span class="id" title="definition">Sort.is_propositional</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#u:141"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#leq_sort"><span class="id" title="definition">leq_sort</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#9e9733f8cc0a39ebf7cdff4c63de12e8"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#u':142"><span class="id" title="variable">u'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#u:141"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">leq</span> <span class="id" title="var">hv</span> <span class="id" title="var">hv'</span> <span class="id" title="var">isp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICElimination.html#leq_term_prop_sorted_l"><span class="id" title="lemma">leq_term_prop_sorted_l</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_erase_irrel" class="idref" href="#map_erase_irrel"><span class="id" title="lemma">map_erase_irrel</span></a> <a id="X_type:143" class="idref" href="#X_type:143"><span class="id" title="binder">X_type</span></a> <a id="X:144" class="idref" href="#X:144"><span class="id" title="binder">X</span></a> {<a id="normalization_in1:146" class="idref" href="#normalization_in1:146"><span class="id" title="binder">normalization_in1</span></a> <a id="normalization_in2:147" class="idref" href="#normalization_in2:147"><span class="id" title="binder">normalization_in2</span></a> : <span class="id" title="keyword">∀</span> <a id="1ed006055b676c179b9a4144c48ba45b" class="idref" href="#1ed006055b676c179b9a4144c48ba45b"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#1ed006055b676c179b9a4144c48ba45b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#1ed006055b676c179b9a4144c48ba45b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:144"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#1ed006055b676c179b9a4144c48ba45b"><span class="id" title="variable">Σ</span></a>} <a id="9c7809982a4249756d111eeb6d88a8fe" class="idref" href="#9c7809982a4249756d111eeb6d88a8fe"><span class="id" title="binder">Γ</span></a> <a id="t:149" class="idref" href="#t:149"><span class="id" title="binder">t</span></a> <a id="H1:150" class="idref" href="#H1:150"><span class="id" title="binder">H1</span></a> <a id="H2:151" class="idref" href="#H2:151"><span class="id" title="binder">H2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_terms"><span class="id" title="definition">erase_terms</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:143"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:144"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#9c7809982a4249756d111eeb6d88a8fe"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:149"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#H1:150"><span class="id" title="variable">H1</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in1:146"><span class="id" title="variable">normalization_in1</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_terms"><span class="id" title="definition">erase_terms</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:143"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:144"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#9c7809982a4249756d111eeb6d88a8fe"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:149"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#H2:151"><span class="id" title="variable">H2</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in2:147"><span class="id" title="variable">normalization_in2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_mkApps" class="idref" href="#erase_mkApps"><span class="id" title="lemma">erase_mkApps</span></a> {<a id="X_type:152" class="idref" href="#X_type:152"><span class="id" title="binder">X_type</span></a> <a id="X:153" class="idref" href="#X:153"><span class="id" title="binder">X</span></a>} {<a id="normalization_in:155" class="idref" href="#normalization_in:155"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="5854b9c8272a298e61fb008eccdcfef8" class="idref" href="#5854b9c8272a298e61fb008eccdcfef8"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#5854b9c8272a298e61fb008eccdcfef8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#5854b9c8272a298e61fb008eccdcfef8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:153"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#5854b9c8272a298e61fb008eccdcfef8"><span class="id" title="variable">Σ</span></a>} <a id="48ab0e81006fd0f4936cb71b27507f7f" class="idref" href="#48ab0e81006fd0f4936cb71b27507f7f"><span class="id" title="binder">Γ</span></a> <a id="t:157" class="idref" href="#t:157"><span class="id" title="binder">t</span></a> <a id="args:158" class="idref" href="#args:158"><span class="id" title="binder">args</span></a> <a id="H2:159" class="idref" href="#H2:159"><span class="id" title="binder">H2</span></a> <a id="Ht:160" class="idref" href="#Ht:160"><span class="id" title="binder">Ht</span></a> <a id="Hargs:161" class="idref" href="#Hargs:161"><span class="id" title="binder">Hargs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="657ebd31316b08caaaf994ed434f8b0d" class="idref" href="#657ebd31316b08caaaf994ed434f8b0d"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:153"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#657ebd31316b08caaaf994ed434f8b0d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#657ebd31316b08caaaf994ed434f8b0d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#48ab0e81006fd0f4936cb71b27507f7f"><span class="id" title="variable">Γ</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="adef04e5061ce77a6c2e0f4fa8863238" class="idref" href="#adef04e5061ce77a6c2e0f4fa8863238"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:153"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#adef04e5061ce77a6c2e0f4fa8863238"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#adef04e5061ce77a6c2e0f4fa8863238"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#48ab0e81006fd0f4936cb71b27507f7f"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:157"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#args:158"><span class="id" title="variable">args</span></a>) <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:152"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:153"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#48ab0e81006fd0f4936cb71b27507f7f"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:157"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#args:158"><span class="id" title="variable">args</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#H2:159"><span class="id" title="variable">H2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#E.mkApps"><span class="id" title="definition">E.mkApps</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:152"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:153"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#48ab0e81006fd0f4936cb71b27507f7f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:157"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Ht:160"><span class="id" title="variable">Ht</span></a>) (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_terms"><span class="id" title="definition">erase_terms</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:152"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:153"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#48ab0e81006fd0f4936cb71b27507f7f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#args:158"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Hargs:161"><span class="id" title="variable">Hargs</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣX</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">X</span> <span class="id" title="var">wfΣX</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hwflocal</span> <span class="id" title="var">Herasable</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">args</span> <span class="id" title="tactic">in</span> <span class="id" title="var">t</span>, <span class="id" title="var">H2</span>, <span class="id" title="var">Ht</span>, <span class="id" title="var">Hargs</span>, <span class="id" title="var">Herasable</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHargs</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IHargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intros</span>; <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hargs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">X0</span>. <span class="id" title="var">now</span> <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICValidity.html#inversion_mkApps"><span class="id" title="lemma">inversion_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="var">simp</span> <span class="id" title="var">erase</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_clause_1"><span class="id" title="definition">erase_clause_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#inspect"><span class="id" title="definition">inspect</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_clause_1_clause_2"><span class="id" title="definition">erase_clause_1_clause_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Herasable</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣX</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EArities.html#Is_type_app"><span class="id" title="lemma">Is_type_app</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_terms"><span class="id" title="definition">erase_terms</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)). <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">he</span>. <span class="id" title="tactic">f_equal</span> ⇒ //. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#map_erase_irrel"><span class="id" title="lemma">map_erase_irrel</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_erase_length" class="idref" href="#map_erase_length"><span class="id" title="lemma">map_erase_length</span></a> <a id="X_type:164" class="idref" href="#X_type:164"><span class="id" title="binder">X_type</span></a> <a id="X:165" class="idref" href="#X:165"><span class="id" title="binder">X</span></a> {<a id="normalization_in:167" class="idref" href="#normalization_in:167"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="02e5d09468d184a097e8ccf600206b42" class="idref" href="#02e5d09468d184a097e8ccf600206b42"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#02e5d09468d184a097e8ccf600206b42"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#02e5d09468d184a097e8ccf600206b42"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:165"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#02e5d09468d184a097e8ccf600206b42"><span class="id" title="variable">Σ</span></a>} <a id="bc5cfc972b7195980b84752fe01958c5" class="idref" href="#bc5cfc972b7195980b84752fe01958c5"><span class="id" title="binder">Γ</span></a> <a id="t:169" class="idref" href="#t:169"><span class="id" title="binder">t</span></a> <a id="H1:170" class="idref" href="#H1:170"><span class="id" title="binder">H1</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_terms"><span class="id" title="definition">erase_terms</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:164"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:165"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#bc5cfc972b7195980b84752fe01958c5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:169"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#H1:170"><span class="id" title="variable">H1</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:169"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Hint Constructors</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#expanded"><span class="id" title="inductive">expanded</span></a> : <span class="id" title="var">expanded</span>.<br/>

<br/>
<span class="id" title="keyword">Local Arguments</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>

<br/>
<span class="comment">(*Lemma&nbsp;lookup_env_erase&nbsp;X_type&nbsp;X&nbsp;deps&nbsp;decls&nbsp;normalization_in&nbsp;prf&nbsp;kn&nbsp;d&nbsp;:<br/>
&nbsp;&nbsp;KernameSet.In&nbsp;kn&nbsp;deps&nbsp;-&gt;<br/>
&nbsp;&nbsp;forall&nbsp;Σ&nbsp;:&nbsp;global_env,&nbsp;abstract_env_rel&nbsp;X&nbsp;Σ&nbsp;-&gt;&nbsp;lookup_env&nbsp;Σ&nbsp;kn&nbsp;=&nbsp;Some&nbsp;(InductiveDecl&nbsp;d)&nbsp;-&gt;<br/>
&nbsp;&nbsp;EGlobalEnv.lookup_env&nbsp;(erase_global_deps&nbsp;X_type&nbsp;deps&nbsp;X&nbsp;decls&nbsp;normalization_in&nbsp;prf)&nbsp;kn&nbsp;=&nbsp;Some&nbsp;(EAst.InductiveDecl&nbsp;(erase_mutual_inductive_body&nbsp;d)).<br/>
Proof.<br/>
&nbsp;&nbsp;intros&nbsp;hin&nbsp;Σ&nbsp;wfΣ.&nbsp;pose&nbsp;proof&nbsp;(prf&nbsp;_&nbsp;wfΣ).&nbsp;unfold&nbsp;lookup_env.&nbsp;rewrite&nbsp;H.&nbsp;clear&nbsp;H.<br/>
&nbsp;&nbsp;rewrite&nbsp;/lookup_env.<br/>
&nbsp;&nbsp;induction&nbsp;decls&nbsp;in&nbsp;X,&nbsp;Σ&nbsp;,&nbsp;wfΣ&nbsp;,prf,&nbsp;deps,&nbsp;hin,&nbsp;normalization_in&nbsp;|-&nbsp;*.<br/>
&nbsp;&nbsp;-&nbsp;move=&gt;&nbsp;/=&nbsp;//.<br/>
&nbsp;&nbsp;-&nbsp;destruct&nbsp;a&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">kn'</span></span> <span class="inlinecode"><span class="id" title="var">d'</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;cbn&nbsp;-<span class="inlinecode"><span class="id" title="var">erase_global_deps</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;case:&nbsp;(eqb_spec&nbsp;kn&nbsp;kn');&nbsp;intros&nbsp;e';&nbsp;subst.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;intros&nbsp;<span class="inlinecode">=</span> <span class="inlinecode">→</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;erase_global_deps.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;KernameSet.mem_spec&nbsp;in&nbsp;hin.&nbsp;rewrite&nbsp;hin&nbsp;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;now&nbsp;rewrite&nbsp;eq_kername_refl.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;intros&nbsp;hl.&nbsp;destruct&nbsp;d'.&nbsp;simpl.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;set&nbsp;(Xpop&nbsp;:=&nbsp;abstract_pop_decls&nbsp;X).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;set&nbsp;(Xmake&nbsp;:=&nbsp;&nbsp;abstract_make_wf_env_ext&nbsp;Xpop&nbsp;(cst_universes&nbsp;c)&nbsp;_).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;epose&nbsp;proof&nbsp;(abstract_env_exists&nbsp;Xpop)&nbsp;as&nbsp;<span class="inlinecode">[<span class="id" title="var">Σp</span></span> <span class="inlinecode"><span class="id" title="var">wfpop</span>]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;KernameSet.mem.&nbsp;cbn.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;(negbTE&nbsp;(proj2&nbsp;(neqb&nbsp;_&nbsp;_)&nbsp;e')).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;IHdecls&nbsp;=&gt;&nbsp;//;&nbsp;eauto.&nbsp;eapply&nbsp;KernameSet.union_spec.&nbsp;left&nbsp;=&gt;&nbsp;//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;IHdecls&nbsp;=&gt;&nbsp;//;&nbsp;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;simpl.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;set&nbsp;(Xpop&nbsp;:=&nbsp;abstract_pop_decls&nbsp;X).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;epose&nbsp;proof&nbsp;(abstract_env_exists&nbsp;Xpop)&nbsp;as&nbsp;<span class="inlinecode">[<span class="id" title="var">Σp</span></span> <span class="inlinecode"><span class="id" title="var">wfpop</span>]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;KernameSet.mem.&nbsp;cbn.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;(negbTE&nbsp;(proj2&nbsp;(neqb&nbsp;_&nbsp;_)&nbsp;e')).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;IHdecls&nbsp;=&gt;&nbsp;//;&nbsp;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;IHdecls&nbsp;=&gt;&nbsp;//;&nbsp;eauto.<br/>
Qed.<br/>
*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_env_erase_decl_None" class="idref" href="#lookup_env_erase_decl_None"><span class="id" title="lemma">lookup_env_erase_decl_None</span></a> <a id="X_type:171" class="idref" href="#X_type:171"><span class="id" title="binder">X_type</span></a> <a id="X:172" class="idref" href="#X:172"><span class="id" title="binder">X</span></a> <a id="deps:173" class="idref" href="#deps:173"><span class="id" title="binder">deps</span></a> <a id="decls:174" class="idref" href="#decls:174"><span class="id" title="binder">decls</span></a> <a id="normalization_in:175" class="idref" href="#normalization_in:175"><span class="id" title="binder">normalization_in</span></a> <a id="prf:176" class="idref" href="#prf:176"><span class="id" title="binder">prf</span></a> <a id="kn:177" class="idref" href="#kn:177"><span class="id" title="binder">kn</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="9578c8ca712ef7a7ad3e8570c0f38f92" class="idref" href="#9578c8ca712ef7a7ad3e8570c0f38f92"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:172"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#9578c8ca712ef7a7ad3e8570c0f38f92"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#9578c8ca712ef7a7ad3e8570c0f38f92"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:177"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">EGlobalEnv.lookup_env</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:171"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:173"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:172"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:174"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:175"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:176"><span class="id" title="variable">prf</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:177"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>, <span class="id" title="var">Σ</span> , <span class="id" title="var">wfΣ</span> ,<span class="id" title="var">prf</span>, <span class="id" title="var">deps</span>, <span class="id" title="var">normalization_in</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ /= //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn'</span> <span class="id" title="var">d'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">kn'</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">e'</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [= -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">d'</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn'</span> <span class="id" title="var">deps</span>); <span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">hin'</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">kn'</span>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xpop</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">Xpop</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σp</span> <span class="id" title="var">wfpop</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">Xpop</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">Xpop</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σp</span> <span class="id" title="var">wfpop</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn'</span> <span class="id" title="var">deps</span>); <span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">hin'</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">kn'</span>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xpop</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">Xpop</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σp</span> <span class="id" title="var">wfpop</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">Xpop</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">Xpop</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σp</span> <span class="id" title="var">wfpop</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_env_erase_global_diff" class="idref" href="#lookup_env_erase_global_diff"><span class="id" title="lemma">lookup_env_erase_global_diff</span></a> <a id="X_type:179" class="idref" href="#X_type:179"><span class="id" title="binder">X_type</span></a> <a id="X:180" class="idref" href="#X:180"><span class="id" title="binder">X</span></a> <a id="deps:181" class="idref" href="#deps:181"><span class="id" title="binder">deps</span></a> <a id="decls:182" class="idref" href="#decls:182"><span class="id" title="binder">decls</span></a> <a id="kn:183" class="idref" href="#kn:183"><span class="id" title="binder">kn</span></a> <a id="kn':184" class="idref" href="#kn':184"><span class="id" title="binder">kn'</span></a> <a id="d':185" class="idref" href="#d':185"><span class="id" title="binder">d'</span></a> <a id="normalization_in:186" class="idref" href="#normalization_in:186"><span class="id" title="binder">normalization_in</span></a> <a id="prf:187" class="idref" href="#prf:187"><span class="id" title="binder">prf</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:183"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn':184"><span class="id" title="variable">kn'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="deps':188" class="idref" href="#deps':188"><span class="id" title="binder">deps'</span></a> <a id="nin':189" class="idref" href="#nin':189"><span class="id" title="binder">nin'</span></a> <a id="prf':190" class="idref" href="#prf':190"><span class="id" title="binder">prf'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.Subset"><span class="id" title="definition">KernameSet.Subset</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:181"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps':188"><span class="id" title="variable">deps'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">EGlobalEnv.lookup_env</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:179"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:181"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:180"><span class="id" title="variable">X</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn':184"><span class="id" title="variable">kn'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d':185"><span class="id" title="variable">d'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:182"><span class="id" title="variable">decls</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:186"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:187"><span class="id" title="variable">prf</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:183"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">EGlobalEnv.lookup_env</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:179"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps':188"><span class="id" title="variable">deps'</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:180"><span class="id" title="variable">X</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:182"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#nin':189"><span class="id" title="variable">nin'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf':190"><span class="id" title="variable">prf'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:183"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:183"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:179"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:181"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:180"><span class="id" title="variable">X</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn':184"><span class="id" title="variable">kn'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d':185"><span class="id" title="variable">d'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:182"><span class="id" title="variable">decls</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:186"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:187"><span class="id" title="variable">prf</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">).2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:183"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:179"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps':188"><span class="id" title="variable">deps'</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:180"><span class="id" title="variable">X</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:182"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#nin':189"><span class="id" title="variable">nin'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf':190"><span class="id" title="variable">prf'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">).2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">d'</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">kn'</span>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">reflexivity</span>|]]. <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">reflexivity</span>|]]. <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">kn'</span>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">reflexivity</span>|]]. <span class="id" title="var">knset</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">reflexivity</span>|]]. <span class="id" title="var">knset</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_env_In_map_fst" class="idref" href="#lookup_env_In_map_fst"><span class="id" title="lemma">lookup_env_In_map_fst</span></a> <a id="0b04ef40381eef0cc372f397be8cde43" class="idref" href="#0b04ef40381eef0cc372f397be8cde43"><span class="id" title="binder">Σ</span></a> <a id="kn:192" class="idref" href="#kn:192"><span class="id" title="binder">kn</span></a> <a id="decl:193" class="idref" href="#decl:193"><span class="id" title="binder">decl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_global"><span class="id" title="definition">lookup_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#0b04ef40381eef0cc372f397be8cde43"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:192"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decl:193"><span class="id" title="variable">decl</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="definition">In</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:192"><span class="id" title="variable">kn</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#0b04ef40381eef0cc372f397be8cde43"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span>; <span class="id" title="var">cbn</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> → [= &lt;-]. <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">_</span> <span class="id" title="var">hl</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_constant_decl_deps" class="idref" href="#erase_constant_decl_deps"><span class="id" title="lemma">erase_constant_decl_deps</span></a> {<a id="X_type:194" class="idref" href="#X_type:194"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>} (<a id="X:195" class="idref" href="#X:195"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:194"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) (<a id="cb:196" class="idref" href="#cb:196"><span class="id" title="binder">cb</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.constant_body"><span class="id" title="record">constant_body</span></a>) <a id="normalization_in:197" class="idref" href="#normalization_in:197"><span class="id" title="binder">normalization_in</span></a> <a id="oncb:198" class="idref" href="#oncb:198"><span class="id" title="binder">oncb</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="ff6cd2995c6e7da506b579f1c569f20b" class="idref" href="#ff6cd2995c6e7da506b579f1c569f20b"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:195"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ff6cd2995c6e7da506b579f1c569f20b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="kn:200" class="idref" href="#kn:200"><span class="id" title="binder">kn</span></a>, <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:200"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:195"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cb:196"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:197"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#oncb:198"><span class="id" title="variable">oncb</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">).2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="definition">In</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:200"><span class="id" title="variable">kn</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ff6cd2995c6e7da506b579f1c569f20b"><span class="id" title="variable">Σ</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">kn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ec</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cb</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">cst_body0</span>.<br/>
&nbsp;&nbsp;2:{ <span class="id" title="tactic">subst</span> <span class="id" title="var">ec</span>; <span class="id" title="var">cbn</span>. <span class="id" title="var">knset</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body_correct'"><span class="id" title="lemma">erase_constant_body_correct'</span></a> (@<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.Erasure.EAst.html#cst_body"><span class="id" title="projection">EAst.cst_body</span></a> <span class="id" title="var">ec</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">ec</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ec</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">X'</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ'</span> <span class="id" title="var">H'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣ'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">H'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">t0</span> [<span class="id" title="var">T</span> []]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">hty</span> <span class="id" title="var">her</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#term_global_deps_spec"><span class="id" title="lemma">term_global_deps_spec</span></a> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">hty</span> <span class="id" title="var">her</span> <span class="id" title="var">_</span> <span class="id" title="var">hc</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">H'</span>). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">Σ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">decl</span> <span class="id" title="var">hl</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#lookup_env_In_map_fst"><span class="id" title="lemma">lookup_env_In_map_fst</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="in_erase_global_deps_acc" class="idref" href="#in_erase_global_deps_acc"><span class="id" title="lemma">in_erase_global_deps_acc</span></a> <a id="X_type:201" class="idref" href="#X_type:201"><span class="id" title="binder">X_type</span></a> <a id="X:202" class="idref" href="#X:202"><span class="id" title="binder">X</span></a> <a id="deps:203" class="idref" href="#deps:203"><span class="id" title="binder">deps</span></a> <a id="decls:204" class="idref" href="#decls:204"><span class="id" title="binder">decls</span></a> <a id="kn:205" class="idref" href="#kn:205"><span class="id" title="binder">kn</span></a> <a id="normalization_in:206" class="idref" href="#normalization_in:206"><span class="id" title="binder">normalization_in</span></a> <a id="prf:207" class="idref" href="#prf:207"><span class="id" title="binder">prf</span></a>  :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:205"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:201"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:203"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:202"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:204"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:206"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:207"><span class="id" title="variable">prf</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">).2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:205"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:203"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <span class="id" title="definition">In</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:205"><span class="id" title="variable">kn</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:204"><span class="id" title="variable">decls</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>, <span class="id" title="var">prf</span>, <span class="id" title="var">deps</span>, <span class="id" title="var">normalization_in</span> |- ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn'</span> []].<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">ec</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">eg</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">eg'</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn'</span> <span class="id" title="var">deps</span>).<br/>
&nbsp;&nbsp;× <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHdecls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHdecls</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hu</span>|<span class="id" title="var">Hm</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hu</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hu</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">ec</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xpop</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">Xpop</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σp</span> <span class="id" title="var">wfpop</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_constant_decl_deps"><span class="id" title="lemma">erase_constant_decl_deps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">ΣX</span> <span class="id" title="var">HX</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span> <span class="id" title="var">wfpop</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">prf</span> ⇒ //. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [&lt;- <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">hdeps</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>; <span class="id" title="tactic">set</span> (<span class="id" title="var">eg</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">eg'</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn'</span> <span class="id" title="var">deps</span>).<br/>
&nbsp;&nbsp;× <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHdecls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHdecls</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hu</span>|<span class="id" title="var">Hm</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">hdeps</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_fresh_globals" class="idref" href="#wf_fresh_globals"><span class="id" title="lemma">wf_fresh_globals</span></a> {<a id="cf:208" class="idref" href="#cf:208"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="1d3c2712cd53f8ced44b9865a79a0e0b" class="idref" href="#1d3c2712cd53f8ced44b9865a79a0e0b"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#1d3c2712cd53f8ced44b9865a79a0e0b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.EnvMap.html#EnvMap.fresh_globals"><span class="id" title="inductive">EnvMap.EnvMap.fresh_globals</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#1d3c2712cd53f8ced44b9865a79a0e0b"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs</span> <span class="id" title="var">Σ</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [] <span class="id" title="var">onu</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_env_erase_decl" class="idref" href="#lookup_env_erase_decl"><span class="id" title="lemma">lookup_env_erase_decl</span></a> <a id="X_type:210" class="idref" href="#X_type:210"><span class="id" title="binder">X_type</span></a> <a id="X:211" class="idref" href="#X:211"><span class="id" title="binder">X</span></a> <a id="deps:212" class="idref" href="#deps:212"><span class="id" title="binder">deps</span></a> <a id="decls:213" class="idref" href="#decls:213"><span class="id" title="binder">decls</span></a> <a id="normalization_in:214" class="idref" href="#normalization_in:214"><span class="id" title="binder">normalization_in</span></a> <a id="prf:215" class="idref" href="#prf:215"><span class="id" title="binder">prf</span></a> <a id="kn:216" class="idref" href="#kn:216"><span class="id" title="binder">kn</span></a> <a id="decl:217" class="idref" href="#decl:217"><span class="id" title="binder">decl</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="ccf293e838f888857628a551bd743fea" class="idref" href="#ccf293e838f888857628a551bd743fea"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:211"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ccf293e838f888857628a551bd743fea"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ccf293e838f888857628a551bd743fea"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:216"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decl:217"><span class="id" title="variable">decl</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="er:219" class="idref" href="#er:219"><span class="id" title="binder">er</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:210"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:212"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:211"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:213"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:214"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:215"><span class="id" title="variable">prf</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:216"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#er:219"><span class="id" title="variable">er</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decl:217"><span class="id" title="variable">decl</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">cb</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="X':221" class="idref" href="#X':221"><span class="id" title="binder">X'</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:210"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) <a id="nin:222" class="idref" href="#nin:222"><span class="id" title="binder">nin</span></a> <a id="pf:223" class="idref" href="#pf:223"><span class="id" title="binder">pf</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">EGlobalEnv.lookup_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#er:219"><span class="id" title="variable">er</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:216"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#ConstantDecl"><span class="id" title="constructor">EAst.ConstantDecl</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':221"><span class="id" title="variable">X'</span></a> <span class="id" title="var">cb</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#nin:222"><span class="id" title="variable">nin</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#pf:223"><span class="id" title="variable">pf</span></a>)))<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="a708762f7c79def8edb0f602d1168306" class="idref" href="#a708762f7c79def8edb0f602d1168306"><span class="id" title="binder">Σ</span></a> <a id="c46bfa167cd35e14b7d16c723eb2dec2" class="idref" href="#c46bfa167cd35e14b7d16c723eb2dec2"><span class="id" title="binder">Σ'</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a708762f7c79def8edb0f602d1168306"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:211"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#c46bfa167cd35e14b7d16c723eb2dec2"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':221"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.strictly_extends_decls"><span class="id" title="class">strictly_extends_decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#c46bfa167cd35e14b7d16c723eb2dec2"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a708762f7c79def8edb0f602d1168306"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">mib</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">EGlobalEnv.lookup_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#er:219"><span class="id" title="variable">er</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:216"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#InductiveDecl"><span class="id" title="constructor">EAst.InductiveDecl</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_mutual_inductive_body"><span class="id" title="definition">erase_mutual_inductive_body</span></a> <span class="id" title="var">mib</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>, <span class="id" title="var">Σ</span> , <span class="id" title="var">wfΣ</span> ,<span class="id" title="var">prf</span>, <span class="id" title="var">deps</span>, <span class="id" title="var">decl</span>, <span class="id" title="var">normalization_in</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ /= //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn'</span> <span class="id" title="var">d'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">kn'</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">e'</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [= -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>; <span class="id" title="tactic">set</span> (<span class="id" title="var">ec</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">eg</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">eg'</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn'</span> <span class="id" title="var">deps</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem_spec"><span class="id" title="lemma">KernameSet.mem_spec</span></a> ⇒ <span class="id" title="var">hin'</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">intros</span> <span class="id" title="var">hin</span>. <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_refl"><span class="id" title="lemma">eqb_refl</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? <span class="id" title="var">hx</span> <span class="id" title="var">hpop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hx</span> <span class="id" title="var">hpop</span>). <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">prf</span> ⇒ //. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? []]. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.strictly_extends_decls"><span class="id" title="class">strictly_extends_decls</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>; <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">clear</span> <span class="id" title="var">ec</span> <span class="id" title="var">eg</span> <span class="id" title="var">eg'</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">hx</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">prf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span> <span class="id" title="notation">[</span><span class="id" title="var">_</span><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">intros</span> <span class="id" title="var">kn'deps</span> <span class="id" title="var">kn'eg'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#in_erase_global_deps_acc"><span class="id" title="lemma">in_erase_global_deps_acc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">kn'eg'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">kn'eg'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem_spec"><span class="id" title="lemma">KernameSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">prf</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> []. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf_fresh_globals"><span class="id" title="lemma">wf_fresh_globals</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">prf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.EnvMap.html#EnvMap.fresh_global_iff_not_In"><span class="id" title="lemma">EnvMap.EnvMap.fresh_global_iff_not_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">eg</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">eg'</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn'</span> <span class="id" title="var">deps</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem_spec"><span class="id" title="lemma">KernameSet.mem_spec</span></a> ⇒ <span class="id" title="var">hin'</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">intros</span> <span class="id" title="var">hin</span>. <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_refl"><span class="id" title="lemma">eqb_refl</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">intros</span> <span class="id" title="var">kn'deps</span> <span class="id" title="var">kn'eg'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#in_erase_global_deps_acc"><span class="id" title="lemma">in_erase_global_deps_acc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">kn'eg'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">kn'eg'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem_spec"><span class="id" title="lemma">KernameSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">prf</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> []. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf_fresh_globals"><span class="id" title="lemma">wf_fresh_globals</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">prf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.EnvMap.html#EnvMap.fresh_global_iff_not_In"><span class="id" title="lemma">EnvMap.EnvMap.fresh_global_iff_not_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">hl</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#lookup_env_erase_global_diff"><span class="id" title="lemma">lookup_env_erase_global_diff</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">deps</span> <span class="id" title="var">decls</span> <span class="id" title="var">kn</span> <span class="id" title="var">kn'</span> <span class="id" title="var">d'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">deps'</span> [<span class="id" title="var">nin'</span> [<span class="id" title="var">prf'</span> [<span class="id" title="var">sub</span> [<span class="id" title="var">hl'</span> <span class="id" title="var">hin'</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">hin'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <span class="id" title="var">hl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xpop</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">Xpop</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σp</span> <span class="id" title="var">wfpop</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHdecls</span> <span class="id" title="var">Xpop</span> <span class="id" title="var">deps'</span>). <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHdecls</span> <span class="id" title="var">nin'</span> <span class="id" title="var">prf'</span> <span class="id" title="var">decl</span> <span class="id" title="var">_</span> <span class="id" title="var">wfpop</span> <span class="id" title="var">hl</span> <span class="id" title="var">hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHdecls</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">X'</span> [<span class="id" title="var">nin</span> [<span class="id" title="var">pf</span> []]]]. <span class="id" title="tactic">∃</span> <span class="id" title="var">X'</span>, <span class="id" title="var">nin</span>, <span class="id" title="var">pf</span>. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="var">wfpop</span>). <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">prf</span> ⇒ //. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfpop</span> <span class="id" title="var">H2</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; <span class="id" title="var">sq</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">X0</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.strictly_extends_decls"><span class="id" title="class">strictly_extends_decls</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> [? []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H4</span> <span class="id" title="var">H0</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">rewrite</span> -(<span class="id" title="var">prf'</span> <span class="id" title="var">_</span> <span class="id" title="var">wfpop</span>). <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>). <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ''</span> <span class="id" title="var">eq</span>]. <span class="id" title="tactic">eexists</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn'</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">d'</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Σ''</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fresh_global_app" class="idref" href="#fresh_global_app"><span class="id" title="lemma">fresh_global_app</span></a> <a id="kn:226" class="idref" href="#kn:226"><span class="id" title="binder">kn</span></a> <a id="f9bd5fc9770abfb32803e9e591f6fbd6" class="idref" href="#f9bd5fc9770abfb32803e9e591f6fbd6"><span class="id" title="binder">Σ</span></a> <a id="132069c463ccb15003bc92608ab1fa93" class="idref" href="#132069c463ccb15003bc92608ab1fa93"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#fresh_global"><span class="id" title="definition">fresh_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:226"><span class="id" title="variable">kn</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f9bd5fc9770abfb32803e9e591f6fbd6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#132069c463ccb15003bc92608ab1fa93"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#fresh_global"><span class="id" title="definition">fresh_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:226"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f9bd5fc9770abfb32803e9e591f6fbd6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#fresh_global"><span class="id" title="definition">fresh_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:226"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#132069c463ccb15003bc92608ab1fa93"><span class="id" title="variable">Σ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">constructor</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_app"><span class="id" title="lemma">Forall_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_app"><span class="id" title="lemma">Forall_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_global_app_wf" class="idref" href="#lookup_global_app_wf"><span class="id" title="lemma">lookup_global_app_wf</span></a> <a id="fd00ad96bddd6de4e947f2f06459212f" class="idref" href="#fd00ad96bddd6de4e947f2f06459212f"><span class="id" title="binder">Σ</span></a> <a id="396590d6fb1bfeb7cdfd0bbc77953caa" class="idref" href="#396590d6fb1bfeb7cdfd0bbc77953caa"><span class="id" title="binder">Σ'</span></a> <a id="kn:231" class="idref" href="#kn:231"><span class="id" title="binder">kn</span></a> : <a class="idref" href="MetaRocq.Common.EnvMap.html#EnvMap.fresh_globals"><span class="id" title="inductive">EnvMap.EnvMap.fresh_globals</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fd00ad96bddd6de4e947f2f06459212f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#396590d6fb1bfeb7cdfd0bbc77953caa"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="decl:232" class="idref" href="#decl:232"><span class="id" title="binder">decl</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_global"><span class="id" title="definition">lookup_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#396590d6fb1bfeb7cdfd0bbc77953caa"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:231"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decl:232"><span class="id" title="variable">decl</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_global"><span class="id" title="definition">lookup_global</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fd00ad96bddd6de4e947f2f06459212f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#396590d6fb1bfeb7cdfd0bbc77953caa"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:231"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decl:232"><span class="id" title="variable">decl</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">kn</span> |- *; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">fr</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">fr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">decl</span> <span class="id" title="var">hd</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">kn0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#lookup_global_Some_fresh"><span class="id" title="lemma">PCUICWeakeningEnv.lookup_global_Some_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fresh_global_app"><span class="id" title="lemma">fresh_global_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> <span class="id" title="var">H'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHΣ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="strictly_extends_decls_lookup" class="idref" href="#strictly_extends_decls_lookup"><span class="id" title="lemma">strictly_extends_decls_lookup</span></a> {<a id="6415288ff3ab9e6abe4d622289bc17a1" class="idref" href="#6415288ff3ab9e6abe4d622289bc17a1"><span class="id" title="binder">Σ</span></a> <a id="737f6c3da91f381605178bd06821c861" class="idref" href="#737f6c3da91f381605178bd06821c861"><span class="id" title="binder">Σ'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#737f6c3da91f381605178bd06821c861"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.strictly_extends_decls"><span class="id" title="class">strictly_extends_decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#6415288ff3ab9e6abe4d622289bc17a1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#737f6c3da91f381605178bd06821c861"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="kn:235" class="idref" href="#kn:235"><span class="id" title="binder">kn</span></a> <a id="d:236" class="idref" href="#d:236"><span class="id" title="binder">d</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#6415288ff3ab9e6abe4d622289bc17a1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:235"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:236"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#737f6c3da91f381605178bd06821c861"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:235"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:236"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X0</span> <span class="id" title="keyword">as</span> [? []].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> ×. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#lookup_global_app_wf"><span class="id" title="lemma">lookup_global_app_wf</span></a>. <span class="id" title="tactic">reflexivity</span>. 2:<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf_fresh_globals"><span class="id" title="lemma">wf_fresh_globals</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">e0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="in_deps_in_erase_global_deps" class="idref" href="#in_deps_in_erase_global_deps"><span class="id" title="lemma">in_deps_in_erase_global_deps</span></a> <a id="X_type:237" class="idref" href="#X_type:237"><span class="id" title="binder">X_type</span></a> <a id="X:238" class="idref" href="#X:238"><span class="id" title="binder">X</span></a> <a id="deps:239" class="idref" href="#deps:239"><span class="id" title="binder">deps</span></a> <a id="decls:240" class="idref" href="#decls:240"><span class="id" title="binder">decls</span></a> <a id="normalization_in:241" class="idref" href="#normalization_in:241"><span class="id" title="binder">normalization_in</span></a> <a id="prf:242" class="idref" href="#prf:242"><span class="id" title="binder">prf</span></a> <a id="kn:243" class="idref" href="#kn:243"><span class="id" title="binder">kn</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:243"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:239"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:243"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:237"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:239"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:238"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:240"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:241"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:242"><span class="id" title="variable">prf</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">).2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>, <span class="id" title="var">deps</span>, <span class="id" title="var">normalization_in</span>, <span class="id" title="var">prf</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">H'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xpop</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">Xpop</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σp</span> <span class="id" title="var">wfpop</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H'</span> <span class="id" title="var">wfpop</span>). <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">prf</span> ⇒ //. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hd</span> [<span class="id" title="var">Hu</span> <span class="id" title="var">Hr</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">set</span> (<span class="id" title="var">eg</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">eg'</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">k</span> <span class="id" title="var">deps</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">kn</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">subst</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>. <span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">knset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">hnin</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+  <span class="id" title="tactic">set</span> (<span class="id" title="var">eg</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">eg'</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">k</span> <span class="id" title="var">deps</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">kn</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">subst</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem_spec"><span class="id" title="lemma">KernameSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>. <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">hnin</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="filter_deps" class="idref" href="#filter_deps"><span class="id" title="definition">filter_deps</span></a> <a id="deps:244" class="idref" href="#deps:244"><span class="id" title="binder">deps</span></a> <a id="decls:245" class="idref" href="#decls:245"><span class="id" title="binder">decls</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:245"><span class="id" title="variable">decls</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="notation">[]</span> ⇒ <span class="id" title="notation">[]</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">decl</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:244"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">decl</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EAst.html#ConstantDecl"><span class="id" title="constructor">EAst.ConstantDecl</span></a> <span class="id" title="var">cst</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">decl</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#filter_deps:246"><span class="id" title="definition">filter_deps</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:244"><span class="id" title="variable">deps</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#constant_decls_deps"><span class="id" title="definition">constant_decls_deps</span></a> <span class="id" title="var">cst</span>)) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:245"><span class="id" title="variable">decls</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">decl</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#filter_deps:246"><span class="id" title="definition">filter_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:244"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:245"><span class="id" title="variable">decls</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#filter_deps:246"><span class="id" title="definition">filter_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:244"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:245"><span class="id" title="variable">decls</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_deps_erase_global" class="idref" href="#erase_global_deps_erase_global"><span class="id" title="lemma">erase_global_deps_erase_global</span></a> (<a id="X_type:249" class="idref" href="#X_type:249"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>) (<a id="X:250" class="idref" href="#X:250"><span class="id" title="binder">X</span></a>:<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:249"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) <a id="deps:251" class="idref" href="#deps:251"><span class="id" title="binder">deps</span></a> <a id="decls:252" class="idref" href="#decls:252"><span class="id" title="binder">decls</span></a> {<a id="normalization_in:253" class="idref" href="#normalization_in:253"><span class="id" title="binder">normalization_in</span></a>} <a id="prf:254" class="idref" href="#prf:254"><span class="id" title="binder">prf</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a>@<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:249"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:251"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:250"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:252"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:253"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:254"><span class="id" title="variable">prf</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#filter_deps"><span class="id" title="definition">filter_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:251"><span class="id" title="variable">deps</span></a> (@<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global"><span class="id" title="definition">erase_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:249"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:250"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:252"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:253"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:254"><span class="id" title="variable">prf</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">normalization_in</span> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">prf</span> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">prf'</span> <span class="id" title="var">normalization_in'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span> <span class="id" title="tactic">in</span> <span class="id" title="var">normalization_in</span>, <span class="id" title="var">normalization_in'</span>, <span class="id" title="var">prf</span>, <span class="id" title="var">prf'</span>, <span class="id" title="var">X</span>, <span class="id" title="var">deps</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn</span> []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">deps</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [? [] ? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ec</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ec'</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ec</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">ec'</span>) <span class="id" title="keyword">as</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">ec</span>, <span class="id" title="var">ec'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl_irrel"><span class="id" title="lemma">erase_constant_decl_irrel</span></a>. <span class="id" title="tactic">red</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>). <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">d</span> := <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">deps</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="filter_deps_filter" class="idref" href="#filter_deps_filter"><span class="id" title="lemma">filter_deps_filter</span></a> {<a id="efl:255" class="idref" href="#efl:255"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaRocq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EWellformed.EEnvFlags</span></a>} <a id="deps:256" class="idref" href="#deps:256"><span class="id" title="binder">deps</span></a> <a id="d6611e95b2ae2e50ea08ba3a2d60dea1" class="idref" href="#d6611e95b2ae2e50ea08ba3a2d60dea1"><span class="id" title="binder">Σ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">EWellformed.wf_glob</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d6611e95b2ae2e50ea08ba3a2d60dea1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;(forall&nbsp;kn,&nbsp;KernameSet.In&nbsp;kn&nbsp;deps&nbsp;-&gt;&nbsp;In&nbsp;kn&nbsp;(map&nbsp;fst&nbsp;Σ))&nbsp;-&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#filter_deps"><span class="id" title="definition">filter_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:256"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d6611e95b2ae2e50ea08ba3a2d60dea1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">filter</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps"><span class="id" title="definition">global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d6611e95b2ae2e50ea08ba3a2d60dea1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:256"><span class="id" title="variable">deps</span></a>) <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d6611e95b2ae2e50ea08ba3a2d60dea1"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">deps</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn</span> [[[]]|]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">deps</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span> <span class="id" title="var">hin'</span> <span class="id" title="var">hwf</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">hwf</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span> <span class="id" title="var">nhin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">nhin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#in_global_deps"><span class="id" title="lemma">in_global_deps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#in_global_deps_fresh"><span class="id" title="lemma">in_global_deps_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">depelim</span> <span class="id" title="var">hwf</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">IHΣ</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span>; <span class="id" title="var">depelim</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span> <span class="id" title="var">hin'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">_</span>) ⇒ <span class="id" title="var">hin''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">elim</span>: <span class="id" title="var">hin''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#in_global_deps"><span class="id" title="lemma">in_global_deps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span> <span class="id" title="var">hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#in_global_deps_fresh"><span class="id" title="lemma">in_global_deps_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">IHΣ</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span>; <span class="id" title="var">depelim</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span> <span class="id" title="var">hin'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">_</span>) ⇒ <span class="id" title="var">hin''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΣ</span> //. <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">filter_ext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_empty"><span class="id" title="lemma">global_deps_empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSetFact.union_b"><span class="id" title="lemma">KernameSetFact.union_b</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSetFact.empty_b"><span class="id" title="lemma">KernameSetFact.empty_b</span></a> <span class="id" title="lemma">orb_false_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">elim</span>: <span class="id" title="var">hin''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_union"><span class="id" title="lemma">global_deps_union</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#in_global_deps"><span class="id" title="lemma">in_global_deps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intros</span> <span class="id" title="var">hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#knset_mem_spec"><span class="id" title="lemma">knset_mem_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#in_global_deps_fresh"><span class="id" title="lemma">in_global_deps_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">IHΣ</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_declared_constructor" class="idref" href="#erase_global_declared_constructor"><span class="id" title="lemma">erase_global_declared_constructor</span></a> <a id="X_type:258" class="idref" href="#X_type:258"><span class="id" title="binder">X_type</span></a> <a id="X:259" class="idref" href="#X:259"><span class="id" title="binder">X</span></a> <a id="ind:260" class="idref" href="#ind:260"><span class="id" title="binder">ind</span></a> <a id="c:261" class="idref" href="#c:261"><span class="id" title="binder">c</span></a> <a id="mind:262" class="idref" href="#mind:262"><span class="id" title="binder">mind</span></a> <a id="idecl:263" class="idref" href="#idecl:263"><span class="id" title="binder">idecl</span></a> <a id="cdecl:264" class="idref" href="#cdecl:264"><span class="id" title="binder">cdecl</span></a> <a id="deps:265" class="idref" href="#deps:265"><span class="id" title="binder">deps</span></a> <a id="decls:266" class="idref" href="#decls:266"><span class="id" title="binder">decls</span></a> <a id="normalization_in:267" class="idref" href="#normalization_in:267"><span class="id" title="binder">normalization_in</span></a> <a id="prf:268" class="idref" href="#prf:268"><span class="id" title="binder">prf</span></a>:<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="c5eb81f3d74238e2cfc5fd1e6cd758cd" class="idref" href="#c5eb81f3d74238e2cfc5fd1e6cd758cd"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:259"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#c5eb81f3d74238e2cfc5fd1e6cd758cd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#declared_constructor"><span class="id" title="definition">declared_constructor</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#c5eb81f3d74238e2cfc5fd1e6cd758cd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ind:260"><span class="id" title="variable">ind</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#c:261"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#mind:262"><span class="id" title="variable">mind</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#idecl:263"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cdecl:264"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ind:260"><span class="id" title="variable">ind</span></a>.(<a class="idref" href="MetaRocq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:265"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#declared_constructor"><span class="id" title="definition">EGlobalEnv.declared_constructor</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:258"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:265"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:259"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:266"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:267"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:268"><span class="id" title="variable">prf</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ind:260"><span class="id" title="variable">ind</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#c:261"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_mutual_inductive_body"><span class="id" title="definition">erase_mutual_inductive_body</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#mind:262"><span class="id" title="variable">mind</span></a>) (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_one_inductive_body"><span class="id" title="definition">erase_one_inductive_body</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#idecl:263"><span class="id" title="variable">idecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Erasure.EAst.html#mkConstructor"><span class="id" title="constructor">EAst.mkConstructor</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cdecl:264"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_name"><span class="id" title="projection">cstr_name</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cdecl:264"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_arity"><span class="id" title="projection">cstr_arity</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span> [[]] <span class="id" title="var">Hin</span>. <span class="id" title="tactic">pose</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> |- ×. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#lookup_env_erase_decl"><span class="id" title="lemma">lookup_env_erase_decl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">mind</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#in_deps_in_erase_global_deps"><span class="id" title="lemma">in_deps_in_erase_global_deps</span></a>; <span class="id" title="var">tea</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_nth_error</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">erewrite</span> <span class="id" title="lemma">map_nth_error</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#"><span class="id" title="module">EGlobalEnv</span></a>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_deps_fresh" class="idref" href="#erase_global_deps_fresh"><span class="id" title="lemma">erase_global_deps_fresh</span></a> <a id="X_type:270" class="idref" href="#X_type:270"><span class="id" title="binder">X_type</span></a> <a id="kn:271" class="idref" href="#kn:271"><span class="id" title="binder">kn</span></a> <a id="deps:272" class="idref" href="#deps:272"><span class="id" title="binder">deps</span></a> <a id="X:273" class="idref" href="#X:273"><span class="id" title="binder">X</span></a> <a id="decls:274" class="idref" href="#decls:274"><span class="id" title="binder">decls</span></a> <a id="normalization_in:275" class="idref" href="#normalization_in:275"><span class="id" title="binder">normalization_in</span></a> <a id="heq:276" class="idref" href="#heq:276"><span class="id" title="binder">heq</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ed5aeabf97761848c295c99f9873df81" class="idref" href="#ed5aeabf97761848c295c99f9873df81"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:270"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:272"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:273"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:274"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:275"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#heq:276"><span class="id" title="variable">heq</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#fresh_global"><span class="id" title="definition">PCUICAst.fresh_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:271"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:274"><span class="id" title="variable">decls</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#fresh_global"><span class="id" title="definition">fresh_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:271"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ed5aeabf97761848c295c99f9873df81"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">deps</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span>; [<span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn'</span> <span class="id" title="var">d</span>]. <span class="id" title="tactic">intros</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> []; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#closed_env"><span class="id" title="definition">EGlobalEnv.closed_env</span></a> <span class="id" title="definition">forallb</span>]. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> ⇒ //. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_fresh" class="idref" href="#erase_global_fresh"><span class="id" title="lemma">erase_global_fresh</span></a> <a id="X_type:278" class="idref" href="#X_type:278"><span class="id" title="binder">X_type</span></a> <a id="kn:279" class="idref" href="#kn:279"><span class="id" title="binder">kn</span></a> <a id="X:280" class="idref" href="#X:280"><span class="id" title="binder">X</span></a> <a id="decls:281" class="idref" href="#decls:281"><span class="id" title="binder">decls</span></a> <a id="normalization_in:282" class="idref" href="#normalization_in:282"><span class="id" title="binder">normalization_in</span></a> <a id="heq:283" class="idref" href="#heq:283"><span class="id" title="binder">heq</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="8113700adb57510b266b256593d5862b" class="idref" href="#8113700adb57510b266b256593d5862b"><span class="id" title="binder">Σ'</span></a> := @<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global"><span class="id" title="definition">erase_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:278"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:280"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:281"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:282"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#heq:283"><span class="id" title="variable">heq</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#fresh_global"><span class="id" title="definition">PCUICAst.fresh_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:279"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:281"><span class="id" title="variable">decls</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#fresh_global"><span class="id" title="definition">fresh_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:279"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8113700adb57510b266b256593d5862b"><span class="id" title="variable">Σ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span>; [<span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn'</span> <span class="id" title="var">d</span>]. <span class="id" title="tactic">intros</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> []; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#closed_env"><span class="id" title="definition">EGlobalEnv.closed_env</span></a> <span class="id" title="definition">forallb</span>]. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> ⇒ //. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Erasure</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#"><span class="id" title="library">EEtaExpandedFix</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_brs_eq" class="idref" href="#erase_brs_eq"><span class="id" title="lemma">erase_brs_eq</span></a> <a id="X_type:285" class="idref" href="#X_type:285"><span class="id" title="binder">X_type</span></a> <a id="X:286" class="idref" href="#X:286"><span class="id" title="binder">X</span></a> {<a id="normalization_in:288" class="idref" href="#normalization_in:288"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="b81b43d02c4b43f61fdd7203ece36bc9" class="idref" href="#b81b43d02c4b43f61fdd7203ece36bc9"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#b81b43d02c4b43f61fdd7203ece36bc9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#b81b43d02c4b43f61fdd7203ece36bc9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:286"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#b81b43d02c4b43f61fdd7203ece36bc9"><span class="id" title="variable">Σ</span></a>} <a id="1f276fc2c843b3c782b7389bd1fd9c45" class="idref" href="#1f276fc2c843b3c782b7389bd1fd9c45"><span class="id" title="binder">Γ</span></a> <a id="p:290" class="idref" href="#p:290"><span class="id" title="binder">p</span></a> <a id="ts:291" class="idref" href="#ts:291"><span class="id" title="binder">ts</span></a> <a id="wt:292" class="idref" href="#wt:292"><span class="id" title="binder">wt</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_brs"><span class="id" title="definition">erase_brs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:285"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:286"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#1f276fc2c843b3c782b7389bd1fd9c45"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#p:290"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ts:291"><span class="id" title="variable">ts</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:292"><span class="id" title="variable">wt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#map_All"><span class="id" title="definition">All_Forall.map_All</span></a> (<span class="id" title="keyword">fun</span> <a id="br:293" class="idref" href="#br:293"><span class="id" title="binder">br</span></a> <a id="wt:294" class="idref" href="#wt:294"><span class="id" title="binder">wt</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.Extract.html#erase_context"><span class="id" title="definition">erase_context</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#br:293"><span class="id" title="variable">br</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:285"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:286"><span class="id" title="variable">X</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#br:293"><span class="id" title="variable">br</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:294"><span class="id" title="variable">wt</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ts:291"><span class="id" title="variable">ts</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:292"><span class="id" title="variable">wt</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#map_All"><span class="id" title="definition">All_Forall.map_All</span></a> <span class="id" title="var">_</span> <span class="id" title="var">ts</span> <span class="id" title="var">wt</span>); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span> ⇒ //. <span class="id" title="tactic">f_equal</span> ⇒ //. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_fix_eq" class="idref" href="#erase_fix_eq"><span class="id" title="lemma">erase_fix_eq</span></a> <a id="X_type:295" class="idref" href="#X_type:295"><span class="id" title="binder">X_type</span></a> <a id="X:296" class="idref" href="#X:296"><span class="id" title="binder">X</span></a> {<a id="normalization_in:298" class="idref" href="#normalization_in:298"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="63a62647d6abb540c4179fa13e9b3413" class="idref" href="#63a62647d6abb540c4179fa13e9b3413"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#63a62647d6abb540c4179fa13e9b3413"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#63a62647d6abb540c4179fa13e9b3413"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:296"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#63a62647d6abb540c4179fa13e9b3413"><span class="id" title="variable">Σ</span></a>} <a id="7773f5ab5f8db1ad2a5c37c1e0b3eaa5" class="idref" href="#7773f5ab5f8db1ad2a5c37c1e0b3eaa5"><span class="id" title="binder">Γ</span></a> <a id="ts:300" class="idref" href="#ts:300"><span class="id" title="binder">ts</span></a> <a id="wt:301" class="idref" href="#wt:301"><span class="id" title="binder">wt</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_fix"><span class="id" title="definition">erase_fix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:295"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:296"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#7773f5ab5f8db1ad2a5c37c1e0b3eaa5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ts:300"><span class="id" title="variable">ts</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:301"><span class="id" title="variable">wt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#map_All"><span class="id" title="definition">All_Forall.map_All</span></a> (<span class="id" title="keyword">fun</span> <a id="d:302" class="idref" href="#d:302"><span class="id" title="binder">d</span></a> <a id="wt:303" class="idref" href="#wt:303"><span class="id" title="binder">wt</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="dbody':306" class="idref" href="#dbody':306"><span class="id" title="binder">dbody'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:295"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:296"><span class="id" title="variable">X</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:302"><span class="id" title="variable">d</span></a>) (<span class="id" title="keyword">fun</span> <a id="cdf4957972ef46bcc6bc4c2775bdff64" class="idref" href="#cdf4957972ef46bcc6bc4c2775bdff64"><span class="id" title="binder">Σ</span></a> <a id="abs:305" class="idref" href="#abs:305"><span class="id" title="binder">abs</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.MRProd.html#proj2"><span class="id" title="definition">proj2</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:303"><span class="id" title="variable">wt</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cdf4957972ef46bcc6bc4c2775bdff64"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#abs:305"><span class="id" title="variable">abs</span></a>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="dbody':307" class="idref" href="#dbody':307"><span class="id" title="binder">dbody'</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isBox"><span class="id" title="definition">isBox</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#dbody':306"><span class="id" title="variable">dbody'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:302"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">na</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Erasure.Extract.html#E.tLambda"><span class="id" title="constructor">E.tLambda</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#binder_name"><span class="id" title="projection">binder_name</span></a> <span class="id" title="var">na</span>) <a class="idref" href="MetaRocq.Erasure.Extract.html#E.tBox"><span class="id" title="constructor">E.tBox</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#dbody':306"><span class="id" title="variable">dbody'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#dbody':306"><span class="id" title="variable">dbody'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="MetaRocq.Erasure.Extract.html#E.dname"><span class="id" title="projection">E.dname</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:302"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#dname"><span class="id" title="projection">dname</span></a>).(<a class="idref" href="MetaRocq.Common.BasicAst.html#binder_name"><span class="id" title="projection">binder_name</span></a>); <a class="idref" href="MetaRocq.Erasure.Extract.html#E.rarg"><span class="id" title="projection">E.rarg</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:302"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#rarg"><span class="id" title="projection">rarg</span></a>); <a class="idref" href="MetaRocq.Erasure.Extract.html#E.dbody"><span class="id" title="projection">E.dbody</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#dbody':307"><span class="id" title="variable">dbody'</span></a> |}) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ts:300"><span class="id" title="variable">ts</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:301"><span class="id" title="variable">wt</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#map_All"><span class="id" title="definition">All_Forall.map_All</span></a> <span class="id" title="var">_</span> <span class="id" title="var">ts</span> <span class="id" title="var">wt</span>); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span> ⇒ //. <span class="id" title="tactic">f_equal</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> (<a id="4ad11e2e742be70e2aac5b04bf8df518" class="idref" href="#4ad11e2e742be70e2aac5b04bf8df518"><span class="id" title="binder"><span id="e7ddd2efdbc17c61d03b04b627ab1d58" class="id"><span id="2400c02506ae4d15486eb9a9e093aa98" class="id">Σ</span></span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) (<a id="abs:309" class="idref" href="#abs:309"><span class="id" title="binder"><span id="abs:311" class="id"><span id="abs:313" class="id">abs</span></span></span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <span class="id" title="var">X</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#4ad11e2e742be70e2aac5b04bf8df518"><span class="id" title="variable">Σ</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRProd.html#:::x_'.p2'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Utils.All_Forall.html#map_All_obligation_1"><span class="id" title="definition">map_All_obligation_1</span></a> <span class="id" title="var">x</span> <span class="id" title="var">xs</span> <span class="id" title="var">h</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#4ad11e2e742be70e2aac5b04bf8df518"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#abs:309"><span class="id" title="variable">abs</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#:::x_'.p2'"><span class="id" title="notation">).</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#:::x_'.p2'"><span class="id" title="notation">p2</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_cofix_eq" class="idref" href="#erase_cofix_eq"><span class="id" title="lemma">erase_cofix_eq</span></a> <a id="X_type:314" class="idref" href="#X_type:314"><span class="id" title="binder">X_type</span></a> <a id="X:315" class="idref" href="#X:315"><span class="id" title="binder">X</span></a> {<a id="normalization_in:317" class="idref" href="#normalization_in:317"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="ab4371cf41d405f92c7f9c7d1eb82b76" class="idref" href="#ab4371cf41d405f92c7f9c7d1eb82b76"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ab4371cf41d405f92c7f9c7d1eb82b76"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ab4371cf41d405f92c7f9c7d1eb82b76"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:315"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ab4371cf41d405f92c7f9c7d1eb82b76"><span class="id" title="variable">Σ</span></a>} <a id="410316a375a88c43022c5d65981d0378" class="idref" href="#410316a375a88c43022c5d65981d0378"><span class="id" title="binder">Γ</span></a> <a id="ts:319" class="idref" href="#ts:319"><span class="id" title="binder">ts</span></a> <a id="wt:320" class="idref" href="#wt:320"><span class="id" title="binder">wt</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_cofix"><span class="id" title="definition">erase_cofix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:314"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:315"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#410316a375a88c43022c5d65981d0378"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ts:319"><span class="id" title="variable">ts</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:320"><span class="id" title="variable">wt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#map_All"><span class="id" title="definition">All_Forall.map_All</span></a> (<span class="id" title="keyword">fun</span> <a id="d:321" class="idref" href="#d:321"><span class="id" title="binder">d</span></a> <a id="wt:322" class="idref" href="#wt:322"><span class="id" title="binder">wt</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="dbody':323" class="idref" href="#dbody':323"><span class="id" title="binder">dbody'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:314"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:315"><span class="id" title="variable">X</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:321"><span class="id" title="variable">d</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:322"><span class="id" title="variable">wt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="MetaRocq.Erasure.Extract.html#E.dname"><span class="id" title="projection">E.dname</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:321"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#dname"><span class="id" title="projection">dname</span></a>).(<a class="idref" href="MetaRocq.Common.BasicAst.html#binder_name"><span class="id" title="projection">binder_name</span></a>); <a class="idref" href="MetaRocq.Erasure.Extract.html#E.rarg"><span class="id" title="projection">E.rarg</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:321"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Common.BasicAst.html#rarg"><span class="id" title="projection">rarg</span></a>); <a class="idref" href="MetaRocq.Erasure.Extract.html#E.dbody"><span class="id" title="projection">E.dbody</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#dbody':323"><span class="id" title="variable">dbody'</span></a> |}) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ts:319"><span class="id" title="variable">ts</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:320"><span class="id" title="variable">wt</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#map_All"><span class="id" title="definition">All_Forall.map_All</span></a> <span class="id" title="var">_</span> <span class="id" title="var">ts</span> <span class="id" title="var">wt</span>); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span> ⇒ //. <span class="id" title="tactic">f_equal</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isConstruct_erase" class="idref" href="#isConstruct_erase"><span class="id" title="lemma">isConstruct_erase</span></a> <a id="X_type:324" class="idref" href="#X_type:324"><span class="id" title="binder">X_type</span></a> <a id="X:325" class="idref" href="#X:325"><span class="id" title="binder">X</span></a> {<a id="normalization_in:327" class="idref" href="#normalization_in:327"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="4a71d8014be45b8930cc05a0c5ed961a" class="idref" href="#4a71d8014be45b8930cc05a0c5ed961a"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#4a71d8014be45b8930cc05a0c5ed961a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#4a71d8014be45b8930cc05a0c5ed961a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:325"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#4a71d8014be45b8930cc05a0c5ed961a"><span class="id" title="variable">Σ</span></a>} <a id="4fa8406391585bca9b8495d5c28d6e0a" class="idref" href="#4fa8406391585bca9b8495d5c28d6e0a"><span class="id" title="binder">Γ</span></a> <a id="t:329" class="idref" href="#t:329"><span class="id" title="binder">t</span></a> <a id="wt:330" class="idref" href="#wt:330"><span class="id" title="binder">wt</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICEtaExpand.html#isConstruct"><span class="id" title="definition">PCUICEtaExpand.isConstruct</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:329"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICEtaExpand.html#isFix"><span class="id" title="definition">PCUICEtaExpand.isFix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:329"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICEtaExpand.html#isRel"><span class="id" title="definition">PCUICEtaExpand.isRel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:329"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isConstruct"><span class="id" title="definition">isConstruct</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:324"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:325"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#4fa8406391585bca9b8495d5c28d6e0a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:329"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:330"><span class="id" title="variable">wt</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isFix"><span class="id" title="definition">isFix</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:324"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:325"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#4fa8406391585bca9b8495d5c28d6e0a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:329"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:330"><span class="id" title="variable">wt</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isRel"><span class="id" title="definition">isRel</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:324"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:325"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#4fa8406391585bca9b8495d5c28d6e0a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:329"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:330"><span class="id" title="variable">wt</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_elim"><span class="id" title="definition">erase_elim</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="1cf167e642e54758d845c690d9c664ed" class="idref" href="#1cf167e642e54758d845c690d9c664ed"><span class="id" title="binder"><span id="9ed1570e8db123a927f0c59aba1df9f9" class="id">Γ</span></span></a> <a id="t:332" class="idref" href="#t:332"><span class="id" title="binder"><span id="t:353" class="id">t</span></span></a> <a id="wt:333" class="idref" href="#wt:333"><span class="id" title="binder"><span id="wt:354" class="id">wt</span></span></a> <a id="e:334" class="idref" href="#e:334"><span class="id" title="binder"><span id="e:355" class="id">e</span></span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICEtaExpand.html#isConstruct"><span class="id" title="definition">PCUICEtaExpand.isConstruct</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:332"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICEtaExpand.html#isFix"><span class="id" title="definition">PCUICEtaExpand.isFix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:332"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICEtaExpand.html#isRel"><span class="id" title="definition">PCUICEtaExpand.isRel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:332"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isConstruct"><span class="id" title="definition">isConstruct</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#e:334"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isFix"><span class="id" title="definition">isFix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#e:334"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#isRel"><span class="id" title="definition">isRel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#e:334"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="78688b73ade9f8b063bf0ca3b46d644c" class="idref" href="#78688b73ade9f8b063bf0ca3b46d644c"><span class="id" title="binder"><span id="af16a17516d092eb04e29682b5d02e82" class="id">Γ</span></span></a> <a id="l:336" class="idref" href="#l:336"><span class="id" title="binder"><span id="l:357" class="id">l</span></span></a> <a id="awt:337" class="idref" href="#awt:337"><span class="id" title="binder"><span id="awt:358" class="id">awt</span></span></a> <a id="e:338" class="idref" href="#e:338"><span class="id" title="binder"><span id="e:359" class="id">e</span></span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="d7f3c14f16347973307df07a017ea4e9" class="idref" href="#d7f3c14f16347973307df07a017ea4e9"><span class="id" title="binder"><span id="c33bed169a5c5284844fe9a66a755ce5" class="id">Γ</span></span></a> <a id="p:340" class="idref" href="#p:340"><span class="id" title="binder"><span id="p:361" class="id">p</span></span></a> <a id="l:341" class="idref" href="#l:341"><span class="id" title="binder"><span id="l:362" class="id">l</span></span></a> <a id="awt:342" class="idref" href="#awt:342"><span class="id" title="binder"><span id="awt:363" class="id">awt</span></span></a> <a id="e:343" class="idref" href="#e:343"><span class="id" title="binder"><span id="e:364" class="id">e</span></span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="a9ed3f62f59098fa7a7be0d7917e1e15" class="idref" href="#a9ed3f62f59098fa7a7be0d7917e1e15"><span class="id" title="binder"><span id="d221effeadc5019a037f07e289528bab" class="id">Γ</span></span></a> <a id="l:345" class="idref" href="#l:345"><span class="id" title="binder"><span id="l:366" class="id">l</span></span></a> <a id="awt:346" class="idref" href="#awt:346"><span class="id" title="binder"><span id="awt:367" class="id">awt</span></span></a> <a id="e:347" class="idref" href="#e:347"><span class="id" title="binder"><span id="e:368" class="id">e</span></span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="10b63e3d789afe53940004b57aef6465" class="idref" href="#10b63e3d789afe53940004b57aef6465"><span class="id" title="binder"><span id="9877b0d04353f203abf5a83757dee169" class="id">Γ</span></span></a> <a id="l:349" class="idref" href="#l:349"><span class="id" title="binder"><span id="l:370" class="id">l</span></span></a> <a id="awt:350" class="idref" href="#awt:350"><span class="id" title="binder"><span id="awt:371" class="id">awt</span></span></a> <a id="e:351" class="idref" href="#e:351"><span class="id" title="binder"><span id="e:372" class="id">e</span></span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>)); <span class="id" title="tactic">intros</span> ⇒ //. <span class="id" title="var">bang</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="apply_expanded" class="idref" href="#apply_expanded"><span class="id" title="lemma">apply_expanded</span></a> <a id="8ee2840a2eecf3b3bbbc3b69fb771fd5" class="idref" href="#8ee2840a2eecf3b3bbbc3b69fb771fd5"><span class="id" title="binder">Σ</span></a> <a id="6e0a8ca5d9e3e95fddb43d011b1ab349" class="idref" href="#6e0a8ca5d9e3e95fddb43d011b1ab349"><span class="id" title="binder">Γ</span></a> <a id="0a4f7affa92769769768425e78b0fd3e" class="idref" href="#0a4f7affa92769769768425e78b0fd3e"><span class="id" title="binder">Γ'</span></a> <a id="t:376" class="idref" href="#t:376"><span class="id" title="binder">t</span></a> <a id="t':377" class="idref" href="#t':377"><span class="id" title="binder">t'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8ee2840a2eecf3b3bbbc3b69fb771fd5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#6e0a8ca5d9e3e95fddb43d011b1ab349"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:376"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#6e0a8ca5d9e3e95fddb43d011b1ab349"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#0a4f7affa92769769768425e78b0fd3e"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:376"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':377"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8ee2840a2eecf3b3bbbc3b69fb771fd5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#0a4f7affa92769769768425e78b0fd3e"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':377"><span class="id" title="variable">t'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isLambda_inv" class="idref" href="#isLambda_inv"><span class="id" title="lemma">isLambda_inv</span></a> <a id="t:378" class="idref" href="#t:378"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:378"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="na:379" class="idref" href="#na:379"><span class="id" title="binder">na</span></a> <a id="ty:380" class="idref" href="#ty:380"><span class="id" title="binder">ty</span></a> <a id="bod:381" class="idref" href="#bod:381"><span class="id" title="binder">bod</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:378"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#na:379"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ty:380"><span class="id" title="variable">ty</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#bod:381"><span class="id" title="variable">bod</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> ⇒ //; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erases_deps_erase" class="idref" href="#erases_deps_erase"><span class="id" title="lemma">erases_deps_erase</span></a> (<a id="cf:382" class="idref" href="#cf:382"><span class="id" title="binder">cf</span></a> := <a class="idref" href="MetaRocq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>)<br/>
&nbsp;&nbsp;{<a id="X_type:383" class="idref" href="#X_type:383"><span class="id" title="binder">X_type</span></a> <a id="X:384" class="idref" href="#X:384"><span class="id" title="binder">X</span></a>} <a id="univs:385" class="idref" href="#univs:385"><span class="id" title="binder">univs</span></a><br/>
&nbsp;&nbsp;(<a id="13cd5768f16cd305f5cfacf36acb5a7e" class="idref" href="#13cd5768f16cd305f5cfacf36acb5a7e"><span class="id" title="binder">wfΣ</span></a> : <span class="id" title="keyword">∀</span> <a id="63e3201ee62c7203e2f6da6355e7382f" class="idref" href="#63e3201ee62c7203e2f6da6355e7382f"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:384"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#63e3201ee62c7203e2f6da6355e7382f"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#63e3201ee62c7203e2f6da6355e7382f"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:385"><span class="id" title="variable">univs</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <a id="decls:388" class="idref" href="#decls:388"><span class="id" title="binder">decls</span></a> {<a id="normalization_in:389" class="idref" href="#normalization_in:389"><span class="id" title="binder">normalization_in</span></a>} <a id="prf:390" class="idref" href="#prf:390"><span class="id" title="binder">prf</span></a><br/>
&nbsp;&nbsp;(<a id="X':391" class="idref" href="#X':391"><span class="id" title="binder">X'</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:384"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:385"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#13cd5768f16cd305f5cfacf36acb5a7e"><span class="id" title="variable">wfΣ</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in':393" class="idref" href="#normalization_in':393"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="5336b3955ef5f77d8dcc36ea7486cef7" class="idref" href="#5336b3955ef5f77d8dcc36ea7486cef7"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#5336b3955ef5f77d8dcc36ea7486cef7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#5336b3955ef5f77d8dcc36ea7486cef7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':391"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#5336b3955ef5f77d8dcc36ea7486cef7"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;<a id="6c3997ff1c357531ba1cf18143fd2341" class="idref" href="#6c3997ff1c357531ba1cf18143fd2341"><span class="id" title="binder">Γ</span></a> <a id="t:395" class="idref" href="#t:395"><span class="id" title="binder">t</span></a><br/>
&nbsp;&nbsp;(<a id="wt:397" class="idref" href="#wt:397"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="0de82d06a568e157bbbc32ab2e12afd0" class="idref" href="#0de82d06a568e157bbbc32ab2e12afd0"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':391"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#0de82d06a568e157bbbc32ab2e12afd0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#0de82d06a568e157bbbc32ab2e12afd0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#6c3997ff1c357531ba1cf18143fd2341"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:395"><span class="id" title="variable">t</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="et:398" class="idref" href="#et:398"><span class="id" title="binder">et</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:383"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':391"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#6c3997ff1c357531ba1cf18143fd2341"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:395"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:397"><span class="id" title="variable">wt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="deps:399" class="idref" href="#deps:399"><span class="id" title="binder">deps</span></a> := <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">EAstUtils.term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#et:398"><span class="id" title="variable">et</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="c702da9f6d180f74783bcbe18fb750f9" class="idref" href="#c702da9f6d180f74783bcbe18fb750f9"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:384"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#c702da9f6d180f74783bcbe18fb750f9"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#erases_deps"><span class="id" title="inductive">erases_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#c702da9f6d180f74783bcbe18fb750f9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:383"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:399"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:384"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:388"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:389"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:390"><span class="id" title="variable">prf</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#et:398"><span class="id" title="variable">et</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">et</span> <span class="id" title="var">deps</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wt</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">w</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfΣ'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_erases_deps"><span class="id" title="lemma">erase_global_erases_deps</span></a> <span class="id" title="var">w</span>); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a> (<span class="id" title="var">X</span> := <span class="id" title="var">X'</span>) (<span class="id" title="var">Γ</span> := <span class="id" title="var">Γ</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_includes"><span class="id" title="lemma">erase_global_includes</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">wf</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#term_global_deps_spec"><span class="id" title="lemma">term_global_deps_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a> (<span class="id" title="var">X</span> := <span class="id" title="var">X'</span>) (<span class="id" title="var">Γ</span> := <span class="id" title="var">Γ</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.subset_spec"><span class="id" title="lemma">KernameSet.subset_spec</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">cbn</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erases_deps_erase_weaken" class="idref" href="#erases_deps_erase_weaken"><span class="id" title="lemma">erases_deps_erase_weaken</span></a> (<a id="cf:401" class="idref" href="#cf:401"><span class="id" title="binder">cf</span></a> := <a class="idref" href="MetaRocq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>)<br/>
&nbsp;&nbsp;{<a id="X_type:402" class="idref" href="#X_type:402"><span class="id" title="binder">X_type</span></a> <a id="X:403" class="idref" href="#X:403"><span class="id" title="binder">X</span></a>} <a id="univs:404" class="idref" href="#univs:404"><span class="id" title="binder">univs</span></a><br/>
&nbsp;&nbsp;(<a id="e14b72687dcf51113ce491d07a628ed3" class="idref" href="#e14b72687dcf51113ce491d07a628ed3"><span class="id" title="binder">wfΣ</span></a> : <span class="id" title="keyword">∀</span> <a id="be54034ccd26619119686a8b6f66d6d2" class="idref" href="#be54034ccd26619119686a8b6f66d6d2"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:403"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#be54034ccd26619119686a8b6f66d6d2"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#be54034ccd26619119686a8b6f66d6d2"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:404"><span class="id" title="variable">univs</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <a id="decls:407" class="idref" href="#decls:407"><span class="id" title="binder">decls</span></a> {<a id="normalization_in:408" class="idref" href="#normalization_in:408"><span class="id" title="binder">normalization_in</span></a>} <a id="prf:409" class="idref" href="#prf:409"><span class="id" title="binder">prf</span></a><br/>
&nbsp;&nbsp;(<a id="X':410" class="idref" href="#X':410"><span class="id" title="binder">X'</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:403"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:404"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#e14b72687dcf51113ce491d07a628ed3"><span class="id" title="variable">wfΣ</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in':412" class="idref" href="#normalization_in':412"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="79b862261844659a91fecb3e6f093c8d" class="idref" href="#79b862261844659a91fecb3e6f093c8d"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#79b862261844659a91fecb3e6f093c8d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#79b862261844659a91fecb3e6f093c8d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':410"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#79b862261844659a91fecb3e6f093c8d"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;<a id="381e0514dbe6ac9bcfa1a20b5e8a77d2" class="idref" href="#381e0514dbe6ac9bcfa1a20b5e8a77d2"><span class="id" title="binder">Γ</span></a> <a id="t:414" class="idref" href="#t:414"><span class="id" title="binder">t</span></a><br/>
&nbsp;&nbsp;(<a id="wt:416" class="idref" href="#wt:416"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="f330aa792ad4e8f5fdf1f36205d8b814" class="idref" href="#f330aa792ad4e8f5fdf1f36205d8b814"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':410"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f330aa792ad4e8f5fdf1f36205d8b814"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f330aa792ad4e8f5fdf1f36205d8b814"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#381e0514dbe6ac9bcfa1a20b5e8a77d2"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:414"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;<a id="deps:417" class="idref" href="#deps:417"><span class="id" title="binder">deps</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="et:418" class="idref" href="#et:418"><span class="id" title="binder">et</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:402"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':410"><span class="id" title="variable">X'</span></a>  <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#381e0514dbe6ac9bcfa1a20b5e8a77d2"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:414"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:416"><span class="id" title="variable">wt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="tdeps:419" class="idref" href="#tdeps:419"><span class="id" title="binder">tdeps</span></a> := <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">EAstUtils.term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#et:418"><span class="id" title="variable">et</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="05fc3527d4e8d39ddb0033e4ff9f377e" class="idref" href="#05fc3527d4e8d39ddb0033e4ff9f377e"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:403"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#05fc3527d4e8d39ddb0033e4ff9f377e"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#erases_deps"><span class="id" title="inductive">erases_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#05fc3527d4e8d39ddb0033e4ff9f377e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:402"><span class="id" title="variable">X_type</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:417"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#tdeps:419"><span class="id" title="variable">tdeps</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:403"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:407"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:408"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:409"><span class="id" title="variable">prf</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#et:418"><span class="id" title="variable">et</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">et</span> <span class="id" title="var">tdeps</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wt</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">w</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfΣ'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_erases_deps"><span class="id" title="lemma">erase_global_erases_deps</span></a> <span class="id" title="var">w</span>); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a> (<span class="id" title="var">X</span> := <span class="id" title="var">X'</span>) (<span class="id" title="var">Γ</span> := <span class="id" title="var">Γ</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_includes"><span class="id" title="lemma">erase_global_includes</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">wf</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#term_global_deps_spec"><span class="id" title="lemma">term_global_deps_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a> (<span class="id" title="var">X</span> := <span class="id" title="var">X'</span>) (<span class="id" title="var">Γ</span> := <span class="id" title="var">Γ</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.subset_spec"><span class="id" title="lemma">KernameSet.subset_spec</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">cbn</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eta_expand_erase" class="idref" href="#eta_expand_erase"><span class="id" title="lemma">eta_expand_erase</span></a> {<a id="X_type:421" class="idref" href="#X_type:421"><span class="id" title="binder">X_type</span></a> <a id="X:422" class="idref" href="#X:422"><span class="id" title="binder">X</span></a>} {<a id="normalization_in:424" class="idref" href="#normalization_in:424"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="e64bdda949bc316ba60a2488b35d8f6f" class="idref" href="#e64bdda949bc316ba60a2488b35d8f6f"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#e64bdda949bc316ba60a2488b35d8f6f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#e64bdda949bc316ba60a2488b35d8f6f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:422"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#e64bdda949bc316ba60a2488b35d8f6f"><span class="id" title="variable">Σ</span></a>} <a id="d04cfd9398e56d915ec24a23d27e7fb4" class="idref" href="#d04cfd9398e56d915ec24a23d27e7fb4"><span class="id" title="binder">Σ'</span></a> {<a id="a4b661e9d60c12a0d7a01f2b873beba0" class="idref" href="#a4b661e9d60c12a0d7a01f2b873beba0"><span class="id" title="binder">Γ</span></a> <a id="t:427" class="idref" href="#t:427"><span class="id" title="binder">t</span></a>}<br/>
&nbsp;&nbsp;(<a id="wt:429" class="idref" href="#wt:429"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="8f073f6983a94d14bff5f6d1a60cb488" class="idref" href="#8f073f6983a94d14bff5f6d1a60cb488"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:422"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8f073f6983a94d14bff5f6d1a60cb488"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8f073f6983a94d14bff5f6d1a60cb488"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a4b661e9d60c12a0d7a01f2b873beba0"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:427"><span class="id" title="variable">t</span></a>) <a id="fff0faf8e00603c7fd59e07625367f4b" class="idref" href="#fff0faf8e00603c7fd59e07625367f4b"><span class="id" title="binder">Γ'</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="790f7a461bb9df3cbf16e2ea7438ce41" class="idref" href="#790f7a461bb9df3cbf16e2ea7438ce41"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:422"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#790f7a461bb9df3cbf16e2ea7438ce41"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEtaExpand.html#expanded"><span class="id" title="inductive">PCUICEtaExpand.expanded</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#790f7a461bb9df3cbf16e2ea7438ce41"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fff0faf8e00603c7fd59e07625367f4b"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:427"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#erases_global"><span class="id" title="definition">erases_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#790f7a461bb9df3cbf16e2ea7438ce41"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d04cfd9398e56d915ec24a23d27e7fb4"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d04cfd9398e56d915ec24a23d27e7fb4"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fff0faf8e00603c7fd59e07625367f4b"><span class="id" title="variable">Γ'</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:421"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:422"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a4b661e9d60c12a0d7a01f2b873beba0"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:427"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:429"><span class="id" title="variable">wt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">exp</span> <span class="id" title="var">deps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#expanded_erases"><span class="id" title="lemma">expanded_erases</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wt</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> <span class="id" title="var">ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EDeps.html#erases_global_erases_deps"><span class="id" title="lemma">erases_global_erases_deps</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_closed" class="idref" href="#erase_global_closed"><span class="id" title="lemma">erase_global_closed</span></a> <a id="X_type:432" class="idref" href="#X_type:432"><span class="id" title="binder">X_type</span></a> <a id="X:433" class="idref" href="#X:433"><span class="id" title="binder">X</span></a> <a id="deps:434" class="idref" href="#deps:434"><span class="id" title="binder">deps</span></a> <a id="decls:435" class="idref" href="#decls:435"><span class="id" title="binder">decls</span></a> {<a id="normalization_in:436" class="idref" href="#normalization_in:436"><span class="id" title="binder">normalization_in</span></a>} <a id="prf:437" class="idref" href="#prf:437"><span class="id" title="binder">prf</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X':438" class="idref" href="#X':438"><span class="id" title="binder">X'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:432"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:434"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:433"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:435"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:436"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:437"><span class="id" title="variable">prf</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#closed_env"><span class="id" title="definition">EGlobalEnv.closed_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':438"><span class="id" title="variable">X'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">prf</span> <span class="id" title="var">deps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span>; [<span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">prf</span> <span class="id" title="var">deps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn</span> <span class="id" title="var">d</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> []; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xpop</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">set</span> (<span class="id" title="var">Xmake</span> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <span class="id" title="var">Xpop</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">normalization_in_Xmake</span> : <span class="id" title="keyword">∀</span> <a id="7e046cf12163419ea98a88ea9b5fd37d" class="idref" href="#7e046cf12163419ea98a88ea9b5fd37d"><span class="id" title="binder"><span id="5a93035d4afd7137185eda1be5a58f93" class="id">Σ</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#7e046cf12163419ea98a88ea9b5fd37d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#7e046cf12163419ea98a88ea9b5fd37d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <span class="id" title="var">Xmake</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#7e046cf12163419ea98a88ea9b5fd37d"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span> <span class="id" title="var">Xmake</span>; <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> 0); <span class="id" title="var">revgoals</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#closed_env"><span class="id" title="definition">EGlobalEnv.closed_env</span></a> <span class="id" title="definition">forallb</span>]. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<span class="id" title="definition">forallb</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>](<span class="id" title="var">IHdecls</span>) // <span class="id" title="lemma">andb_true_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Utils.MRProd.html#test_snd"><span class="id" title="definition">test_snd</span></a> /<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#closed_decl"><span class="id" title="definition">EGlobalEnv.closed_decl</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ty</span> [] <span class="id" title="var">univs</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body_obligation_1"><span class="id" title="lemma">ErasureFunction.erase_constant_body_obligation_1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">clearbody</span> <span class="id" title="var">obl</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">obl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">Xmake</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σmake</span> <span class="id" title="var">wfmake</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfmake</span>) <span class="id" title="keyword">as</span> [[?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a> (<span class="id" title="var">X</span> := <span class="id" title="var">Xmake</span>) (<span class="id" title="var">obl</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureProperties.html#erases_closed"><span class="id" title="lemma">erases_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="var">edestruct</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a> <span class="id" title="keyword">as</span> [-&gt; <span class="id" title="var">_</span>]; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">obl</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfmake</span>). <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#subject_closed"><span class="id" title="lemma">PCUICClosedTyp.subject_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> [<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#closed_env"><span class="id" title="definition">EGlobalEnv.closed_env</span></a> <span class="id" title="definition">forallb</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Erasure.EWellformed.html#"><span class="id" title="module">EWellformed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="wffix" class="idref" href="#wffix"><span class="id" title="section">wffix</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Erasure.EAst.html#"><span class="id" title="module">EAst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="wf_fixpoints" class="idref" href="#wf_fixpoints"><span class="id" title="definition">wf_fixpoints</span></a> (<a id="t:441" class="idref" href="#t:441"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:441"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <span class="id" title="var">i</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EAst.html#tEvar"><span class="id" title="constructor">tEvar</span></a> <span class="id" title="var">ev</span> <span class="id" title="var">args</span> ⇒ <span class="id" title="definition">List.forallb</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf_fixpoints:442"><span class="id" title="definition">wf_fixpoints</span></a>) <span class="id" title="var">args</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">N</span> <span class="id" title="var">M</span> ⇒ <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf_fixpoints:442"><span class="id" title="definition">wf_fixpoints</span></a> <span class="id" title="var">M</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">u</span> <span class="id" title="var">v</span> ⇒ <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf_fixpoints:442"><span class="id" title="definition">wf_fixpoints</span></a> <span class="id" title="var">u</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf_fixpoints:442"><span class="id" title="definition">wf_fixpoints</span></a> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> ⇒ <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf_fixpoints:442"><span class="id" title="definition">wf_fixpoints</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf_fixpoints:442"><span class="id" title="definition">wf_fixpoints</span></a> <span class="id" title="var">b'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">c</span> <span class="id" title="var">brs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="brs':444" class="idref" href="#brs':444"><span class="id" title="binder">brs'</span></a> := <span class="id" title="definition">forallb</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf_fixpoints:442"><span class="id" title="definition">wf_fixpoints</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a>) <span class="id" title="var">brs</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf_fixpoints:442"><span class="id" title="definition">wf_fixpoints</span></a> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#brs':444"><span class="id" title="variable">brs'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <span class="id" title="var">p</span> <span class="id" title="var">c</span> ⇒ <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf_fixpoints:442"><span class="id" title="definition">wf_fixpoints</span></a> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">idx</span> <span class="id" title="notation">&lt;?</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="definition">List.forallb</span> (<span class="id" title="keyword">fun</span> <a id="d:445" class="idref" href="#d:445"><span class="id" title="binder">d</span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:445"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf_fixpoints:442"><span class="id" title="definition">wf_fixpoints</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:445"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>)) <span class="id" title="var">mfix</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">idx</span> <span class="id" title="notation">&lt;?</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="definition">List.forallb</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf_fixpoints:442"><span class="id" title="definition">wf_fixpoints</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <span class="id" title="var">mfix</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EAst.html#tConst"><span class="id" title="constructor">tConst</span></a> <span class="id" title="var">kn</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">c</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EAst.html#tVar"><span class="id" title="constructor">tVar</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EAst.html#tBox"><span class="id" title="constructor">tBox</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EAst.html#tPrim"><span class="id" title="constructor">tPrim</span></a> <span class="id" title="var">p</span> ⇒ <a class="idref" href="MetaRocq.Erasure.EPrimitive.html#test_prim"><span class="id" title="definition">test_prim</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf_fixpoints:442"><span class="id" title="definition">wf_fixpoints</span></a> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EAst.html#tLazy"><span class="id" title="constructor">tLazy</span></a> <span class="id" title="var">t</span> ⇒ <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf_fixpoints:442"><span class="id" title="definition">wf_fixpoints</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:441"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Erasure.EAst.html#tForce"><span class="id" title="constructor">tForce</span></a> <span class="id" title="var">t</span> ⇒ <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf_fixpoints:442"><span class="id" title="definition">wf_fixpoints</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:441"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wffix"><span class="id" title="section">wffix</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erases_deps_wellformed" class="idref" href="#erases_deps_wellformed"><span class="id" title="lemma">erases_deps_wellformed</span></a> (<a id="cf:446" class="idref" href="#cf:446"><span class="id" title="binder">cf</span></a> := <a class="idref" href="MetaRocq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>) (<a id="efl:447" class="idref" href="#efl:447"><span class="id" title="binder">efl</span></a> := <a class="idref" href="MetaRocq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a>) {<a id="8947de1ef276231d75d2be732e70928e" class="idref" href="#8947de1ef276231d75d2be732e70928e"><span class="id" title="binder">Σ</span></a>} {<a id="d663eb3812ccf20b418db915f3034b10" class="idref" href="#d663eb3812ccf20b418db915f3034b10"><span class="id" title="binder">Σ'</span></a>} <a id="et:450" class="idref" href="#et:450"><span class="id" title="binder">et</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#erases_deps"><span class="id" title="inductive">erases_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8947de1ef276231d75d2be732e70928e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d663eb3812ccf20b418db915f3034b10"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#et:450"><span class="id" title="variable">et</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:451" class="idref" href="#n:451"><span class="id" title="binder">n</span></a>, <a class="idref" href="MetaRocq.Erasure.ELiftSubst.html#closedn"><span class="id" title="definition">ELiftSubst.closedn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#n:451"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#et:450"><span class="id" title="variable">et</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf_fixpoints"><span class="id" title="definition">wf_fixpoints</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#et:450"><span class="id" title="variable">et</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wellformed"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d663eb3812ccf20b418db915f3034b10"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#n:451"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#et:450"><span class="id" title="variable">et</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ed</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Erasure.EDeps.html#erases_deps_forall_ind"><span class="id" title="lemma">erases_deps_forall_ind</span></a>; <span class="id" title="tactic">intros</span> ⇒ //;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_fix_gen"><span class="id" title="definition">wf_fix</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>; <span class="id" title="var">PCUICAstUtils.solve_all</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor"><span class="id" title="definition">lookup_constructor</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [[-&gt; -&gt;] -&gt;].<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H6</span> ⇒ [] <span class="id" title="var">cld</span> <span class="id" title="var">clbrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_brs"><span class="id" title="definition">wf_brs</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [-&gt; -&gt;]. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Nat.eqb_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H7</span>; <span class="id" title="var">PCUICAstUtils.solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> -[<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_projection"><span class="id" title="definition">lookup_projection</span></a>] <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#declared_projection_lookup"><span class="id" title="lemma">declared_projection_lookup</span></a> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span> |- ×. <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all_k</span> 7.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erases_wf_fixpoints" class="idref" href="#erases_wf_fixpoints"><span class="id" title="lemma">erases_wf_fixpoints</span></a> <a id="fed35e34b702cc992cf9b0f71c4922ad" class="idref" href="#fed35e34b702cc992cf9b0f71c4922ad"><span class="id" title="binder">Σ</span></a> <a id="ea4198e6f3b44f68aaf6a7826ba2def3" class="idref" href="#ea4198e6f3b44f68aaf6a7826ba2def3"><span class="id" title="binder">Γ</span></a> <a id="t:454" class="idref" href="#t:454"><span class="id" title="binder">t</span></a> <a id="t':455" class="idref" href="#t':455"><span class="id" title="binder">t'</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fed35e34b702cc992cf9b0f71c4922ad"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ea4198e6f3b44f68aaf6a7826ba2def3"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:454"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':455"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureProperties.html#wellformed"><span class="id" title="definition">ErasureProperties.wellformed</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fed35e34b702cc992cf9b0f71c4922ad"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:454"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf_fixpoints"><span class="id" title="definition">wf_fixpoints</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':455"><span class="id" title="variable">t'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Erasure.Extract.html#erases_forall_list_ind"><span class="id" title="lemma">erases_forall_list_ind</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">PCUICAstUtils.solve_all</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ⇒ []. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="var">X</span>) ⇒ → /=. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_All2_mix"><span class="id" title="lemma">All2_All2_mix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">PCUICAstUtils.solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b0</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureProperties.html#erases_isLambda"><span class="id" title="lemma">erases_isLambda</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ⇒ []. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="var">X</span>) ⇒ → /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">PCUICAstUtils.solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">H0</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">X</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">X0</span>; <span class="id" title="var">solve_all</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all_k</span> 7. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_wf_fixpoints" class="idref" href="#erase_wf_fixpoints"><span class="id" title="lemma">erase_wf_fixpoints</span></a> (<a id="efl:456" class="idref" href="#efl:456"><span class="id" title="binder">efl</span></a> := <a class="idref" href="MetaRocq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a>) {<a id="X_type:457" class="idref" href="#X_type:457"><span class="id" title="binder">X_type</span></a> <a id="X:458" class="idref" href="#X:458"><span class="id" title="binder">X</span></a>} <a id="univs:459" class="idref" href="#univs:459"><span class="id" title="binder">univs</span></a> <a id="022de3fec26fac38b412368e68b65541" class="idref" href="#022de3fec26fac38b412368e68b65541"><span class="id" title="binder">wfΣ</span></a> {<a id="3019ac0f0e1d2c230ebcdc26df123522" class="idref" href="#3019ac0f0e1d2c230ebcdc26df123522"><span class="id" title="binder">Γ</span></a> <a id="t:462" class="idref" href="#t:462"><span class="id" title="binder">t</span></a>} <a id="wt:463" class="idref" href="#wt:463"><span class="id" title="binder">wt</span></a><br/>
&nbsp;&nbsp;(<a id="X':464" class="idref" href="#X':464"><span class="id" title="binder">X'</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:458"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:459"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#022de3fec26fac38b412368e68b65541"><span class="id" title="variable">wfΣ</span></a>) {<a id="normalization_in:465" class="idref" href="#normalization_in:465"><span class="id" title="binder">normalization_in</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t':466" class="idref" href="#t':466"><span class="id" title="binder">t'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:457"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':464"><span class="id" title="variable">X'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:465"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#3019ac0f0e1d2c230ebcdc26df123522"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:462"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:463"><span class="id" title="variable">wt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf_fixpoints"><span class="id" title="definition">wf_fixpoints</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':466"><span class="id" title="variable">t'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ'</span> <span class="id" title="var">wf'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erases_wf_fixpoints"><span class="id" title="lemma">erases_wf_fixpoints</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">wt</span> <span class="id" title="var">_</span> <span class="id" title="var">wf'</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureProperties.html#welltyped_wellformed"><span class="id" title="lemma">welltyped_wellformed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wf'</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erases_global_erase_global" class="idref" href="#erases_global_erase_global"><span class="id" title="lemma">erases_global_erase_global</span></a> (<a id="efl:467" class="idref" href="#efl:467"><span class="id" title="binder">efl</span></a> := <a class="idref" href="MetaRocq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a>) {<a id="X_type:468" class="idref" href="#X_type:468"><span class="id" title="binder">X_type</span></a> <a id="X:469" class="idref" href="#X:469"><span class="id" title="binder">X</span></a>} <a id="e8dd90993f2f71151050fcaf1974a0b2" class="idref" href="#e8dd90993f2f71151050fcaf1974a0b2"><span class="id" title="binder">Σ</span></a> <a id="decls:471" class="idref" href="#decls:471"><span class="id" title="binder">decls</span></a> {<a id="normalization_in:472" class="idref" href="#normalization_in:472"><span class="id" title="binder">normalization_in</span></a>} <a id="prf:473" class="idref" href="#prf:473"><span class="id" title="binder">prf</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#e8dd90993f2f71151050fcaf1974a0b2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:469"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#erases_global"><span class="id" title="definition">erases_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#e8dd90993f2f71151050fcaf1974a0b2"><span class="id" title="variable">Σ</span></a> (@<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global"><span class="id" title="definition">erase_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:468"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:469"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:471"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:472"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:473"><span class="id" title="variable">prf</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span>). <span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>, <span class="id" title="var">Σ</span>, <span class="id" title="var">prf</span>, <span class="id" title="var">normalization_in</span>, <span class="id" title="var">h</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xpop</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">Xpop</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σpop</span> <span class="id" title="var">hpop</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span> <span class="id" title="var">hpop</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">prf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn</span> []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">constructor</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Σd</span> := {| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <span class="id" title="var">_</span> |}).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Σd</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">Σpop</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">Σd</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Σpop</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">Σd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ext</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">ext</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ'</span> <span class="id" title="var">wf'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hpop</span> <span class="id" title="var">wf'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">Σ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">hpop</span>) <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body_correct"><span class="id" title="lemma">erase_constant_body_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σpop</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="notation">[]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">h</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">o0</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">o1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_mutual"><span class="id" title="lemma">erases_mutual</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">on_global_decl_d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_wellformed" class="idref" href="#erase_global_wellformed"><span class="id" title="lemma">erase_global_wellformed</span></a> (<a id="efl:474" class="idref" href="#efl:474"><span class="id" title="binder">efl</span></a> := <a class="idref" href="MetaRocq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a>) {<a id="X_type:475" class="idref" href="#X_type:475"><span class="id" title="binder">X_type</span></a> <a id="X:476" class="idref" href="#X:476"><span class="id" title="binder">X</span></a>} <a id="decls:477" class="idref" href="#decls:477"><span class="id" title="binder">decls</span></a> {<a id="normalization_in:478" class="idref" href="#normalization_in:478"><span class="id" title="binder">normalization_in</span></a>} <a id="prf:479" class="idref" href="#prf:479"><span class="id" title="binder">prf</span></a> <a id="univs:480" class="idref" href="#univs:480"><span class="id" title="binder">univs</span></a> <a id="2012712e131c7e5ec548b519863419df" class="idref" href="#2012712e131c7e5ec548b519863419df"><span class="id" title="binder">wfΣ</span></a> {<a id="0dfcf690d413951f49b0d1d11fcbbf25" class="idref" href="#0dfcf690d413951f49b0d1d11fcbbf25"><span class="id" title="binder">Γ</span></a> <a id="t:483" class="idref" href="#t:483"><span class="id" title="binder">t</span></a>} <a id="wt:484" class="idref" href="#wt:484"><span class="id" title="binder">wt</span></a><br/>
&nbsp;&nbsp;(<a id="X':485" class="idref" href="#X':485"><span class="id" title="binder">X'</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:476"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:480"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#2012712e131c7e5ec548b519863419df"><span class="id" title="variable">wfΣ</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in':487" class="idref" href="#normalization_in':487"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="b45f4ed9379d79f9e054122d9b028e67" class="idref" href="#b45f4ed9379d79f9e054122d9b028e67"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#b45f4ed9379d79f9e054122d9b028e67"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#b45f4ed9379d79f9e054122d9b028e67"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':485"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#b45f4ed9379d79f9e054122d9b028e67"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;(<a id="t':488" class="idref" href="#t':488"><span class="id" title="binder">t'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:475"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':485"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#0dfcf690d413951f49b0d1d11fcbbf25"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:483"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:484"><span class="id" title="variable">wt</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wellformed"><span class="id" title="definition">wellformed</span></a> (@<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global"><span class="id" title="definition">erase_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:475"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:476"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:477"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:478"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:479"><span class="id" title="variable">prf</span></a>) <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#0dfcf690d413951f49b0d1d11fcbbf25"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':488"><span class="id" title="variable">t'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (@<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X'</span> <span class="id" title="var">normalization_in'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wt</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>]]. <span class="id" title="var">specialize_Σ</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ'</span> <span class="id" title="var">wf'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wf'</span>) <span class="id" title="keyword">as</span> [?].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureProperties.html#erases_wellformed"><span class="id" title="lemma">erases_wellformed</span></a> (<span class="id" title="var">wt</span> <span class="id" title="var">_</span> <span class="id" title="var">wf'</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EDeps.html#erases_global_all_deps"><span class="id" title="lemma">erases_global_all_deps</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wf'</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">Σ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erases_global_erase_global"><span class="id" title="lemma">erases_global_erase_global</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_wellformed_deps" class="idref" href="#erase_wellformed_deps"><span class="id" title="lemma">erase_wellformed_deps</span></a> (<a id="efl:489" class="idref" href="#efl:489"><span class="id" title="binder">efl</span></a> := <a class="idref" href="MetaRocq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a>) {<a id="X_type:490" class="idref" href="#X_type:490"><span class="id" title="binder">X_type</span></a> <a id="X:491" class="idref" href="#X:491"><span class="id" title="binder">X</span></a>} <a id="decls:492" class="idref" href="#decls:492"><span class="id" title="binder">decls</span></a> {<a id="normalization_in:493" class="idref" href="#normalization_in:493"><span class="id" title="binder">normalization_in</span></a>} <a id="prf:494" class="idref" href="#prf:494"><span class="id" title="binder">prf</span></a> <a id="univs:495" class="idref" href="#univs:495"><span class="id" title="binder">univs</span></a> <a id="4c4aa6ec6fab12c791296febfc723979" class="idref" href="#4c4aa6ec6fab12c791296febfc723979"><span class="id" title="binder">wfΣ</span></a> {<a id="09f7fd56a98d7e1b2ad0abc63d6ab926" class="idref" href="#09f7fd56a98d7e1b2ad0abc63d6ab926"><span class="id" title="binder">Γ</span></a> <a id="t:498" class="idref" href="#t:498"><span class="id" title="binder">t</span></a>} <a id="wt:499" class="idref" href="#wt:499"><span class="id" title="binder">wt</span></a><br/>
&nbsp;&nbsp;(<a id="X':500" class="idref" href="#X':500"><span class="id" title="binder">X'</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:491"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:495"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#4c4aa6ec6fab12c791296febfc723979"><span class="id" title="variable">wfΣ</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in':502" class="idref" href="#normalization_in':502"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="80360c78ffec1dbf89e2289a2516aa41" class="idref" href="#80360c78ffec1dbf89e2289a2516aa41"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#80360c78ffec1dbf89e2289a2516aa41"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#80360c78ffec1dbf89e2289a2516aa41"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':500"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#80360c78ffec1dbf89e2289a2516aa41"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;(<a id="t':503" class="idref" href="#t':503"><span class="id" title="binder">t'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:490"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':500"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#09f7fd56a98d7e1b2ad0abc63d6ab926"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:498"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:499"><span class="id" title="variable">wt</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wellformed"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:490"><span class="id" title="variable">X_type</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':503"><span class="id" title="variable">t'</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:491"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:492"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:493"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:494"><span class="id" title="variable">prf</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#09f7fd56a98d7e1b2ad0abc63d6ab926"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':503"><span class="id" title="variable">t'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (@<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erases_deps_erase"><span class="id" title="lemma">erases_deps_erase</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">decls</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wt</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>]]. <span class="id" title="var">specialize_Σ</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ'</span> <span class="id" title="var">wf'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wf'</span>) <span class="id" title="keyword">as</span> [[?]].<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erases_deps_wellformed"><span class="id" title="lemma">erases_deps_wellformed</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureProperties.html#erases_closed"><span class="id" title="lemma">erases_closed</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Γ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">wt</span> <span class="id" title="var">_</span> <span class="id" title="var">wf'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#subject_closed"><span class="id" title="lemma">PCUICClosedTyp.subject_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_wf_fixpoints"><span class="id" title="lemma">erase_wf_fixpoints</span></a>. <span class="id" title="var">Unshelve</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_wellformed_weaken" class="idref" href="#erase_wellformed_weaken"><span class="id" title="lemma">erase_wellformed_weaken</span></a> (<a id="efl:504" class="idref" href="#efl:504"><span class="id" title="binder">efl</span></a> := <a class="idref" href="MetaRocq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a>) {<a id="X_type:505" class="idref" href="#X_type:505"><span class="id" title="binder">X_type</span></a> <a id="X:506" class="idref" href="#X:506"><span class="id" title="binder">X</span></a>} <a id="decls:507" class="idref" href="#decls:507"><span class="id" title="binder">decls</span></a> {<a id="normalization_in:508" class="idref" href="#normalization_in:508"><span class="id" title="binder">normalization_in</span></a>} <a id="prf:509" class="idref" href="#prf:509"><span class="id" title="binder">prf</span></a> <a id="univs:510" class="idref" href="#univs:510"><span class="id" title="binder">univs</span></a> <a id="c637bd07078a541b901dce8590d73d1b" class="idref" href="#c637bd07078a541b901dce8590d73d1b"><span class="id" title="binder">wfΣ</span></a> {<a id="3be05ec46d5a4f45a661c8acf9200b60" class="idref" href="#3be05ec46d5a4f45a661c8acf9200b60"><span class="id" title="binder">Γ</span></a> <a id="t:513" class="idref" href="#t:513"><span class="id" title="binder">t</span></a>} <a id="wt:514" class="idref" href="#wt:514"><span class="id" title="binder">wt</span></a><br/>
(<a id="X':515" class="idref" href="#X':515"><span class="id" title="binder">X'</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:506"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:510"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#c637bd07078a541b901dce8590d73d1b"><span class="id" title="variable">wfΣ</span></a>)<br/>
{<a id="normalization_in':517" class="idref" href="#normalization_in':517"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="32a59bc4d42857d1eb5376da2dfd6c5e" class="idref" href="#32a59bc4d42857d1eb5376da2dfd6c5e"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#32a59bc4d42857d1eb5376da2dfd6c5e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#32a59bc4d42857d1eb5376da2dfd6c5e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':515"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#32a59bc4d42857d1eb5376da2dfd6c5e"><span class="id" title="variable">Σ</span></a>}<br/>
<a id="deps:518" class="idref" href="#deps:518"><span class="id" title="binder">deps</span></a>:<br/>
<span class="id" title="keyword">let</span> <a id="t':519" class="idref" href="#t':519"><span class="id" title="binder">t'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:505"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':515"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#3be05ec46d5a4f45a661c8acf9200b60"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:513"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:514"><span class="id" title="variable">wt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wellformed"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:505"><span class="id" title="variable">X_type</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:518"><span class="id" title="variable">deps</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':519"><span class="id" title="variable">t'</span></a>)) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:506"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:507"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:508"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:509"><span class="id" title="variable">prf</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#3be05ec46d5a4f45a661c8acf9200b60"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':519"><span class="id" title="variable">t'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">t'</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (@<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erases_deps_erase_weaken"><span class="id" title="lemma">erases_deps_erase_weaken</span></a> <span class="id" title="var">_</span> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wt</span> <span class="id" title="var">deps</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>]]. <span class="id" title="var">specialize_Σ</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ'</span> <span class="id" title="var">wf'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wf'</span>) <span class="id" title="keyword">as</span> [[?]].<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erases_deps_wellformed"><span class="id" title="lemma">erases_deps_wellformed</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureProperties.html#erases_closed"><span class="id" title="lemma">erases_closed</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Γ</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">wt</span> <span class="id" title="var">_</span> <span class="id" title="var">wf'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#subject_closed"><span class="id" title="lemma">PCUICClosedTyp.subject_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_wf_fixpoints"><span class="id" title="lemma">erase_wf_fixpoints</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_constant_body_correct''" class="idref" href="#erase_constant_body_correct''"><span class="id" title="lemma">erase_constant_body_correct''</span></a> {<a id="X_type:520" class="idref" href="#X_type:520"><span class="id" title="binder">X_type</span></a> <a id="X:521" class="idref" href="#X:521"><span class="id" title="binder">X</span></a>} {<a id="cb:522" class="idref" href="#cb:522"><span class="id" title="binder">cb</span></a>} {<a id="decls:523" class="idref" href="#decls:523"><span class="id" title="binder">decls</span></a> <a id="normalization_in:524" class="idref" href="#normalization_in:524"><span class="id" title="binder">normalization_in</span></a> <a id="prf:525" class="idref" href="#prf:525"><span class="id" title="binder">prf</span></a>} {<a id="univs:526" class="idref" href="#univs:526"><span class="id" title="binder">univs</span></a> <a id="16a4b23ac448cd3d99cfe70057983d65" class="idref" href="#16a4b23ac448cd3d99cfe70057983d65"><span class="id" title="binder">wfΣ</span></a>}<br/>
(<a id="X':528" class="idref" href="#X':528"><span class="id" title="binder">X'</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:521"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:526"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#16a4b23ac448cd3d99cfe70057983d65"><span class="id" title="variable">wfΣ</span></a>)<br/>
{<a id="normalization_in':530" class="idref" href="#normalization_in':530"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="a3cfa5700dee2bb1ba9a2d32aa0f378a" class="idref" href="#a3cfa5700dee2bb1ba9a2d32aa0f378a"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a3cfa5700dee2bb1ba9a2d32aa0f378a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a3cfa5700dee2bb1ba9a2d32aa0f378a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':528"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a3cfa5700dee2bb1ba9a2d32aa0f378a"><span class="id" title="variable">Σ</span></a>}<br/>
{<a id="onc:532" class="idref" href="#onc:532"><span class="id" title="binder">onc</span></a> : <span class="id" title="keyword">∀</span> <a id="6c99b5c4c3fcd6667b82b6f9eb3981f5" class="idref" href="#6c99b5c4c3fcd6667b82b6f9eb3981f5"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':528"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#6c99b5c4c3fcd6667b82b6f9eb3981f5"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_constant_decl"><span class="id" title="definition">on_constant_decl</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#6c99b5c4c3fcd6667b82b6f9eb3981f5"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cb:522"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>} {<a id="body:533" class="idref" href="#body:533"><span class="id" title="binder">body</span></a>} <a id="deps:534" class="idref" href="#deps:534"><span class="id" title="binder">deps</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EAst.html#cst_body"><span class="id" title="projection">EAst.cst_body</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:520"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':528"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cb:522"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#onc:532"><span class="id" title="variable">onc</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#body:533"><span class="id" title="variable">body</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="1c0351ff20b711c85867b829fef8ca83" class="idref" href="#1c0351ff20b711c85867b829fef8ca83"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':528"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#1c0351ff20b711c85867b829fef8ca83"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="t:536" class="idref" href="#t:536"><span class="id" title="binder">t</span></a> <a id="T:537" class="idref" href="#T:537"><span class="id" title="binder">T</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_body"><span class="id" title="projection">cst_body</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cb:522"><span class="id" title="variable">cb</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:536"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#1c0351ff20b711c85867b829fef8ca83"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:536"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#T:537"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#1c0351ff20b711c85867b829fef8ca83"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:536"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#body:533"><span class="id" title="variable">body</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#body:533"><span class="id" title="variable">body</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:520"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':528"><span class="id" title="variable">X'</span></a>  <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cb:522"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#onc:532"><span class="id" title="variable">onc</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wellformed"><span class="id" title="definition">wellformed</span></a> (<span class="id" title="var">efl</span>:=<a class="idref" href="MetaRocq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a>) <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:520"><span class="id" title="variable">X_type</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:534"><span class="id" title="variable">deps</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#body:533"><span class="id" title="variable">body</span></a>)) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:521"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:523"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:524"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:525"><span class="id" title="variable">prf</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a> 0 <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#body:533"><span class="id" title="variable">body</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cb</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">name</span> [<span class="id" title="var">bod</span>|] <span class="id" title="var">udecl</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl</span> :=(<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body_obligation_1"><span class="id" title="lemma">ErasureFunction.erase_constant_body_obligation_1</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X'</span><br/>
&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_type"><span class="id" title="projection">cst_type</span></a> := <span class="id" title="var">name</span>;<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_body"><span class="id" title="projection">cst_body</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">bod</span>;<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> := <span class="id" title="var">udecl</span> |} <span class="id" title="var">onc</span> <span class="id" title="var">bod</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>)). <span class="id" title="var">clearbody</span> <span class="id" title="var">obl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">obl</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span>). <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">er</span> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">univs</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a> <span class="id" title="var">bod</span> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X'</span> <span class="id" title="notation">[]</span> <span class="id" title="var">bod</span> <span class="id" title="var">obl</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a> (<span class="id" title="var">X</span>:=<span class="id" title="var">X'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">bod</span>, <span class="id" title="var">A</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_wellformed_weaken"><span class="id" title="lemma">erase_wellformed_weaken</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_cst_decl_wf_glob" class="idref" href="#erase_global_cst_decl_wf_glob"><span class="id" title="lemma">erase_global_cst_decl_wf_glob</span></a> <a id="X_type:538" class="idref" href="#X_type:538"><span class="id" title="binder">X_type</span></a> <a id="X:539" class="idref" href="#X:539"><span class="id" title="binder">X</span></a> <a id="deps:540" class="idref" href="#deps:540"><span class="id" title="binder">deps</span></a> <a id="decls:541" class="idref" href="#decls:541"><span class="id" title="binder">decls</span></a> <a id="normalization_in:542" class="idref" href="#normalization_in:542"><span class="id" title="binder">normalization_in</span></a> <a id="heq:543" class="idref" href="#heq:543"><span class="id" title="binder">heq</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="cb:544" class="idref" href="#cb:544"><span class="id" title="binder">cb</span></a> <a id="d87acb1188ef69f705670a7081ce2ca1" class="idref" href="#d87acb1188ef69f705670a7081ce2ca1"><span class="id" title="binder">wfΣ</span></a> <a id="hcb:546" class="idref" href="#hcb:546"><span class="id" title="binder">hcb</span></a>,<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X':547" class="idref" href="#X':547"><span class="id" title="binder">X'</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:539"><span class="id" title="variable">X</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cb:544"><span class="id" title="variable">cb</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d87acb1188ef69f705670a7081ce2ca1"><span class="id" title="variable">wfΣ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="normalization_in':549" class="idref" href="#normalization_in':549"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="3df28f43aabf28bffa92a773035ba063" class="idref" href="#3df28f43aabf28bffa92a773035ba063"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#3df28f43aabf28bffa92a773035ba063"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#3df28f43aabf28bffa92a773035ba063"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':547"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#3df28f43aabf28bffa92a773035ba063"><span class="id" title="variable">Σ</span></a>,<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ecb:550" class="idref" href="#ecb:550"><span class="id" title="binder">ecb</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:538"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':547"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cb:544"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#hcb:546"><span class="id" title="variable">hcb</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="5083b5b467425464ba63db5a7b82893c" class="idref" href="#5083b5b467425464ba63db5a7b82893c"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:538"><span class="id" title="variable">X_type</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:540"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ecb:550"><span class="id" title="variable">ecb</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:539"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:541"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:542"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#heq:543"><span class="id" title="variable">heq</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;(@<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_global_decl"><span class="id" title="definition">wf_global_decl</span></a> <a class="idref" href="MetaRocq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#5083b5b467425464ba63db5a7b82893c"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#ConstantDecl"><span class="id" title="constructor">EAst.ConstantDecl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ecb:550"><span class="id" title="variable">ecb</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>) : <span class="id" title="keyword">Prop</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cb</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">hcb</span> <span class="id" title="var">X'</span> <span class="id" title="var">normalization_in'</span> <span class="id" title="var">ecb</span> <span class="id" title="var">Σ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_global_decl"><span class="id" title="definition">wf_global_decl</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>]]. <span class="id" title="var">specialize_Σ</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σmake</span> <span class="id" title="var">wfmake</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>), (<span class="id" title="var">hcb</span> <span class="id" title="var">_</span> <span class="id" title="var">wfmake</span>). <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EAst.html#cst_body"><span class="id" title="projection">EAst.cst_body</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">hb</span> ⇒ /= //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_constant_body_correct''"><span class="id" title="lemma">erase_constant_body_correct''</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">hb</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hb</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">t0</span> [<span class="id" title="var">T</span> [[] ?]]]]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">i</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_ind_decl_wf_glob" class="idref" href="#erase_global_ind_decl_wf_glob"><span class="id" title="lemma">erase_global_ind_decl_wf_glob</span></a> {<a id="X_type:552" class="idref" href="#X_type:552"><span class="id" title="binder">X_type</span></a> <a id="X:553" class="idref" href="#X:553"><span class="id" title="binder">X</span></a>} {<a id="deps:554" class="idref" href="#deps:554"><span class="id" title="binder">deps</span></a> <a id="decls:555" class="idref" href="#decls:555"><span class="id" title="binder">decls</span></a> <a id="normalization_in:556" class="idref" href="#normalization_in:556"><span class="id" title="binder">normalization_in</span></a> <a id="kn:557" class="idref" href="#kn:557"><span class="id" title="binder">kn</span></a> <a id="m:558" class="idref" href="#m:558"><span class="id" title="binder">m</span></a>} <a id="heq:559" class="idref" href="#heq:559"><span class="id" title="binder">heq</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="51d3b89a0a9b5fe69a88ca16a3026ab1" class="idref" href="#51d3b89a0a9b5fe69a88ca16a3026ab1"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:553"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#51d3b89a0a9b5fe69a88ca16a3026ab1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_inductive"><span class="id" title="record">on_inductive</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#51d3b89a0a9b5fe69a88ca16a3026ab1"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#m:558"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:557"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#m:558"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="m':561" class="idref" href="#m':561"><span class="id" title="binder">m'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_mutual_inductive_body"><span class="id" title="definition">erase_mutual_inductive_body</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#m:558"><span class="id" title="variable">m</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="4450c7428c376c17bf8a30893f17377a" class="idref" href="#4450c7428c376c17bf8a30893f17377a"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:552"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:554"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:553"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:555"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:556"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#heq:559"><span class="id" title="variable">heq</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_global_decl"><span class="id" title="definition">wf_global_decl</span></a> <a class="idref" href="MetaRocq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#4450c7428c376c17bf8a30893f17377a"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#InductiveDecl"><span class="id" title="constructor">EAst.InductiveDecl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#m':561"><span class="id" title="variable">m'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">m'</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_mutual_inductive_body"><span class="id" title="definition">erase_mutual_inductive_body</span></a> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Σ'</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">oni</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>]]. <span class="id" title="var">specialize_Σ</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣ</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.Erasure.Extract.html#erases_mutual_inductive_body"><span class="id" title="definition">erases_mutual_inductive_body</span></a> <span class="id" title="var">m</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_mutual_inductive_body"><span class="id" title="definition">erase_mutual_inductive_body</span></a> <span class="id" title="var">m</span>)).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_mutual"><span class="id" title="lemma">erases_mutual</span></a> (<span class="id" title="var">mdecl</span>:=<span class="id" title="var">kn</span>)); <span class="id" title="var">tea</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#erases_mutual_inductive_body_wf"><span class="id" title="lemma">erases_mutual_inductive_body_wf</span></a> (<span class="id" title="var">univs</span> := <span class="id" title="var">Σ</span>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a>)) (<span class="id" title="var">retro</span> := <span class="id" title="var">Σ</span>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>)) (<span class="id" title="var">Σ</span> := <span class="id" title="var">decls</span>) (<span class="id" title="var">kn</span> := <span class="id" title="var">kn</span>) (<span class="id" title="var">Σ'</span> := <span class="id" title="var">Σ'</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<span class="id" title="var">heq</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_deps_wf_glob" class="idref" href="#erase_global_deps_wf_glob"><span class="id" title="lemma">erase_global_deps_wf_glob</span></a> <a id="X_type:563" class="idref" href="#X_type:563"><span class="id" title="binder">X_type</span></a> <a id="X:564" class="idref" href="#X:564"><span class="id" title="binder">X</span></a> <a id="deps:565" class="idref" href="#deps:565"><span class="id" title="binder">deps</span></a> <a id="decls:566" class="idref" href="#decls:566"><span class="id" title="binder">decls</span></a> <a id="normalization_in:567" class="idref" href="#normalization_in:567"><span class="id" title="binder">normalization_in</span></a> <a id="heq:568" class="idref" href="#heq:568"><span class="id" title="binder">heq</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c9c92103e3c06eb5222b825d0b498d64" class="idref" href="#c9c92103e3c06eb5222b825d0b498d64"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:563"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:565"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:564"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:566"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:567"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#heq:568"><span class="id" title="variable">heq</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaRocq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#c9c92103e3c06eb5222b825d0b498d64"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣ</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">deps</span> <span class="id" title="var">X</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span>; [<span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">constructor</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn</span> []]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a>; <span class="id" title="tactic">set</span> (<span class="id" title="var">Xpop</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">set</span> (<span class="id" title="var">Xmake</span> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <span class="id" title="var">Xpop</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">Xpop</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σpop</span> <span class="id" title="var">wfpop</span>]];<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣpop</span>].<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_cst_decl_wf_glob"><span class="id" title="lemma">erase_global_cst_decl_wf_glob</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_deps_fresh"><span class="id" title="lemma">erase_global_deps_fresh</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣpop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">heq</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">o0</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">o3</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣ</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">onu</span> <span class="id" title="var">ond</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">heq</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">o</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">o</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_ind_decl_wf_glob"><span class="id" title="lemma">erase_global_ind_decl_wf_glob</span></a> (<span class="id" title="var">kn</span>:=<span class="id" title="var">kn</span>)); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">wfpop</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="tactic">intros</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σpop</span>, <span class="id" title="var">Σ</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_deps_fresh"><span class="id" title="lemma">erase_global_deps_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣ</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">onu</span> <span class="id" title="var">ond</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">heq</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">o</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">o</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">o0</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_constant_body_correct_glob" class="idref" href="#erase_constant_body_correct_glob"><span class="id" title="lemma">erase_constant_body_correct_glob</span></a> {<a id="X_type:570" class="idref" href="#X_type:570"><span class="id" title="binder">X_type</span></a> <a id="X:571" class="idref" href="#X:571"><span class="id" title="binder">X</span></a>} {<a id="cb:572" class="idref" href="#cb:572"><span class="id" title="binder">cb</span></a>} {<a id="decls:573" class="idref" href="#decls:573"><span class="id" title="binder">decls</span></a> <a id="normalization_in:574" class="idref" href="#normalization_in:574"><span class="id" title="binder">normalization_in</span></a> <a id="prf:575" class="idref" href="#prf:575"><span class="id" title="binder">prf</span></a>} {<a id="univs:576" class="idref" href="#univs:576"><span class="id" title="binder">univs</span></a> <a id="21f0a7b1896e52e6eb04234c36eac29b" class="idref" href="#21f0a7b1896e52e6eb04234c36eac29b"><span class="id" title="binder">wfΣ</span></a>}<br/>
&nbsp;&nbsp;(<a id="X':578" class="idref" href="#X':578"><span class="id" title="binder">X'</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:571"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:576"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#21f0a7b1896e52e6eb04234c36eac29b"><span class="id" title="variable">wfΣ</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in':580" class="idref" href="#normalization_in':580"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="3b2471138523605bf294183c378c80fd" class="idref" href="#3b2471138523605bf294183c378c80fd"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#3b2471138523605bf294183c378c80fd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#3b2471138523605bf294183c378c80fd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':578"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#3b2471138523605bf294183c378c80fd"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;{<a id="onc:582" class="idref" href="#onc:582"><span class="id" title="binder">onc</span></a> : <span class="id" title="keyword">∀</span> <a id="5db1a2d321e4e331611f90ded85286f9" class="idref" href="#5db1a2d321e4e331611f90ded85286f9"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':578"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#5db1a2d321e4e331611f90ded85286f9"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_constant_decl"><span class="id" title="definition">on_constant_decl</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#5db1a2d321e4e331611f90ded85286f9"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cb:572"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>} {<a id="body:583" class="idref" href="#body:583"><span class="id" title="binder">body</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EAst.html#cst_body"><span class="id" title="projection">EAst.cst_body</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:570"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':578"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cb:572"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#onc:582"><span class="id" title="variable">onc</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#body:583"><span class="id" title="variable">body</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="d7b7ccb5c5595f048724d68b150ca6c8" class="idref" href="#d7b7ccb5c5595f048724d68b150ca6c8"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':578"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d7b7ccb5c5595f048724d68b150ca6c8"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="t:585" class="idref" href="#t:585"><span class="id" title="binder">t</span></a> <a id="T:586" class="idref" href="#T:586"><span class="id" title="binder">T</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d7b7ccb5c5595f048724d68b150ca6c8"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:585"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#T:586"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d7b7ccb5c5595f048724d68b150ca6c8"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:585"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#body:583"><span class="id" title="variable">body</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#body:583"><span class="id" title="variable">body</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:570"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':578"><span class="id" title="variable">X'</span></a>  <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cb:572"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#onc:582"><span class="id" title="variable">onc</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wellformed"><span class="id" title="definition">wellformed</span></a> (<span class="id" title="var">efl</span>:=<a class="idref" href="MetaRocq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a>) (@<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global"><span class="id" title="definition">erase_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:570"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:571"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:573"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:574"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:575"><span class="id" title="variable">prf</span></a>) 0 <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#body:583"><span class="id" title="variable">body</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cb</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">name</span> [<span class="id" title="var">bod</span>|] <span class="id" title="var">udecl</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl</span> :=(<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body_obligation_1"><span class="id" title="lemma">ErasureFunction.erase_constant_body_obligation_1</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X'</span><br/>
&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_type"><span class="id" title="projection">cst_type</span></a> := <span class="id" title="var">name</span>;<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_body"><span class="id" title="projection">cst_body</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">bod</span>;<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> := <span class="id" title="var">udecl</span> |} <span class="id" title="var">onc</span> <span class="id" title="var">bod</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>)). <span class="id" title="var">clearbody</span> <span class="id" title="var">obl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">obl</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span>). <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">er</span> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">univs</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a> <span class="id" title="var">bod</span> <a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaRocq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X'</span> <span class="id" title="notation">[]</span> <span class="id" title="var">bod</span> <span class="id" title="var">obl</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a> (<span class="id" title="var">X</span>:=<span class="id" title="var">X'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">bod</span>, <span class="id" title="var">A</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_wellformed"><span class="id" title="lemma">erase_global_wellformed</span></a> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Γ</span> := <span class="id" title="notation">[]</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_cst_wf_glob" class="idref" href="#erase_global_cst_wf_glob"><span class="id" title="lemma">erase_global_cst_wf_glob</span></a> <a id="X_type:587" class="idref" href="#X_type:587"><span class="id" title="binder">X_type</span></a> <a id="X:588" class="idref" href="#X:588"><span class="id" title="binder">X</span></a> <a id="decls:589" class="idref" href="#decls:589"><span class="id" title="binder">decls</span></a> <a id="normalization_in:590" class="idref" href="#normalization_in:590"><span class="id" title="binder">normalization_in</span></a> <a id="heq:591" class="idref" href="#heq:591"><span class="id" title="binder">heq</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="cb:592" class="idref" href="#cb:592"><span class="id" title="binder">cb</span></a> <a id="488a120d3315658d4856a9b6ca31ccf9" class="idref" href="#488a120d3315658d4856a9b6ca31ccf9"><span class="id" title="binder">wfΣ</span></a> <a id="hcb:594" class="idref" href="#hcb:594"><span class="id" title="binder">hcb</span></a>,<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X':595" class="idref" href="#X':595"><span class="id" title="binder">X'</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:588"><span class="id" title="variable">X</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cb:592"><span class="id" title="variable">cb</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#488a120d3315658d4856a9b6ca31ccf9"><span class="id" title="variable">wfΣ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="normalization_in':597" class="idref" href="#normalization_in':597"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="0bcf9ccaa46f1849ec9118443b5c344f" class="idref" href="#0bcf9ccaa46f1849ec9118443b5c344f"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#0bcf9ccaa46f1849ec9118443b5c344f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#0bcf9ccaa46f1849ec9118443b5c344f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':595"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#0bcf9ccaa46f1849ec9118443b5c344f"><span class="id" title="variable">Σ</span></a>,<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ecb:598" class="idref" href="#ecb:598"><span class="id" title="binder">ecb</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:587"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':595"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cb:592"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#hcb:594"><span class="id" title="variable">hcb</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="8cfb699511c8c51130e3fa8999dc00e8" class="idref" href="#8cfb699511c8c51130e3fa8999dc00e8"><span class="id" title="binder">Σ'</span></a> := @<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global"><span class="id" title="definition">erase_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:587"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:588"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:589"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:590"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#heq:591"><span class="id" title="variable">heq</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;(@<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_global_decl"><span class="id" title="definition">wf_global_decl</span></a> <a class="idref" href="MetaRocq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8cfb699511c8c51130e3fa8999dc00e8"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#ConstantDecl"><span class="id" title="constructor">EAst.ConstantDecl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ecb:598"><span class="id" title="variable">ecb</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>) : <span class="id" title="keyword">Prop</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cb</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">hcb</span> <span class="id" title="var">X'</span> <span class="id" title="var">normalization_in'</span> <span class="id" title="var">ecb</span> <span class="id" title="var">Σ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_global_decl"><span class="id" title="definition">wf_global_decl</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>]]. <span class="id" title="var">specialize_Σ</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σmake</span> <span class="id" title="var">wfmake</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>), (<span class="id" title="var">hcb</span> <span class="id" title="var">_</span> <span class="id" title="var">wfmake</span>). <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.EAst.html#cst_body"><span class="id" title="projection">EAst.cst_body</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">hb</span> ⇒ /= //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_constant_body_correct_glob"><span class="id" title="lemma">erase_constant_body_correct_glob</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">hb</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hb</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">t0</span> [<span class="id" title="var">T</span> [[] ?]]]]. <span class="id" title="tactic">exact</span> <span class="id" title="var">i</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_ind_decl_wf_glob'" class="idref" href="#erase_global_ind_decl_wf_glob'"><span class="id" title="lemma">erase_global_ind_decl_wf_glob'</span></a> {<a id="X_type:600" class="idref" href="#X_type:600"><span class="id" title="binder">X_type</span></a> <a id="X:601" class="idref" href="#X:601"><span class="id" title="binder">X</span></a>} {<a id="decls:602" class="idref" href="#decls:602"><span class="id" title="binder">decls</span></a> <a id="normalization_in:603" class="idref" href="#normalization_in:603"><span class="id" title="binder">normalization_in</span></a> <a id="kn:604" class="idref" href="#kn:604"><span class="id" title="binder">kn</span></a> <a id="m:605" class="idref" href="#m:605"><span class="id" title="binder">m</span></a>} <a id="heq:606" class="idref" href="#heq:606"><span class="id" title="binder">heq</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="2e3abf08778dfed6e536c5791e4a8305" class="idref" href="#2e3abf08778dfed6e536c5791e4a8305"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:601"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#2e3abf08778dfed6e536c5791e4a8305"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_inductive"><span class="id" title="record">on_inductive</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#2e3abf08778dfed6e536c5791e4a8305"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#m:605"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:604"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#m:605"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="m':608" class="idref" href="#m':608"><span class="id" title="binder">m'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_mutual_inductive_body"><span class="id" title="definition">erase_mutual_inductive_body</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#m:605"><span class="id" title="variable">m</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="727e1b2177ece95e9a0b4fdcfd7f49e9" class="idref" href="#727e1b2177ece95e9a0b4fdcfd7f49e9"><span class="id" title="binder">Σ'</span></a> := @<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global"><span class="id" title="definition">erase_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:600"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:601"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:602"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:603"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#heq:606"><span class="id" title="variable">heq</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_global_decl"><span class="id" title="definition">wf_global_decl</span></a> <a class="idref" href="MetaRocq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#727e1b2177ece95e9a0b4fdcfd7f49e9"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#InductiveDecl"><span class="id" title="constructor">EAst.InductiveDecl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#m':608"><span class="id" title="variable">m'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">m'</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_mutual_inductive_body"><span class="id" title="definition">erase_mutual_inductive_body</span></a> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Σ'</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global"><span class="id" title="definition">erase_global</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">oni</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>]]. <span class="id" title="var">specialize_Σ</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣ</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.Erasure.Extract.html#erases_mutual_inductive_body"><span class="id" title="definition">erases_mutual_inductive_body</span></a> <span class="id" title="var">m</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_mutual_inductive_body"><span class="id" title="definition">erase_mutual_inductive_body</span></a> <span class="id" title="var">m</span>)).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_mutual"><span class="id" title="lemma">erases_mutual</span></a> (<span class="id" title="var">mdecl</span>:=<span class="id" title="var">kn</span>)); <span class="id" title="var">tea</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#erases_mutual_inductive_body_wf"><span class="id" title="lemma">erases_mutual_inductive_body_wf</span></a> (<span class="id" title="var">univs</span> := <span class="id" title="var">Σ</span>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a>)) (<span class="id" title="var">retro</span> := <span class="id" title="var">Σ</span>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>)) (<span class="id" title="var">Σ</span> := <span class="id" title="var">decls</span>) (<span class="id" title="var">kn</span> := <span class="id" title="var">kn</span>) (<span class="id" title="var">Σ'</span> := <span class="id" title="var">Σ'</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<span class="id" title="var">heq</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_wf_glob" class="idref" href="#erase_global_wf_glob"><span class="id" title="lemma">erase_global_wf_glob</span></a> <a id="X_type:610" class="idref" href="#X_type:610"><span class="id" title="binder">X_type</span></a> <a id="X:611" class="idref" href="#X:611"><span class="id" title="binder">X</span></a> <a id="decls:612" class="idref" href="#decls:612"><span class="id" title="binder">decls</span></a> <a id="normalization_in:613" class="idref" href="#normalization_in:613"><span class="id" title="binder">normalization_in</span></a> <a id="heq:614" class="idref" href="#heq:614"><span class="id" title="binder">heq</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c3f3fb457663c5db86d7a07e50971a1b" class="idref" href="#c3f3fb457663c5db86d7a07e50971a1b"><span class="id" title="binder">Σ'</span></a> := @<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global"><span class="id" title="definition">erase_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:610"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:611"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:612"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:613"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#heq:614"><span class="id" title="variable">heq</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaRocq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#c3f3fb457663c5db86d7a07e50971a1b"><span class="id" title="variable">Σ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣ</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">X</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span>; [<span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">constructor</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn</span> []]; <span class="id" title="tactic">simpl</span>;  <span class="id" title="tactic">set</span> (<span class="id" title="var">Xpop</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">set</span> (<span class="id" title="var">Xmake</span> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <span class="id" title="var">Xpop</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">Xpop</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σpop</span> <span class="id" title="var">wfpop</span>]];<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣpop</span>].<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_cst_wf_glob"><span class="id" title="lemma">erase_global_cst_wf_glob</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_fresh"><span class="id" title="lemma">erase_global_fresh</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣpop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">heq</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">o0</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">o3</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣ</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">onu</span> <span class="id" title="var">ond</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">heq</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">o</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">o</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_ind_decl_wf_glob'"><span class="id" title="lemma">erase_global_ind_decl_wf_glob'</span></a> (<span class="id" title="var">kn</span>:=<span class="id" title="var">kn</span>)); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">wfpop</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σpop</span>, <span class="id" title="var">Σ</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_fresh"><span class="id" title="lemma">erase_global_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣ</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">onu</span> <span class="id" title="var">ond</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">heq</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">o</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">o</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">o0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="extends_cons" class="idref" href="#extends_cons"><span class="id" title="lemma">extends_cons</span></a> <a id="d:616" class="idref" href="#d:616"><span class="id" title="binder">d</span></a> <a id="2894b310915fb765649dbcf92ee64136" class="idref" href="#2894b310915fb765649dbcf92ee64136"><span class="id" title="binder">Σ</span></a> <a id="025d99602a744c1f22094923e8ff6db5" class="idref" href="#025d99602a744c1f22094923e8ff6db5"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#extends"><span class="id" title="definition">extends</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#2894b310915fb765649dbcf92ee64136"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#025d99602a744c1f22094923e8ff6db5"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#extends"><span class="id" title="definition">extends</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:616"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#2894b310915fb765649dbcf92ee64136"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:616"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#025d99602a744c1f22094923e8ff6db5"><span class="id" title="variable">Σ'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ext</span> <span class="id" title="var">kn</span> <span class="id" title="var">decl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">d</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> → [= &lt;-].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">ext</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="extends_fresh" class="idref" href="#extends_fresh"><span class="id" title="lemma">extends_fresh</span></a> <a id="62eb0b21c414bb95ce7b135a3873411d" class="idref" href="#62eb0b21c414bb95ce7b135a3873411d"><span class="id" title="binder">Σ</span></a> <a id="d5455011404ba925f68a7fa7ae4a43d5" class="idref" href="#d5455011404ba925f68a7fa7ae4a43d5"><span class="id" title="binder">Σ'</span></a> <a id="kn:621" class="idref" href="#kn:621"><span class="id" title="binder">kn</span></a> <a id="d:622" class="idref" href="#d:622"><span class="id" title="binder">d</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#fresh_global"><span class="id" title="definition">fresh_global</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:621"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d5455011404ba925f68a7fa7ae4a43d5"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#extends"><span class="id" title="definition">extends</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#62eb0b21c414bb95ce7b135a3873411d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d5455011404ba925f68a7fa7ae4a43d5"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#extends"><span class="id" title="definition">extends</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#62eb0b21c414bb95ce7b135a3873411d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:621"><span class="id" title="variable">kn</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:622"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d5455011404ba925f68a7fa7ae4a43d5"><span class="id" title="variable">Σ'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">fr</span> <span class="id" title="var">ext</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kn'</span> <span class="id" title="var">decl</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">kn'</span> <span class="id" title="var">kn</span>) ⇒ //. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ext</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_env_Some_fresh"><span class="id" title="lemma">lookup_env_Some_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">ext</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Forall_filter" class="idref" href="#Forall_filter"><span class="id" title="lemma">Forall_filter</span></a> {<a id="A:623" class="idref" href="#A:623"><span class="id" title="binder">A</span></a>} {<a id="P:624" class="idref" href="#P:624"><span class="id" title="binder">P</span></a>} <a id="f:625" class="idref" href="#f:625"><span class="id" title="binder">f</span></a> <a id="l:626" class="idref" href="#l:626"><span class="id" title="binder">l</span></a> : @<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#A:623"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#P:624"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#l:626"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#P:624"><span class="id" title="variable">P</span></a> (<span class="id" title="definition">filter</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f:625"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#l:626"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">try</span> <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">case</span> <span class="id" title="var">E</span>: (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) ⇒ //. <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="extends_filter_impl" class="idref" href="#extends_filter_impl"><span class="id" title="lemma">extends_filter_impl</span></a> {<a id="efl:627" class="idref" href="#efl:627"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaRocq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} (<a id="f:628" class="idref" href="#f:628"><span class="id" title="binder">f</span></a> <a id="f':629" class="idref" href="#f':629"><span class="id" title="binder">f'</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#global_decl"><span class="id" title="inductive">EAst.global_decl</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="5ac57ba9ce367d6942d955a6486da0a9" class="idref" href="#5ac57ba9ce367d6942d955a6486da0a9"><span class="id" title="binder">Σ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:631" class="idref" href="#x:631"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f:628"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#x:631"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f':629"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#x:631"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#5ac57ba9ce367d6942d955a6486da0a9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#extends"><span class="id" title="definition">extends</span></a> (<span class="id" title="definition">filter</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f:628"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#5ac57ba9ce367d6942d955a6486da0a9"><span class="id" title="variable">Σ</span></a>) (<span class="id" title="definition">filter</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f':629"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#5ac57ba9ce367d6942d955a6486da0a9"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hf</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">red</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span>; <span class="id" title="var">depelim</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">E</span>: (<span class="id" title="var">f</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">hf</span> <span class="id" title="var">_</span> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#extends_cons"><span class="id" title="lemma">extends_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">E'</span>: (<span class="id" title="var">f'</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#extends_fresh"><span class="id" title="lemma">extends_fresh</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Forall_filter"><span class="id" title="lemma">Forall_filter</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="extends_filter" class="idref" href="#extends_filter"><span class="id" title="lemma">extends_filter</span></a> {<a id="efl:632" class="idref" href="#efl:632"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaRocq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} (<a id="f:633" class="idref" href="#f:633"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#global_decl"><span class="id" title="inductive">EAst.global_decl</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="4e47c39abfcd04ca0d270fc1bd58134f" class="idref" href="#4e47c39abfcd04ca0d270fc1bd58134f"><span class="id" title="binder">Σ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#4e47c39abfcd04ca0d270fc1bd58134f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#extends"><span class="id" title="definition">extends</span></a> (<span class="id" title="definition">filter</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f:633"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#4e47c39abfcd04ca0d270fc1bd58134f"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#4e47c39abfcd04ca0d270fc1bd58134f"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">hf</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">decl</span>. <span class="id" title="var">depelim</span> <span class="id" title="keyword">wf</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">E</span>: (<span class="id" title="var">f</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">hf</span> <span class="id" title="var">kn</span>) ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">hd</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHΣ</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">hl</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHΣ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hl</span> ⇒ //. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">hf</span> <span class="id" title="var">kn</span>) ⇒ <span class="id" title="var">heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_env_Some_fresh"><span class="id" title="lemma">lookup_env_Some_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_deps_eval" class="idref" href="#erase_global_deps_eval"><span class="id" title="lemma">erase_global_deps_eval</span></a> {<a id="efl:635" class="idref" href="#efl:635"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#WcbvFlags"><span class="id" title="class">EWcbvEval.WcbvFlags</span></a>} (<a id="X_type:636" class="idref" href="#X_type:636"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>) (<a id="X:637" class="idref" href="#X:637"><span class="id" title="binder">X</span></a> <a id="X':638" class="idref" href="#X':638"><span class="id" title="binder">X'</span></a>:<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:636"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) <a id="ext:639" class="idref" href="#ext:639"><span class="id" title="binder">ext</span></a> <a id="wfX:640" class="idref" href="#wfX:640"><span class="id" title="binder">wfX</span></a> <a id="wfX':641" class="idref" href="#wfX':641"><span class="id" title="binder">wfX'</span></a> {<a id="normalization_in:642" class="idref" href="#normalization_in:642"><span class="id" title="binder">normalization_in</span></a>} {<a id="normalization_in':643" class="idref" href="#normalization_in':643"><span class="id" title="binder">normalization_in'</span></a>} <a id="decls:644" class="idref" href="#decls:644"><span class="id" title="binder">decls</span></a> <a id="nin:645" class="idref" href="#nin:645"><span class="id" title="binder">nin</span></a> <a id="prf:646" class="idref" href="#prf:646"><span class="id" title="binder">prf</span></a> <a id="a4839334ca63a47d942d5e9bf3be1c02" class="idref" href="#a4839334ca63a47d942d5e9bf3be1c02"><span class="id" title="binder">Γ</span></a> <a id="t:648" class="idref" href="#t:648"><span class="id" title="binder">t</span></a> <a id="wt:649" class="idref" href="#wt:649"><span class="id" title="binder">wt</span></a> <a id="v:650" class="idref" href="#v:650"><span class="id" title="binder">v</span></a> <a id="wv:651" class="idref" href="#wv:651"><span class="id" title="binder">wv</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="Xext:652" class="idref" href="#Xext:652"><span class="id" title="binder">Xext</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:637"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ext:639"><span class="id" title="variable">ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wfX:640"><span class="id" title="variable">wfX</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="Xext':653" class="idref" href="#Xext':653"><span class="id" title="binder">Xext'</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':638"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ext:639"><span class="id" title="variable">ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wfX':641"><span class="id" title="variable">wfX'</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t':654" class="idref" href="#t':654"><span class="id" title="binder">t'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:636"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:652"><span class="id" title="variable">Xext</span></a> (<span class="id" title="var">normalization_in</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:642"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a4839334ca63a47d942d5e9bf3be1c02"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:648"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:649"><span class="id" title="variable">wt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="v':655" class="idref" href="#v':655"><span class="id" title="binder">v'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:636"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext':653"><span class="id" title="variable">Xext'</span></a> (<span class="id" title="var">normalization_in</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in':643"><span class="id" title="variable">normalization_in'</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a4839334ca63a47d942d5e9bf3be1c02"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:650"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wv:651"><span class="id" title="variable">wv</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="eg:656" class="idref" href="#eg:656"><span class="id" title="binder">eg</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:636"><span class="id" title="variable">X_type</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':654"><span class="id" title="variable">t'</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:637"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:644"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#nin:645"><span class="id" title="variable">nin</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:646"><span class="id" title="variable">prf</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="eg':657" class="idref" href="#eg':657"><span class="id" title="binder">eg'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:636"><span class="id" title="variable">X_type</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v':655"><span class="id" title="variable">v'</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:637"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:644"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#nin:645"><span class="id" title="variable">nin</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:646"><span class="id" title="variable">prf</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#eg:656"><span class="id" title="variable">eg</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#3959a00793ec04b4dc50ed24aec9b5cc"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':654"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#3959a00793ec04b4dc50ed24aec9b5cc"><span class="id" title="notation">⇓</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v':655"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#extends"><span class="id" title="definition">EGlobalEnv.extends</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#eg':657"><span class="id" title="variable">eg'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#eg:656"><span class="id" title="variable">eg</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_deps_wf_glob"><span class="id" title="lemma">erase_global_deps_wf_glob</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <span class="id" title="var">t'</span>) <span class="id" title="var">decls</span> <span class="id" title="var">nin</span> <span class="id" title="var">prf</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">eg</span> <span class="id" title="var">eg'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_deps_erase_global"><span class="id" title="lemma">erase_global_deps_erase_global</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">wfer</span> : <a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> (<span class="id" title="var">efl</span> := <a class="idref" href="MetaRocq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a>) (@<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global"><span class="id" title="definition">erase_global</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">nin</span> <span class="id" title="var">prf</span>)).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_wf_glob"><span class="id" title="lemma">erase_global_wf_glob</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !(<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#filter_deps_filter"><span class="id" title="lemma">filter_deps_filter</span></a> (<span class="id" title="var">efl</span> := <a class="idref" href="MetaRocq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a>)) //.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#extends_filter_impl"><span class="id" title="lemma">extends_filter_impl</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">kn</span> <span class="id" title="var">d</span>]; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> !<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem_spec"><span class="id" title="lemma">KernameSet.mem_spec</span></a>. <span class="id" title="var">revert</span> <span class="id" title="var">kn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#weakening_eval_env"><span class="id" title="lemma">EWcbvEval.weakening_eval_env</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. 2:<span class="id" title="tactic">exact</span> <span class="id" title="var">wfer</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#eval_global_deps"><span class="id" title="lemma">eval_global_deps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_deps_erase_global"><span class="id" title="lemma">erase_global_deps_erase_global</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#filter_deps_filter"><span class="id" title="lemma">filter_deps_filter</span></a> (<span class="id" title="var">efl</span> := <a class="idref" href="MetaRocq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a>)) //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#extends_filter"><span class="id" title="lemma">extends_filter</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_erase_global" class="idref" href="#lookup_erase_global"><span class="id" title="lemma">lookup_erase_global</span></a> (<a id="cf:658" class="idref" href="#cf:658"><span class="id" title="binder">cf</span></a> := <a class="idref" href="MetaRocq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>) {<a id="X_type:659" class="idref" href="#X_type:659"><span class="id" title="binder">X_type</span></a> <a id="X:660" class="idref" href="#X:660"><span class="id" title="binder">X</span></a>} {<a id="deps:661" class="idref" href="#deps:661"><span class="id" title="binder">deps</span></a> <a id="deps':662" class="idref" href="#deps':662"><span class="id" title="binder">deps'</span></a> <a id="decls:663" class="idref" href="#decls:663"><span class="id" title="binder">decls</span></a> <a id="normalization_in:664" class="idref" href="#normalization_in:664"><span class="id" title="binder">normalization_in</span></a> <a id="prf:665" class="idref" href="#prf:665"><span class="id" title="binder">prf</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.Subset"><span class="id" title="definition">KernameSet.Subset</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:661"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps':662"><span class="id" title="variable">deps'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EExtends.html#global_subset"><span class="id" title="definition">EExtends.global_subset</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:659"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:661"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:660"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:663"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:664"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:665"><span class="id" title="variable">prf</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:659"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps':662"><span class="id" title="variable">deps'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:660"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:663"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:664"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:665"><span class="id" title="variable">prf</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_deps_erase_global"><span class="id" title="lemma">erase_global_deps_erase_global</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">wfer</span> : <a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> (<span class="id" title="var">efl</span> := <a class="idref" href="MetaRocq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a>) (@<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global"><span class="id" title="definition">erase_global</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">prf</span>)).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_wf_glob"><span class="id" title="lemma">erase_global_wf_glob</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !(<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#filter_deps_filter"><span class="id" title="lemma">filter_deps_filter</span></a> (<span class="id" title="var">efl</span> := <a class="idref" href="MetaRocq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a>)) //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#extends_filter_impl"><span class="id" title="lemma">extends_filter_impl</span></a> ⇒ //. 2:<span class="id" title="tactic">exact</span> <span class="id" title="var">wfer</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">x</span> /<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem_spec"><span class="id" title="lemma">KernameSet.mem_spec</span></a> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem_spec"><span class="id" title="lemma">KernameSet.mem_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#global_deps_subset"><span class="id" title="lemma">global_deps_subset</span></a>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expanded_weakening_global" class="idref" href="#expanded_weakening_global"><span class="id" title="lemma">expanded_weakening_global</span></a> <a id="X_type:666" class="idref" href="#X_type:666"><span class="id" title="binder">X_type</span></a> <a id="X:667" class="idref" href="#X:667"><span class="id" title="binder">X</span></a> <a id="deps:668" class="idref" href="#deps:668"><span class="id" title="binder">deps</span></a> <a id="deps':669" class="idref" href="#deps':669"><span class="id" title="binder">deps'</span></a> <a id="decls:670" class="idref" href="#decls:670"><span class="id" title="binder">decls</span></a> <a id="normalization_in:671" class="idref" href="#normalization_in:671"><span class="id" title="binder">normalization_in</span></a> <a id="prf:672" class="idref" href="#prf:672"><span class="id" title="binder">prf</span></a> <a id="f61268eaa32dceae46023ed79e0ec9dc" class="idref" href="#f61268eaa32dceae46023ed79e0ec9dc"><span class="id" title="binder">Γ</span></a> <a id="t:674" class="idref" href="#t:674"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.Subset"><span class="id" title="definition">KernameSet.Subset</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:668"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps':669"><span class="id" title="variable">deps'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:666"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:668"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:667"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:670"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:671"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:672"><span class="id" title="variable">prf</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f61268eaa32dceae46023ed79e0ec9dc"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:674"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:666"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps':669"><span class="id" title="variable">deps'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:667"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:670"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:671"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:672"><span class="id" title="variable">prf</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f61268eaa32dceae46023ed79e0ec9dc"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:674"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_ind"><span class="id" title="lemma">expanded_ind</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_tFix"><span class="id" title="constructor">expanded_tFix</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_tConstruct_app"><span class="id" title="constructor">expanded_tConstruct_app</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">split</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#lookup_erase_global"><span class="id" title="lemma">lookup_erase_global</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expanded_erase" class="idref" href="#expanded_erase"><span class="id" title="lemma">expanded_erase</span></a> (<a id="cf:675" class="idref" href="#cf:675"><span class="id" title="binder">cf</span></a> := <a class="idref" href="MetaRocq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>)<br/>
&nbsp;&nbsp;{<a id="X_type:676" class="idref" href="#X_type:676"><span class="id" title="binder">X_type</span></a> <a id="X:677" class="idref" href="#X:677"><span class="id" title="binder">X</span></a> <a id="decls:678" class="idref" href="#decls:678"><span class="id" title="binder">decls</span></a> <a id="normalization_in:679" class="idref" href="#normalization_in:679"><span class="id" title="binder">normalization_in</span></a> <a id="prf:680" class="idref" href="#prf:680"><span class="id" title="binder">prf</span></a>} <a id="univs:681" class="idref" href="#univs:681"><span class="id" title="binder">univs</span></a> <a id="907632af3db4ee3d16091fa14b5aa443" class="idref" href="#907632af3db4ee3d16091fa14b5aa443"><span class="id" title="binder">wfΣ</span></a> <a id="t:683" class="idref" href="#t:683"><span class="id" title="binder">t</span></a> <a id="wtp:684" class="idref" href="#wtp:684"><span class="id" title="binder">wtp</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="da38a91d8a5eb5ed779b3b74c424b75a" class="idref" href="#da38a91d8a5eb5ed779b3b74c424b75a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:677"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#da38a91d8a5eb5ed779b3b74c424b75a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICEtaExpand.html#expanded"><span class="id" title="inductive">PCUICEtaExpand.expanded</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#da38a91d8a5eb5ed779b3b74c424b75a"><span class="id" title="variable">Σ</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:683"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X':686" class="idref" href="#X':686"><span class="id" title="binder">X'</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:677"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:681"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#907632af3db4ee3d16091fa14b5aa443"><span class="id" title="variable">wfΣ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="normalization_in':688" class="idref" href="#normalization_in':688"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="76a94b7ba525ed794281c10517008d29" class="idref" href="#76a94b7ba525ed794281c10517008d29"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#76a94b7ba525ed794281c10517008d29"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#76a94b7ba525ed794281c10517008d29"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':686"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#76a94b7ba525ed794281c10517008d29"><span class="id" title="variable">Σ</span></a>,<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="et:689" class="idref" href="#et:689"><span class="id" title="binder">et</span></a> := (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:676"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':686"><span class="id" title="variable">X'</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:683"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wtp:684"><span class="id" title="variable">wtp</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="deps:690" class="idref" href="#deps:690"><span class="id" title="binder">deps</span></a> := <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">EAstUtils.term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#et:689"><span class="id" title="variable">et</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:676"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:690"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:677"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:678"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:679"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:680"><span class="id" title="variable">prf</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#et:689"><span class="id" title="variable">et</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">hexp</span> <span class="id" title="var">X'</span> <span class="id" title="var">normalization_in'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wf'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="var">wfmake</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#expanded_erases"><span class="id" title="lemma">expanded_erases</span></a> (<span class="id" title="var">Σ</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">univs</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a> (<span class="id" title="var">X</span> := <span class="id" title="var">X'</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">erewrite</span> &lt;- (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erases_deps_erase"><span class="id" title="lemma">erases_deps_erase</span></a> (<span class="id" title="var">X</span> := <span class="id" title="var">X</span>) <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span>); <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expanded_erase_global" class="idref" href="#expanded_erase_global"><span class="id" title="lemma">expanded_erase_global</span></a> (<a id="cf:691" class="idref" href="#cf:691"><span class="id" title="binder">cf</span></a> := <a class="idref" href="MetaRocq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>)<br/>
&nbsp;&nbsp;<a id="deps:692" class="idref" href="#deps:692"><span class="id" title="binder">deps</span></a> {<a id="X_type:693" class="idref" href="#X_type:693"><span class="id" title="binder">X_type</span></a> <a id="X:694" class="idref" href="#X:694"><span class="id" title="binder">X</span></a> <a id="decls:695" class="idref" href="#decls:695"><span class="id" title="binder">decls</span></a> <a id="normalization_in:696" class="idref" href="#normalization_in:696"><span class="id" title="binder">normalization_in</span></a> <a id="prf:697" class="idref" href="#prf:697"><span class="id" title="binder">prf</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="fc188704e96280af4d281a2df4647ea0" class="idref" href="#fc188704e96280af4d281a2df4647ea0"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:694"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fc188704e96280af4d281a2df4647ea0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEtaExpand.html#expanded_global_env"><span class="id" title="definition">PCUICEtaExpand.expanded_global_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fc188704e96280af4d281a2df4647ea0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_global_env"><span class="id" title="definition">expanded_global_env</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:693"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:692"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:694"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:695"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:696"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:697"><span class="id" title="variable">prf</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">etaΣ</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univ</span> <span class="id" title="var">decls'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">revert</span> <span class="id" title="keyword">wf</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">etaΣ</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">deps</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">prf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">etaΣ</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">deps</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>)) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σpop</span> <span class="id" title="var">wfpop</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">Σ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [? [? ?]].<br/>
&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σpop</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H1</span>, <span class="id" title="var">H2</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn</span> []];<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">deps</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">eqkn</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eqkn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHetaΣ</span>; <span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">red</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">deps'</span> := <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="var">hidebody</span> <span class="id" title="var">deps'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">wfext</span> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="var">hidebody</span> <span class="id" title="var">wfext</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">cst_na</span> [<span class="id" title="var">cst_body</span>|] <span class="id" title="var">cst_type</span> <span class="id" title="var">cst_rel</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#expanded_weakening_global"><span class="id" title="lemma">expanded_weakening_global</span></a>.<br/>
&nbsp;&nbsp;2:{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#expanded_erase"><span class="id" title="lemma">expanded_erase</span></a>; <span class="id" title="var">tea</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">et</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">deps'</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="definition">hidebody</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">right</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHetaΣ</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHetaΣ</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">cbn</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHetaΣ</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Sanity&nbsp;checks:&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">erase</span></span>&nbsp;function&nbsp;maximally&nbsp;erases&nbsp;terms&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="erasable_tBox_value" class="idref" href="#erasable_tBox_value"><span class="id" title="lemma">erasable_tBox_value</span></a> (<a id="wfl:699" class="idref" href="#wfl:699"><span class="id" title="binder">wfl</span></a> := <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#default_wcbv_flags"><span class="id" title="definition">EWcbvEval.default_wcbv_flags</span></a>) (<a id="bfe49eb422e154d8c63ce03a94f5df9b" class="idref" href="#bfe49eb422e154d8c63ce03a94f5df9b"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) (<a id="d9ed78099c67c32de477c5e954742ede" class="idref" href="#d9ed78099c67c32de477c5e954742ede"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#bfe49eb422e154d8c63ce03a94f5df9b"><span class="id" title="variable">Σ</span></a>) <a id="t:702" class="idref" href="#t:702"><span class="id" title="binder">t</span></a> <a id="T:703" class="idref" href="#T:703"><span class="id" title="binder">T</span></a> <a id="v:704" class="idref" href="#v:704"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="wt:705" class="idref" href="#wt:705"><span class="id" title="binder">wt</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#bfe49eb422e154d8c63ce03a94f5df9b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:702"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#T:703"><span class="id" title="variable">T</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#bfe49eb422e154d8c63ce03a94f5df9b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#2d097e5690ef6bc9865db9af0d700e66"><span class="id" title="notation">|-</span></a><a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#2d097e5690ef6bc9865db9af0d700e66"><span class="id" title="notation">p</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:702"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#2d097e5690ef6bc9865db9af0d700e66"><span class="id" title="notation">⇓</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:704"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#erases"><span class="id" title="inductive">erases</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#bfe49eb422e154d8c63ce03a94f5df9b"><span class="id" title="variable">Σ</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:704"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.tBox"><span class="id" title="constructor">E.tBox</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#bfe49eb422e154d8c63ce03a94f5df9b"><span class="id" title="variable">Σ</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:702"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">depind</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EArities.html#Is_type_eval_inv"><span class="id" title="lemma">Is_type_eval_inv</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_eval_to_box" class="idref" href="#erase_eval_to_box"><span class="id" title="lemma">erase_eval_to_box</span></a> (<a id="wfl:706" class="idref" href="#wfl:706"><span class="id" title="binder">wfl</span></a> := <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#default_wcbv_flags"><span class="id" title="definition">EWcbvEval.default_wcbv_flags</span></a>)<br/>
&nbsp;&nbsp;{<a id="X_type:707" class="idref" href="#X_type:707"><span class="id" title="binder">X_type</span></a> <a id="X:708" class="idref" href="#X:708"><span class="id" title="binder">X</span></a>} {<a id="univs:709" class="idref" href="#univs:709"><span class="id" title="binder">univs</span></a> <a id="wfext:710" class="idref" href="#wfext:710"><span class="id" title="binder">wfext</span></a> <a id="t:711" class="idref" href="#t:711"><span class="id" title="binder">t</span></a> <a id="v:712" class="idref" href="#v:712"><span class="id" title="binder">v</span></a> <a id="a1fbbbb8ad700926293ea0248c78e71a" class="idref" href="#a1fbbbb8ad700926293ea0248c78e71a"><span class="id" title="binder">Σ'</span></a> <a id="t':714" class="idref" href="#t':714"><span class="id" title="binder">t'</span></a> <a id="deps:715" class="idref" href="#deps:715"><span class="id" title="binder">deps</span></a> <a id="decls:716" class="idref" href="#decls:716"><span class="id" title="binder">decls</span></a> <a id="normalization_in:717" class="idref" href="#normalization_in:717"><span class="id" title="binder">normalization_in</span></a> <a id="prf:718" class="idref" href="#prf:718"><span class="id" title="binder">prf</span></a>}<br/>
&nbsp;&nbsp;(<a id="Xext:719" class="idref" href="#Xext:719"><span class="id" title="binder">Xext</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:708"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:709"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wfext:710"><span class="id" title="variable">wfext</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in':721" class="idref" href="#normalization_in':721"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="5310f29024021524f8a8b0f60b98d64a" class="idref" href="#5310f29024021524f8a8b0f60b98d64a"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#5310f29024021524f8a8b0f60b98d64a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#5310f29024021524f8a8b0f60b98d64a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:719"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#5310f29024021524f8a8b0f60b98d64a"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="wt:723" class="idref" href="#wt:723"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="ccc078d4e60d9c25cfcffcfc2b224f7c" class="idref" href="#ccc078d4e60d9c25cfcffcfc2b224f7c"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:719"><span class="id" title="variable">Xext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ccc078d4e60d9c25cfcffcfc2b224f7c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ccc078d4e60d9c25cfcffcfc2b224f7c"><span class="id" title="variable">Σ</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:711"><span class="id" title="variable">t</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:707"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:719"><span class="id" title="variable">Xext</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:711"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:723"><span class="id" title="variable">wt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':714"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.subset"><span class="id" title="definition">KernameSet.subset</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':714"><span class="id" title="variable">t'</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:715"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:707"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:715"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:708"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:716"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:717"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:718"><span class="id" title="variable">prf</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a1fbbbb8ad700926293ea0248c78e71a"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="d7905cf73d527ee33f5b848b7db5de4a" class="idref" href="#d7905cf73d527ee33f5b848b7db5de4a"><span class="id" title="binder">Σext</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:719"><span class="id" title="variable">Xext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d7905cf73d527ee33f5b848b7db5de4a"><span class="id" title="variable">Σext</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="8cdfe2767895180083d50a4548d47239" class="idref" href="#8cdfe2767895180083d50a4548d47239"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:708"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8cdfe2767895180083d50a4548d47239"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICWcbvEval.html#eval"><span class="id" title="inductive">PCUICWcbvEval.eval</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8cdfe2767895180083d50a4548d47239"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:711"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:712"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">EWcbvEval.eval</span></a> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#default_wcbv_flags"><span class="id" title="definition">EWcbvEval.default_wcbv_flags</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a1fbbbb8ad700926293ea0248c78e71a"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':714"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.tBox"><span class="id" title="constructor">E.tBox</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d7905cf73d527ee33f5b848b7db5de4a"><span class="id" title="variable">Σext</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:711"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_correct"><span class="id" title="lemma">erase_correct</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfext</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">decls</span> <span class="id" title="var">prf</span> <span class="id" title="var">wt</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">X0</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">ev</span> [<span class="id" title="var">eg</span> [<span class="id" title="var">eg'</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval_deterministic"><span class="id" title="lemma">EWcbvEval.eval_deterministic</span></a> <span class="id" title="var">H3</span> <span class="id" title="var">eg'</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="keyword">wf</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">wfext</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="var">wt</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> <span class="id" title="var">wt'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>) <span class="id" title="keyword">as</span> [?].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erasable_tBox_value"><span class="id" title="lemma">erasable_tBox_value</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfext</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">H2</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">X0</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_eval_to_box_eager" class="idref" href="#erase_eval_to_box_eager"><span class="id" title="lemma">erase_eval_to_box_eager</span></a> (<a id="wfl:726" class="idref" href="#wfl:726"><span class="id" title="binder">wfl</span></a> := <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#default_wcbv_flags"><span class="id" title="definition">EWcbvEval.default_wcbv_flags</span></a>)<br/>
&nbsp;&nbsp;{<a id="X_type:727" class="idref" href="#X_type:727"><span class="id" title="binder">X_type</span></a> <a id="X:728" class="idref" href="#X:728"><span class="id" title="binder">X</span></a>} {<a id="univs:729" class="idref" href="#univs:729"><span class="id" title="binder">univs</span></a> <a id="wfext:730" class="idref" href="#wfext:730"><span class="id" title="binder">wfext</span></a> <a id="t:731" class="idref" href="#t:731"><span class="id" title="binder">t</span></a> <a id="v:732" class="idref" href="#v:732"><span class="id" title="binder">v</span></a> <a id="8c493d6d7922340833abc27b5bbd44f4" class="idref" href="#8c493d6d7922340833abc27b5bbd44f4"><span class="id" title="binder">Σ'</span></a> <a id="t':734" class="idref" href="#t':734"><span class="id" title="binder">t'</span></a> <a id="deps:735" class="idref" href="#deps:735"><span class="id" title="binder">deps</span></a> <a id="decls:736" class="idref" href="#decls:736"><span class="id" title="binder">decls</span></a> <a id="normalization_in:737" class="idref" href="#normalization_in:737"><span class="id" title="binder">normalization_in</span></a> <a id="prf:738" class="idref" href="#prf:738"><span class="id" title="binder">prf</span></a>}<br/>
&nbsp;&nbsp;(<a id="Xext:739" class="idref" href="#Xext:739"><span class="id" title="binder">Xext</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:728"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:729"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wfext:730"><span class="id" title="variable">wfext</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in':741" class="idref" href="#normalization_in':741"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="f80422d592db83ec49d473650033120e" class="idref" href="#f80422d592db83ec49d473650033120e"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f80422d592db83ec49d473650033120e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f80422d592db83ec49d473650033120e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:739"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f80422d592db83ec49d473650033120e"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="wt:743" class="idref" href="#wt:743"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="53ea1e73ec7ae29a04711075ff6d214c" class="idref" href="#53ea1e73ec7ae29a04711075ff6d214c"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:739"><span class="id" title="variable">Xext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#53ea1e73ec7ae29a04711075ff6d214c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#53ea1e73ec7ae29a04711075ff6d214c"><span class="id" title="variable">Σ</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:731"><span class="id" title="variable">t</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:727"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:739"><span class="id" title="variable">Xext</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:731"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:743"><span class="id" title="variable">wt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':734"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.subset"><span class="id" title="definition">KernameSet.subset</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':734"><span class="id" title="variable">t'</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:735"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:727"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:735"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:728"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:736"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:737"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:738"><span class="id" title="variable">prf</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8c493d6d7922340833abc27b5bbd44f4"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="7f93225ec2aaf69474ff0a1dd432f0e0" class="idref" href="#7f93225ec2aaf69474ff0a1dd432f0e0"><span class="id" title="binder">Σext</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:739"><span class="id" title="variable">Xext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#7f93225ec2aaf69474ff0a1dd432f0e0"><span class="id" title="variable">Σext</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="cbd25b86907845699760e30adb7501dc" class="idref" href="#cbd25b86907845699760e30adb7501dc"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:728"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cbd25b86907845699760e30adb7501dc"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICWcbvEval.html#eval"><span class="id" title="inductive">PCUICWcbvEval.eval</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cbd25b86907845699760e30adb7501dc"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:731"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:732"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#eval"><span class="id" title="inductive">EWcbvEval.eval</span></a> <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#default_wcbv_flags"><span class="id" title="definition">EWcbvEval.default_wcbv_flags</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8c493d6d7922340833abc27b5bbd44f4"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':734"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.tBox"><span class="id" title="constructor">E.tBox</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':734"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.tBox"><span class="id" title="constructor">E.tBox</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_eval_to_box"><span class="id" title="lemma">erase_eval_to_box</span></a> <span class="id" title="var">wt</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span> <span class="id" title="var">X0</span> <span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">t'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#inspect_bool"><span class="id" title="definition">inspect_bool</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">Xext</span> <span class="id" title="notation">[]</span> <span class="id" title="var">t</span> <span class="id" title="var">wt</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">heq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simp</span> <span class="id" title="var">erase</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">erase</span> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="keyword">wf</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">Xext</span> <span class="id" title="var">_</span> <span class="id" title="notation">[]</span> <span class="id" title="var">t</span> <span class="id" title="var">wt</span>) ⇒ //. <span class="id" title="tactic">apply</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">H2</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*Inductive&nbsp;is_abstraction&nbsp;:&nbsp;EAst.term&nbsp;-&gt;&nbsp;Prop&nbsp;:=<br/>
&nbsp;&nbsp;|&nbsp;is_lam&nbsp;na&nbsp;b&nbsp;:&nbsp;is_abstraction&nbsp;(EAst.tLambda&nbsp;na&nbsp;b)<br/>
&nbsp;&nbsp;|&nbsp;is_fix&nbsp;mfix&nbsp;idx&nbsp;:&nbsp;is_abstraction&nbsp;(EAst.tFix&nbsp;mfix&nbsp;idx).&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="firstorder_evalue" class="idref" href="#firstorder_evalue"><span class="id" title="definition, inductive"><span id="firstorder_evalue_ind" class="id"><span id="firstorder_evalue_sind" class="id">firstorder_evalue</span></span></span></a> <a id="9f6ba21c9106f1cb859cdba70d395066" class="idref" href="#9f6ba21c9106f1cb859cdba70d395066"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="is_fo" class="idref" href="#is_fo"><span class="id" title="constructor">is_fo</span></a> <a id="i:749" class="idref" href="#i:749"><span class="id" title="binder">i</span></a> <a id="n:750" class="idref" href="#n:750"><span class="id" title="binder">n</span></a> <a id="args:751" class="idref" href="#args:751"><span class="id" title="binder">args</span></a> <a id="npars:752" class="idref" href="#npars:752"><span class="id" title="binder">npars</span></a> <a id="nargs:753" class="idref" href="#nargs:753"><span class="id" title="binder">nargs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor_pars_args"><span class="id" title="definition">EGlobalEnv.lookup_constructor_pars_args</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#9f6ba21c9106f1cb859cdba70d395066"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#i:749"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#n:750"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#npars:752"><span class="id" title="variable">npars</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#nargs:753"><span class="id" title="variable">nargs</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#firstorder_evalue:747"><span class="id" title="inductive">firstorder_evalue</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#9f6ba21c9106f1cb859cdba70d395066"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#npars:752"><span class="id" title="variable">npars</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#args:751"><span class="id" title="variable">args</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#args:751"><span class="id" title="variable">args</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#npars:752"><span class="id" title="variable">npars</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#nargs:753"><span class="id" title="variable">nargs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#firstorder_evalue:747"><span class="id" title="inductive">firstorder_evalue</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#9f6ba21c9106f1cb859cdba70d395066"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">EAst.mkApps</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tConstruct"><span class="id" title="constructor">EAst.tConstruct</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#i:749"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#n:750"><span class="id" title="variable">n</span></a> <span class="id" title="notation">[]</span>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#args:751"><span class="id" title="variable">args</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="list_size_skipn" class="idref" href="#list_size_skipn"><span class="id" title="lemma">list_size_skipn</span></a> {<a id="A:754" class="idref" href="#A:754"><span class="id" title="binder">A</span></a>} (<a id="l:755" class="idref" href="#l:755"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#A:754"><span class="id" title="variable">A</span></a>) <a id="size:756" class="idref" href="#size:756"><span class="id" title="binder">size</span></a> <a id="n:757" class="idref" href="#n:757"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#list_size"><span class="id" title="definition">list_size</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#size:756"><span class="id" title="variable">size</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#n:757"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#l:755"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#list_size"><span class="id" title="definition">list_size</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#size:756"><span class="id" title="variable">size</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#l:755"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#skipn_0"><span class="id" title="lemma">skipn_0</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#skipn_nil"><span class="id" title="lemma">skipn_nil</span></a>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#skipn_S"><span class="id" title="lemma">skipn_S</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHn</span> <span class="id" title="var">l</span>); <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="elim" class="idref" href="#elim"><span class="id" title="section">elim</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="ead264e0c06c380ae427f391ac24fd02" class="idref" href="#ead264e0c06c380ae427f391ac24fd02"><span class="id" title="variable">Σ</span></a> : <a class="idref" href="MetaRocq.Erasure.Extract.html#E.global_context"><span class="id" title="abbreviation">E.global_context</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="elim.P" class="idref" href="#elim.P"><span class="id" title="variable">P</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="elim.ih" class="idref" href="#elim.ih"><span class="id" title="variable">ih</span></a> : (<span class="id" title="keyword">∀</span> <a id="i:760" class="idref" href="#i:760"><span class="id" title="binder">i</span></a> <a id="n:761" class="idref" href="#n:761"><span class="id" title="binder">n</span></a> <a id="args:762" class="idref" href="#args:762"><span class="id" title="binder">args</span></a> <a id="npars:763" class="idref" href="#npars:763"><span class="id" title="binder">npars</span></a> <a id="nargs:764" class="idref" href="#nargs:764"><span class="id" title="binder">nargs</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor_pars_args"><span class="id" title="definition">EGlobalEnv.lookup_constructor_pars_args</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ead264e0c06c380ae427f391ac24fd02"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#i:760"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#n:761"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#npars:763"><span class="id" title="variable">npars</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#nargs:764"><span class="id" title="variable">nargs</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#firstorder_evalue"><span class="id" title="inductive">firstorder_evalue</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ead264e0c06c380ae427f391ac24fd02"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#npars:763"><span class="id" title="variable">npars</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#args:762"><span class="id" title="variable">args</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#elim.P"><span class="id" title="variable">P</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#npars:763"><span class="id" title="variable">npars</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#args:762"><span class="id" title="variable">args</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#args:762"><span class="id" title="variable">args</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#npars:763"><span class="id" title="variable">npars</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#nargs:764"><span class="id" title="variable">nargs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#elim.P"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">EAst.mkApps</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tConstruct"><span class="id" title="constructor">EAst.tConstruct</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#i:760"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#n:761"><span class="id" title="variable">n</span></a> <span class="id" title="notation">[]</span>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#args:762"><span class="id" title="variable">args</span></a>))).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span>? <a id="firstorder_evalue_elim" class="idref" href="#firstorder_evalue_elim"><span class="id" title="definition">firstorder_evalue_elim</span></a> (<a id="t:766" class="idref" href="#t:766"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a>) (<a id="fo:767" class="idref" href="#fo:767"><span class="id" title="binder">fo</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#firstorder_evalue"><span class="id" title="inductive">firstorder_evalue</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ead264e0c06c380ae427f391ac24fd02"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:766"><span class="id" title="variable">t</span></a>) : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#elim.P"><span class="id" title="variable">P</span></a> <span class="id" title="var">t</span> <span class="id" title="tactic">by</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">t</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Program.Wf.html#MR"><span class="id" title="definition">MR</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#lt"><span class="id" title="definition">lt</span></a> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">EInduction.size</span></a>) :=<br/>
&nbsp;&nbsp;{ | <span class="id" title="var">_</span>, <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#is_fo"><span class="id" title="constructor">is_fo</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#i:781"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#n:782"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#args:777"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#npars:784"><span class="id" title="variable">npars</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#nargs:783"><span class="id" title="variable">nargs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#hl:780"><span class="id" title="variable">hl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#hf:779"><span class="id" title="variable">hf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#hargs:778"><span class="id" title="variable">hargs</span></a> ⇒ <span class="id" title="var">_</span> }.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#elim.ih"><span class="id" title="variable">ih</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#In_Forall"><span class="id" title="lemma">In_Forall</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#Forall_In"><span class="id" title="lemma">PCUICWfUniverses.Forall_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hf</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">firstorder_evalue_elim</span> ⇒ //. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size_mkApps"><span class="id" title="lemma">EInduction.size_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#In_size"><span class="id" title="lemma">In_size</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">EInduction.size</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#list_size_skipn"><span class="id" title="lemma">list_size_skipn</span></a> <span class="id" title="var">args</span> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">EInduction.size</span></a> <span class="id" title="var">npars</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="keyword">fun</span> <a id="x:786" class="idref" href="#x:786"><span class="id" title="binder"><span id="x:787" class="id">x</span></span></a> ⇒ <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">EInduction.size</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#x:786"><span class="id" title="variable">x</span></a>) <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.Erasure.EInduction.html#size"><span class="id" title="definition">EInduction.size</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">hin</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Nat.lt_le_trans</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#elim"><span class="id" title="section">elim</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="welltyped_mkApps_inv" class="idref" href="#welltyped_mkApps_inv"><span class="id" title="lemma">welltyped_mkApps_inv</span></a> {<a id="cf:788" class="idref" href="#cf:788"><span class="id" title="binder">cf</span></a>} {<a id="a071cc8ab3a99ddc3d97a59bd718dbaa" class="idref" href="#a071cc8ab3a99ddc3d97a59bd718dbaa"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} <a id="72f3abde5275003ac46e9cac489b6863" class="idref" href="#72f3abde5275003ac46e9cac489b6863"><span class="id" title="binder">Γ</span></a> <a id="f:791" class="idref" href="#f:791"><span class="id" title="binder">f</span></a> <a id="args:792" class="idref" href="#args:792"><span class="id" title="binder">args</span></a> :  <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a071cc8ab3a99ddc3d97a59bd718dbaa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a071cc8ab3a99ddc3d97a59bd718dbaa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#72f3abde5275003ac46e9cac489b6863"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f:791"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#args:792"><span class="id" title="variable">args</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a071cc8ab3a99ddc3d97a59bd718dbaa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#72f3abde5275003ac46e9cac489b6863"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f:791"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a071cc8ab3a99ddc3d97a59bd718dbaa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#72f3abde5275003ac46e9cac489b6863"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#args:792"><span class="id" title="variable">args</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> (<span class="id" title="var">A</span> &amp; <span class="id" title="var">HA</span>). <span class="id" title="var">sq</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICValidity.html#inversion_mkApps"><span class="id" title="lemma">inversion_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HA</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span> |- *; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.PCUIC.PCUICProgress.html#"><span class="id" title="library">PCUICProgress</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="firstorder_erases_deterministic" class="idref" href="#firstorder_erases_deterministic"><span class="id" title="lemma">firstorder_erases_deterministic</span></a> <a id="X_type:793" class="idref" href="#X_type:793"><span class="id" title="binder">X_type</span></a> (<a id="X:794" class="idref" href="#X:794"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:793"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>)<br/>
&nbsp;&nbsp;<a id="univs:795" class="idref" href="#univs:795"><span class="id" title="binder">univs</span></a> <a id="wfext:796" class="idref" href="#wfext:796"><span class="id" title="binder">wfext</span></a> {<a id="v:797" class="idref" href="#v:797"><span class="id" title="binder">v</span></a> <a id="t':798" class="idref" href="#t':798"><span class="id" title="binder">t'</span></a> <a id="i:799" class="idref" href="#i:799"><span class="id" title="binder">i</span></a> <a id="u:800" class="idref" href="#u:800"><span class="id" title="binder">u</span></a> <a id="args:801" class="idref" href="#args:801"><span class="id" title="binder">args</span></a>}<br/>
&nbsp;&nbsp;(<a id="Xext:802" class="idref" href="#Xext:802"><span class="id" title="binder">Xext</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:794"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:795"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wfext:796"><span class="id" title="variable">wfext</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in:804" class="idref" href="#normalization_in:804"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="30c945f4ed18e358cbb1f311a5c1b071" class="idref" href="#30c945f4ed18e358cbb1f311a5c1b071"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#30c945f4ed18e358cbb1f311a5c1b071"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#30c945f4ed18e358cbb1f311a5c1b071"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:802"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#30c945f4ed18e358cbb1f311a5c1b071"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="wv:806" class="idref" href="#wv:806"><span class="id" title="binder">wv</span></a> : (<span class="id" title="keyword">∀</span> <a id="d8ceb5d8ecf82f4f4b8396ade17a08c8" class="idref" href="#d8ceb5d8ecf82f4f4b8396ade17a08c8"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d8ceb5d8ecf82f4f4b8396ade17a08c8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:802"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d8ceb5d8ecf82f4f4b8396ade17a08c8"><span class="id" title="variable">Σ</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:797"><span class="id" title="variable">v</span></a>),<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="11b7a8c29e1c6c50078d7ea69919deb4" class="idref" href="#11b7a8c29e1c6c50078d7ea69919deb4"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#11b7a8c29e1c6c50078d7ea69919deb4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:802"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#11b7a8c29e1c6c50078d7ea69919deb4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:797"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#i:799"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#u:800"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#args:801"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#11b7a8c29e1c6c50078d7ea69919deb4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#2d097e5690ef6bc9865db9af0d700e66"><span class="id" title="notation">|-</span></a><a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#2d097e5690ef6bc9865db9af0d700e66"><span class="id" title="notation">p</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:797"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#2d097e5690ef6bc9865db9af0d700e66"><span class="id" title="notation">⇓</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:797"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.PCUIC.PCUICFirstorder.html#firstorder_ind"><span class="id" title="definition">firstorder_ind</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#11b7a8c29e1c6c50078d7ea69919deb4"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICFirstorder.html#firstorder_env"><span class="id" title="definition">firstorder_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#11b7a8c29e1c6c50078d7ea69919deb4"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#i:799"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#erases"><span class="id" title="inductive">erases</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#11b7a8c29e1c6c50078d7ea69919deb4"><span class="id" title="variable">Σ</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:797"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':798"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':798"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:793"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:802"><span class="id" title="variable">Xext</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:804"><span class="id" title="variable">normalization_in</span></a>) <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:797"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wv:806"><span class="id" title="variable">wv</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wv</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Hrel</span> <span class="id" title="var">Hty</span> <span class="id" title="var">Hvalue</span> <span class="id" title="var">Hfo</span> <span class="id" title="var">Herase</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICFirstorder.html#firstorder_lookup_inv"><span class="id" title="lemma">firstorder_lookup_inv</span></a> <span class="id" title="var">Hfo</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">mind</span> <span class="id" title="var">Hdecl</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hext</span> : <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <span class="id" title="var">Σ</span><a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e13e9e4849f1b26670f1b852ea178571"><span class="id" title="definition">ErasureFunction.heΣ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICFirstorder.html#firstorder_value_spec"><span class="id" title="lemma">firstorder_value_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hty</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hfov</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">Hrel</span> <span class="id" title="var">Hext</span> <span class="id" title="var">Hfov</span> <span class="id" title="var">Herase</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">t'</span> <span class="id" title="var">wv</span> <span class="id" title="var">Herase</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pattern</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">v</span> <span class="id" title="var">Hfov</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICFirstorder.html#firstorder_value_inds"><span class="id" title="lemma">firstorder_value_inds</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_mkApps"><span class="id" title="lemma">erase_mkApps</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Σ0</span> <span class="id" title="var">HΣ0</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">HΣ0</span> <span class="id" title="var">Hrel</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICValidity.html#inversion_mkApps"><span class="id" title="lemma">PCUICValidity.inversion_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span> <span class="id" title="keyword">as</span> (? &amp; <span class="id" title="var">XX</span> &amp; <span class="id" title="var">Happ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">XX</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Happ</span>. <span class="id" title="tactic">clear</span>. <span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <span class="id" title="var">i</span> <span class="id" title="var">u</span>) <span class="id" title="var">pandi</span>). <span class="id" title="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHHapp</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureProperties.html#erases_mkApps_inv"><span class="id" title="lemma">erases_mkApps_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Herase</span> <span class="id" title="keyword">as</span> [(? &amp; ? &amp; ? &amp; → &amp; [<span class="id" title="var">Herasable</span>] &amp; ? &amp; ? &amp; -&gt;)|(? &amp; ? &amp; → &amp; ? &amp; ?)]. <span class="id" title="var">all</span>:<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EArities.html#isErasable_Propositional"><span class="id" title="lemma">isErasable_Propositional</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Herasable</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Herasable</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_clause_1"><span class="id" title="definition">erase_clause_1</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#inspect_bool"><span class="id" title="definition">inspect_bool</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">Xext</span> <span class="id" title="notation">[]</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">ui</span>) <span class="id" title="var">Hyp0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">exfalso</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">destruct</span> (@<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="notation">[]</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">ui</span>) <span class="id" title="var">Hyp0</span>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">Hrel</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EArities.html#isErasable_Propositional"><span class="id" title="lemma">isErasable_Propositional</span></a> (<span class="id" title="var">args</span> := <span class="id" title="notation">[]</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">s</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall2_eq"><span class="id" title="lemma">Forall2_eq</span></a>. <span class="id" title="tactic">clear</span> <span class="id" title="var">X0</span> <span class="id" title="var">H</span> <span class="id" title="var">wv</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHForall2</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EArities.html#isErasable_Propositional"><span class="id" title="lemma">isErasable_Propositional</span></a> (<span class="id" title="var">args</span> := <span class="id" title="notation">[]</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">X1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ? ? <span class="id" title="var">H3</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hext_</span> : <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <span class="id" title="var">Σ0</span><a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e13e9e4849f1b26670f1b852ea178571"><span class="id" title="definition">ErasureFunction.heΣ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EArities.html#isErasable_Propositional"><span class="id" title="lemma">isErasable_Propositional</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H2</span> <span class="id" title="var">Hrel</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hext__</span> : <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <span class="id" title="var">Σ0</span><a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e13e9e4849f1b26670f1b852ea178571"><span class="id" title="definition">ErasureFunction.heΣ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#welltyped_mkApps_inv"><span class="id" title="lemma">welltyped_mkApps_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wv</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">wv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWcbvEval.html#eval_to_value"><span class="id" title="lemma">PCUICWcbvEval.eval_to_value</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="firstorder_evalue_extends" class="idref" href="#firstorder_evalue_extends"><span class="id" title="lemma">firstorder_evalue_extends</span></a> <a id="b812137487fe7d456953f274ab21fe21" class="idref" href="#b812137487fe7d456953f274ab21fe21"><span class="id" title="binder">Σ</span></a> <a id="e7bebc9e01df44c503a90f026b85be0d" class="idref" href="#e7bebc9e01df44c503a90f026b85be0d"><span class="id" title="binder">Σ'</span></a> <a id="t:810" class="idref" href="#t:810"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#extends"><span class="id" title="definition">extends</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#b812137487fe7d456953f274ab21fe21"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#e7bebc9e01df44c503a90f026b85be0d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#firstorder_evalue"><span class="id" title="inductive">firstorder_evalue</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#b812137487fe7d456953f274ab21fe21"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:810"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#firstorder_evalue"><span class="id" title="inductive">firstorder_evalue</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#e7bebc9e01df44c503a90f026b85be0d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:810"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ext</span>; <span class="id" title="tactic">move</span>: <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#firstorder_evalue_elim"><span class="id" title="definition">firstorder_evalue_elim</span></a> ⇒ <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">args</span> <span class="id" title="var">npars</span> <span class="id" title="var">nargs</span> <span class="id" title="var">hl</span> <span class="id" title="var">hf</span> <span class="id" title="var">hargs</span> <span class="id" title="var">ih</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ext</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">hl</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor_pars_args"><span class="id" title="definition">lookup_constructor_pars_args</span></a> /<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor"><span class="id" title="definition">lookup_constructor</span></a> /<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a> /<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_minductive"><span class="id" title="definition">lookup_minductive</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">ext</span> (<a class="idref" href="MetaRocq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">case</span>: <a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">lookup_env</span></a> ⇒ // <span class="id" title="var">a</span>; <span class="id" title="tactic">move</span>/(<span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>) →.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="In_map_All" class="idref" href="#In_map_All"><span class="id" title="lemma">In_map_All</span></a> {<a id="A:811" class="idref" href="#A:811"><span class="id" title="binder">A</span></a> <a id="B:812" class="idref" href="#B:812"><span class="id" title="binder">B</span></a> <a id="C:813" class="idref" href="#C:813"><span class="id" title="binder">C</span></a> : <span class="id" title="keyword">Type</span>} {<a id="Q:814" class="idref" href="#Q:814"><span class="id" title="binder">Q</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#C:813"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>} {<a id="P:815" class="idref" href="#P:815"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#C:813"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#A:811"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>}<br/>
&nbsp;&nbsp;(<a id="fn:818" class="idref" href="#fn:818"><span class="id" title="binder">fn</span></a> : <span class="id" title="keyword">∀</span> <a id="x:816" class="idref" href="#x:816"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#A:811"><span class="id" title="variable">A</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="y:817" class="idref" href="#y:817"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#C:813"><span class="id" title="variable">C</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Q:814"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#y:817"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#P:815"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#y:817"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#x:816"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#B:812"><span class="id" title="variable">B</span></a>) (<a id="l:819" class="idref" href="#l:819"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#A:811"><span class="id" title="variable">A</span></a>) (<a id="Hl:821" class="idref" href="#Hl:821"><span class="id" title="binder">Hl</span></a> : <span class="id" title="keyword">∀</span> <a id="y:820" class="idref" href="#y:820"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#C:813"><span class="id" title="variable">C</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Q:814"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#y:820"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#P:815"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#y:820"><span class="id" title="variable">y</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#l:819"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:822" class="idref" href="#x:822"><span class="id" title="binder">x</span></a>, <span class="id" title="definition">In</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#x:822"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#l:819"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="D:824" class="idref" href="#D:824"><span class="id" title="binder">D</span></a> : <span class="id" title="keyword">∀</span> <a id="y:823" class="idref" href="#y:823"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#C:813"><span class="id" title="variable">C</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Q:814"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#y:823"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#P:815"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#y:823"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#x:822"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">In</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fn:818"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#x:822"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#D:824"><span class="id" title="variable">D</span></a>) (<a class="idref" href="MetaRocq.Utils.All_Forall.html#map_All"><span class="id" title="definition">All_Forall.map_All</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fn:818"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#l:819"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Hl:821"><span class="id" title="variable">Hl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> [].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHl</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#map_All_obligation_2"><span class="id" title="definition">map_All_obligation_2</span></a> <span class="id" title="var">a</span> <span class="id" title="var">l</span> <span class="id" title="var">Hl</span>) <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="In_term_global_deps" class="idref" href="#In_term_global_deps"><span class="id" title="lemma">In_term_global_deps</span></a> <a id="t:825" class="idref" href="#t:825"><span class="id" title="binder">t</span></a> <a id="l:826" class="idref" href="#l:826"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="definition">In</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:825"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#l:826"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="kn:827" class="idref" href="#kn:827"><span class="id" title="binder">kn</span></a>, <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:827"><span class="id" title="variable">kn</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:825"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:827"><span class="id" title="variable">kn</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#terms_global_deps"><span class="id" title="abbreviation">terms_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#l:826"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">hin</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHl</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">t</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_correct_strong'" class="idref" href="#erase_correct_strong'"><span class="id" title="lemma">erase_correct_strong'</span></a> (<a id="wfl:828" class="idref" href="#wfl:828"><span class="id" title="binder">wfl</span></a> := <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#default_wcbv_flags"><span class="id" title="definition">EWcbvEval.default_wcbv_flags</span></a>) <a id="X_type:829" class="idref" href="#X_type:829"><span class="id" title="binder">X_type</span></a> (<a id="X:830" class="idref" href="#X:830"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:829"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>)<br/>
&nbsp;&nbsp;<a id="univs:831" class="idref" href="#univs:831"><span class="id" title="binder">univs</span></a> <a id="wfext:832" class="idref" href="#wfext:832"><span class="id" title="binder">wfext</span></a> {<a id="t:833" class="idref" href="#t:833"><span class="id" title="binder">t</span></a> <a id="v:834" class="idref" href="#v:834"><span class="id" title="binder">v</span></a> <a id="de42c7496a97b23e52dd47875a56395c" class="idref" href="#de42c7496a97b23e52dd47875a56395c"><span class="id" title="binder">Σ'</span></a> <a id="t':836" class="idref" href="#t':836"><span class="id" title="binder">t'</span></a> <a id="i:837" class="idref" href="#i:837"><span class="id" title="binder">i</span></a> <a id="u:838" class="idref" href="#u:838"><span class="id" title="binder">u</span></a> <a id="args:839" class="idref" href="#args:839"><span class="id" title="binder">args</span></a>} <a id="decls:840" class="idref" href="#decls:840"><span class="id" title="binder">decls</span></a> <a id="normalization_in:841" class="idref" href="#normalization_in:841"><span class="id" title="binder">normalization_in</span></a> <a id="prf:842" class="idref" href="#prf:842"><span class="id" title="binder">prf</span></a><br/>
&nbsp;&nbsp;(<a id="Xext:843" class="idref" href="#Xext:843"><span class="id" title="binder">Xext</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:830"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:831"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wfext:832"><span class="id" title="variable">wfext</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in':845" class="idref" href="#normalization_in':845"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="88b73ca4d7aa1d8c63c44b91d7caad78" class="idref" href="#88b73ca4d7aa1d8c63c44b91d7caad78"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#88b73ca4d7aa1d8c63c44b91d7caad78"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#88b73ca4d7aa1d8c63c44b91d7caad78"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:843"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#88b73ca4d7aa1d8c63c44b91d7caad78"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="wt:847" class="idref" href="#wt:847"><span class="id" title="binder">wt</span></a> : (<span class="id" title="keyword">∀</span> <a id="43b49d23c39d6d9ecc52d277e46012d4" class="idref" href="#43b49d23c39d6d9ecc52d277e46012d4"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#43b49d23c39d6d9ecc52d277e46012d4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:843"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#43b49d23c39d6d9ecc52d277e46012d4"><span class="id" title="variable">Σ</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:833"><span class="id" title="variable">t</span></a>),<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="757133aa5ac7bc8c37ec332b56f644d1" class="idref" href="#757133aa5ac7bc8c37ec332b56f644d1"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:843"><span class="id" title="variable">Xext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#757133aa5ac7bc8c37ec332b56f644d1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#axiom_free"><span class="id" title="definition">axiom_free</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#757133aa5ac7bc8c37ec332b56f644d1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#757133aa5ac7bc8c37ec332b56f644d1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:833"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#i:837"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#u:838"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#args:839"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.PCUIC.PCUICFirstorder.html#firstorder_ind"><span class="id" title="definition">firstorder_ind</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#757133aa5ac7bc8c37ec332b56f644d1"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICFirstorder.html#firstorder_env"><span class="id" title="definition">firstorder_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#757133aa5ac7bc8c37ec332b56f644d1"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#i:837"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:829"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:843"><span class="id" title="variable">Xext</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:833"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:847"><span class="id" title="variable">wt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':836"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:829"><span class="id" title="variable">X_type</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':836"><span class="id" title="variable">t'</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:830"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:840"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:841"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:842"><span class="id" title="variable">prf</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#de42c7496a97b23e52dd47875a56395c"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red"><span class="id" title="definition">red</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#757133aa5ac7bc8c37ec332b56f644d1"><span class="id" title="variable">Σ</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:833"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:834"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICProgress.html#89335bb7773696a226bf41e8343e6c3f"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">{</span></a> <a id="t':849" class="idref" href="#t':849"><span class="id" title="binder">t'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#757133aa5ac7bc8c37ec332b56f644d1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#8a75a4cbf6fd0563060c50337a6614e9"><span class="id" title="notation">;;;</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#8a75a4cbf6fd0563060c50337a6614e9"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:834"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#8a75a4cbf6fd0563060c50337a6614e9"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':849"><span class="id" title="variable">t'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="wt':850" class="idref" href="#wt':850"><span class="id" title="binder">wt'</span></a>, <span class="id" title="keyword">let</span> <a id="ev:851" class="idref" href="#ev:851"><span class="id" title="binder">ev</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:829"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:843"><span class="id" title="variable">Xext</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:834"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt':850"><span class="id" title="variable">wt'</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#de42c7496a97b23e52dd47875a56395c"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#3959a00793ec04b4dc50ed24aec9b5cc"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':836"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#3959a00793ec04b4dc50ed24aec9b5cc"><span class="id" title="notation">⇓</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ev:851"><span class="id" title="variable">ev</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#firstorder_evalue"><span class="id" title="inductive">firstorder_evalue</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#de42c7496a97b23e52dd47875a56395c"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ev:851"><span class="id" title="variable">ev</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wt</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Hrel</span> <span class="id" title="var">Hax</span> <span class="id" title="var">Hty</span> <span class="id" title="var">Hfo</span> &lt;- &lt;- <span class="id" title="var">Hred</span> <span class="id" title="var">Hirred</span> <span class="id" title="var">wt'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICFirstorder.html#firstorder_lookup_inv"><span class="id" title="lemma">firstorder_lookup_inv</span></a> <span class="id" title="var">Hfo</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">mind</span> <span class="id" title="var">Hdecl</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σg</span> <span class="id" title="var">Hg</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hrel</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e13e9e4849f1b26670f1b852ea178571"><span class="id" title="definition">ErasureFunction.heΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hrel</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hwf</span>]. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICNormalization.html#wcbv_standardization_fst"><span class="id" title="lemma">wcbv_standardization_fst</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hty</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_correct"><span class="id" title="lemma">erase_correct</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfext</span> <span class="id" title="var">t</span> <span class="id" title="var">v</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v'</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.subset_spec"><span class="id" title="lemma">KernameSet.subset_spec</span></a>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;1:{ <span class="id" title="tactic">intros</span> ? <span class="id" title="var">H_</span>. <span class="id" title="var">sq</span>. <span class="id" title="var">enough</span> (<span class="id" title="var">Σ</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">Σg</span>) <span class="id" title="keyword">as</span> → <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H_</span> <span class="id" title="var">Hrel</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#firstorder_erases_deterministic"><span class="id" title="lemma">firstorder_erases_deterministic</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="var">sq</span>; <span class="id" title="var">tea</span>|]. <span class="id" title="tactic">rewrite</span> → <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICFirstorder.html#firstorder_value"><span class="id" title="inductive">PCUICFirstorder.firstorder_value</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">univs</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">[]</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> (<span class="id" title="var">wfext</span> <span class="id" title="var">Σg</span> <span class="id" title="var">Hg</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICFirstorder.html#firstorder_value_spec"><span class="id" title="lemma">PCUICFirstorder.firstorder_value_spec</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICClassification.html#subject_reduction_eval"><span class="id" title="lemma">PCUICClassification.subject_reduction_eval</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWcbvEval.html#eval_to_value"><span class="id" title="lemma">PCUICWcbvEval.eval_to_value</span></a>; <span class="id" title="var">tea</span>. }<br/>
&nbsp;&nbsp;2:{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSR.html#subject_reduction"><span class="id" title="lemma">subject_reduction</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_deps_eval"><span class="id" title="lemma">erase_global_deps_eval</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#firstorder_evalue_extends"><span class="id" title="lemma">firstorder_evalue_extends</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Hrel</span> <span class="id" title="var">H</span> <span class="id" title="var">Hg</span> <span class="id" title="var">Hwf</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">v</span> <span class="id" title="var">H</span> <span class="id" title="var">wt'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaRocq.PCUIC.PCUICFirstorder.html#firstorder_value_inds"><span class="id" title="lemma">PCUICFirstorder.firstorder_value_inds</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">ui</span> <span class="id" title="var">u</span> <span class="id" title="var">args</span> <span class="id" title="var">pandi</span> <span class="id" title="var">hty</span> <span class="id" title="var">hf</span> <span class="id" title="var">ih</span> <span class="id" title="var">isp</span> <span class="id" title="var">wt'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_mkApps"><span class="id" title="lemma">erase_mkApps</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> ? <span class="id" title="var">h</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">wt'</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#welltyped_mkApps_inv"><span class="id" title="lemma">welltyped_mkApps_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt'</span> <span class="id" title="keyword">as</span> [? ?] ⇒ //. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">sq</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_All"><span class="id" title="lemma">Forall_All</span></a>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">h</span>). <span class="id" title="var">now</span> <span class="id" title="var">sq</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">hΣ</span> [<span class="id" title="var">ise</span>]. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hrel</span> <span class="id" title="var">hΣ</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EArities.html#isErasable_Propositional"><span class="id" title="lemma">isErasable_Propositional</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ise</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isp</span>, <span class="id" title="var">ise</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ise</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isp</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">hΣ</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hrel</span> <span class="id" title="var">hΣ</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#iswelltyped"><span class="id" title="constructor">iswelltyped</span></a> <span class="id" title="var">hty</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#welltyped_mkApps_inv"><span class="id" title="lemma">welltyped_mkApps_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">simp</span> <span class="id" title="var">erase</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#inspect_bool"><span class="id" title="definition">inspect_bool</span></a>; <span class="id" title="var">simp</span> <span class="id" title="var">erase</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a>: <span class="id" title="var">i0</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">hc</span> <span class="id" title="var">_</span> <span class="id" title="var">Hrel</span>). <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EArities.html#isErasable_Propositional"><span class="id" title="lemma">isErasable_Propositional</span></a> (<span class="id" title="var">args</span>:=<span class="id" title="notation">[]</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span> ⇒ //. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>, <span class="id" title="var">isp</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">X0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isp</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInductiveInversion.html#Construct_Ind_ind_eq'"><span class="id" title="lemma">PCUICInductiveInversion.Construct_Ind_ind_eq'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hty</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">mdecl</span> [<span class="id" title="var">idecl</span> [<span class="id" title="var">cdecl</span> [<span class="id" title="var">declc</span> [<span class="id" title="var">hcstr</span> <span class="id" title="var">_</span>]]]]] ⇒ //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hcstr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">hcstr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">v</span> := <a class="idref" href="MetaRocq.Erasure.Extract.html#E.mkApps"><span class="id" title="definition">E.mkApps</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">declc</span> <span class="id" title="keyword">as</span> <span class="id" title="var">declc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_declared_constructor"><span class="id" title="lemma">erase_global_declared_constructor</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <span class="id" title="var">v</span>) <span class="id" title="var">decls</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">Hg</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">declc</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">hm</span> <span class="id" title="var">hi</span>] <span class="id" title="var">hc</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">v</span> /= <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_mkApps"><span class="id" title="lemma">term_global_deps_mkApps</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span> ⇒ /=. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>; <span class="id" title="tactic">left</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hwf</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor_pars_args"><span class="id" title="definition">lookup_constructor_pars_args</span></a> /<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor"><span class="id" title="definition">lookup_constructor</span></a> /<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a> /<a class="idref" href="MetaRocq.Erasure.EGlobalEnv.html#lookup_minductive"><span class="id" title="definition">lookup_minductive</span></a> <span class="id" title="var">hm</span> /= <span class="id" title="var">hi</span> //= <span class="id" title="var">hc</span> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_skipn"><span class="id" title="lemma">Forall_skipn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">ih</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hrel</span> <span class="id" title="var">isp</span> <span class="id" title="var">hcstr</span> <span class="id" title="var">declc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">revert</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_terms_eq"><span class="id" title="lemma">erase_terms_eq</span></a> ⇒ <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_All"><span class="id" title="lemma">Forall_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ih</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="t:852" class="idref" href="#t:852"><span class="id" title="binder"><span id="t:855" class="id">t</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="wt':854" class="idref" href="#wt':854"><span class="id" title="binder"><span id="wt':857" class="id">wt'</span></span></a> : <span class="id" title="keyword">∀</span> <a id="ad0e0d76ffcec7e69528fa19457e6325" class="idref" href="#ad0e0d76ffcec7e69528fa19457e6325"><span class="id" title="binder"><span id="6c6f656e83a5f47ee4ddce274d9e3194" class="id">Σ</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ad0e0d76ffcec7e69528fa19457e6325"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <span class="id" title="var">Xext</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ad0e0d76ffcec7e69528fa19457e6325"><span class="id" title="variable">Σ</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:852"><span class="id" title="variable">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#firstorder_evalue"><span class="id" title="inductive">firstorder_evalue</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <span class="id" title="var">X_type</span> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <span class="id" title="var">v</span>) <span class="id" title="var">X</span> <span class="id" title="var">decls</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">normalization_in</span> <span class="id" title="var">prf</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">Xext</span> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:852"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt':854"><span class="id" title="variable">wt'</span></a>)) <span class="id" title="var">args</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#In_All"><span class="id" title="lemma">In_All</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">hin</span> <span class="id" title="var">wt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_In"><span class="id" title="lemma">All_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ih</span>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ih</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ih</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">ih</span> <span class="id" title="var">wt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#firstorder_evalue_extends"><span class="id" title="lemma">firstorder_evalue_extends</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#lookup_erase_global"><span class="id" title="lemma">lookup_erase_global</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#term_global_deps_mkApps"><span class="id" title="lemma">term_global_deps_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">hin'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#In_map_All"><span class="id" title="lemma">In_map_All</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">X_type</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfext</span>) <span class="id" title="notation">[]</span>) <span class="id" title="var">_</span> <span class="id" title="var">Hyp1</span> <span class="id" title="var">_</span> <span class="id" title="var">hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#In_term_global_deps"><span class="id" title="lemma">In_term_global_deps</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a>; <span class="id" title="var">tea</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_Forall"><span class="id" title="lemma">All_Forall</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_map_All"><span class="id" title="lemma">All_map_All</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">X0</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">rx</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">Hrel</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_terms_eq"><span class="id" title="lemma">erase_terms_eq</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#map_All_length"><span class="id" title="lemma">map_All_length</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">wt'</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">declc'</span> <span class="id" title="var">Hrel</span> <span class="id" title="var">hcstr</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">wt'</span> <span class="id" title="var">_</span> <span class="id" title="var">Hrel</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#declared_constructor_arity"><span class="id" title="lemma">declared_constructor_arity</span></a> <span class="id" title="var">declc'</span>). }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWcbvEval.html#value_final"><span class="id" title="lemma">PCUICWcbvEval.value_final</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWcbvEval.html#eval_to_value"><span class="id" title="lemma">PCUICWcbvEval.eval_to_value</span></a>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_correct_strong" class="idref" href="#erase_correct_strong"><span class="id" title="lemma">erase_correct_strong</span></a> (<a id="wfl:858" class="idref" href="#wfl:858"><span class="id" title="binder">wfl</span></a> := <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#default_wcbv_flags"><span class="id" title="definition">EWcbvEval.default_wcbv_flags</span></a>) <a id="X_type:859" class="idref" href="#X_type:859"><span class="id" title="binder">X_type</span></a> (<a id="X:860" class="idref" href="#X:860"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:859"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>)<br/>
&nbsp;&nbsp;<a id="univs:861" class="idref" href="#univs:861"><span class="id" title="binder">univs</span></a> <a id="wfext:862" class="idref" href="#wfext:862"><span class="id" title="binder">wfext</span></a> {<a id="t:863" class="idref" href="#t:863"><span class="id" title="binder">t</span></a> <a id="v:864" class="idref" href="#v:864"><span class="id" title="binder">v</span></a> <a id="i:865" class="idref" href="#i:865"><span class="id" title="binder">i</span></a> <a id="u:866" class="idref" href="#u:866"><span class="id" title="binder">u</span></a> <a id="args:867" class="idref" href="#args:867"><span class="id" title="binder">args</span></a>} <a id="decls:868" class="idref" href="#decls:868"><span class="id" title="binder">decls</span></a> <a id="normalization_in:869" class="idref" href="#normalization_in:869"><span class="id" title="binder">normalization_in</span></a> <a id="prf:870" class="idref" href="#prf:870"><span class="id" title="binder">prf</span></a><br/>
&nbsp;&nbsp;(<a id="Xext:871" class="idref" href="#Xext:871"><span class="id" title="binder">Xext</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:860"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:861"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wfext:862"><span class="id" title="variable">wfext</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in':873" class="idref" href="#normalization_in':873"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="6dd8305da2cf6a4a749766a2243bf631" class="idref" href="#6dd8305da2cf6a4a749766a2243bf631"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#6dd8305da2cf6a4a749766a2243bf631"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#6dd8305da2cf6a4a749766a2243bf631"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:871"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#6dd8305da2cf6a4a749766a2243bf631"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> <a id="wt:875" class="idref" href="#wt:875"><span class="id" title="binder">wt</span></a> : (<span class="id" title="keyword">∀</span> <a id="d0dba4932c3a0567d7790bfc9dc6c34e" class="idref" href="#d0dba4932c3a0567d7790bfc9dc6c34e"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d0dba4932c3a0567d7790bfc9dc6c34e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:871"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d0dba4932c3a0567d7790bfc9dc6c34e"><span class="id" title="variable">Σ</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:863"><span class="id" title="variable">t</span></a>),<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="ba0d61fd2561b72eacbbabf86c417aac" class="idref" href="#ba0d61fd2561b72eacbbabf86c417aac"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:871"><span class="id" title="variable">Xext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ba0d61fd2561b72eacbbabf86c417aac"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#axiom_free"><span class="id" title="definition">axiom_free</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ba0d61fd2561b72eacbbabf86c417aac"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ba0d61fd2561b72eacbbabf86c417aac"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:863"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#i:865"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#u:866"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#args:867"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t':877" class="idref" href="#t':877"><span class="id" title="binder">t'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:859"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:871"><span class="id" title="variable">Xext</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:863"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:875"><span class="id" title="variable">wt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="1c540a21bfd7c49b30b4440126cf6e5b" class="idref" href="#1c540a21bfd7c49b30b4440126cf6e5b"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:859"><span class="id" title="variable">X_type</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':877"><span class="id" title="variable">t'</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:860"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:868"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:869"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:870"><span class="id" title="variable">prf</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.PCUIC.PCUICFirstorder.html#firstorder_ind"><span class="id" title="definition">firstorder_ind</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ba0d61fd2561b72eacbbabf86c417aac"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICFirstorder.html#firstorder_env"><span class="id" title="definition">firstorder_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ba0d61fd2561b72eacbbabf86c417aac"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#i:865"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red"><span class="id" title="definition">red</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ba0d61fd2561b72eacbbabf86c417aac"><span class="id" title="variable">Σ</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:863"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:864"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICProgress.html#89335bb7773696a226bf41e8343e6c3f"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">{</span></a> <a id="v':879" class="idref" href="#v':879"><span class="id" title="binder">v'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ba0d61fd2561b72eacbbabf86c417aac"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#8a75a4cbf6fd0563060c50337a6614e9"><span class="id" title="notation">;;;</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#8a75a4cbf6fd0563060c50337a6614e9"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:864"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#8a75a4cbf6fd0563060c50337a6614e9"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v':879"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="wt':880" class="idref" href="#wt':880"><span class="id" title="binder">wt'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">let</span> <a id="et':881" class="idref" href="#et':881"><span class="id" title="binder">et'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:859"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:871"><span class="id" title="variable">Xext</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:864"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt':880"><span class="id" title="variable">wt'</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#1c540a21bfd7c49b30b4440126cf6e5b"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#3959a00793ec04b4dc50ed24aec9b5cc"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':877"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#3959a00793ec04b4dc50ed24aec9b5cc"><span class="id" title="notation">⇓</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:859"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:871"><span class="id" title="variable">Xext</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:864"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt':880"><span class="id" title="variable">wt'</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#firstorder_evalue"><span class="id" title="inductive">firstorder_evalue</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#1c540a21bfd7c49b30b4440126cf6e5b"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#et':881"><span class="id" title="variable">et'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wt</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Hrel</span> <span class="id" title="var">Hax</span> <span class="id" title="var">Hty</span> <span class="id" title="var">Hdecl</span> <span class="id" title="var">Hfo</span> <span class="id" title="var">Hsub</span> <span class="id" title="var">Hred</span> <span class="id" title="var">Hirred</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">abstract</span> (<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ_</span> <span class="id" title="var">H_</span>; <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#e13e9e4849f1b26670f1b852ea178571"><span class="id" title="definition">ErasureFunction.heΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H_</span>); <span class="id" title="var">sq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H_</span> <span class="id" title="var">Hrel</span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#red_welltyped"><span class="id" title="lemma">red_welltyped</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_correct_strong'"><span class="id" title="lemma">erase_correct_strong'</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unique_decls" class="idref" href="#unique_decls"><span class="id" title="lemma">unique_decls</span></a> {<a id="X_type:882" class="idref" href="#X_type:882"><span class="id" title="binder">X_type</span></a>} {<a id="X:883" class="idref" href="#X:883"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:882"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>} <a id="univs:884" class="idref" href="#univs:884"><span class="id" title="binder">univs</span></a> <a id="wfext:885" class="idref" href="#wfext:885"><span class="id" title="binder">wfext</span></a><br/>
(<a id="Xext:886" class="idref" href="#Xext:886"><span class="id" title="binder">Xext</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:883"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:884"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wfext:885"><span class="id" title="variable">wfext</span></a>) {<a id="76649f37c2c364b91662001cea1de742" class="idref" href="#76649f37c2c364b91662001cea1de742"><span class="id" title="binder">Σ'</span></a>} (<a id="ed88047f5eedf9ab977616eb1c01009e" class="idref" href="#ed88047f5eedf9ab977616eb1c01009e"><span class="id" title="binder">wfΣ'</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#76649f37c2c364b91662001cea1de742"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:886"><span class="id" title="variable">Xext</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="9bd354f5d938323972e70b5956565eb5" class="idref" href="#9bd354f5d938323972e70b5956565eb5"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#9bd354f5d938323972e70b5956565eb5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:883"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#9bd354f5d938323972e70b5956565eb5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#76649f37c2c364b91662001cea1de742"><span class="id" title="variable">Σ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="tactic">pose</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfext</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unique_type" class="idref" href="#unique_type"><span class="id" title="lemma">unique_type</span></a> {<a id="X_type:890" class="idref" href="#X_type:890"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>} {<a id="X:891" class="idref" href="#X:891"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:890"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>}<br/>
&nbsp;&nbsp;{<a id="f08523154d08a48d86263e4ea12398d1" class="idref" href="#f08523154d08a48d86263e4ea12398d1"><span class="id" title="binder">Σ</span></a>:<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>}<br/>
&nbsp;&nbsp;(<a id="edb2c3f01728856a36c2792d523d422e" class="idref" href="#edb2c3f01728856a36c2792d523d422e"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f08523154d08a48d86263e4ea12398d1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:891"><span class="id" title="variable">X</span></a>) {<a id="t:894" class="idref" href="#t:894"><span class="id" title="binder">t</span></a> <a id="T:895" class="idref" href="#T:895"><span class="id" title="binder">T</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f08523154d08a48d86263e4ea12398d1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:894"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#T:895"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="fd7c171a326bed9015ab0c8f4587275f" class="idref" href="#fd7c171a326bed9015ab0c8f4587275f"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fd7c171a326bed9015ab0c8f4587275f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:891"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fd7c171a326bed9015ab0c8f4587275f"><span class="id" title="variable">Σ</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:894"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wt</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>. <span class="id" title="var">erewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">X</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">T</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="erase_correct_firstorder" class="idref" href="#erase_correct_firstorder"><span class="id" title="definition">erase_correct_firstorder</span></a> (<a id="wfl:897" class="idref" href="#wfl:897"><span class="id" title="binder">wfl</span></a> := <a class="idref" href="MetaRocq.Erasure.EWcbvEval.html#default_wcbv_flags"><span class="id" title="definition">EWcbvEval.default_wcbv_flags</span></a>)<br/>
&nbsp;&nbsp;<a id="X_type:898" class="idref" href="#X_type:898"><span class="id" title="binder">X_type</span></a> (<a id="X:899" class="idref" href="#X:899"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:898"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) <a id="univs:900" class="idref" href="#univs:900"><span class="id" title="binder">univs</span></a> <a id="wfext:901" class="idref" href="#wfext:901"><span class="id" title="binder">wfext</span></a> {<a id="t:902" class="idref" href="#t:902"><span class="id" title="binder">t</span></a> <a id="v:903" class="idref" href="#v:903"><span class="id" title="binder">v</span></a> <a id="i:904" class="idref" href="#i:904"><span class="id" title="binder">i</span></a> <a id="u:905" class="idref" href="#u:905"><span class="id" title="binder">u</span></a> <a id="args:906" class="idref" href="#args:906"><span class="id" title="binder">args</span></a>}<br/>
&nbsp;&nbsp;(<a id="Xext:907" class="idref" href="#Xext:907"><span class="id" title="binder">Xext</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:899"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:900"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wfext:901"><span class="id" title="variable">wfext</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in:910" class="idref" href="#normalization_in:910"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="X:908" class="idref" href="#X:908"><span class="id" title="binder">X</span></a> <a id="f655c7328764f7ad282d52315a29bfa2" class="idref" href="#f655c7328764f7ad282d52315a29bfa2"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f655c7328764f7ad282d52315a29bfa2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f655c7328764f7ad282d52315a29bfa2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:908"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f655c7328764f7ad282d52315a29bfa2"><span class="id" title="variable">Σ</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="20764bcc1acb56f30a536418617a1079" class="idref" href="#20764bcc1acb56f30a536418617a1079"><span class="id" title="binder">Σ</span></a> (<a id="68d2b1265d99e966b0f0200423716035" class="idref" href="#68d2b1265d99e966b0f0200423716035"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:907"><span class="id" title="variable">Xext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#20764bcc1acb56f30a536418617a1079"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;(<a id="wt:913" class="idref" href="#wt:913"><span class="id" title="binder">wt</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#20764bcc1acb56f30a536418617a1079"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:902"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#i:904"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#u:905"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#args:906"><span class="id" title="variable">args</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#axiom_free"><span class="id" title="definition">axiom_free</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#20764bcc1acb56f30a536418617a1079"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t':914" class="idref" href="#t':914"><span class="id" title="binder">t'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:898"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:907"><span class="id" title="variable">Xext</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:902"><span class="id" title="variable">t</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#unique_type"><span class="id" title="lemma">unique_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#68d2b1265d99e966b0f0200423716035"><span class="id" title="variable">wfΣ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:913"><span class="id" title="variable">wt</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="decls:915" class="idref" href="#decls:915"><span class="id" title="binder">decls</span></a> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#20764bcc1acb56f30a536418617a1079"><span class="id" title="variable">Σ</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="afbd996dd77fa5516a7688e18a5b7fe5" class="idref" href="#afbd996dd77fa5516a7688e18a5b7fe5"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:898"><span class="id" title="variable">X_type</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':914"><span class="id" title="variable">t'</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:899"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:915"><span class="id" title="variable">decls</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒  <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:910"><span class="id" title="variable">normalization_in</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#unique_decls"><span class="id" title="lemma">unique_decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:900"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wfext:901"><span class="id" title="variable">wfext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#68d2b1265d99e966b0f0200423716035"><span class="id" title="variable">wfΣ</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.PCUIC.PCUICFirstorder.html#firstorder_ind"><span class="id" title="definition">firstorder_ind</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#20764bcc1acb56f30a536418617a1079"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICFirstorder.html#firstorder_env"><span class="id" title="definition">firstorder_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#20764bcc1acb56f30a536418617a1079"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#i:904"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#red"><span class="id" title="definition">red</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#20764bcc1acb56f30a536418617a1079"><span class="id" title="variable">Σ</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:902"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:903"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICProgress.html#89335bb7773696a226bf41e8343e6c3f"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">{</span></a> <a id="v':917" class="idref" href="#v':917"><span class="id" title="binder">v'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#20764bcc1acb56f30a536418617a1079"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#8a75a4cbf6fd0563060c50337a6614e9"><span class="id" title="notation">;;;</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#8a75a4cbf6fd0563060c50337a6614e9"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:903"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICReduction.html#8a75a4cbf6fd0563060c50337a6614e9"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v':917"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="wt':918" class="idref" href="#wt':918"><span class="id" title="binder">wt'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">let</span> <a id="et':919" class="idref" href="#et':919"><span class="id" title="binder">et'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:898"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:907"><span class="id" title="variable">Xext</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#v:903"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt':918"><span class="id" title="variable">wt'</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#afbd996dd77fa5516a7688e18a5b7fe5"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#3959a00793ec04b4dc50ed24aec9b5cc"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':914"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#3959a00793ec04b4dc50ed24aec9b5cc"><span class="id" title="notation">⇓</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#et':919"><span class="id" title="variable">et'</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#firstorder_evalue"><span class="id" title="inductive">firstorder_evalue</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#afbd996dd77fa5516a7688e18a5b7fe5"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#et':919"><span class="id" title="variable">et'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_correct_strong"><span class="id" title="lemma">erase_correct_strong</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;we&nbsp;use&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="keyword">match</span></span>&nbsp;trick&nbsp;to&nbsp;get&nbsp;typeclass&nbsp;resolution&nbsp;to&nbsp;pick&nbsp;up&nbsp;the&nbsp;right&nbsp;instances&nbsp;without&nbsp;leaving&nbsp;any&nbsp;evidence&nbsp;in&nbsp;the&nbsp;resulting&nbsp;term,&nbsp;and&nbsp;without&nbsp;having&nbsp;to&nbsp;pass&nbsp;them&nbsp;manually&nbsp;everywhere&nbsp;*)</span><br/>
<span class="id" title="keyword">Notation</span> <a id="NormalizationIn_erase_global_deps_fast" class="idref" href="#NormalizationIn_erase_global_deps_fast"><span class="id" title="abbreviation">NormalizationIn_erase_global_deps_fast</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span><br/>
&nbsp;&nbsp;:= (<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">extraction_checker_flags</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#extraction_normalizing"><span class="id" title="instance">extraction_normalizing</span></a> <span class="id" title="keyword">return</span> <span class="id" title="var">_</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">cf</span>, <span class="id" title="keyword">no</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="keyword">∀</span> <a id="n:920" class="idref" href="#n:920"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#n:920"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="abbreviation">List.length</span> <span class="id" title="var">decls</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="kn:921" class="idref" href="#kn:921"><span class="id" title="binder">kn</span></a> <a id="cb:922" class="idref" href="#cb:922"><span class="id" title="binder">cb</span></a> <a id="pf:923" class="idref" href="#pf:923"><span class="id" title="binder">pf</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">List.hd_error</span> (<span class="id" title="abbreviation">List.skipn</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#n:920"><span class="id" title="variable">n</span></a> <span class="id" title="var">decls</span>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:921"><span class="id" title="variable">kn</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cb:922"><span class="id" title="variable">cb</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="Xext:924" class="idref" href="#Xext:924"><span class="id" title="binder">Xext</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <span class="id" title="var">X</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cb:922"><span class="id" title="variable">cb</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#pf:923"><span class="id" title="variable">pf</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="fd94312b5f2744a032ef1b1a4b94327d" class="idref" href="#fd94312b5f2744a032ef1b1a4b94327d"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fd94312b5f2744a032ef1b1a4b94327d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fd94312b5f2744a032ef1b1a4b94327d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext:924"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fd94312b5f2744a032ef1b1a4b94327d"><span class="id" title="variable">Σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="EraseGlobalFast" class="idref" href="#EraseGlobalFast"><span class="id" title="section">EraseGlobalFast</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment"><span class="id" title="module">PCUICEnvironment</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="decls_prefix" class="idref" href="#decls_prefix"><span class="id" title="definition">decls_prefix</span></a> <a id="decls:926" class="idref" href="#decls:926"><span class="id" title="binder">decls</span></a> (<a id="3cdc3b1e96178106cf039bdf661d4948" class="idref" href="#3cdc3b1e96178106cf039bdf661d4948"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="694214e87f287a29a97b05752e1e6dca" class="idref" href="#694214e87f287a29a97b05752e1e6dca"><span class="id" title="binder">Σ''</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#3cdc3b1e96178106cf039bdf661d4948"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#694214e87f287a29a97b05752e1e6dca"><span class="id" title="variable">Σ''</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:926"><span class="id" title="variable">decls</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_global_decls_prefix" class="idref" href="#on_global_decls_prefix"><span class="id" title="lemma">on_global_decls_prefix</span></a> {<a id="cf:929" class="idref" href="#cf:929"><span class="id" title="binder">cf</span></a>} <a id="Pcmp:930" class="idref" href="#Pcmp:930"><span class="id" title="binder">Pcmp</span></a> <a id="P:931" class="idref" href="#P:931"><span class="id" title="binder">P</span></a> <a id="univs:932" class="idref" href="#univs:932"><span class="id" title="binder">univs</span></a> <a id="retro:933" class="idref" href="#retro:933"><span class="id" title="binder">retro</span></a> <a id="decls:934" class="idref" href="#decls:934"><span class="id" title="binder">decls</span></a> <a id="decls':935" class="idref" href="#decls':935"><span class="id" title="binder">decls'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_global_decls"><span class="id" title="inductive">PCUICAst.on_global_decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Pcmp:930"><span class="id" title="variable">Pcmp</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#P:931"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:932"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#retro:933"><span class="id" title="variable">retro</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:934"><span class="id" title="variable">decls</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls':935"><span class="id" title="variable">decls'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_global_decls"><span class="id" title="inductive">PCUICAst.on_global_decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Pcmp:930"><span class="id" title="variable">Pcmp</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#P:931"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:932"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#retro:933"><span class="id" title="variable">retro</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls':935"><span class="id" title="variable">decls'</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ha</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">ha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHdecls</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="decls_prefix_wf" class="idref" href="#decls_prefix_wf"><span class="id" title="lemma">decls_prefix_wf</span></a> {<a id="decls:936" class="idref" href="#decls:936"><span class="id" title="binder">decls</span></a> <a id="a8e4a47a3b24bcdfdcf7baefbd23c88d" class="idref" href="#a8e4a47a3b24bcdfdcf7baefbd23c88d"><span class="id" title="binder">Σ</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls_prefix"><span class="id" title="definition">decls_prefix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:936"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a8e4a47a3b24bcdfdcf7baefbd23c88d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a8e4a47a3b24bcdfdcf7baefbd23c88d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> {| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a8e4a47a3b24bcdfdcf7baefbd23c88d"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a>); <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:936"><span class="id" title="variable">decls</span></a>; <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a8e4a47a3b24bcdfdcf7baefbd23c88d"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) |}.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Σ'</span> <span class="id" title="var">hd</span>] <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">ond</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hd</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ond</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#on_global_decls_prefix"><span class="id" title="lemma">on_global_decls_prefix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ond</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="incl_cs_refl" class="idref" href="#incl_cs_refl"><span class="id" title="lemma">incl_cs_refl</span></a> <a id="cs:938" class="idref" href="#cs:938"><span class="id" title="binder">cs</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cs:938"><span class="id" title="variable">cs</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#fa53e7e2e4fd81994788c41fd8d89a68"><span class="id" title="notation">⊂</span></a><a class="idref" href="MetaRocq.Common.Universes.html#fa53e7e2e4fd81994788c41fd8d89a68"><span class="id" title="notation">_cs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cs:938"><span class="id" title="variable">cs</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">lsets</span>|<span class="id" title="var">csets</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="weaken_prefix" class="idref" href="#weaken_prefix"><span class="id" title="lemma">weaken_prefix</span></a> {<a id="decls:939" class="idref" href="#decls:939"><span class="id" title="binder">decls</span></a> <a id="aefc738384f693de71ee2b87343b4f54" class="idref" href="#aefc738384f693de71ee2b87343b4f54"><span class="id" title="binder">Σ</span></a> <a id="kn:941" class="idref" href="#kn:941"><span class="id" title="binder">kn</span></a> <a id="decl:942" class="idref" href="#decl:942"><span class="id" title="binder">decl</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls_prefix"><span class="id" title="definition">decls_prefix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:939"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#aefc738384f693de71ee2b87343b4f54"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#aefc738384f693de71ee2b87343b4f54"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> {| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#aefc738384f693de71ee2b87343b4f54"><span class="id" title="variable">Σ</span></a>; <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:939"><span class="id" title="variable">decls</span></a>; <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#aefc738384f693de71ee2b87343b4f54"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) |} <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:941"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decl:942"><span class="id" title="variable">decl</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_global_decl"><span class="id" title="definition">on_global_decl</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#aefc738384f693de71ee2b87343b4f54"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#universes_decl_of_decl"><span class="id" title="definition">universes_decl_of_decl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decl:942"><span class="id" title="variable">decl</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:941"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decl:942"><span class="id" title="variable">decl</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">prefix</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">wfdecls</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls_prefix_wf"><span class="id" title="lemma">decls_prefix_wf</span></a> <span class="id" title="var">prefix</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#weakening_env_lookup_on_global_env"><span class="id" title="lemma">weakening_env_lookup_on_global_env</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">Σ</span> <span class="id" title="var">kn</span> <span class="id" title="var">decl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#weaken_env_prop_typing"><span class="id" title="lemma">weaken_env_prop_typing</span></a> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfdecls</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.extends_strictly_on_decls_extends"><span class="id" title="instance">extends_strictly_on_decls_extends</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.strictly_extends_decls_extends_strictly_on_decls"><span class="id" title="instance">strictly_extends_decls_extends_strictly_on_decls</span></a>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">X</span> <span class="id" title="var">wfdecls</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;This&nbsp;version&nbsp;of&nbsp;global&nbsp;environment&nbsp;erasure&nbsp;keeps&nbsp;the&nbsp;same&nbsp;global&nbsp;environment&nbsp;throughout&nbsp;the&nbsp;whole<br/>
&nbsp;&nbsp;&nbsp;erasure,&nbsp;while&nbsp;folding&nbsp;over&nbsp;the&nbsp;list&nbsp;of&nbsp;declarations.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Local Obligation</span> <span class="id" title="keyword">Tactic</span> := <span class="id" title="tactic">program_simpl</span>.<br/>

<br/>
<span class="id" title="keyword">Program Fixpoint</span> <a id="erase_global_deps_fast" class="idref" href="#erase_global_deps_fast"><span class="id" title="definition">erase_global_deps_fast</span></a> (<a id="deps:943" class="idref" href="#deps:943"><span class="id" title="binder">deps</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.t"><span class="id" title="definition">KernameSet.t</span></a>)<br/>
&nbsp;&nbsp;<a id="X_type:944" class="idref" href="#X_type:944"><span class="id" title="binder">X_type</span></a> (<a id="X:945" class="idref" href="#X:945"><span class="id" title="binder">X</span></a>:<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:944"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) (<a id="decls:946" class="idref" href="#decls:946"><span class="id" title="binder">decls</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_declarations"><span class="id" title="definition">global_declarations</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in:947" class="idref" href="#normalization_in:947"><span class="id" title="binder">normalization_in</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#NormalizationIn_erase_global_deps_fast"><span class="id" title="abbreviation">NormalizationIn_erase_global_deps_fast</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:945"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:946"><span class="id" title="variable">decls</span></a>}<br/>
&nbsp;&nbsp;(<a id="prop:949" class="idref" href="#prop:949"><span class="id" title="binder">prop</span></a> : <span class="id" title="keyword">∀</span> <a id="c341ececb41e2961dee2d62968d1197c" class="idref" href="#c341ececb41e2961dee2d62968d1197c"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:945"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#c341ececb41e2961dee2d62968d1197c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls_prefix"><span class="id" title="definition">decls_prefix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:946"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#c341ececb41e2961dee2d62968d1197c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) : <a class="idref" href="MetaRocq.Erasure.Extract.html#E.global_declarations"><span class="id" title="definition">E.global_declarations</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.t"><span class="id" title="definition">KernameSet.t</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:946"><span class="id" title="variable">decls</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="notation">[]</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="notation">[]</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:943"><span class="id" title="variable">deps</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">cb</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:943"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="Xext':952" class="idref" href="#Xext':952"><span class="id" title="binder">Xext'</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:945"><span class="id" title="variable">X</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">cb</span>) <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="normalization_in':953" class="idref" href="#normalization_in':953"><span class="id" title="binder">normalization_in'</span></a> : @<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="keyword">Prop</span> <span class="id" title="var">_</span> := <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <span class="comment">(*&nbsp;hack&nbsp;to&nbsp;avoid&nbsp;program&nbsp;erroring&nbsp;out&nbsp;on&nbsp;unresolved&nbsp;tc&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cb':954" class="idref" href="#cb':954"><span class="id" title="binder">cb'</span></a> := @<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:944"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#Xext':952"><span class="id" title="variable">Xext'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in':953"><span class="id" title="variable">normalization_in'</span></a> <span class="id" title="var">cb</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="deps:955" class="idref" href="#deps:955"><span class="id" title="binder">deps</span></a> := <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:943"><span class="id" title="variable">deps</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cb':954"><span class="id" title="variable">cb'</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="f422140c6420d5b71f7b167e98b3bbb2" class="idref" href="#f422140c6420d5b71f7b167e98b3bbb2"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_deps_fast:950"><span class="id" title="definition">erase_global_deps_fast</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:955"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:944"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:945"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:946"><span class="id" title="variable">decls</span></a> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(((</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.ConstantDecl"><span class="id" title="constructor">E.ConstantDecl</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cb':954"><span class="id" title="variable">cb'</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f422140c6420d5b71f7b167e98b3bbb2"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#f422140c6420d5b71f7b167e98b3bbb2"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_deps_fast:950"><span class="id" title="definition">erase_global_deps_fast</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:943"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:944"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:945"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:946"><span class="id" title="variable">decls</span></a> <span class="id" title="var">_</span><br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">mib</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:943"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mib':957" class="idref" href="#mib':957"><span class="id" title="binder">mib'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_mutual_inductive_body"><span class="id" title="definition">erase_mutual_inductive_body</span></a> <span class="id" title="var">mib</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="dbaec63d5f62ef73ab845f257314cdf7" class="idref" href="#dbaec63d5f62ef73ab845f257314cdf7"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_deps_fast:950"><span class="id" title="definition">erase_global_deps_fast</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:943"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:944"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:945"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:946"><span class="id" title="variable">decls</span></a> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(((</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#E.InductiveDecl"><span class="id" title="constructor">E.InductiveDecl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#mib':957"><span class="id" title="variable">mib'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#dbaec63d5f62ef73ab845f257314cdf7"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#dbaec63d5f62ef73ab845f257314cdf7"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_deps_fast:950"><span class="id" title="definition">erase_global_deps_fast</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:943"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:944"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:945"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:946"><span class="id" title="variable">decls</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [?].<br/>
&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">split</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X3</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls_prefix_wf"><span class="id" title="lemma">decls_prefix_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X3</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X3</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">onu</span> <span class="id" title="var">ond</span>]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ond</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">ond</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cbv</span> [<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> 0); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [?].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="keyword">wf</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> [?].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">prop'</span> := <span class="id" title="var">prop</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#weaken_prefix"><span class="id" title="lemma">weaken_prefix</span></a> (<span class="id" title="var">kn</span> := <span class="id" title="var">kn</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">prop'</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;2:{ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_refl"><span class="id" title="lemma">eqb_refl</span></a> //. }<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">cb</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">prop'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span>)); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">revgoals</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>; <span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">prop</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ'</span> -&gt;].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> (<span class="id" title="var">Σ'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">cb</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span>); <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">app_assoc</span> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span>)); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">revgoals</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>; <span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">prop</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ'</span> -&gt;].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> (<span class="id" title="var">Σ'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">cb</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span>); <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">app_assoc</span> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span>)); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">revgoals</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>; <span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">prop</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ'</span> -&gt;].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> (<span class="id" title="var">Σ'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span>); <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">app_assoc</span> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span>)); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">revgoals</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>; <span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">prop</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ'</span> -&gt;].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> (<span class="id" title="var">Σ'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span>); <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">app_assoc</span> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#"><span class="id" title="module">PCUICAst</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment"><span class="id" title="module">PCUICEnvironment</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_lookup" class="idref" href="#wf_lookup"><span class="id" title="lemma">wf_lookup</span></a> <a id="b3beb982c15050aeff3d9e00332345d8" class="idref" href="#b3beb982c15050aeff3d9e00332345d8"><span class="id" title="binder">Σ</span></a> <a id="kn:960" class="idref" href="#kn:960"><span class="id" title="binder">kn</span></a> <a id="d:961" class="idref" href="#d:961"><span class="id" title="binder">d</span></a> <a id="suffix:962" class="idref" href="#suffix:962"><span class="id" title="binder">suffix</span></a> <a id="g:963" class="idref" href="#g:963"><span class="id" title="binder">g</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#b3beb982c15050aeff3d9e00332345d8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#b3beb982c15050aeff3d9e00332345d8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#suffix:962"><span class="id" title="variable">suffix</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:960"><span class="id" title="variable">kn</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:961"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#g:963"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#b3beb982c15050aeff3d9e00332345d8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:960"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:961"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> <span class="id" title="var">ond</span>] <span class="id" title="var">eq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ond</span> |- ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">ond</span>; <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">suffix</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_refl"><span class="id" title="lemma">eqb_refl</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">ond</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">ond</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">f</span> ? ? ? ]. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Forall_app"><span class="id" title="lemma">Forall_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span> <span class="id" title="keyword">as</span> []. <span class="id" title="var">depelim</span> <span class="id" title="var">H0</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">kn0</span>); [<span class="id" title="var">contradiction</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHsuffix</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="add_suffix" class="idref" href="#add_suffix"><span class="id" title="definition">add_suffix</span></a> <a id="suffix:964" class="idref" href="#suffix:964"><span class="id" title="binder">suffix</span></a> <a id="372883ba2e8f465b65452a676b076dea" class="idref" href="#372883ba2e8f465b65452a676b076dea"><span class="id" title="binder">Σ</span></a> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.set_declarations"><span class="id" title="definition">set_declarations</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#372883ba2e8f465b65452a676b076dea"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#suffix:964"><span class="id" title="variable">suffix</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#372883ba2e8f465b65452a676b076dea"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="add_suffix_cons" class="idref" href="#add_suffix_cons"><span class="id" title="lemma">add_suffix_cons</span></a> <a id="d:966" class="idref" href="#d:966"><span class="id" title="binder">d</span></a> <a id="suffix:967" class="idref" href="#suffix:967"><span class="id" title="binder">suffix</span></a> <a id="69814ceaea48aa0d4cec0c6aca0208b4" class="idref" href="#69814ceaea48aa0d4cec0c6aca0208b4"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#add_suffix"><span class="id" title="definition">add_suffix</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:966"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#suffix:967"><span class="id" title="variable">suffix</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#69814ceaea48aa0d4cec0c6aca0208b4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#add_suffix"><span class="id" title="definition">add_suffix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#suffix:967"><span class="id" title="variable">suffix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#69814ceaea48aa0d4cec0c6aca0208b4"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d:966"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_erased_with_deps_weaken_prefix" class="idref" href="#global_erased_with_deps_weaken_prefix"><span class="id" title="lemma">global_erased_with_deps_weaken_prefix</span></a> <a id="suffix:969" class="idref" href="#suffix:969"><span class="id" title="binder">suffix</span></a> <a id="c65ab55c9ceb6bb515c8829dba9bbbe4" class="idref" href="#c65ab55c9ceb6bb515c8829dba9bbbe4"><span class="id" title="binder">Σ</span></a> <a id="4b9f56f604ccb9ca6f9b24ede8bdacc3" class="idref" href="#4b9f56f604ccb9ca6f9b24ede8bdacc3"><span class="id" title="binder">Σ'</span></a> <a id="kn:972" class="idref" href="#kn:972"><span class="id" title="binder">kn</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#add_suffix"><span class="id" title="definition">add_suffix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#suffix:969"><span class="id" title="variable">suffix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#c65ab55c9ceb6bb515c8829dba9bbbe4"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#global_erased_with_deps"><span class="id" title="definition">global_erased_with_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#c65ab55c9ceb6bb515c8829dba9bbbe4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#4b9f56f604ccb9ca6f9b24ede8bdacc3"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:972"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#global_erased_with_deps"><span class="id" title="definition">global_erased_with_deps</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#add_suffix"><span class="id" title="definition">add_suffix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#suffix:969"><span class="id" title="variable">suffix</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#c65ab55c9ceb6bb515c8829dba9bbbe4"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#4b9f56f604ccb9ca6f9b24ede8bdacc3"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#kn:972"><span class="id" title="variable">kn</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">suffix</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#add_suffix"><span class="id" title="definition">add_suffix</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.set_declarations"><span class="id" title="definition">set_declarations</span></a> /= -<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.eta_global_env"><span class="id" title="lemma">eta_global_env</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#add_suffix_cons"><span class="id" title="lemma">add_suffix_cons</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn'</span> <span class="id" title="var">d</span>]. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#global_erases_with_deps_weaken"><span class="id" title="lemma">global_erases_with_deps_weaken</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHsuffix</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="keyword">wf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">onu</span> <span class="id" title="var">ond</span>]. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">ond</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Using&nbsp;weakening&nbsp;it&nbsp;is&nbsp;trivial&nbsp;to&nbsp;show&nbsp;that&nbsp;a&nbsp;term&nbsp;found&nbsp;to&nbsp;be&nbsp;erasable&nbsp;in&nbsp;Σ<br/>
&nbsp;&nbsp;will&nbsp;be&nbsp;found&nbsp;erasable&nbsp;in&nbsp;any&nbsp;well-formed&nbsp;extension.&nbsp;The&nbsp;converse&nbsp;is&nbsp;not&nbsp;so&nbsp;trivial:<br/>
&nbsp;&nbsp;some&nbsp;valid&nbsp;types&nbsp;in&nbsp;the&nbsp;extension&nbsp;are&nbsp;not&nbsp;valid&nbsp;in&nbsp;the&nbsp;restricted&nbsp;global&nbsp;context.<br/>
&nbsp;&nbsp;So,&nbsp;we&nbsp;will&nbsp;rather&nbsp;show&nbsp;that&nbsp;the&nbsp;erasure&nbsp;function&nbsp;is&nbsp;invariant&nbsp;under&nbsp;extension.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isErasable_irrel_global_env" class="idref" href="#isErasable_irrel_global_env"><span class="id" title="lemma">isErasable_irrel_global_env</span></a> {<a id="3180159a27174059f3daa2ffbe770e3c" class="idref" href="#3180159a27174059f3daa2ffbe770e3c"><span class="id" title="binder">Σ</span></a> <a id="e5d5b9891a8055fee8fc1df7ca47b2a9" class="idref" href="#e5d5b9891a8055fee8fc1df7ca47b2a9"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="206093989b10d6c2d02a6d7cdfcb20c3" class="idref" href="#206093989b10d6c2d02a6d7cdfcb20c3"><span class="id" title="binder">Γ</span></a> <a id="t:976" class="idref" href="#t:976"><span class="id" title="binder">t</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#3180159a27174059f3daa2ffbe770e3c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#e5d5b9891a8055fee8fc1df7ca47b2a9"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.extends"><span class="id" title="class">extends</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#e5d5b9891a8055fee8fc1df7ca47b2a9"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#3180159a27174059f3daa2ffbe770e3c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#3180159a27174059f3daa2ffbe770e3c"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#e5d5b9891a8055fee8fc1df7ca47b2a9"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#e5d5b9891a8055fee8fc1df7ca47b2a9"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#206093989b10d6c2d02a6d7cdfcb20c3"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:976"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#3180159a27174059f3daa2ffbe770e3c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#206093989b10d6c2d02a6d7cdfcb20c3"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:976"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">ext</span> <span class="id" title="var">eqext</span> [<span class="id" title="var">T</span> [<span class="id" title="var">ht</span> <span class="id" title="var">isar</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ</span> <span class="id" title="var">decl</span>], <span class="id" title="var">Σ'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ'</span> <span class="id" title="var">decl'</span>]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eqext</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">decl'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">T</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#env_prop_typing"><span class="id" title="lemma">env_prop_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#weakening_env"><span class="id" title="lemma">weakening_env</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ'</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">decl</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) ⇒ //=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">isar</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">s</span>]; [<span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>] ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">u</span> [<span class="id" title="var">Hu</span> <span class="id" title="var">isp</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#env_prop_typing"><span class="id" title="lemma">env_prop_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#weakening_env"><span class="id" title="lemma">weakening_env</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ'</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">decl</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) ⇒ //=.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="reduce_stack_eq" class="idref" href="#reduce_stack_eq"><span class="id" title="definition">reduce_stack_eq</span></a> {<a id="cf:977" class="idref" href="#cf:977"><span class="id" title="binder">cf</span></a>} {<a id="fl:978" class="idref" href="#fl:978"><span class="id" title="binder">fl</span></a>} {<a id="no:979" class="idref" href="#no:979"><span class="id" title="binder">no</span></a>:<a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#normalizing_flags"><span class="id" title="class">normalizing_flags</span></a>} {<a id="X_type:980" class="idref" href="#X_type:980"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>} {<a id="X:981" class="idref" href="#X:981"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:980"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>} {<a id="normalization_in:983" class="idref" href="#normalization_in:983"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="8321669b67244285738a73634d0369f7" class="idref" href="#8321669b67244285738a73634d0369f7"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8321669b67244285738a73634d0369f7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8321669b67244285738a73634d0369f7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:981"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8321669b67244285738a73634d0369f7"><span class="id" title="variable">Σ</span></a>} <a id="b87d549ee06085b9057f1b7c65e7e7ce" class="idref" href="#b87d549ee06085b9057f1b7c65e7e7ce"><span class="id" title="binder">Γ</span></a> <a id="t:985" class="idref" href="#t:985"><span class="id" title="binder">t</span></a> <a id="fb7f8e52614d5221fbca25bc30140404" class="idref" href="#fb7f8e52614d5221fbca25bc30140404"><span class="id" title="binder">π</span></a> <a id="wi:987" class="idref" href="#wi:987"><span class="id" title="binder">wi</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fl:978"><span class="id" title="variable">fl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:980"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:981"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#b87d549ee06085b9057f1b7c65e7e7ce"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:985"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fb7f8e52614d5221fbca25bc30140404"><span class="id" title="variable">π</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wi:987"><span class="id" title="variable">wi</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#998905012a00dd2c1bb5b4a980f46cc2"><span class="id" title="notation">`</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#998905012a00dd2c1bb5b4a980f46cc2"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full"><span class="id" title="definition">reduce_stack_full</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fl:978"><span class="id" title="variable">fl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:980"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:981"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#b87d549ee06085b9057f1b7c65e7e7ce"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:985"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fb7f8e52614d5221fbca25bc30140404"><span class="id" title="variable">π</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wi:987"><span class="id" title="variable">wi</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#998905012a00dd2c1bb5b4a980f46cc2"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full"><span class="id" title="definition">reduce_stack_full</span></a> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="same_principal_type" class="idref" href="#same_principal_type"><span class="id" title="definition">same_principal_type</span></a> {<a id="cf:988" class="idref" href="#cf:988"><span class="id" title="binder">cf</span></a>}<br/>
&nbsp;&nbsp;{<a id="X_type:989" class="idref" href="#X_type:989"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>} {<a id="X:990" class="idref" href="#X:990"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:989"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>}<br/>
&nbsp;&nbsp;{<a id="X_type':991" class="idref" href="#X_type':991"><span class="id" title="binder">X_type'</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>} {<a id="X':992" class="idref" href="#X':992"><span class="id" title="binder">X'</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type':991"><span class="id" title="variable">X_type'</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>}<br/>
&nbsp;&nbsp;{<a id="1675764c8fd1d3a091c98f57379077b9" class="idref" href="#1675764c8fd1d3a091c98f57379077b9"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>} {<a id="t:994" class="idref" href="#t:994"><span class="id" title="binder">t</span></a>} (<a id="p:995" class="idref" href="#p:995"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeRetyping.html#principal_type"><span class="id" title="definition">PCUICSafeRetyping.principal_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:989"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:990"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#1675764c8fd1d3a091c98f57379077b9"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:994"><span class="id" title="variable">t</span></a>) (<a id="p':996" class="idref" href="#p':996"><span class="id" title="binder">p'</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeRetyping.html#principal_type"><span class="id" title="definition">PCUICSafeRetyping.principal_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type':991"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':992"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#1675764c8fd1d3a091c98f57379077b9"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:994"><span class="id" title="variable">t</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#p:995"><span class="id" title="variable">p</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#p':996"><span class="id" title="variable">p'</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>.<br/>

<br/>
<span class="comment">(*Lemma&nbsp;erase_global_deps_suffix&nbsp;{deps}&nbsp;{Σ&nbsp;Σ'&nbsp;:&nbsp;wf_env}&nbsp;{decls&nbsp;hprefix&nbsp;hprefix'}&nbsp;:<br/>
&nbsp;&nbsp;wf&nbsp;Σ&nbsp;-&gt;&nbsp;wf&nbsp;Σ'&nbsp;-&gt;<br/>
&nbsp;&nbsp;universes&nbsp;Σ&nbsp;=&nbsp;universes&nbsp;Σ'&nbsp;-&gt;<br/>
&nbsp;&nbsp;erase_global_deps_fast&nbsp;deps&nbsp;Σ&nbsp;decls&nbsp;hprefix&nbsp;=<br/>
&nbsp;&nbsp;erase_global_deps_fast&nbsp;deps&nbsp;Σ'&nbsp;decls&nbsp;hprefix'.<br/>
Proof&nbsp;using&nbsp;Type.<br/>
&nbsp;&nbsp;intros&nbsp;wfΣ&nbsp;wfΣ'&nbsp;equ.<br/>
&nbsp;&nbsp;induction&nbsp;decls&nbsp;in&nbsp;deps,&nbsp;hprefix,&nbsp;hprefix'&nbsp;|-&nbsp;*;&nbsp;cbn&nbsp;=&gt;&nbsp;//.<br/>
&nbsp;&nbsp;destruct&nbsp;a&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">kn</span></span> <span class="inlinecode">[]</span>.<br/>
&nbsp;&nbsp;set&nbsp;(obl&nbsp;:=&nbsp;(erase_global_deps_fast_obligation_1&nbsp;Σ&nbsp;((kn,&nbsp;ConstantDecl&nbsp;c)&nbsp;::&nbsp;decls)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hprefix&nbsp;kn&nbsp;c&nbsp;decls&nbsp;eq_refl)).&nbsp;clearbody&nbsp;obl.<br/>
&nbsp;&nbsp;destruct&nbsp;obl.<br/>
&nbsp;&nbsp;set&nbsp;(eb&nbsp;:=&nbsp;erase_constant_body&nbsp;_&nbsp;_&nbsp;_).<br/>
&nbsp;&nbsp;set&nbsp;(eb'&nbsp;:=&nbsp;erase_constant_body&nbsp;_&nbsp;_&nbsp;_).<br/>
&nbsp;&nbsp;assert&nbsp;(eb&nbsp;=&nbsp;eb')&nbsp;as&nbsp;&lt;-.<br/>
&nbsp;&nbsp;{&nbsp;subst&nbsp;eb&nbsp;eb'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;set&nbsp;(wfΣx&nbsp;:=&nbsp;&nbsp;abstract_make_wf_env_ext&nbsp;_&nbsp;_&nbsp;_).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;set&nbsp;(wfΣ'x&nbsp;:=&nbsp;&nbsp;abstract_make_wf_env_ext&nbsp;_&nbsp;_&nbsp;_).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;set&nbsp;(obl'&nbsp;:=&nbsp;erase_global_deps_fast_obligation_2&nbsp;_&nbsp;_&nbsp;_&nbsp;_&nbsp;_&nbsp;_&nbsp;_).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;clearbody&nbsp;obl'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;set&nbsp;(Σd&nbsp;:=&nbsp;{|&nbsp;universes&nbsp;:=&nbsp;Σ.(universes);&nbsp;declarations&nbsp;:=&nbsp;decls&nbsp;|}).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;(wfΣd&nbsp;:&nbsp;wf&nbsp;Σd).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;eapply&nbsp;decls_prefix_wf;&nbsp;tea.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clear&nbsp;-hprefix.&nbsp;move:&nbsp;hprefix.&nbsp;unfold&nbsp;decls_prefix.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros&nbsp;<span class="inlinecode"><span class="id" title="var">Σ''</span></span> <span class="inlinecode"><span class="id" title="var">eq</span></span>.&nbsp;exists&nbsp;(Σ''&nbsp;++&nbsp;<span class="inlinecode">(<span class="id" title="var">kn</span>,</span> <span class="inlinecode"><span class="id" title="var">ConstantDecl</span></span> <span class="inlinecode"><span class="id" title="var">c</span>)</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;-app_assoc&nbsp;//.&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;set&nbsp;(wfΣdwfe&nbsp;:=&nbsp;build_wf_env_from_env&nbsp;_&nbsp;(sq&nbsp;wfΣd)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;(wfextΣd&nbsp;:&nbsp;wf_ext&nbsp;(Σd,&nbsp;cst_universes&nbsp;c)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;split&nbsp;=&gt;&nbsp;//.&nbsp;cbn.&nbsp;apply&nbsp;w.&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;set&nbsp;(wfΣdw&nbsp;:=&nbsp;&nbsp;abstract_make_wf_env_ext&nbsp;wfΣdwfe&nbsp;(cst_universes&nbsp;c)&nbsp;(sq&nbsp;wfextΣd)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;(ond'&nbsp;:&nbsp;∥&nbsp;on_constant_decl&nbsp;(lift_typing&nbsp;typing)&nbsp;(Σd,&nbsp;cst_universes&nbsp;c)&nbsp;c&nbsp;∥&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;pose&nbsp;proof&nbsp;(decls_prefix_wf&nbsp;hprefix&nbsp;wfΣ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;X&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">onu</span></span> <span class="inlinecode"><span class="id" title="var">ond</span></span>.&nbsp;depelim&nbsp;ond.&nbsp;sq.&nbsp;apply&nbsp;o0.&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;(extd'&nbsp;:&nbsp;extends_decls&nbsp;Σd&nbsp;Σ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;clear&nbsp;-hprefix.&nbsp;move:&nbsp;hprefix.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros&nbsp;<span class="inlinecode">?</span> <span class="inlinecode">?</span>.&nbsp;split&nbsp;=&gt;&nbsp;//.&nbsp;eexists&nbsp;(x&nbsp;++&nbsp;<span class="inlinecode">(<span class="id" title="var">kn</span>,</span> <span class="inlinecode"><span class="id" title="var">ConstantDecl</span></span> <span class="inlinecode"><span class="id" title="var">c</span>)</span>).&nbsp;cbn.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now&nbsp;rewrite&nbsp;-app_assoc.&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;(extd''&nbsp;:&nbsp;extends_decls&nbsp;Σd&nbsp;Σ').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;clear&nbsp;-equ&nbsp;hprefix'.&nbsp;move:&nbsp;hprefix'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros&nbsp;<span class="inlinecode">?</span> <span class="inlinecode">?</span>.&nbsp;split&nbsp;=&gt;&nbsp;//.&nbsp;eexists&nbsp;(x&nbsp;++&nbsp;<span class="inlinecode">(<span class="id" title="var">kn</span>,</span> <span class="inlinecode"><span class="id" title="var">ConstantDecl</span></span> <span class="inlinecode"><span class="id" title="var">c</span>)</span>).&nbsp;cbn.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now&nbsp;rewrite&nbsp;-app_assoc.&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;(erase_constant_suffix&nbsp;(Σ&nbsp;:=&nbsp;wfΣx)&nbsp;(Σ'&nbsp;:=&nbsp;wfΣdw)&nbsp;(ondecl'&nbsp;:=&nbsp;ond')&nbsp;wfΣ&nbsp;extd')&nbsp;//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;(erase_constant_body_irrel&nbsp;(Σ&nbsp;:=&nbsp;wfΣ'x)&nbsp;(Σ'&nbsp;:=&nbsp;wfΣdw)&nbsp;(ondecl'&nbsp;:=&nbsp;ond')&nbsp;wfΣ'&nbsp;extd'')&nbsp;//.&nbsp;}<br/>
&nbsp;&nbsp;destruct&nbsp;KernameSet.mem&nbsp;=&gt;&nbsp;//.&nbsp;f_equal.<br/>
&nbsp;&nbsp;eapply&nbsp;IHdecls.<br/>
&nbsp;&nbsp;destruct&nbsp;KernameSet.mem&nbsp;=&gt;&nbsp;//.&nbsp;f_equal.<br/>
&nbsp;&nbsp;eapply&nbsp;IHdecls.<br/>
Qed.*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="strictly_extends_decls_extends_global_env" class="idref" href="#strictly_extends_decls_extends_global_env"><span class="id" title="lemma">strictly_extends_decls_extends_global_env</span></a> <a id="c261ca8f9e7ac433683f626efdc07558" class="idref" href="#c261ca8f9e7ac433683f626efdc07558"><span class="id" title="binder">Σ</span></a> <a id="281feceadd456871b17bf5b780d537fb" class="idref" href="#281feceadd456871b17bf5b780d537fb"><span class="id" title="binder">Σ'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#281feceadd456871b17bf5b780d537fb"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.strictly_extends_decls"><span class="id" title="class">strictly_extends_decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#c261ca8f9e7ac433683f626efdc07558"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#281feceadd456871b17bf5b780d537fb"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#extends_global_env"><span class="id" title="definition">extends_global_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#c261ca8f9e7ac433683f626efdc07558"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#281feceadd456871b17bf5b780d537fb"><span class="id" title="variable">Σ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ'</span> [<span class="id" title="var">uni</span> [<span class="id" title="var">Σ''</span> <span class="id" title="var">de</span>] <span class="id" title="var">retr</span>]. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">de</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a> <span class="id" title="var">retr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">decl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_global_Some_iff_In_NoDup"><span class="id" title="lemma">lookup_global_Some_iff_In_NoDup</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.EnvMap.html#EnvMap.fresh_globals_iff_NoDup"><span class="id" title="lemma">EnvMap.EnvMap.fresh_globals_iff_NoDup</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">de</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf_fresh_globals"><span class="id" title="lemma">wf_fresh_globals</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_global_Some_iff_In_NoDup"><span class="id" title="lemma">lookup_global_Some_iff_In_NoDup</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">in_app_iff</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.EnvMap.html#EnvMap.fresh_globals_iff_NoDup"><span class="id" title="lemma">EnvMap.EnvMap.fresh_globals_iff_NoDup</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wf_fresh_globals"><span class="id" title="lemma">wf_fresh_globals</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfΣ'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">de</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfΣ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">wfΣ'</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Σ''</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHΣ''</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">wfΣ'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="extends_global_env_equiv_env" class="idref" href="#extends_global_env_equiv_env"><span class="id" title="lemma">extends_global_env_equiv_env</span></a> <a id="a60443f6d95787ea1a76cd14733e8adc" class="idref" href="#a60443f6d95787ea1a76cd14733e8adc"><span class="id" title="binder">Σ</span></a> <a id="8b86147b917473c1a1c0c657acbcc4b4" class="idref" href="#8b86147b917473c1a1c0c657acbcc4b4"><span class="id" title="binder">Σ'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#extends_global_env"><span class="id" title="definition">extends_global_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a60443f6d95787ea1a76cd14733e8adc"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8b86147b917473c1a1c0c657acbcc4b4"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#equiv_env_inter"><span class="id" title="definition">equiv_env_inter</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#a60443f6d95787ea1a76cd14733e8adc"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8b86147b917473c1a1c0c657acbcc4b4"><span class="id" title="variable">Σ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ext</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">decl</span> <span class="id" title="var">decl'</span> <span class="id" title="var">hl</span> <span class="id" title="var">hl'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ext</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hl</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">ext</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_deps_fast_spec_gen" class="idref" href="#erase_global_deps_fast_spec_gen"><span class="id" title="lemma">erase_global_deps_fast_spec_gen</span></a> {<a id="deps:1001" class="idref" href="#deps:1001"><span class="id" title="binder">deps</span></a>}<br/>
&nbsp;&nbsp;{<a id="X_type:1002" class="idref" href="#X_type:1002"><span class="id" title="binder">X_type</span></a> <a id="X:1003" class="idref" href="#X:1003"><span class="id" title="binder">X</span></a> <a id="X':1004" class="idref" href="#X':1004"><span class="id" title="binder">X'</span></a>} {<a id="decls:1005" class="idref" href="#decls:1005"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1006" class="idref" href="#normalization_in:1006"><span class="id" title="binder">normalization_in</span></a> <a id="normalization_in':1007" class="idref" href="#normalization_in':1007"><span class="id" title="binder">normalization_in'</span></a> <a id="hprefix:1008" class="idref" href="#hprefix:1008"><span class="id" title="binder">hprefix</span></a> <a id="hprefix':1009" class="idref" href="#hprefix':1009"><span class="id" title="binder">hprefix'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="2c0ad6f7cdc3463bb9388e4dabce4cf5" class="idref" href="#2c0ad6f7cdc3463bb9388e4dabce4cf5"><span class="id" title="binder">Σ</span></a> <a id="36f08676723294969f7098fdb0ccb471" class="idref" href="#36f08676723294969f7098fdb0ccb471"><span class="id" title="binder">Σ'</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:1003"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#2c0ad6f7cdc3463bb9388e4dabce4cf5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':1004"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#36f08676723294969f7098fdb0ccb471"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#2c0ad6f7cdc3463bb9388e4dabce4cf5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#36f08676723294969f7098fdb0ccb471"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#2c0ad6f7cdc3463bb9388e4dabce4cf5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#36f08676723294969f7098fdb0ccb471"><span class="id" title="variable">Σ'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_deps_fast"><span class="id" title="definition">erase_global_deps_fast</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:1001"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:1002"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:1003"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:1005"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:1006"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#hprefix:1008"><span class="id" title="variable">hprefix</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:1002"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:1001"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':1004"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:1005"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in':1007"><span class="id" title="variable">normalization_in'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#hprefix':1009"><span class="id" title="variable">hprefix'</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">equ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>, <span class="id" title="var">X'</span>, <span class="id" title="var">equ</span>, <span class="id" title="var">deps</span>, <span class="id" title="var">normalization_in</span>, <span class="id" title="var">normalization_in'</span>, <span class="id" title="var">hprefix</span>, <span class="id" title="var">hprefix'</span> |- × ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X'</span>)) <span class="id" title="keyword">as</span> [[? <span class="id" title="var">wfpop</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X'</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [? [? ?]].<br/>
&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn</span> []].<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_decl"><span class="id" title="definition">erase_constant_decl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl</span> := (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_deps_fast_obligation_1"><span class="id" title="lemma">erase_global_deps_fast_obligation_1</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">hprefix</span> <span class="id" title="var">kn</span> <span class="id" title="var">c</span> <span class="id" title="var">decls</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">eb</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">eb'</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">eg</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">eg'</span> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">eb</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">eb'</span>) <span class="id" title="keyword">as</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">eb</span> <span class="id" title="var">eb'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">hprefix</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ''</span> <span class="id" title="var">eq</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_constant_body_irrel"><span class="id" title="lemma">erase_constant_body_irrel</span></a>; <span class="id" title="var">cbn</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#equiv_env_inter_hlookup"><span class="id" title="lemma">equiv_env_inter_hlookup</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? <span class="id" title="var">H2</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X'</span>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfpop</span> <span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#equiv_env_inter_sym"><span class="id" title="lemma">equiv_env_inter_sym</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#extends_global_env_equiv_env"><span class="id" title="lemma">extends_global_env_equiv_env</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#strictly_extends_decls_extends_global_env"><span class="id" title="lemma">strictly_extends_decls_extends_global_env</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>, &lt;- <span class="id" title="var">H1</span>. <span class="id" title="tactic">split</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> (<span class="id" title="var">Σ''</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span>). <span class="id" title="var">cbn</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">app_assoc</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> ⇒ //; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X'</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">H3</span>) <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. } <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H6</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H7</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X'</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">H3</span>) <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. } <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H6</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H7</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X'</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">H3</span>) <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }  <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H6</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H7</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> ⇒ //; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X'</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">H3</span>) <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H6</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H7</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X'</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">H3</span>) <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H6</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H7</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X'</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">H3</span>) <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H6</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H7</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_deps_fast_spec" class="idref" href="#erase_global_deps_fast_spec"><span class="id" title="lemma">erase_global_deps_fast_spec</span></a> {<a id="deps:1012" class="idref" href="#deps:1012"><span class="id" title="binder">deps</span></a>} {<a id="X_type:1013" class="idref" href="#X_type:1013"><span class="id" title="binder">X_type</span></a> <a id="X:1014" class="idref" href="#X:1014"><span class="id" title="binder">X</span></a>} {<a id="decls:1015" class="idref" href="#decls:1015"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1016" class="idref" href="#normalization_in:1016"><span class="id" title="binder">normalization_in</span></a> <a id="normalization_in':1017" class="idref" href="#normalization_in':1017"><span class="id" title="binder">normalization_in'</span></a> <a id="hprefix:1018" class="idref" href="#hprefix:1018"><span class="id" title="binder">hprefix</span></a> <a id="hprefix':1019" class="idref" href="#hprefix':1019"><span class="id" title="binder">hprefix'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_deps_fast"><span class="id" title="definition">erase_global_deps_fast</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:1012"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:1013"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:1014"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:1015"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:1016"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#hprefix:1018"><span class="id" title="variable">hprefix</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:1013"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:1012"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:1014"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:1015"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in':1017"><span class="id" title="variable">normalization_in'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#hprefix':1019"><span class="id" title="variable">hprefix'</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_deps_fast_spec_gen"><span class="id" title="lemma">erase_global_deps_fast_spec_gen</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>); <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cored_extends" class="idref" href="#cored_extends"><span class="id" title="lemma">cored_extends</span></a> (<a id="9cb8780ae54b34b2d3b677a2d2e8d49c" class="idref" href="#9cb8780ae54b34b2d3b677a2d2e8d49c"><span class="id" title="binder">Σ</span></a> <a id="7757924196f683d8b9ef2dcb1bcacc0e" class="idref" href="#7757924196f683d8b9ef2dcb1bcacc0e"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) <a id="9ec30641f7519e3ddb939b1e814668e9" class="idref" href="#9ec30641f7519e3ddb939b1e814668e9"><span class="id" title="binder">Γ</span></a> <a id="x:1023" class="idref" href="#x:1023"><span class="id" title="binder">x</span></a> <a id="y:1024" class="idref" href="#y:1024"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#7757924196f683d8b9ef2dcb1bcacc0e"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.extends"><span class="id" title="class">extends</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#9cb8780ae54b34b2d3b677a2d2e8d49c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#7757924196f683d8b9ef2dcb1bcacc0e"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#cored"><span class="id" title="inductive">cored</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#9cb8780ae54b34b2d3b677a2d2e8d49c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#9ec30641f7519e3ddb939b1e814668e9"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#x:1023"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#y:1024"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#cored"><span class="id" title="inductive">cored</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#7757924196f683d8b9ef2dcb1bcacc0e"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#9ec30641f7519e3ddb939b1e814668e9"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#x:1023"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#y:1024"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">ext</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICWeakeningEnvConv.html#weakening_env_red1"><span class="id" title="lemma">PCUICWeakeningEnvConv.weakening_env_red1</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="keyword">wf</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">ext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span> 2; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICWeakeningEnvConv.html#weakening_env_red1"><span class="id" title="lemma">PCUICWeakeningEnvConv.weakening_env_red1</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">ext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">X</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="normalization_in_extends" class="idref" href="#normalization_in_extends"><span class="id" title="lemma">normalization_in_extends</span></a> (<a id="8fbd7791708800e51c8b9f8680f5ace0" class="idref" href="#8fbd7791708800e51c8b9f8680f5ace0"><span class="id" title="binder">Σ</span></a> <a id="0c2318152bf63698c11ec73f3e78724b" class="idref" href="#0c2318152bf63698c11ec73f3e78724b"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) <a id="ext:1027" class="idref" href="#ext:1027"><span class="id" title="binder">ext</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8fbd7791708800e51c8b9f8680f5ace0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#0c2318152bf63698c11ec73f3e78724b"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.extends"><span class="id" title="class">extends</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#0c2318152bf63698c11ec73f3e78724b"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8fbd7791708800e51c8b9f8680f5ace0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#8fbd7791708800e51c8b9f8680f5ace0"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ext:1027"><span class="id" title="variable">ext</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#0c2318152bf63698c11ec73f3e78724b"><span class="id" title="variable">Σ'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ext:1027"><span class="id" title="variable">ext</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">extH</span> <span class="id" title="var">nin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">nin</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ext</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">wt</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#env_prop_typing"><span class="id" title="lemma">env_prop_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#weakening_env"><span class="id" title="lemma">weakening_env</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">tea</span>; <span class="id" title="var">cbn</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">nin</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">nin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#cored_extends"><span class="id" title="lemma">cored_extends</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#cored_welltyped"><span class="id" title="lemma">cored_welltyped</span></a>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="iter_abstract_pop_decls_correct" class="idref" href="#iter_abstract_pop_decls_correct"><span class="id" title="lemma">iter_abstract_pop_decls_correct</span></a> {<a id="cf:1028" class="idref" href="#cf:1028"><span class="id" title="binder">cf</span></a>} {<a id="abstract_env_impl:1029" class="idref" href="#abstract_env_impl:1029"><span class="id" title="binder">abstract_env_impl</span></a> <a id="abstract_env_ext_impl:1030" class="idref" href="#abstract_env_ext_impl:1030"><span class="id" title="binder">abstract_env_ext_impl</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="abstract_env_struct0:1031" class="idref" href="#abstract_env_struct0:1031"><span class="id" title="binder">abstract_env_struct0</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_struct"><span class="id" title="class">abstract_env_struct</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#abstract_env_impl:1029"><span class="id" title="variable">abstract_env_impl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#abstract_env_ext_impl:1030"><span class="id" title="variable">abstract_env_ext_impl</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_prop"><span class="id" title="class">abstract_env_prop</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#abstract_env_impl:1029"><span class="id" title="variable">abstract_env_impl</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#abstract_env_ext_impl:1030"><span class="id" title="variable">abstract_env_ext_impl</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="X:1032" class="idref" href="#X:1032"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#abstract_env_impl:1029"><span class="id" title="variable">abstract_env_impl</span></a>) (<a id="decls:1033" class="idref" href="#decls:1033"><span class="id" title="binder">decls</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_decl"><span class="id" title="inductive">global_decl</span></a>)) <a id="n:1034" class="idref" href="#n:1034"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="fe0051c0d31719178872cae2cfca4662" class="idref" href="#fe0051c0d31719178872cae2cfca4662"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fe0051c0d31719178872cae2cfca4662"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:1032"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="decls':1036" class="idref" href="#decls':1036"><span class="id" title="binder">decls'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls':1036"><span class="id" title="variable">decls'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#n:1034"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fe0051c0d31719178872cae2cfca4662"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls':1036"><span class="id" title="variable">decls'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:1033"><span class="id" title="variable">decls</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X':1037" class="idref" href="#X':1037"><span class="id" title="binder">X'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#iter"><span class="id" title="definition">iter</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#n:1034"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:1032"><span class="id" title="variable">X</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="157bf2dcbfb355966b246631bf7ff4c2" class="idref" href="#157bf2dcbfb355966b246631bf7ff4c2"><span class="id" title="binder">Σ</span></a> <a id="e76eb0f443505e9de2393c31b845a6ec" class="idref" href="#e76eb0f443505e9de2393c31b845a6ec"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#157bf2dcbfb355966b246631bf7ff4c2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:1032"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#e76eb0f443505e9de2393c31b845a6ec"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':1037"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#e76eb0f443505e9de2393c31b845a6ec"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:1033"><span class="id" title="variable">decls</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#157bf2dcbfb355966b246631bf7ff4c2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#e76eb0f443505e9de2393c31b845a6ec"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#157bf2dcbfb355966b246631bf7ff4c2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#e76eb0f443505e9de2393c31b845a6ec"><span class="id" title="variable">Σ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ap</span> <span class="id" title="var">X</span> <span class="id" title="var">decls</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>, <span class="id" title="var">decls</span> |- ×. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">hdecl</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">HX</span> <span class="id" title="var">HX'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">hdecl</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">decls'</span> [<span class="id" title="var">hlen</span> <span class="id" title="var">hde</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">decls'</span> ⇒ //. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hde</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">hde</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">HX</span> <span class="id" title="var">HX'</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">hdecl</span> <span class="id" title="var">X'</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">HX</span> <span class="id" title="var">HX'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">hdecl</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">decls'</span> [<span class="id" title="var">hlen</span> <span class="id" title="var">hde</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">decls'</span> ⇒ //; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hde</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHn</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>) <span class="id" title="var">decls</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> (<span class="id" title="var">decls'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">decls</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> ? <span class="id" title="var">h</span>. <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">HX</span> <span class="id" title="var">h</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">p</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> ? <span class="id" title="var">H0</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span> <span class="id" title="var">H0</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>)) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σpop</span> <span class="id" title="var">hpop</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHn</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hpop</span> <span class="id" title="var">HX'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHn</span>. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> (<span class="id" title="var">decls'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">decls</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> ? <span class="id" title="var">hx</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">hx</span> <span class="id" title="var">HX</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">Σ0</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">p</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span> <span class="id" title="var">hpop</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [? []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="skipn_app_prefix" class="idref" href="#skipn_app_prefix"><span class="id" title="lemma">skipn_app_prefix</span></a> {<a id="A:1040" class="idref" href="#A:1040"><span class="id" title="binder">A</span></a>} <a id="n:1041" class="idref" href="#n:1041"><span class="id" title="binder">n</span></a> (<a id="l:1042" class="idref" href="#l:1042"><span class="id" title="binder">l</span></a> <a id="l':1043" class="idref" href="#l':1043"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#A:1040"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#skipn"><span class="id" title="definition">skipn</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#l:1042"><span class="id" title="variable">l</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#n:1041"><span class="id" title="variable">n</span></a>) (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#l:1042"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#l':1043"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#n:1041"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#l':1043"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_deps_fast_erase_global_deps" class="idref" href="#erase_global_deps_fast_erase_global_deps"><span class="id" title="lemma">erase_global_deps_fast_erase_global_deps</span></a> {<a id="deps:1044" class="idref" href="#deps:1044"><span class="id" title="binder">deps</span></a>} {<a id="X_type:1045" class="idref" href="#X_type:1045"><span class="id" title="binder">X_type</span></a> <a id="X:1046" class="idref" href="#X:1046"><span class="id" title="binder">X</span></a>} {<a id="decls:1047" class="idref" href="#decls:1047"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1048" class="idref" href="#normalization_in:1048"><span class="id" title="binder">normalization_in</span></a> <a id="hprefix:1049" class="idref" href="#hprefix:1049"><span class="id" title="binder">hprefix</span></a> <a id="hprefix':1050" class="idref" href="#hprefix':1050"><span class="id" title="binder">hprefix'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="normalization_in':1051" class="idref" href="#normalization_in':1051"><span class="id" title="binder">normalization_in'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_deps_fast"><span class="id" title="definition">erase_global_deps_fast</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:1044"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:1045"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:1046"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:1047"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:1048"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#hprefix:1049"><span class="id" title="variable">hprefix</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase_global_deps"><span class="id" title="definition">erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:1045"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:1044"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:1046"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:1047"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in':1051"><span class="id" title="variable">normalization_in'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#hprefix':1050"><span class="id" title="variable">hprefix'</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ'</span> <span class="id" title="var">H'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H'</span>) <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">hprefix</span> <span class="id" title="var">_</span> <span class="id" title="var">H'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ''</span> ?]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#iter"><span class="id" title="definition">iter</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">X</span>)) <span class="id" title="keyword">as</span> [[? ?]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="var">H1</span>). <span class="id" title="var">noconf</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#iter_abstract_pop_decls_correct"><span class="id" title="lemma">iter_abstract_pop_decls_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">X</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#skipn"><span class="id" title="definition">skipn</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) (<span class="id" title="var">Σ''</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">decls</span>)) (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">H2</span>. { <span class="id" title="tactic">intros</span> ? <span class="id" title="var">h</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">h</span> <span class="id" title="var">H'</span>). <span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#firstn"><span class="id" title="definition">firstn</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) (<span class="id" title="var">Σ''</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">decls</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">firstn_skipn</span>. <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">firstn_length_le</span> //. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">length_app</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H'</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> [? []].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in_extends"><span class="id" title="lemma">normalization_in_extends</span></a>. <span class="id" title="tactic">exact</span> <span class="id" title="var">X1</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.extends_decls_extends"><span class="id" title="instance">extends_decls_extends</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.strictly_extends_decls_extends_decls"><span class="id" title="instance">strictly_extends_decls_extends_decls</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#firstn"><span class="id" title="definition">firstn</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) (<span class="id" title="var">Σ''</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">decls</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">firstn_skipn</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">normalization_in</span> <span class="id" title="var">n</span> <span class="id" title="var">H</span> <span class="id" title="var">kn</span> <span class="id" title="var">cb</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ'</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">cb</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X0</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> <a id="b0441056cfb0191042f4685a75899344" class="idref" href="#b0441056cfb0191042f4685a75899344"><span class="id" title="binder"><span id="e88710bcd7f8b8ed97ae5b9d99fdc0ac" class="id">Σ</span></span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#b0441056cfb0191042f4685a75899344"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <span class="id" title="var">X</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#b0441056cfb0191042f4685a75899344"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">cb</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H'</span> <span class="id" title="var">H5</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span> <span class="id" title="var">Σ'</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">normalization_in</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">foo</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <span class="id" title="var">X</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">cb</span>) <span class="id" title="var">H5</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">foo</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σext</span> <span class="id" title="var">hext</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H'</span> <span class="id" title="var">hext</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span> <span class="id" title="var">Σext</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_deps_fast_spec"><span class="id" title="lemma">erase_global_deps_fast_spec</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="erase_global_fast" class="idref" href="#erase_global_fast"><span class="id" title="definition">erase_global_fast</span></a> <a id="X_type:1054" class="idref" href="#X_type:1054"><span class="id" title="binder">X_type</span></a> <a id="deps:1055" class="idref" href="#deps:1055"><span class="id" title="binder">deps</span></a> <a id="X:1056" class="idref" href="#X:1056"><span class="id" title="binder">X</span></a> <a id="decls:1057" class="idref" href="#decls:1057"><span class="id" title="binder">decls</span></a> {<a id="normalization_in:1058" class="idref" href="#normalization_in:1058"><span class="id" title="binder">normalization_in</span></a>} (<a id="prf:1060" class="idref" href="#prf:1060"><span class="id" title="binder">prf</span></a>:<span class="id" title="keyword">∀</span> <a id="13232618ec10a237a3b281ec01f3a036" class="idref" href="#13232618ec10a237a3b281ec01f3a036"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:1056"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#13232618ec10a237a3b281ec01f3a036"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#13232618ec10a237a3b281ec01f3a036"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:1057"><span class="id" title="variable">decls</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_deps_fast"><span class="id" title="definition">erase_global_deps_fast</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:1055"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:1054"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:1056"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:1057"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:1058"><span class="id" title="variable">normalization_in</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <a id="H:1061" class="idref" href="#H:1061"><span class="id" title="binder">H</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.MRSquash.html#sq"><span class="id" title="constructor">sq</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:1060"><span class="id" title="variable">prf</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#H:1061"><span class="id" title="variable">H</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expanded_erase_global_fast" class="idref" href="#expanded_erase_global_fast"><span class="id" title="lemma">expanded_erase_global_fast</span></a> (<a id="cf:1062" class="idref" href="#cf:1062"><span class="id" title="binder">cf</span></a> := <a class="idref" href="MetaRocq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>) <a id="deps:1063" class="idref" href="#deps:1063"><span class="id" title="binder">deps</span></a><br/>
&nbsp;&nbsp;{<a id="X_type:1064" class="idref" href="#X_type:1064"><span class="id" title="binder">X_type</span></a> <a id="X:1065" class="idref" href="#X:1065"><span class="id" title="binder">X</span></a> <a id="decls:1066" class="idref" href="#decls:1066"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1067" class="idref" href="#normalization_in:1067"><span class="id" title="binder">normalization_in</span></a>} {<a id="normalization_in':1068" class="idref" href="#normalization_in':1068"><span class="id" title="binder">normalization_in'</span></a>:<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#NormalizationIn_erase_global_deps"><span class="id" title="abbreviation">NormalizationIn_erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:1065"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:1066"><span class="id" title="variable">decls</span></a>} {<a id="prf:1069" class="idref" href="#prf:1069"><span class="id" title="binder">prf</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="b8eb60bb63c005b8e8fc498654d86322" class="idref" href="#b8eb60bb63c005b8e8fc498654d86322"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:1065"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#b8eb60bb63c005b8e8fc498654d86322"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEtaExpand.html#expanded_global_env"><span class="id" title="definition">PCUICEtaExpand.expanded_global_env</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#b8eb60bb63c005b8e8fc498654d86322"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded_global_env"><span class="id" title="definition">expanded_global_env</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_fast"><span class="id" title="definition">erase_global_fast</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:1064"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:1063"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:1065"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:1066"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:1067"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:1069"><span class="id" title="variable">prf</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_fast"><span class="id" title="definition">erase_global_fast</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_deps_fast_spec"><span class="id" title="lemma">erase_global_deps_fast_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#expanded_erase_global"><span class="id" title="lemma">expanded_erase_global</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expanded_erase_fast" class="idref" href="#expanded_erase_fast"><span class="id" title="lemma">expanded_erase_fast</span></a> (<a id="cf:1071" class="idref" href="#cf:1071"><span class="id" title="binder">cf</span></a> := <a class="idref" href="MetaRocq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>)<br/>
&nbsp;&nbsp;{<a id="X_type:1072" class="idref" href="#X_type:1072"><span class="id" title="binder">X_type</span></a> <a id="X:1073" class="idref" href="#X:1073"><span class="id" title="binder">X</span></a> <a id="decls:1074" class="idref" href="#decls:1074"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1075" class="idref" href="#normalization_in:1075"><span class="id" title="binder">normalization_in</span></a> <a id="prf:1076" class="idref" href="#prf:1076"><span class="id" title="binder">prf</span></a>} {<a id="normalization_in'':1077" class="idref" href="#normalization_in'':1077"><span class="id" title="binder">normalization_in''</span></a>:<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#NormalizationIn_erase_global_deps"><span class="id" title="abbreviation">NormalizationIn_erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:1073"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:1074"><span class="id" title="variable">decls</span></a>} <a id="univs:1078" class="idref" href="#univs:1078"><span class="id" title="binder">univs</span></a> <a id="93cc250a398ec53c353a2f49bd9917fd" class="idref" href="#93cc250a398ec53c353a2f49bd9917fd"><span class="id" title="binder">wfΣ</span></a> <a id="t:1080" class="idref" href="#t:1080"><span class="id" title="binder">t</span></a> <a id="wtp:1081" class="idref" href="#wtp:1081"><span class="id" title="binder">wtp</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="9e2e2d4129c973e1406df6c576605279" class="idref" href="#9e2e2d4129c973e1406df6c576605279"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:1073"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#9e2e2d4129c973e1406df6c576605279"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICEtaExpand.html#expanded"><span class="id" title="inductive">PCUICEtaExpand.expanded</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#9e2e2d4129c973e1406df6c576605279"><span class="id" title="variable">Σ</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:1080"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X':1083" class="idref" href="#X':1083"><span class="id" title="binder">X'</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:1073"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:1078"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#93cc250a398ec53c353a2f49bd9917fd"><span class="id" title="variable">wfΣ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="normalization_in':1085" class="idref" href="#normalization_in':1085"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="d8e9076271a48e60fbfc535c2babc2a4" class="idref" href="#d8e9076271a48e60fbfc535c2babc2a4"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d8e9076271a48e60fbfc535c2babc2a4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d8e9076271a48e60fbfc535c2babc2a4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':1083"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#d8e9076271a48e60fbfc535c2babc2a4"><span class="id" title="variable">Σ</span></a>),<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="et:1086" class="idref" href="#et:1086"><span class="id" title="binder">et</span></a> := (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:1072"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':1083"><span class="id" title="variable">X'</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:1080"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wtp:1081"><span class="id" title="variable">wtp</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="deps:1087" class="idref" href="#deps:1087"><span class="id" title="binder">deps</span></a> := <a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">EAstUtils.term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#et:1086"><span class="id" title="variable">et</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_fast"><span class="id" title="definition">erase_global_fast</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:1072"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:1087"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:1073"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:1074"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:1075"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:1076"><span class="id" title="variable">prf</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#et:1086"><span class="id" title="variable">et</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">hexp</span> <span class="id" title="var">X'</span> <span class="id" title="var">normalization_in'</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> [?].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureCorrectness.html#expanded_erases"><span class="id" title="lemma">expanded_erases</span></a> (<span class="id" title="var">Σ</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">univs</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a> (<span class="id" title="var">X</span> := <span class="id" title="var">X'</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="var">wfmake</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfmake</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_fast"><span class="id" title="definition">erase_global_fast</span></a>. <span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_deps_fast_spec"><span class="id" title="lemma">erase_global_deps_fast_spec</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erases_deps_erase"><span class="id" title="lemma">erases_deps_erase</span></a> (<span class="id" title="var">X</span> := <span class="id" title="var">X</span>) <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_fast_wf_glob" class="idref" href="#erase_global_fast_wf_glob"><span class="id" title="lemma">erase_global_fast_wf_glob</span></a> <a id="X_type:1088" class="idref" href="#X_type:1088"><span class="id" title="binder">X_type</span></a> <a id="deps:1089" class="idref" href="#deps:1089"><span class="id" title="binder">deps</span></a> <a id="X:1090" class="idref" href="#X:1090"><span class="id" title="binder">X</span></a> <a id="decls:1091" class="idref" href="#decls:1091"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1092" class="idref" href="#normalization_in:1092"><span class="id" title="binder">normalization_in</span></a> (<a id="normalization_in':1093" class="idref" href="#normalization_in':1093"><span class="id" title="binder">normalization_in'</span></a>:<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#NormalizationIn_erase_global_deps"><span class="id" title="abbreviation">NormalizationIn_erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:1090"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:1091"><span class="id" title="variable">decls</span></a>) <a id="prf:1094" class="idref" href="#prf:1094"><span class="id" title="binder">prf</span></a> :<br/>
&nbsp;&nbsp;@<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaRocq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_fast"><span class="id" title="definition">erase_global_fast</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:1088"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#deps:1089"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:1090"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:1091"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:1092"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:1094"><span class="id" title="variable">prf</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_fast"><span class="id" title="definition">erase_global_fast</span></a>; <span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_deps_fast_spec"><span class="id" title="lemma">erase_global_deps_fast_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_deps_wf_glob"><span class="id" title="lemma">erase_global_deps_wf_glob</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_wellformed_fast" class="idref" href="#erase_wellformed_fast"><span class="id" title="lemma">erase_wellformed_fast</span></a> (<a id="efl:1095" class="idref" href="#efl:1095"><span class="id" title="binder">efl</span></a> := <a class="idref" href="MetaRocq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a>)<br/>
&nbsp;&nbsp;{<a id="X_type:1096" class="idref" href="#X_type:1096"><span class="id" title="binder">X_type</span></a> <a id="X:1097" class="idref" href="#X:1097"><span class="id" title="binder">X</span></a> <a id="decls:1098" class="idref" href="#decls:1098"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1099" class="idref" href="#normalization_in:1099"><span class="id" title="binder">normalization_in</span></a> <a id="prf:1100" class="idref" href="#prf:1100"><span class="id" title="binder">prf</span></a>} {<a id="normalization_in'':1101" class="idref" href="#normalization_in'':1101"><span class="id" title="binder">normalization_in''</span></a>:<a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#NormalizationIn_erase_global_deps"><span class="id" title="abbreviation">NormalizationIn_erase_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:1097"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:1098"><span class="id" title="variable">decls</span></a>} <a id="univs:1102" class="idref" href="#univs:1102"><span class="id" title="binder">univs</span></a> <a id="4b9c83e88b825f3f69600b2de3b666f9" class="idref" href="#4b9c83e88b825f3f69600b2de3b666f9"><span class="id" title="binder">wfΣ</span></a> {<a id="af8e54996ebd22ce8523a9b5949bc82f" class="idref" href="#af8e54996ebd22ce8523a9b5949bc82f"><span class="id" title="binder">Γ</span></a> <a id="t:1105" class="idref" href="#t:1105"><span class="id" title="binder">t</span></a>} <a id="wt:1106" class="idref" href="#wt:1106"><span class="id" title="binder">wt</span></a><br/>
&nbsp;&nbsp;(<a id="X':1107" class="idref" href="#X':1107"><span class="id" title="binder">X'</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:1097"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#univs:1102"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#4b9c83e88b825f3f69600b2de3b666f9"><span class="id" title="variable">wfΣ</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in':1109" class="idref" href="#normalization_in':1109"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="5f6e67ca28a44b212786dd597bdd83e2" class="idref" href="#5f6e67ca28a44b212786dd597bdd83e2"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#5f6e67ca28a44b212786dd597bdd83e2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#5f6e67ca28a44b212786dd597bdd83e2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':1107"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#5f6e67ca28a44b212786dd597bdd83e2"><span class="id" title="variable">Σ</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t':1110" class="idref" href="#t':1110"><span class="id" title="binder">t'</span></a> := <a class="idref" href="MetaRocq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:1096"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X':1107"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#af8e54996ebd22ce8523a9b5949bc82f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:1105"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#wt:1106"><span class="id" title="variable">wt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EWellformed.html#wellformed"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_fast"><span class="id" title="definition">erase_global_fast</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X_type:1096"><span class="id" title="variable">X_type</span></a> (<a class="idref" href="MetaRocq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':1110"><span class="id" title="variable">t'</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#X:1097"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#decls:1098"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#normalization_in:1099"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#prf:1100"><span class="id" title="variable">prf</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#af8e54996ebd22ce8523a9b5949bc82f"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':1110"><span class="id" title="variable">t'</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_fast"><span class="id" title="definition">erase_global_fast</span></a>. <span class="id" title="var">erewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_global_deps_fast_spec"><span class="id" title="lemma">erase_global_deps_fast_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erase_wellformed_deps"><span class="id" title="lemma">erase_wellformed_deps</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#EraseGlobalFast"><span class="id" title="section">EraseGlobalFast</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="compile_value_erase" class="idref" href="#compile_value_erase"><span class="id" title="definition">compile_value_erase</span></a> (<a id="t:1111" class="idref" href="#t:1111"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">PCUICAst.term</span></a>) (<a id="acc:1112" class="idref" href="#acc:1112"><span class="id" title="binder">acc</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a>) : <a class="idref" href="MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:1111"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">PCUICAst.tApp</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span> ⇒ <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#compile_value_erase:1113"><span class="id" title="definition">compile_value_erase</span></a> <span class="id" title="var">f</span> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#compile_value_erase:1113"><span class="id" title="definition">compile_value_erase</span></a> <span class="id" title="var">a</span> <span class="id" title="notation">[]</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#acc:1112"><span class="id" title="variable">acc</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">PCUICAst.tConstruct</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">EAst.mkApps</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tConstruct"><span class="id" title="constructor">EAst.tConstruct</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="notation">[]</span>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#acc:1112"><span class="id" title="variable">acc</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Erasure.EAst.html#tVar"><span class="id" title="constructor">EAst.tVar</span></a> "error"<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="compile_value_erase_mkApps" class="idref" href="#compile_value_erase_mkApps"><span class="id" title="lemma">compile_value_erase_mkApps</span></a> <a id="i:1115" class="idref" href="#i:1115"><span class="id" title="binder">i</span></a> <a id="n:1116" class="idref" href="#n:1116"><span class="id" title="binder">n</span></a> <a id="ui:1117" class="idref" href="#ui:1117"><span class="id" title="binder">ui</span></a> <a id="args:1118" class="idref" href="#args:1118"><span class="id" title="binder">args</span></a> <a id="acc:1119" class="idref" href="#acc:1119"><span class="id" title="binder">acc</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#compile_value_erase"><span class="id" title="definition">compile_value_erase</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#i:1115"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#n:1116"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#ui:1117"><span class="id" title="variable">ui</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#args:1118"><span class="id" title="variable">args</span></a>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#acc:1119"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.EAst.html#mkApps"><span class="id" title="definition">EAst.mkApps</span></a> (<a class="idref" href="MetaRocq.Erasure.EAst.html#tConstruct"><span class="id" title="constructor">EAst.tConstruct</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#i:1115"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#n:1116"><span class="id" title="variable">n</span></a> <span class="id" title="notation">[]</span>) (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#compile_value_erase"><span class="id" title="definition">compile_value_erase</span></a> <span class="id" title="notation">[]</span>) <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#args:1118"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#acc:1119"><span class="id" title="variable">acc</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">acc</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">args</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">acc</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#mkApps_app"><span class="id" title="lemma">PCUICAstUtils.mkApps_app</span></a> /=. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHargs</span> <span class="id" title="lemma">map_app</span> /= -<span class="id" title="lemma">app_assoc</span> /=.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erases_firstorder" class="idref" href="#erases_firstorder"><span class="id" title="lemma">erases_firstorder</span></a> <a id="bbe1f87a77e80436b7980f60f06e90d9" class="idref" href="#bbe1f87a77e80436b7980f60f06e90d9"><span class="id" title="binder">Σ</span></a> <a id="38d3666a664372b780efd16613fac93a" class="idref" href="#38d3666a664372b780efd16613fac93a"><span class="id" title="binder">Γ</span></a> <a id="t:1122" class="idref" href="#t:1122"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICFirstorder.html#firstorder_value"><span class="id" title="inductive">PCUICFirstorder.firstorder_value</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#bbe1f87a77e80436b7980f60f06e90d9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#38d3666a664372b780efd16613fac93a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:1122"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Erasure.Extract.html#erases"><span class="id" title="inductive">erases</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#bbe1f87a77e80436b7980f60f06e90d9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#38d3666a664372b780efd16613fac93a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:1122"><span class="id" title="variable">t</span></a> (<a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#compile_value_erase"><span class="id" title="definition">compile_value_erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:1122"><span class="id" title="variable">t</span></a> <span class="id" title="notation">[]</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="MetaRocq.PCUIC.PCUICFirstorder.html#firstorder_value_inds"><span class="id" title="lemma">PCUICFirstorder.firstorder_value_inds</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">ui</span> <span class="id" title="var">u</span> <span class="id" title="var">args</span> <span class="id" title="var">pandi</span> <span class="id" title="var">hty</span> <span class="id" title="var">hfo</span> <span class="id" title="var">ih</span> <span class="id" title="var">isp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="inductive">Forall2</span> (<a class="idref" href="MetaRocq.Erasure.Extract.html#erases"><span class="id" title="inductive">erases</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span>) <span class="id" title="var">args</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#compile_value_erase"><span class="id" title="definition">compile_value_erase</span></a> <span class="id" title="notation">[]</span>) <span class="id" title="var">args</span>)).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">PCUICAstUtils.solve_all</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.ErasureProperties.html#erases_mkApps"><span class="id" title="lemma">erases_mkApps</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">ui</span>) (<a class="idref" href="MetaRocq.Erasure.EAst.html#tConstruct"><span class="id" title="constructor">EAst.tConstruct</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="notation">[]</span>) <span class="id" title="var">args</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#compile_value_erase_mkApps"><span class="id" title="lemma">compile_value_erase_mkApps</span></a> <span class="id" title="lemma">app_nil_r</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erases_firstorder'" class="idref" href="#erases_firstorder'"><span class="id" title="lemma">erases_firstorder'</span></a> <a id="755df395a0bb889b789842a413e9016f" class="idref" href="#755df395a0bb889b789842a413e9016f"><span class="id" title="binder">Σ</span></a> <a id="fbd4be061d9eeb47eff8161a9ecf0346" class="idref" href="#fbd4be061d9eeb47eff8161a9ecf0346"><span class="id" title="binder">Γ</span></a> <a id="t:1125" class="idref" href="#t:1125"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#755df395a0bb889b789842a413e9016f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICFirstorder.html#firstorder_value"><span class="id" title="inductive">PCUICFirstorder.firstorder_value</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#755df395a0bb889b789842a413e9016f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fbd4be061d9eeb47eff8161a9ecf0346"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:1125"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="t':1126" class="idref" href="#t':1126"><span class="id" title="binder">t'</span></a>, <a class="idref" href="MetaRocq.Erasure.Extract.html#erases"><span class="id" title="inductive">erases</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#755df395a0bb889b789842a413e9016f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#fbd4be061d9eeb47eff8161a9ecf0346"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:1125"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':1126"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t':1126"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#compile_value_erase"><span class="id" title="definition">compile_value_erase</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#t:1125"><span class="id" title="variable">t</span></a> <span class="id" title="notation">[]</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="MetaRocq.PCUIC.PCUICFirstorder.html#firstorder_value_inds"><span class="id" title="lemma">PCUICFirstorder.firstorder_value_inds</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">ui</span> <span class="id" title="var">u</span> <span class="id" title="var">args</span> <span class="id" title="var">pandi</span> <span class="id" title="var">hty</span> <span class="id" title="var">hfo</span> <span class="id" title="var">ih</span> <span class="id" title="var">isp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="inductive">Forall2</span> (<a class="idref" href="MetaRocq.Erasure.Extract.html#erases"><span class="id" title="inductive">erases</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span>) <span class="id" title="var">args</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#compile_value_erase"><span class="id" title="definition">compile_value_erase</span></a> <span class="id" title="notation">[]</span>) <span class="id" title="var">args</span>)).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_All2"><span class="id" title="lemma">All_All2</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> [<span class="id" title="var">fo</span> <span class="id" title="var">hx</span>]. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#erases_firstorder"><span class="id" title="lemma">erases_firstorder</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Erasure.ErasureProperties.html#erases_mkApps"><span class="id" title="lemma">erases_mkApps</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">ui</span>) (<a class="idref" href="MetaRocq.Erasure.EAst.html#tConstruct"><span class="id" title="constructor">EAst.tConstruct</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="notation">[]</span>) <span class="id" title="var">args</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Erasure.ErasureFunctionProperties.html#compile_value_erase_mkApps"><span class="id" title="lemma">compile_value_erase_mkApps</span></a> <span class="id" title="lemma">app_nil_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t'</span> <span class="id" title="var">ht'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.ErasureProperties.html#erases_mkApps_inv"><span class="id" title="lemma">erases_mkApps_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ht'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ht'</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [? [? [? [? [[] ?]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Erasure.EArities.html#isErasable_Propositional"><span class="id" title="lemma">isErasable_Propositional</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">X</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isp</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">f'</span> [<span class="id" title="var">L'</span> [-&gt; [<span class="id" title="var">erc</span> <span class="id" title="var">erargs</span>]]]].<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">erc</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">erargs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">erargs</span> ⇒ //. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHerargs</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> [[] ?]. <span class="id" title="tactic">eapply</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e0</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Erasure.EArities.html#isErasable_Propositional"><span class="id" title="lemma">isErasable_Propositional</span></a> (<span class="id" title="var">args</span> := <span class="id" title="notation">[]</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">X</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">X</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isp</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
