<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>MetaCoq.Erasure.EOptimizePropDiscr</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library MetaCoq.Erasure.EOptimizePropDiscr</h1>

<div class="code">

<br/>

<br/>

<br/>
</div>

<div class="doc">
We assumes <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> <span class="inlinecode">&lt;/=</span> <span class="inlinecode"><span class="id" title="keyword">Type</span></span> and universes are checked correctly in the following. 
</div>
<div class="code">

<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Constructors</span> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#eval"><span class="id" title="inductive">eval</span></a> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="optimize" class="idref" href="#optimize"><span class="id" title="section">optimize</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="0101b9beac487b383a5ba2a8f6922788" class="idref" href="#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="optimize" class="idref" href="#optimize"><span class="id" title="definition">optimize</span></a> (<a id="t:2" class="idref" href="#t:2"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:2"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <span class="id" title="var">i</span> ⇒ <a class="idref" href="MetaCoq.Erasure.EAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tEvar"><span class="id" title="constructor">tEvar</span></a> <span class="id" title="var">ev</span> <span class="id" title="var">args</span> ⇒ <a class="idref" href="MetaCoq.Erasure.EAst.html#tEvar"><span class="id" title="constructor">tEvar</span></a> <span class="id" title="var">ev</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize:3"><span class="id" title="definition">optimize</span></a> <span class="id" title="var">args</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">na</span> <span class="id" title="var">M</span> ⇒ <a class="idref" href="MetaCoq.Erasure.EAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">na</span> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize:3"><span class="id" title="definition">optimize</span></a> <span class="id" title="var">M</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">u</span> <span class="id" title="var">v</span> ⇒ <a class="idref" href="MetaCoq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize:3"><span class="id" title="definition">optimize</span></a> <span class="id" title="var">u</span>) (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize:3"><span class="id" title="definition">optimize</span></a> <span class="id" title="var">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> ⇒ <a class="idref" href="MetaCoq.Erasure.EAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <span class="id" title="var">na</span> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize:3"><span class="id" title="definition">optimize</span></a> <span class="id" title="var">b</span>) (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize:3"><span class="id" title="definition">optimize</span></a> <span class="id" title="var">b'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">c</span> <span class="id" title="var">brs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="brs':5" class="idref" href="#brs':5"><span class="id" title="binder">brs'</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.Template.utils.MCProd.html#on_snd"><span class="id" title="definition">on_snd</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize:3"><span class="id" title="definition">optimize</span></a>) <span class="id" title="var">brs</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.inductive_isprop_and_pars"><span class="id" title="definition">GlobalContextMap.inductive_isprop_and_pars</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#0b7c5fc446210cfa88d917d56e475097"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">ind</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">npars</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#brs':5"><span class="id" title="variable">brs'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> ⇒ <a class="idref" href="MetaCoq.Erasure.ECSubst.html#substl"><span class="id" title="definition">ECSubst.substl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#repeat"><span class="id" title="definition">repeat</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#tBox"><span class="id" title="constructor">tBox</span></a> <a class="idref" href="MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">a</span><a class="idref" href="MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaCoq.Erasure.EAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <span class="id" title="var">ind</span> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize:3"><span class="id" title="definition">optimize</span></a> <span class="id" title="var">c</span>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#brs':5"><span class="id" title="variable">brs'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaCoq.Erasure.EAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <span class="id" title="var">ind</span> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize:3"><span class="id" title="definition">optimize</span></a> <span class="id" title="var">c</span>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#brs':5"><span class="id" title="variable">brs'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <span class="id" title="var">p</span> <span class="id" title="var">c</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.inductive_isprop_and_pars"><span class="id" title="definition">GlobalContextMap.inductive_isprop_and_pars</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#0b7c5fc446210cfa88d917d56e475097"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">p</span>.(<a class="idref" href="MetaCoq.Template.Kernames.html#proj_ind"><span class="id" title="projection">proj_ind</span></a>) <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="MetaCoq.Erasure.EAst.html#tBox"><span class="id" title="constructor">tBox</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaCoq.Erasure.EAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <span class="id" title="var">p</span> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize:3"><span class="id" title="definition">optimize</span></a> <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mfix':7" class="idref" href="#mfix':7"><span class="id" title="binder">mfix'</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#map_def"><span class="id" title="definition">map_def</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize:3"><span class="id" title="definition">optimize</span></a>) <span class="id" title="var">mfix</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#mfix':7"><span class="id" title="variable">mfix'</span></a> <span class="id" title="var">idx</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mfix':8" class="idref" href="#mfix':8"><span class="id" title="binder">mfix'</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#map_def"><span class="id" title="definition">map_def</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize:3"><span class="id" title="definition">optimize</span></a>) <span class="id" title="var">mfix</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#mfix':8"><span class="id" title="variable">mfix'</span></a> <span class="id" title="var">idx</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tBox"><span class="id" title="constructor">tBox</span></a> ⇒ <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:2"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tVar"><span class="id" title="constructor">tVar</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:2"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tConst"><span class="id" title="constructor">tConst</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:2"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">i</span> <span class="id" title="var">args</span> ⇒ <a class="idref" href="MetaCoq.Erasure.EAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">i</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize:3"><span class="id" title="definition">optimize</span></a> <span class="id" title="var">args</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="optimize_mkApps" class="idref" href="#optimize_mkApps"><span class="id" title="lemma">optimize_mkApps</span></a> <a id="f:9" class="idref" href="#f:9"><span class="id" title="binder">f</span></a> <a id="l:10" class="idref" href="#l:10"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#f:9"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#l:10"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#f:9"><span class="id" title="variable">f</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#l:10"><span class="id" title="variable">l</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map_repeat" class="idref" href="#map_repeat"><span class="id" title="lemma">map_repeat</span></a> {<a id="A:11" class="idref" href="#A:11"><span class="id" title="binder">A</span></a> <a id="B:12" class="idref" href="#B:12"><span class="id" title="binder">B</span></a>} (<a id="f:13" class="idref" href="#f:13"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#A:11"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#B:12"><span class="id" title="variable">B</span></a>) <a id="x:14" class="idref" href="#x:14"><span class="id" title="binder">x</span></a> <a id="n:15" class="idref" href="#n:15"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#f:13"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#repeat"><span class="id" title="definition">repeat</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#x:14"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#n:15"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#repeat"><span class="id" title="definition">repeat</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#f:13"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#x:14"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#n:15"><span class="id" title="variable">n</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map_optimize_repeat_box" class="idref" href="#map_optimize_repeat_box"><span class="id" title="lemma">map_optimize_repeat_box</span></a> <a id="n:16" class="idref" href="#n:16"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#repeat"><span class="id" title="definition">repeat</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#tBox"><span class="id" title="constructor">tBox</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#n:16"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#repeat"><span class="id" title="definition">repeat</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#tBox"><span class="id" title="constructor">tBox</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#n:16"><span class="id" title="variable">n</span></a>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="csubst_mkApps" class="idref" href="#csubst_mkApps"><span class="id" title="lemma">csubst_mkApps</span></a> {<a id="a:17" class="idref" href="#a:17"><span class="id" title="binder">a</span></a> <a id="k:18" class="idref" href="#k:18"><span class="id" title="binder">k</span></a> <a id="f:19" class="idref" href="#f:19"><span class="id" title="binder">f</span></a> <a id="l:20" class="idref" href="#l:20"><span class="id" title="binder">l</span></a>} : <a class="idref" href="MetaCoq.Erasure.ECSubst.html#csubst"><span class="id" title="definition">csubst</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#a:17"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#k:18"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#f:19"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#l:20"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.Erasure.ECSubst.html#csubst"><span class="id" title="definition">csubst</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#a:17"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#k:18"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#f:19"><span class="id" title="variable">f</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Erasure.ECSubst.html#csubst"><span class="id" title="definition">csubst</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#a:17"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#k:18"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#l:20"><span class="id" title="variable">l</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="csubst_closed" class="idref" href="#csubst_closed"><span class="id" title="lemma">csubst_closed</span></a> <a id="t:21" class="idref" href="#t:21"><span class="id" title="binder">t</span></a> <a id="k:22" class="idref" href="#k:22"><span class="id" title="binder">k</span></a> <a id="x:23" class="idref" href="#x:23"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Erasure.ELiftSubst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#k:22"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#x:23"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ECSubst.html#csubst"><span class="id" title="definition">csubst</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:21"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#k:22"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#x:23"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#x:23"><span class="id" title="variable">x</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="closed_optimize" class="idref" href="#closed_optimize"><span class="id" title="lemma">closed_optimize</span></a> <a id="t:24" class="idref" href="#t:24"><span class="id" title="binder">t</span></a> <a id="k:25" class="idref" href="#k:25"><span class="id" title="binder">k</span></a> : <a class="idref" href="MetaCoq.Erasure.ELiftSubst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#k:25"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:24"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ELiftSubst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#k:25"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:24"><span class="id" title="variable">t</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_csubst_comm" class="idref" href="#subst_csubst_comm"><span class="id" title="lemma">subst_csubst_comm</span></a> <a id="l:26" class="idref" href="#l:26"><span class="id" title="binder">l</span></a> <a id="t:27" class="idref" href="#t:27"><span class="id" title="binder">t</span></a> <a id="k:28" class="idref" href="#k:28"><span class="id" title="binder">k</span></a> <a id="b:29" class="idref" href="#b:29"><span class="id" title="binder">b</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.Erasure.ELiftSubst.html#closedn"><span class="id" title="definition">closedn</span></a> 0) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#l:26"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ELiftSubst.html#closed"><span class="id" title="abbreviation">closed</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:27"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ELiftSubst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#l:26"><span class="id" title="variable">l</span></a> 0 (<a class="idref" href="MetaCoq.Erasure.ECSubst.html#csubst"><span class="id" title="definition">csubst</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:27"><span class="id" title="variable">t</span></a> (<a class="idref" href="MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#l:26"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#k:28"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#b:29"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ECSubst.html#csubst"><span class="id" title="definition">csubst</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:27"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#k:28"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.Erasure.ELiftSubst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#l:26"><span class="id" title="variable">l</span></a> 0 <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#b:29"><span class="id" title="variable">b</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="substl_subst" class="idref" href="#substl_subst"><span class="id" title="lemma">substl_subst</span></a> <a id="s:30" class="idref" href="#s:30"><span class="id" title="binder">s</span></a> <a id="t:31" class="idref" href="#t:31"><span class="id" title="binder">t</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.Erasure.ELiftSubst.html#closedn"><span class="id" title="definition">closedn</span></a> 0) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#s:30"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ECSubst.html#substl"><span class="id" title="definition">substl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#s:30"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:31"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ELiftSubst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#s:30"><span class="id" title="variable">s</span></a> 0 <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:31"><span class="id" title="variable">t</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="substl_csubst_comm" class="idref" href="#substl_csubst_comm"><span class="id" title="lemma">substl_csubst_comm</span></a> <a id="l:32" class="idref" href="#l:32"><span class="id" title="binder">l</span></a> <a id="t:33" class="idref" href="#t:33"><span class="id" title="binder">t</span></a> <a id="k:34" class="idref" href="#k:34"><span class="id" title="binder">k</span></a> <a id="b:35" class="idref" href="#b:35"><span class="id" title="binder">b</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.Erasure.ELiftSubst.html#closedn"><span class="id" title="definition">closedn</span></a> 0) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#l:32"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ELiftSubst.html#closed"><span class="id" title="abbreviation">closed</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:33"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ECSubst.html#substl"><span class="id" title="definition">substl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#l:32"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.Erasure.ECSubst.html#csubst"><span class="id" title="definition">csubst</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:33"><span class="id" title="variable">t</span></a> (<a class="idref" href="MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#l:32"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#k:34"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#b:35"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ECSubst.html#csubst"><span class="id" title="definition">csubst</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:33"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#k:34"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.Erasure.ECSubst.html#substl"><span class="id" title="definition">substl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#l:32"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#b:35"><span class="id" title="variable">b</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="optimize_csubst" class="idref" href="#optimize_csubst"><span class="id" title="lemma">optimize_csubst</span></a> <a id="a:36" class="idref" href="#a:36"><span class="id" title="binder">a</span></a> <a id="k:37" class="idref" href="#k:37"><span class="id" title="binder">k</span></a> <a id="b:38" class="idref" href="#b:38"><span class="id" title="binder">b</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ELiftSubst.html#closed"><span class="id" title="abbreviation">closed</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#a:36"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> (<a class="idref" href="MetaCoq.Erasure.ECSubst.html#csubst"><span class="id" title="definition">ECSubst.csubst</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#a:36"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#k:37"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#b:38"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ECSubst.html#csubst"><span class="id" title="definition">ECSubst.csubst</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#a:36"><span class="id" title="variable">a</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#k:37"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#b:38"><span class="id" title="variable">b</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="optimize_substl" class="idref" href="#optimize_substl"><span class="id" title="lemma">optimize_substl</span></a> <a id="s:39" class="idref" href="#s:39"><span class="id" title="binder">s</span></a> <a id="t:40" class="idref" href="#t:40"><span class="id" title="binder">t</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.Erasure.ELiftSubst.html#closedn"><span class="id" title="definition">closedn</span></a> 0) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#s:39"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> (<a class="idref" href="MetaCoq.Erasure.ECSubst.html#substl"><span class="id" title="definition">substl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#s:39"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:40"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ECSubst.html#substl"><span class="id" title="definition">substl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#s:39"><span class="id" title="variable">s</span></a>) (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:40"><span class="id" title="variable">t</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="optimize_iota_red" class="idref" href="#optimize_iota_red"><span class="id" title="lemma">optimize_iota_red</span></a> <a id="pars:41" class="idref" href="#pars:41"><span class="id" title="binder">pars</span></a> <a id="args:42" class="idref" href="#args:42"><span class="id" title="binder">args</span></a> <a id="br:43" class="idref" href="#br:43"><span class="id" title="binder">br</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.Erasure.ELiftSubst.html#closedn"><span class="id" title="definition">closedn</span></a> 0) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#args:42"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> (<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#iota_red"><span class="id" title="definition">EGlobalEnv.iota_red</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#pars:41"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#args:42"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#br:43"><span class="id" title="variable">br</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#iota_red"><span class="id" title="definition">EGlobalEnv.iota_red</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#pars:41"><span class="id" title="variable">pars</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#args:42"><span class="id" title="variable">args</span></a>) (<a class="idref" href="MetaCoq.Template.utils.MCProd.html#on_snd"><span class="id" title="definition">on_snd</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#br:43"><span class="id" title="variable">br</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="optimize_fix_subst" class="idref" href="#optimize_fix_subst"><span class="id" title="lemma">optimize_fix_subst</span></a> <a id="mfix:44" class="idref" href="#mfix:44"><span class="id" title="binder">mfix</span></a> : <a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#fix_subst"><span class="id" title="definition">EGlobalEnv.fix_subst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#map_def"><span class="id" title="definition">map_def</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#mfix:44"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> (<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#fix_subst"><span class="id" title="definition">EGlobalEnv.fix_subst</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#mfix:44"><span class="id" title="variable">mfix</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="optimize_cofix_subst" class="idref" href="#optimize_cofix_subst"><span class="id" title="lemma">optimize_cofix_subst</span></a> <a id="mfix:45" class="idref" href="#mfix:45"><span class="id" title="binder">mfix</span></a> : <a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#cofix_subst"><span class="id" title="definition">EGlobalEnv.cofix_subst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#map_def"><span class="id" title="definition">map_def</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#mfix:45"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> (<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#cofix_subst"><span class="id" title="definition">EGlobalEnv.cofix_subst</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#mfix:45"><span class="id" title="variable">mfix</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="optimize_cunfold_fix" class="idref" href="#optimize_cunfold_fix"><span class="id" title="lemma">optimize_cunfold_fix</span></a> <a id="mfix:46" class="idref" href="#mfix:46"><span class="id" title="binder">mfix</span></a> <a id="idx:47" class="idref" href="#idx:47"><span class="id" title="binder">idx</span></a> <a id="n:48" class="idref" href="#n:48"><span class="id" title="binder">n</span></a> <a id="f:49" class="idref" href="#f:49"><span class="id" title="binder">f</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.Erasure.ELiftSubst.html#closedn"><span class="id" title="definition">closedn</span></a> 0) (<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#fix_subst"><span class="id" title="definition">EGlobalEnv.fix_subst</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#mfix:46"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#cunfold_fix"><span class="id" title="definition">cunfold_fix</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#mfix:46"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#idx:47"><span class="id" title="variable">idx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#n:48"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#f:49"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#cunfold_fix"><span class="id" title="definition">cunfold_fix</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#map_def"><span class="id" title="definition">map_def</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#mfix:46"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#idx:47"><span class="id" title="variable">idx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#n:48"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#f:49"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="optimize_cunfold_cofix" class="idref" href="#optimize_cunfold_cofix"><span class="id" title="lemma">optimize_cunfold_cofix</span></a> <a id="mfix:50" class="idref" href="#mfix:50"><span class="id" title="binder">mfix</span></a> <a id="idx:51" class="idref" href="#idx:51"><span class="id" title="binder">idx</span></a> <a id="n:52" class="idref" href="#n:52"><span class="id" title="binder">n</span></a> <a id="f:53" class="idref" href="#f:53"><span class="id" title="binder">f</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.Erasure.ELiftSubst.html#closedn"><span class="id" title="definition">closedn</span></a> 0) (<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#cofix_subst"><span class="id" title="definition">EGlobalEnv.cofix_subst</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#mfix:50"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#cunfold_cofix"><span class="id" title="definition">cunfold_cofix</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#mfix:50"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#idx:51"><span class="id" title="variable">idx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#n:52"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#f:53"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#cunfold_cofix"><span class="id" title="definition">cunfold_cofix</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#map_def"><span class="id" title="definition">map_def</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#mfix:50"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#idx:51"><span class="id" title="variable">idx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#n:52"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#f:53"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="optimize_nth" class="idref" href="#optimize_nth"><span class="id" title="lemma">optimize_nth</span></a> {<a id="n:54" class="idref" href="#n:54"><span class="id" title="binder">n</span></a> <a id="l:55" class="idref" href="#l:55"><span class="id" title="binder">l</span></a> <a id="d:56" class="idref" href="#d:56"><span class="id" title="binder">d</span></a>} : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#n:54"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#l:55"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#d:56"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#n:54"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#l:55"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#d:56"><span class="id" title="variable">d</span></a>).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="section">optimize</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_box_inv" class="idref" href="#is_box_inv"><span class="id" title="lemma">is_box_inv</span></a> <a id="b:57" class="idref" href="#b:57"><span class="id" title="binder">b</span></a> : <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#is_box"><span class="id" title="definition">is_box</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#b:57"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="args:58" class="idref" href="#args:58"><span class="id" title="binder">args</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#b:57"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#tBox"><span class="id" title="constructor">tBox</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#args:58"><span class="id" title="variable">args</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eval_is_box" class="idref" href="#eval_is_box"><span class="id" title="lemma">eval_is_box</span></a> {<a id="wfl:59" class="idref" href="#wfl:59"><span class="id" title="binder">wfl</span></a>:<a class="idref" href="MetaCoq.Erasure.EWcbvEval.html#WcbvFlags"><span class="id" title="class">WcbvFlags</span></a>} <a id="18525328a91152dd2803b9136e78a252" class="idref" href="#18525328a91152dd2803b9136e78a252"><span class="id" title="binder">Σ</span></a> <a id="t:61" class="idref" href="#t:61"><span class="id" title="binder">t</span></a> <a id="u:62" class="idref" href="#u:62"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#18525328a91152dd2803b9136e78a252"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EDeps.html#2e8ed575ebe580f39f6106f499cffee0"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:61"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.EDeps.html#2e8ed575ebe580f39f6106f499cffee0"><span class="id" title="notation">▷</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#u:62"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#is_box"><span class="id" title="definition">is_box</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:61"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#u:62"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#tBox"><span class="id" title="constructor">EAst.tBox</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isType_tSort" class="idref" href="#isType_tSort"><span class="id" title="lemma">isType_tSort</span></a> {<a id="cf:63" class="idref" href="#cf:63"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaCoq.Template.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="cc2b65564304e5a54a9642e62d8a48fa" class="idref" href="#cc2b65564304e5a54a9642e62d8a48fa"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="79e37c9ff12ecc84ba1fac2efe4b1d20" class="idref" href="#79e37c9ff12ecc84ba1fac2efe4b1d20"><span class="id" title="binder">Γ</span></a> <a id="l:66" class="idref" href="#l:66"><span class="id" title="binder">l</span></a> <a id="A:67" class="idref" href="#A:67"><span class="id" title="binder">A</span></a>} {<a id="31fbf7b6d85c6d1c941c3d4c66df8fc4" class="idref" href="#31fbf7b6d85c6d1c941c3d4c66df8fc4"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#cc2b65564304e5a54a9642e62d8a48fa"><span class="id" title="variable">Σ</span></a>} : <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#cc2b65564304e5a54a9642e62d8a48fa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#79e37c9ff12ecc84ba1fac2efe4b1d20"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> (<a class="idref" href="MetaCoq.Template.Universes.html#Universe.make"><span class="id" title="definition">Universe.make</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#l:66"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#A:67"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#cc2b65564304e5a54a9642e62d8a48fa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#79e37c9ff12ecc84ba1fac2efe4b1d20"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> (<a class="idref" href="MetaCoq.Template.Universes.html#Universe.make"><span class="id" title="definition">Universe.make</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#l:66"><span class="id" title="variable">l</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isType_it_mkProd" class="idref" href="#isType_it_mkProd"><span class="id" title="lemma">isType_it_mkProd</span></a> {<a id="cf:69" class="idref" href="#cf:69"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaCoq.Template.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="ac713e2c58df9c0a01be9ad130d8ea1a" class="idref" href="#ac713e2c58df9c0a01be9ad130d8ea1a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="ae54ab5c4475beb427c8e416da54c258" class="idref" href="#ae54ab5c4475beb427c8e416da54c258"><span class="id" title="binder">Γ</span></a> <a id="na:72" class="idref" href="#na:72"><span class="id" title="binder">na</span></a> <a id="dom:73" class="idref" href="#dom:73"><span class="id" title="binder">dom</span></a> <a id="codom:74" class="idref" href="#codom:74"><span class="id" title="binder">codom</span></a> <a id="A:75" class="idref" href="#A:75"><span class="id" title="binder">A</span></a>} {<a id="bd634006a8ca8e678e8d48ae2f765983" class="idref" href="#bd634006a8ca8e678e8d48ae2f765983"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#ac713e2c58df9c0a01be9ad130d8ea1a"><span class="id" title="variable">Σ</span></a>} :   <br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#ac713e2c58df9c0a01be9ad130d8ea1a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#ae54ab5c4475beb427c8e416da54c258"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#na:72"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#dom:73"><span class="id" title="variable">dom</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#codom:74"><span class="id" title="variable">codom</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#A:75"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#ac713e2c58df9c0a01be9ad130d8ea1a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#ae54ab5c4475beb427c8e416da54c258"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#na:72"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#dom:73"><span class="id" title="variable">dom</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#codom:74"><span class="id" title="variable">codom</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="optimize_constant_decl" class="idref" href="#optimize_constant_decl"><span class="id" title="definition">optimize_constant_decl</span></a> <a id="15bb1c35edab98229a8cfae9c0763c1a" class="idref" href="#15bb1c35edab98229a8cfae9c0763c1a"><span class="id" title="binder">Σ</span></a> <a id="cb:78" class="idref" href="#cb:78"><span class="id" title="binder">cb</span></a> := <br/>
&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.Erasure.EAst.html#cst_body"><span class="id" title="projection">cst_body</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#15bb1c35edab98229a8cfae9c0763c1a"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#cb:78"><span class="id" title="variable">cb</span></a>.(<a class="idref" href="MetaCoq.Erasure.EAst.html#cst_body"><span class="id" title="projection">cst_body</span></a>) |}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="optimize_decl" class="idref" href="#optimize_decl"><span class="id" title="definition">optimize_decl</span></a> <a id="f5fbe4214aa113f089a67eca0c1316e1" class="idref" href="#f5fbe4214aa113f089a67eca0c1316e1"><span class="id" title="binder">Σ</span></a> <a id="d:80" class="idref" href="#d:80"><span class="id" title="binder">d</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#d:80"><span class="id" title="variable">d</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">cb</span> ⇒ <a class="idref" href="MetaCoq.Erasure.EAst.html#ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_constant_decl"><span class="id" title="definition">optimize_constant_decl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#f5fbe4214aa113f089a67eca0c1316e1"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">cb</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">idecl</span> ⇒ <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#d:80"><span class="id" title="variable">d</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="optimize_env" class="idref" href="#optimize_env"><span class="id" title="definition">optimize_env</span></a> <a id="cfef01e03494c5eba8f86f1492cd95f1" class="idref" href="#cfef01e03494c5eba8f86f1492cd95f1"><span class="id" title="binder">Σ</span></a> := <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Template.utils.MCProd.html#on_snd"><span class="id" title="definition">on_snd</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_decl"><span class="id" title="definition">optimize_decl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#cfef01e03494c5eba8f86f1492cd95f1"><span class="id" title="variable">Σ</span></a>)) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#cfef01e03494c5eba8f86f1492cd95f1"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.global_decls"><span class="id" title="projection">GlobalContextMap.global_decls</span></a>).<br/>

<br/>

<br/>
<span class="id" title="keyword">Program Fixpoint</span> <a id="optimize_env'" class="idref" href="#optimize_env'"><span class="id" title="definition">optimize_env'</span></a> <a id="af0c8f8f5ce7afdccb859d2482b046b5" class="idref" href="#af0c8f8f5ce7afdccb859d2482b046b5"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.EnvMap.html#EnvMap.fresh_globals"><span class="id" title="inductive">EnvMap.fresh_globals</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#af0c8f8f5ce7afdccb859d2482b046b5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#global_context"><span class="id" title="abbreviation">global_context</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#af0c8f8f5ce7afdccb859d2482b046b5"><span class="id" title="variable">Σ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#hd"><span class="id" title="definition">hd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#tl"><span class="id" title="definition">tl</span></a> ⇒ <span class="id" title="keyword">fun</span> <a id="44712935f566db5cb2477368e3027873" class="idref" href="#44712935f566db5cb2477368e3027873"><span class="id" title="binder">HΣ</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="37617fdbee1a8e918be823ebb1b60f99" class="idref" href="#37617fdbee1a8e918be823ebb1b60f99"><span class="id" title="binder">Σg</span></a> := <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.make"><span class="id" title="definition">GlobalContextMap.make</span></a> <span class="id" title="var">tl</span> (<a class="idref" href="MetaCoq.Erasure.EEnvMap.html#fresh_globals_cons_inv"><span class="id" title="lemma">fresh_globals_cons_inv</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#44712935f566db5cb2477368e3027873"><span class="id" title="variable">HΣ</span></a>) <span class="id" title="tactic">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.utils.MCProd.html#on_snd"><span class="id" title="definition">on_snd</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_decl"><span class="id" title="definition">optimize_decl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#37617fdbee1a8e918be823ebb1b60f99"><span class="id" title="variable">Σg</span></a>) <span class="id" title="var">hd</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_env':84"><span class="id" title="definition">optimize_env'</span></a> <span class="id" title="var">tl</span> (<a class="idref" href="MetaCoq.Erasure.EEnvMap.html#fresh_globals_cons_inv"><span class="id" title="lemma">fresh_globals_cons_inv</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#44712935f566db5cb2477368e3027873"><span class="id" title="variable">HΣ</span></a>) <br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="extends_inductive_isprop_and_pars" class="idref" href="#extends_inductive_isprop_and_pars"><span class="id" title="lemma">extends_inductive_isprop_and_pars</span></a> {<a id="efl:88" class="idref" href="#efl:88"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="c51b7ec861f7c17647e5cb8afff8d01c" class="idref" href="#c51b7ec861f7c17647e5cb8afff8d01c"><span class="id" title="binder">Σ</span></a> <a id="bfc10697e38b86eb0cca6c7b077fa47d" class="idref" href="#bfc10697e38b86eb0cca6c7b077fa47d"><span class="id" title="binder">Σ'</span></a> <a id="ind:91" class="idref" href="#ind:91"><span class="id" title="binder">ind</span></a>} : <a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#extends"><span class="id" title="definition">extends</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#c51b7ec861f7c17647e5cb8afff8d01c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#bfc10697e38b86eb0cca6c7b077fa47d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#bfc10697e38b86eb0cca6c7b077fa47d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.ssr.ssrbool.html#isSome"><span class="id" title="definition">isSome</span></a> (<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#c51b7ec861f7c17647e5cb8afff8d01c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#ind:91"><span class="id" title="variable">ind</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#inductive_isprop_and_pars"><span class="id" title="definition">inductive_isprop_and_pars</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#c51b7ec861f7c17647e5cb8afff8d01c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#ind:91"><span class="id" title="variable">ind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#inductive_isprop_and_pars"><span class="id" title="definition">inductive_isprop_and_pars</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#bfc10697e38b86eb0cca6c7b077fa47d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#ind:91"><span class="id" title="variable">ind</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wellformed_optimize_extends" class="idref" href="#wellformed_optimize_extends"><span class="id" title="lemma">wellformed_optimize_extends</span></a> {<a id="wfl:92" class="idref" href="#wfl:92"><span class="id" title="binder">wfl</span></a>: <a class="idref" href="MetaCoq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="fc189c80b71ecc5231145e0c7fc7178c" class="idref" href="#fc189c80b71ecc5231145e0c7fc7178c"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>} <a id="t:94" class="idref" href="#t:94"><span class="id" title="binder">t</span></a> : <br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:95" class="idref" href="#n:95"><span class="id" title="binder">n</span></a>, <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wellformed"><span class="id" title="definition">EWellformed.wellformed</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#fc189c80b71ecc5231145e0c7fc7178c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#n:95"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:94"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="14f995ee34f506c5402b799eb2e8e019" class="idref" href="#14f995ee34f506c5402b799eb2e8e019"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>}, <a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#extends"><span class="id" title="definition">extends</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#fc189c80b71ecc5231145e0c7fc7178c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#14f995ee34f506c5402b799eb2e8e019"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#14f995ee34f506c5402b799eb2e8e019"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#fc189c80b71ecc5231145e0c7fc7178c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:94"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#14f995ee34f506c5402b799eb2e8e019"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:94"><span class="id" title="variable">t</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wellformed_optimize_decl_extends" class="idref" href="#wellformed_optimize_decl_extends"><span class="id" title="lemma">wellformed_optimize_decl_extends</span></a> {<a id="wfl:97" class="idref" href="#wfl:97"><span class="id" title="binder">wfl</span></a>: <a class="idref" href="MetaCoq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="d28bbe011225204c88b57a270b5a3987" class="idref" href="#d28bbe011225204c88b57a270b5a3987"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>} <a id="t:99" class="idref" href="#t:99"><span class="id" title="binder">t</span></a> : <br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_global_decl"><span class="id" title="definition">wf_global_decl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#d28bbe011225204c88b57a270b5a3987"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:99"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="d86fdc437136ae2e0764249930ef3e46" class="idref" href="#d86fdc437136ae2e0764249930ef3e46"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>}, <a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#extends"><span class="id" title="definition">extends</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#d28bbe011225204c88b57a270b5a3987"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#d86fdc437136ae2e0764249930ef3e46"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#d86fdc437136ae2e0764249930ef3e46"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_decl"><span class="id" title="definition">optimize_decl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#d28bbe011225204c88b57a270b5a3987"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:99"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_decl"><span class="id" title="definition">optimize_decl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#d86fdc437136ae2e0764249930ef3e46"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:99"><span class="id" title="variable">t</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_env_optimize_env_Some" class="idref" href="#lookup_env_optimize_env_Some"><span class="id" title="lemma">lookup_env_optimize_env_Some</span></a> {<a id="efl:101" class="idref" href="#efl:101"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="ab1e0b0f726a60ee3c2011f894309cd3" class="idref" href="#ab1e0b0f726a60ee3c2011f894309cd3"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>} <a id="kn:103" class="idref" href="#kn:103"><span class="id" title="binder">kn</span></a> <a id="d:104" class="idref" href="#d:104"><span class="id" title="binder">d</span></a> : <br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#ab1e0b0f726a60ee3c2011f894309cd3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.lookup_env"><span class="id" title="definition">GlobalContextMap.lookup_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#ab1e0b0f726a60ee3c2011f894309cd3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#kn:103"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#d:104"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="5c6717e7a029f2c39107727cf588775d" class="idref" href="#5c6717e7a029f2c39107727cf588775d"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.utils.MCProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">[×</span></a> <a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#extends"><span class="id" title="definition">extends</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#5c6717e7a029f2c39107727cf588775d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#ab1e0b0f726a60ee3c2011f894309cd3"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Template.utils.MCProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_global_decl"><span class="id" title="definition">wf_global_decl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#5c6717e7a029f2c39107727cf588775d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#d:104"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaCoq.Template.utils.MCProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">lookup_env</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_env"><span class="id" title="definition">optimize_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#ab1e0b0f726a60ee3c2011f894309cd3"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#kn:103"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_decl"><span class="id" title="definition">optimize_decl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#5c6717e7a029f2c39107727cf588775d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#d:104"><span class="id" title="variable">d</span></a>)<a class="idref" href="MetaCoq.Template.utils.MCProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_env_map_snd" class="idref" href="#lookup_env_map_snd"><span class="id" title="lemma">lookup_env_map_snd</span></a> <a id="c15f7ce5d7211986b526059c4461e1ec" class="idref" href="#c15f7ce5d7211986b526059c4461e1ec"><span class="id" title="binder">Σ</span></a> <a id="f:107" class="idref" href="#f:107"><span class="id" title="binder">f</span></a> <a id="kn:108" class="idref" href="#kn:108"><span class="id" title="binder">kn</span></a> : <a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">lookup_env</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.Template.utils.MCProd.html#on_snd"><span class="id" title="definition">on_snd</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#f:107"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#c15f7ce5d7211986b526059c4461e1ec"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#kn:108"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#f:107"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#c15f7ce5d7211986b526059c4461e1ec"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#kn:108"><span class="id" title="variable">kn</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_env_optimize_env_None" class="idref" href="#lookup_env_optimize_env_None"><span class="id" title="lemma">lookup_env_optimize_env_None</span></a> {<a id="efl:109" class="idref" href="#efl:109"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="34ae1c9c84b00c7df18c2fc2612b37e3" class="idref" href="#34ae1c9c84b00c7df18c2fc2612b37e3"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>} <a id="kn:111" class="idref" href="#kn:111"><span class="id" title="binder">kn</span></a> : <br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.lookup_env"><span class="id" title="definition">GlobalContextMap.lookup_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#34ae1c9c84b00c7df18c2fc2612b37e3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#kn:111"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">lookup_env</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_env"><span class="id" title="definition">optimize_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#34ae1c9c84b00c7df18c2fc2612b37e3"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#kn:111"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_env_optimize" class="idref" href="#lookup_env_optimize"><span class="id" title="lemma">lookup_env_optimize</span></a> {<a id="efl:112" class="idref" href="#efl:112"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="67028e5db0d7f321f964117e73116fa2" class="idref" href="#67028e5db0d7f321f964117e73116fa2"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>} <a id="kn:114" class="idref" href="#kn:114"><span class="id" title="binder">kn</span></a> : <br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#67028e5db0d7f321f964117e73116fa2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">lookup_env</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_env"><span class="id" title="definition">optimize_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#67028e5db0d7f321f964117e73116fa2"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#kn:114"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_decl"><span class="id" title="definition">optimize_decl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#67028e5db0d7f321f964117e73116fa2"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#67028e5db0d7f321f964117e73116fa2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#kn:114"><span class="id" title="variable">kn</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_propositional_optimize" class="idref" href="#is_propositional_optimize"><span class="id" title="lemma">is_propositional_optimize</span></a> {<a id="efl:115" class="idref" href="#efl:115"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="0825dac73746aacc9ef4b9d8e6b9d8f6" class="idref" href="#0825dac73746aacc9ef4b9d8e6b9d8f6"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>} <a id="ind:117" class="idref" href="#ind:117"><span class="id" title="binder">ind</span></a> : <br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#0825dac73746aacc9ef4b9d8e6b9d8f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#inductive_isprop_and_pars"><span class="id" title="definition">inductive_isprop_and_pars</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#0825dac73746aacc9ef4b9d8e6b9d8f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#ind:117"><span class="id" title="variable">ind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#inductive_isprop_and_pars"><span class="id" title="definition">inductive_isprop_and_pars</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_env"><span class="id" title="definition">optimize_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#0825dac73746aacc9ef4b9d8e6b9d8f6"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#ind:117"><span class="id" title="variable">ind</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_propositional_cstr_optimize" class="idref" href="#is_propositional_cstr_optimize"><span class="id" title="lemma">is_propositional_cstr_optimize</span></a> {<a id="efl:118" class="idref" href="#efl:118"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="a24658b2adcc01e6c41a8c2c40c17df4" class="idref" href="#a24658b2adcc01e6c41a8c2c40c17df4"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>} <a id="ind:120" class="idref" href="#ind:120"><span class="id" title="binder">ind</span></a> <a id="c:121" class="idref" href="#c:121"><span class="id" title="binder">c</span></a> : <br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#a24658b2adcc01e6c41a8c2c40c17df4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#constructor_isprop_pars_decl"><span class="id" title="definition">constructor_isprop_pars_decl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#a24658b2adcc01e6c41a8c2c40c17df4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#ind:120"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#c:121"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#constructor_isprop_pars_decl"><span class="id" title="definition">constructor_isprop_pars_decl</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_env"><span class="id" title="definition">optimize_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#a24658b2adcc01e6c41a8c2c40c17df4"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#ind:120"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#c:121"><span class="id" title="variable">c</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closed_iota_red" class="idref" href="#closed_iota_red"><span class="id" title="lemma">closed_iota_red</span></a> <a id="pars:122" class="idref" href="#pars:122"><span class="id" title="binder">pars</span></a> <a id="c:123" class="idref" href="#c:123"><span class="id" title="binder">c</span></a> <a id="args:124" class="idref" href="#args:124"><span class="id" title="binder">args</span></a> <a id="brs:125" class="idref" href="#brs:125"><span class="id" title="binder">brs</span></a> <a id="br:126" class="idref" href="#br:126"><span class="id" title="binder">br</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.Erasure.ELiftSubst.html#closedn"><span class="id" title="definition">closedn</span></a> 0) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#args:124"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#brs:125"><span class="id" title="variable">brs</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#c:123"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#br:126"><span class="id" title="variable">br</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#pars:122"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#args:124"><span class="id" title="variable">args</span></a><a class="idref" href="MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#br:126"><span class="id" title="variable">br</span></a><a class="idref" href="MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ELiftSubst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#br:126"><span class="id" title="variable">br</span></a><a class="idref" href="MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#br:126"><span class="id" title="variable">br</span></a><a class="idref" href="MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ELiftSubst.html#closed"><span class="id" title="abbreviation">closed</span></a> (<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#iota_red"><span class="id" title="definition">iota_red</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#pars:122"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#args:124"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#br:126"><span class="id" title="variable">br</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isFix_mkApps" class="idref" href="#isFix_mkApps"><span class="id" title="lemma">isFix_mkApps</span></a> <a id="t:127" class="idref" href="#t:127"><span class="id" title="binder">t</span></a> <a id="l:128" class="idref" href="#l:128"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isFix"><span class="id" title="definition">isFix</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:127"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#l:128"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isFix"><span class="id" title="definition">isFix</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:127"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#l:128"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_constructor_optimize" class="idref" href="#lookup_constructor_optimize"><span class="id" title="lemma">lookup_constructor_optimize</span></a> {<a id="efl:130" class="idref" href="#efl:130"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="827e6cceb29d7e31d1fb867cd390df8a" class="idref" href="#827e6cceb29d7e31d1fb867cd390df8a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>} {<a id="ind:132" class="idref" href="#ind:132"><span class="id" title="binder">ind</span></a> <a id="c:133" class="idref" href="#c:133"><span class="id" title="binder">c</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#827e6cceb29d7e31d1fb867cd390df8a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#lookup_constructor"><span class="id" title="definition">lookup_constructor</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#827e6cceb29d7e31d1fb867cd390df8a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#ind:132"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#c:133"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#lookup_constructor"><span class="id" title="definition">lookup_constructor</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_env"><span class="id" title="definition">optimize_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#827e6cceb29d7e31d1fb867cd390df8a"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#ind:132"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#c:133"><span class="id" title="variable">c</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="constructor_isprop_pars_decl_inductive" class="idref" href="#constructor_isprop_pars_decl_inductive"><span class="id" title="lemma">constructor_isprop_pars_decl_inductive</span></a> {<a id="c58622cdefcec1fabde0203fafbe0044" class="idref" href="#c58622cdefcec1fabde0203fafbe0044"><span class="id" title="binder">Σ</span></a> <a id="ind:135" class="idref" href="#ind:135"><span class="id" title="binder">ind</span></a> <a id="c:136" class="idref" href="#c:136"><span class="id" title="binder">c</span></a>} {<a id="prop:137" class="idref" href="#prop:137"><span class="id" title="binder">prop</span></a> <a id="pars:138" class="idref" href="#pars:138"><span class="id" title="binder">pars</span></a> <a id="cdecl:139" class="idref" href="#cdecl:139"><span class="id" title="binder">cdecl</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#constructor_isprop_pars_decl"><span class="id" title="definition">constructor_isprop_pars_decl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#c58622cdefcec1fabde0203fafbe0044"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#ind:135"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#c:136"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#prop:137"><span class="id" title="variable">prop</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#pars:138"><span class="id" title="variable">pars</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#cdecl:139"><span class="id" title="variable">cdecl</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#inductive_isprop_and_pars"><span class="id" title="definition">inductive_isprop_and_pars</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#c58622cdefcec1fabde0203fafbe0044"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#ind:135"><span class="id" title="variable">ind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#prop:137"><span class="id" title="variable">prop</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#pars:138"><span class="id" title="variable">pars</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="optimize_correct" class="idref" href="#optimize_correct"><span class="id" title="lemma">optimize_correct</span></a> {<a id="efl:140" class="idref" href="#efl:140"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="fl:141" class="idref" href="#fl:141"><span class="id" title="binder">fl</span></a>}{<a id="wcon:142" class="idref" href="#wcon:142"><span class="id" title="binder">wcon</span></a> : <a class="idref" href="MetaCoq.Erasure.EWcbvEval.html#with_constructor_as_block"><span class="id" title="method">with_constructor_as_block</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>} {<a id="92fc1184c72183659a7f8012cd13be07" class="idref" href="#92fc1184c72183659a7f8012cd13be07"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>} <a id="t:144" class="idref" href="#t:144"><span class="id" title="binder">t</span></a> <a id="v:145" class="idref" href="#v:145"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#92fc1184c72183659a7f8012cd13be07"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#closed_env"><span class="id" title="definition">closed_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#92fc1184c72183659a7f8012cd13be07"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaCoq.Erasure.Prelim.html#Ee.eval"><span class="id" title="inductive">Ee.eval</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#fl:141"><span class="id" title="variable">fl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#92fc1184c72183659a7f8012cd13be07"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:144"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#v:145"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ELiftSubst.html#closed"><span class="id" title="abbreviation">closed</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:144"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaCoq.Erasure.Prelim.html#Ee.eval"><span class="id" title="inductive">Ee.eval</span></a> (<a class="idref" href="MetaCoq.Erasure.EWcbvEval.html#disable_prop_cases"><span class="id" title="definition">disable_prop_cases</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#fl:141"><span class="id" title="variable">fl</span></a>) (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_env"><span class="id" title="definition">optimize_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#92fc1184c72183659a7f8012cd13be07"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#92fc1184c72183659a7f8012cd13be07"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:144"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#92fc1184c72183659a7f8012cd13be07"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#v:145"><span class="id" title="variable">v</span></a>).<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isLambda_optimize" class="idref" href="#isLambda_optimize"><span class="id" title="lemma">isLambda_optimize</span></a> <a id="2c4158be8aa7e2838abd7fadbabfa578" class="idref" href="#2c4158be8aa7e2838abd7fadbabfa578"><span class="id" title="binder">Σ</span></a> <a id="t:147" class="idref" href="#t:147"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.Erasure.EAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:147"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#2c4158be8aa7e2838abd7fadbabfa578"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:147"><span class="id" title="variable">t</span></a>).<br/>
 <span class="id" title="keyword">Lemma</span> <a id="isBox_optimize" class="idref" href="#isBox_optimize"><span class="id" title="lemma">isBox_optimize</span></a> <a id="6b1879b3537ab71ccb79966068a4600f" class="idref" href="#6b1879b3537ab71ccb79966068a4600f"><span class="id" title="binder">Σ</span></a> <a id="t:149" class="idref" href="#t:149"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isBox"><span class="id" title="definition">isBox</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:149"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isBox"><span class="id" title="definition">isBox</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#6b1879b3537ab71ccb79966068a4600f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:149"><span class="id" title="variable">t</span></a>).<br/>
 
<br/>
<span class="id" title="keyword">Lemma</span> <a id="optimize_expanded" class="idref" href="#optimize_expanded"><span class="id" title="lemma">optimize_expanded</span></a> {<a id="16420a3591c144f5a991e7835e9f838c" class="idref" href="#16420a3591c144f5a991e7835e9f838c"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>} <a id="t:151" class="idref" href="#t:151"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#16420a3591c144f5a991e7835e9f838c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:151"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#16420a3591c144f5a991e7835e9f838c"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#16420a3591c144f5a991e7835e9f838c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:151"><span class="id" title="variable">t</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="optimize_expanded_irrel" class="idref" href="#optimize_expanded_irrel"><span class="id" title="lemma">optimize_expanded_irrel</span></a> {<a id="efl:152" class="idref" href="#efl:152"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="7a945b9afea37aaa6ce61e5e6cdd6206" class="idref" href="#7a945b9afea37aaa6ce61e5e6cdd6206"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>} <a id="t:154" class="idref" href="#t:154"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#7a945b9afea37aaa6ce61e5e6cdd6206"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#7a945b9afea37aaa6ce61e5e6cdd6206"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:154"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded"><span class="id" title="inductive">expanded</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_env"><span class="id" title="definition">optimize_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#7a945b9afea37aaa6ce61e5e6cdd6206"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:154"><span class="id" title="variable">t</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="optimize_expanded_decl" class="idref" href="#optimize_expanded_decl"><span class="id" title="lemma">optimize_expanded_decl</span></a> {<a id="7cd69b597d103d21c92b4ad07132a610" class="idref" href="#7cd69b597d103d21c92b4ad07132a610"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>} <a id="t:156" class="idref" href="#t:156"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded_decl"><span class="id" title="definition">expanded_decl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#7cd69b597d103d21c92b4ad07132a610"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:156"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded_decl"><span class="id" title="definition">expanded_decl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#7cd69b597d103d21c92b4ad07132a610"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_decl"><span class="id" title="definition">optimize_decl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#7cd69b597d103d21c92b4ad07132a610"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:156"><span class="id" title="variable">t</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="optimize_expanded_decl_irrel" class="idref" href="#optimize_expanded_decl_irrel"><span class="id" title="lemma">optimize_expanded_decl_irrel</span></a> {<a id="efl:157" class="idref" href="#efl:157"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="4083cb2bcc85852dfb10cc3813a0b868" class="idref" href="#4083cb2bcc85852dfb10cc3813a0b868"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>} <a id="t:159" class="idref" href="#t:159"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#4083cb2bcc85852dfb10cc3813a0b868"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded_decl"><span class="id" title="definition">expanded_decl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#4083cb2bcc85852dfb10cc3813a0b868"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:159"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded_decl"><span class="id" title="definition">expanded_decl</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_env"><span class="id" title="definition">optimize_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#4083cb2bcc85852dfb10cc3813a0b868"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:159"><span class="id" title="variable">t</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="optimize_env_extends'" class="idref" href="#optimize_env_extends'"><span class="id" title="lemma">optimize_env_extends'</span></a> {<a id="efl:160" class="idref" href="#efl:160"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="dfdd3098104d36f1db39d747b93a3be1" class="idref" href="#dfdd3098104d36f1db39d747b93a3be1"><span class="id" title="binder">Σ</span></a> <a id="a10ea082223bcb48a737fe1f947bb828" class="idref" href="#a10ea082223bcb48a737fe1f947bb828"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>} : <br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#extends"><span class="id" title="definition">extends</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#dfdd3098104d36f1db39d747b93a3be1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#a10ea082223bcb48a737fe1f947bb828"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#a10ea082223bcb48a737fe1f947bb828"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.Template.utils.MCProd.html#on_snd"><span class="id" title="definition">on_snd</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_decl"><span class="id" title="definition">optimize_decl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#dfdd3098104d36f1db39d747b93a3be1"><span class="id" title="variable">Σ</span></a>)) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#dfdd3098104d36f1db39d747b93a3be1"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.global_decls"><span class="id" title="projection">GlobalContextMap.global_decls</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.Template.utils.MCProd.html#on_snd"><span class="id" title="definition">on_snd</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_decl"><span class="id" title="definition">optimize_decl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#a10ea082223bcb48a737fe1f947bb828"><span class="id" title="variable">Σ'</span></a>)) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#dfdd3098104d36f1db39d747b93a3be1"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.global_decls"><span class="id" title="projection">GlobalContextMap.global_decls</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="optimize_env_eq" class="idref" href="#optimize_env_eq"><span class="id" title="lemma">optimize_env_eq</span></a> {<a id="efl:163" class="idref" href="#efl:163"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} (<a id="9ff56a46be872711c9a28bdf9007a0f1" class="idref" href="#9ff56a46be872711c9a28bdf9007a0f1"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>) : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#9ff56a46be872711c9a28bdf9007a0f1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_env"><span class="id" title="definition">optimize_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#9ff56a46be872711c9a28bdf9007a0f1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_env'"><span class="id" title="definition">optimize_env'</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#9ff56a46be872711c9a28bdf9007a0f1"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.global_decls"><span class="id" title="projection">GlobalContextMap.global_decls</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#9ff56a46be872711c9a28bdf9007a0f1"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.wf"><span class="id" title="projection">GlobalContextMap.wf</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="optimize_env_expanded" class="idref" href="#optimize_env_expanded"><span class="id" title="lemma">optimize_env_expanded</span></a> {<a id="efl:165" class="idref" href="#efl:165"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="02e5d09468d184a097e8ccf600206b42" class="idref" href="#02e5d09468d184a097e8ccf600206b42"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#02e5d09468d184a097e8ccf600206b42"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded_global_env"><span class="id" title="definition">expanded_global_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#02e5d09468d184a097e8ccf600206b42"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded_global_env"><span class="id" title="definition">expanded_global_env</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_env"><span class="id" title="definition">optimize_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#02e5d09468d184a097e8ccf600206b42"><span class="id" title="variable">Σ</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="optimize_wellformed" class="idref" href="#optimize_wellformed"><span class="id" title="lemma">optimize_wellformed</span></a> {<a id="efl:167" class="idref" href="#efl:167"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="f0e027ee5a1f64fcc94eec5677ac05b4" class="idref" href="#f0e027ee5a1f64fcc94eec5677ac05b4"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>} <a id="n:169" class="idref" href="#n:169"><span class="id" title="binder">n</span></a> <a id="t:170" class="idref" href="#t:170"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EWellformed.html#has_tBox"><span class="id" title="method">has_tBox</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#has_tRel"><span class="id" title="method">has_tRel</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#f0e027ee5a1f64fcc94eec5677ac05b4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wellformed"><span class="id" title="definition">EWellformed.wellformed</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#f0e027ee5a1f64fcc94eec5677ac05b4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#n:169"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:170"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wellformed"><span class="id" title="definition">EWellformed.wellformed</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#f0e027ee5a1f64fcc94eec5677ac05b4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#n:169"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">optimize</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#f0e027ee5a1f64fcc94eec5677ac05b4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:170"><span class="id" title="variable">t</span></a>).<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="optimize_wellformed_irrel" class="idref" href="#optimize_wellformed_irrel"><span class="id" title="lemma">optimize_wellformed_irrel</span></a> {<a id="efl:171" class="idref" href="#efl:171"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="0646a2f53c44ced826a07974c20c1488" class="idref" href="#0646a2f53c44ced826a07974c20c1488"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>} <a id="t:173" class="idref" href="#t:173"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#0646a2f53c44ced826a07974c20c1488"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:174" class="idref" href="#n:174"><span class="id" title="binder">n</span></a>, <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wellformed"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#0646a2f53c44ced826a07974c20c1488"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#n:174"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:173"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wellformed"><span class="id" title="definition">wellformed</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_env"><span class="id" title="definition">optimize_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#0646a2f53c44ced826a07974c20c1488"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#n:174"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#t:173"><span class="id" title="variable">t</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="optimize_wellformed_decl_irrel" class="idref" href="#optimize_wellformed_decl_irrel"><span class="id" title="lemma">optimize_wellformed_decl_irrel</span></a> {<a id="efl:175" class="idref" href="#efl:175"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="12b563e13a9f6a0b9ec6f713dd653f25" class="idref" href="#12b563e13a9f6a0b9ec6f713dd653f25"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>} <a id="d:177" class="idref" href="#d:177"><span class="id" title="binder">d</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#12b563e13a9f6a0b9ec6f713dd653f25"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_global_decl"><span class="id" title="definition">wf_global_decl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#12b563e13a9f6a0b9ec6f713dd653f25"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#d:177"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_global_decl"><span class="id" title="definition">wf_global_decl</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_env"><span class="id" title="definition">optimize_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#12b563e13a9f6a0b9ec6f713dd653f25"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#d:177"><span class="id" title="variable">d</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="optimize_decl_wf" class="idref" href="#optimize_decl_wf"><span class="id" title="lemma">optimize_decl_wf</span></a> {<a id="efl:178" class="idref" href="#efl:178"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="1e1aaa9c2472685a6034e69f58121c1e" class="idref" href="#1e1aaa9c2472685a6034e69f58121c1e"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EWellformed.html#has_tBox"><span class="id" title="method">has_tBox</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#has_tRel"><span class="id" title="method">has_tRel</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#1e1aaa9c2472685a6034e69f58121c1e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="d:180" class="idref" href="#d:180"><span class="id" title="binder">d</span></a>, <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_global_decl"><span class="id" title="definition">wf_global_decl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#1e1aaa9c2472685a6034e69f58121c1e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#d:180"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_global_decl"><span class="id" title="definition">wf_global_decl</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_env"><span class="id" title="definition">optimize_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#1e1aaa9c2472685a6034e69f58121c1e"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_decl"><span class="id" title="definition">optimize_decl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#1e1aaa9c2472685a6034e69f58121c1e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#d:180"><span class="id" title="variable">d</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fresh_global_optimize_env" class="idref" href="#fresh_global_optimize_env"><span class="id" title="lemma">fresh_global_optimize_env</span></a> {<a id="594ac148f7e31fd19da6a3050a990069" class="idref" href="#594ac148f7e31fd19da6a3050a990069"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>} <a id="kn:182" class="idref" href="#kn:182"><span class="id" title="binder">kn</span></a> : <br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#fresh_global"><span class="id" title="definition">fresh_global</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#kn:182"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#594ac148f7e31fd19da6a3050a990069"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#fresh_global"><span class="id" title="definition">fresh_global</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#kn:182"><span class="id" title="variable">kn</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_env"><span class="id" title="definition">optimize_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#594ac148f7e31fd19da6a3050a990069"><span class="id" title="variable">Σ</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="optimize_env_wf" class="idref" href="#optimize_env_wf"><span class="id" title="lemma">optimize_env_wf</span></a> {<a id="efl:183" class="idref" href="#efl:183"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="959df3c356b65207af3b634cad3947e8" class="idref" href="#959df3c356b65207af3b634cad3947e8"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.t"><span class="id" title="record">GlobalContextMap.t</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EWellformed.html#has_tBox"><span class="id" title="method">has_tBox</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#has_tRel"><span class="id" title="method">has_tRel</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#959df3c356b65207af3b634cad3947e8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_env"><span class="id" title="definition">optimize_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#959df3c356b65207af3b634cad3947e8"><span class="id" title="variable">Σ</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="optimize_program" class="idref" href="#optimize_program"><span class="id" title="definition">optimize_program</span></a> (<a id="p:185" class="idref" href="#p:185"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Erasure.EProgram.html#eprogram_env"><span class="id" title="definition">eprogram_env</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_env"><span class="id" title="definition">EOptimizePropDiscr.optimize_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#p:185"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">EOptimizePropDiscr.optimize</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#p:185"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#p:185"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="optimize_program_wf" class="idref" href="#optimize_program_wf"><span class="id" title="definition">optimize_program_wf</span></a> {<a id="efl:186" class="idref" href="#efl:186"><span class="id" title="binder">efl</span></a>} (<a id="p:187" class="idref" href="#p:187"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Erasure.EProgram.html#eprogram_env"><span class="id" title="definition">eprogram_env</span></a>) {<a id="hastbox:188" class="idref" href="#hastbox:188"><span class="id" title="binder">hastbox</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#has_tBox"><span class="id" title="method">has_tBox</span></a>} {<a id="hastrel:189" class="idref" href="#hastrel:189"><span class="id" title="binder">hastrel</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#has_tRel"><span class="id" title="method">has_tRel</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EProgram.html#wf_eprogram_env"><span class="id" title="definition">wf_eprogram_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#efl:186"><span class="id" title="variable">efl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#p:187"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EProgram.html#wf_eprogram"><span class="id" title="definition">wf_eprogram</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#efl:186"><span class="id" title="variable">efl</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_program"><span class="id" title="definition">optimize_program</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#p:187"><span class="id" title="variable">p</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="optimize_program_expanded" class="idref" href="#optimize_program_expanded"><span class="id" title="definition">optimize_program_expanded</span></a> {<a id="efl:190" class="idref" href="#efl:190"><span class="id" title="binder">efl</span></a>} (<a id="p:191" class="idref" href="#p:191"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Erasure.EProgram.html#eprogram_env"><span class="id" title="definition">eprogram_env</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EProgram.html#wf_eprogram_env"><span class="id" title="definition">wf_eprogram_env</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#efl:190"><span class="id" title="variable">efl</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#p:191"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded_eprogram_env_cstrs"><span class="id" title="definition">expanded_eprogram_env_cstrs</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#p:191"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded_eprogram_cstrs"><span class="id" title="definition">expanded_eprogram_cstrs</span></a> (<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_program"><span class="id" title="definition">optimize_program</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#p:191"><span class="id" title="variable">p</span></a>).<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>