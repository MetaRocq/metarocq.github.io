<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance</h1>

<div class="code">

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.ssr.ssrbool.html#"><span class="id" title="library">ssrbool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Unicode.Utf8.html#"><span class="id" title="library">Utf8</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations.Prop.DepElim</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Bool.Bool.html#"><span class="id" title="library">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Strings.String.html#"><span class="id" title="library">String</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Program.Program.html#"><span class="id" title="library">Program</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Template</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Template.config.html#"><span class="id" title="library">config</span></a> <a class="idref" href="MetaCoq.Template.monad_utils.html#"><span class="id" title="library">monad_utils</span></a> <a class="idref" href="MetaCoq.Template.utils.html#"><span class="id" title="library">utils</span></a> <a class="idref" href="MetaCoq.Template.common.uGraph.html#"><span class="id" title="library">uGraph</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#"><span class="id" title="library">PCUICAst</span></a> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#"><span class="id" title="library">PCUICAstUtils</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICTactics.html#"><span class="id" title="library">PCUICTactics</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#"><span class="id" title="library">PCUICTyping</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICValidity.html#"><span class="id" title="library">PCUICValidity</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#"><span class="id" title="library">PCUICSN</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#"><span class="id" title="library">PCUICWellScopedCumulativity</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSafeLemmata.html#"><span class="id" title="library">PCUICSafeLemmata</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#"><span class="id" title="library">PCUICInversion</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.SafeChecker</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#"><span class="id" title="library">PCUICErrors</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#"><span class="id" title="library">PCUICSafeReduce</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#"><span class="id" title="library">PCUICWfEnv</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#"><span class="id" title="library">PCUICSafeRetyping</span></a>.<br/>

<br/>
</div>

<div class="doc">
We might need to weaken calls to the retyping function w.r.t. the global environment: i.e. 
    if we infer some type for a term in an environment Σ, then any other environment having at least 
    the same declarations as Σ should give us the same result. For example erasure can be called on
    all the declarations in a well-formed global environment without having to take successive prefixes of it.

<div class="paragraph"> </div>

    This does not follow from correctness of retyping alone. We rather prove that the result of retyping (and hence also reduction) are invariant
    in this sense. As retyping relies on reduction of types also show that safe reduction is invariant under extension.
    This cannot be shown using only the correctness and completeness lemmas of reduction either as 
    in different enviroments we might find different declarations and hence produce different 
    reduced terms. Morally we could hope that a parametericity style lemma could prove this: 
    for two environments that are obsevationally equal on the declared constants/inductives 
    appearing in a well-typed terms, the output of reduction/inference is equal. 
    However parametricity would not directly allow us to restrict to observational
    equivalence only on declared constants, so we have to perform this relational proof meticulously.
    As the functions involved use dependent types everywhere, we restrict our observations to the 
    computational results returned by each function and do not compare proofs (in potentially different types/fibers). 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">cf</span> : <a class="idref" href="MetaCoq.Template.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Hlookup" class="idref" href="#Hlookup"><span class="id" title="definition">Hlookup</span></a> {<a id="cf:1" class="idref" href="#cf:1"><span class="id" title="binder">cf</span></a>} (<a id="X_type:2" class="idref" href="#X_type:2"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl"><span class="id" title="definition">abstract_env_ext_impl</span></a>) (<a id="X:3" class="idref" href="#X:3"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type:2"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) (<a id="X_type':4" class="idref" href="#X_type':4"><span class="id" title="binder">X_type'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl"><span class="id" title="definition">abstract_env_ext_impl</span></a>)<br/>
&nbsp;&nbsp;(<a id="X':5" class="idref" href="#X':5"><span class="id" title="binder">X'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type':4"><span class="id" title="variable">X_type'</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) := <br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="f525610baade8c1419220d275a93fff0" class="idref" href="#f525610baade8c1419220d275a93fff0"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X:3"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#f525610baade8c1419220d275a93fff0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="226e9a353db6b0190f3e26c267869592" class="idref" href="#226e9a353db6b0190f3e26c267869592"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X':5"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#226e9a353db6b0190f3e26c267869592"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="kn:8" class="idref" href="#kn:8"><span class="id" title="binder">kn</span></a> <a id="decl:9" class="idref" href="#decl:9"><span class="id" title="binder">decl</span></a> <a id="decl':10" class="idref" href="#decl':10"><span class="id" title="binder">decl'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#f525610baade8c1419220d275a93fff0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#kn:8"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#decl:9"><span class="id" title="variable">decl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#226e9a353db6b0190f3e26c267869592"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#kn:8"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#decl':10"><span class="id" title="variable">decl'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup"><span class="id" title="method">abstract_env_lookup</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X:3"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#kn:8"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup"><span class="id" title="method">abstract_env_lookup</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X':5"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#kn:8"><span class="id" title="variable">kn</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="reduce_stack_eq" class="idref" href="#reduce_stack_eq"><span class="id" title="definition">reduce_stack_eq</span></a> {<a id="cf:11" class="idref" href="#cf:11"><span class="id" title="binder">cf</span></a>} {<a id="fl:12" class="idref" href="#fl:12"><span class="id" title="binder">fl</span></a>} {<a id="X_type:13" class="idref" href="#X_type:13"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl"><span class="id" title="definition">abstract_env_ext_impl</span></a>} {<a id="X:14" class="idref" href="#X:14"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type:13"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>} <a id="918d7ebace48bcbe2bb5610a4828654d" class="idref" href="#918d7ebace48bcbe2bb5610a4828654d"><span class="id" title="binder">Γ</span></a> <a id="t:16" class="idref" href="#t:16"><span class="id" title="binder">t</span></a> <a id="a21ec81ed56bf5f5e524401333a140ef" class="idref" href="#a21ec81ed56bf5f5e524401333a140ef"><span class="id" title="binder">π</span></a> <a id="wi:18" class="idref" href="#wi:18"><span class="id" title="binder">wi</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#fl:12"><span class="id" title="variable">fl</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type:13"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X:14"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#918d7ebace48bcbe2bb5610a4828654d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:16"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#a21ec81ed56bf5f5e524401333a140ef"><span class="id" title="variable">π</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wi:18"><span class="id" title="variable">wi</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#c291183902a7f37f27173cc42ed86b4c"><span class="id" title="notation">`</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#c291183902a7f37f27173cc42ed86b4c"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full"><span class="id" title="definition">reduce_stack_full</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#fl:12"><span class="id" title="variable">fl</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type:13"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X:14"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#918d7ebace48bcbe2bb5610a4828654d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:16"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#a21ec81ed56bf5f5e524401333a140ef"><span class="id" title="variable">π</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wi:18"><span class="id" title="variable">wi</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#c291183902a7f37f27173cc42ed86b4c"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full"><span class="id" title="definition">reduce_stack_full</span></a> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="same_principal_type" class="idref" href="#same_principal_type"><span class="id" title="definition">same_principal_type</span></a> {<a id="cf:19" class="idref" href="#cf:19"><span class="id" title="binder">cf</span></a>}<br/>
&nbsp;&nbsp;{<a id="X_type:20" class="idref" href="#X_type:20"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl"><span class="id" title="definition">abstract_env_ext_impl</span></a>} {<a id="X:21" class="idref" href="#X:21"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type:20"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>}<br/>
&nbsp;&nbsp;{<a id="X_type':22" class="idref" href="#X_type':22"><span class="id" title="binder">X_type'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl"><span class="id" title="definition">abstract_env_ext_impl</span></a>} {<a id="X':23" class="idref" href="#X':23"><span class="id" title="binder">X'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type':22"><span class="id" title="variable">X_type'</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>}<br/>
&nbsp;&nbsp;{<a id="c14c0b2265abf3ec26ac01165fe38870" class="idref" href="#c14c0b2265abf3ec26ac01165fe38870"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>} {<a id="t:25" class="idref" href="#t:25"><span class="id" title="binder">t</span></a>} (<a id="p:26" class="idref" href="#p:26"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#principal_type"><span class="id" title="definition">PCUICSafeRetyping.principal_type</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type:20"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X:21"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#c14c0b2265abf3ec26ac01165fe38870"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:25"><span class="id" title="variable">t</span></a>) (<a id="p':27" class="idref" href="#p':27"><span class="id" title="binder">p'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#principal_type"><span class="id" title="definition">PCUICSafeRetyping.principal_type</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type':22"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X':23"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#c14c0b2265abf3ec26ac01165fe38870"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:25"><span class="id" title="variable">t</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#p:26"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#p':27"><span class="id" title="variable">p'</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="welltyped_mkApps_inv" class="idref" href="#welltyped_mkApps_inv"><span class="id" title="lemma">welltyped_mkApps_inv</span></a> {<a id="cf:28" class="idref" href="#cf:28"><span class="id" title="binder">cf</span></a>} {<a id="b45015ea779d7a6908b541de791ac941" class="idref" href="#b45015ea779d7a6908b541de791ac941"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} <a id="a84750bab259aa2f16170b25727bba3f" class="idref" href="#a84750bab259aa2f16170b25727bba3f"><span class="id" title="binder">Γ</span></a> <a id="f:31" class="idref" href="#f:31"><span class="id" title="binder">f</span></a> <a id="args:32" class="idref" href="#args:32"><span class="id" title="binder">args</span></a> :  <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#b45015ea779d7a6908b541de791ac941"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#b45015ea779d7a6908b541de791ac941"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#a84750bab259aa2f16170b25727bba3f"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#f:31"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#args:32"><span class="id" title="variable">args</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#b45015ea779d7a6908b541de791ac941"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#a84750bab259aa2f16170b25727bba3f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#f:31"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#b45015ea779d7a6908b541de791ac941"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#a84750bab259aa2f16170b25727bba3f"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#args:32"><span class="id" title="variable">args</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> (<span class="id" title="var">A</span> &amp; <span class="id" title="var">HA</span>). <span class="id" title="var">sq</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICValidity.html#inversion_mkApps"><span class="id" title="lemma">inversion_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HA</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span> |- *; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="infer_irrel" class="idref" href="#infer_irrel"><span class="id" title="section">infer_irrel</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="cf:33" class="idref" href="#cf:33"><span class="id" title="binder">cf</span></a>} {<a id="nor:34" class="idref" href="#nor:34"><span class="id" title="binder">nor</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#normalizing_flags"><span class="id" title="class">normalizing_flags</span></a>} {<a id="X_type:35" class="idref" href="#X_type:35"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl"><span class="id" title="definition">abstract_env_ext_impl</span></a>} {<a id="X:36" class="idref" href="#X:36"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type:35"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="X_type':37" class="idref" href="#X_type':37"><span class="id" title="binder">X_type'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl"><span class="id" title="definition">abstract_env_ext_impl</span></a>} {<a id="X':38" class="idref" href="#X':38"><span class="id" title="binder">X'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type':37"><span class="id" title="variable">X_type'</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="hl:39" class="idref" href="#hl:39"><span class="id" title="binder">hl</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#Hlookup"><span class="id" title="definition">Hlookup</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X_type"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X_type'"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X'"><span class="id" title="variable">X'</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="same_prod" class="idref" href="#same_prod"><span class="id" title="definition">same_prod</span></a> (<a id="2fa7cd36545270b450a92047d029dc99" class="idref" href="#2fa7cd36545270b450a92047d029dc99"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) {<a id="T:41" class="idref" href="#T:41"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="pf:46" class="idref" href="#pf:46"><span class="id" title="binder">pf</span></a> : <a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">(</span></a><a id="na':42" class="idref" href="#na':42"><span class="id" title="binder">na'</span></a> : <a class="idref" href="MetaCoq.Template.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="A':43" class="idref" href="#A':43"><span class="id" title="binder">A'</span></a> <a id="B':44" class="idref" href="#B':44"><span class="id" title="binder">B'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">),</span></a> <span class="id" title="keyword">∀</span> <a id="8bac999218c391434ebfca8da64fb69b" class="idref" href="#8bac999218c391434ebfca8da64fb69b"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#8bac999218c391434ebfca8da64fb69b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#8bac999218c391434ebfca8da64fb69b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#2fa7cd36545270b450a92047d029dc99"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#T:41"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#na':42"><span class="id" title="variable">na'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#A':43"><span class="id" title="variable">A'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#B':44"><span class="id" title="variable">B'</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="pf':51" class="idref" href="#pf':51"><span class="id" title="binder">pf'</span></a> : <a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">(</span></a><a id="na':47" class="idref" href="#na':47"><span class="id" title="binder">na'</span></a> : <a class="idref" href="MetaCoq.Template.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="A':48" class="idref" href="#A':48"><span class="id" title="binder">A'</span></a> <a id="B':49" class="idref" href="#B':49"><span class="id" title="binder">B'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">),</span></a> <span class="id" title="keyword">∀</span> <a id="4f3c8cf463ede8c1c75dc6e27df02d2d" class="idref" href="#4f3c8cf463ede8c1c75dc6e27df02d2d"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X'"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#4f3c8cf463ede8c1c75dc6e27df02d2d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#4f3c8cf463ede8c1c75dc6e27df02d2d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#2fa7cd36545270b450a92047d029dc99"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#T:41"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#na':47"><span class="id" title="variable">na'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#A':48"><span class="id" title="variable">A'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#B':49"><span class="id" title="variable">B'</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">(</span></a><span class="id" title="var">na</span><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <span class="id" title="var">A</span><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <span class="id" title="var">B</span><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#pf:46"><span class="id" title="variable">pf</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">(</span></a><span class="id" title="var">na'</span><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <span class="id" title="var">A'</span><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <span class="id" title="var">B'</span><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#pf':51"><span class="id" title="variable">pf'</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">na</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">na'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">A'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">B'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="same_prod_last" class="idref" href="#same_prod_last"><span class="id" title="lemma">same_prod_last</span></a> (<a id="c89e33bdbed75848428cf76e1403e603" class="idref" href="#c89e33bdbed75848428cf76e1403e603"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) {<a id="T:55" class="idref" href="#T:55"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="pf:60" class="idref" href="#pf:60"><span class="id" title="binder">pf</span></a> : <a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">(</span></a><a id="na':56" class="idref" href="#na':56"><span class="id" title="binder">na'</span></a> : <a class="idref" href="MetaCoq.Template.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="A':57" class="idref" href="#A':57"><span class="id" title="binder">A'</span></a> <a id="B':58" class="idref" href="#B':58"><span class="id" title="binder">B'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">),</span></a> <span class="id" title="keyword">∀</span> <a id="0685bd56931f2020ec61d62cd42607cf" class="idref" href="#0685bd56931f2020ec61d62cd42607cf"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#0685bd56931f2020ec61d62cd42607cf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#0685bd56931f2020ec61d62cd42607cf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#c89e33bdbed75848428cf76e1403e603"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#T:55"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#na':56"><span class="id" title="variable">na'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#A':57"><span class="id" title="variable">A'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#B':58"><span class="id" title="variable">B'</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="pf':65" class="idref" href="#pf':65"><span class="id" title="binder">pf'</span></a> : <a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">(</span></a><a id="na':61" class="idref" href="#na':61"><span class="id" title="binder">na'</span></a> : <a class="idref" href="MetaCoq.Template.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="A':62" class="idref" href="#A':62"><span class="id" title="binder">A'</span></a> <a id="B':63" class="idref" href="#B':63"><span class="id" title="binder">B'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">),</span></a> <span class="id" title="keyword">∀</span> <a id="cc2b65564304e5a54a9642e62d8a48fa" class="idref" href="#cc2b65564304e5a54a9642e62d8a48fa"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X'"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#cc2b65564304e5a54a9642e62d8a48fa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#cc2b65564304e5a54a9642e62d8a48fa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#c89e33bdbed75848428cf76e1403e603"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#T:55"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#na':61"><span class="id" title="variable">na'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#A':62"><span class="id" title="variable">A'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#B':63"><span class="id" title="variable">B'</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#same_prod"><span class="id" title="definition">same_prod</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#c89e33bdbed75848428cf76e1403e603"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#pf:60"><span class="id" title="variable">pf</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#pf':65"><span class="id" title="variable">pf'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#pf:60"><span class="id" title="variable">pf</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2.π2</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#pf':65"><span class="id" title="variable">pf'</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2.π2</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">A</span> [<span class="id" title="var">B</span> <span class="id" title="var">prf</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pf'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na'</span> [<span class="id" title="var">A'</span> []]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="same_reduce_stack" class="idref" href="#same_reduce_stack"><span class="id" title="lemma">same_reduce_stack</span></a> {<a id="e3106d3337230bb284c35abdede1ac02" class="idref" href="#e3106d3337230bb284c35abdede1ac02"><span class="id" title="binder">Γ</span></a> <a id="t:67" class="idref" href="#t:67"><span class="id" title="binder">t</span></a> <a id="1adcd9df6c0cfbd3027e4dc1c118217a" class="idref" href="#1adcd9df6c0cfbd3027e4dc1c118217a"><span class="id" title="binder">π</span></a>} {<a id="fl:69" class="idref" href="#fl:69"><span class="id" title="binder">fl</span></a>} (<a id="wi:71" class="idref" href="#wi:71"><span class="id" title="binder">wi</span></a> : <span class="id" title="keyword">∀</span> <a id="ac713e2c58df9c0a01be9ad130d8ea1a" class="idref" href="#ac713e2c58df9c0a01be9ad130d8ea1a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#ac713e2c58df9c0a01be9ad130d8ea1a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#ac713e2c58df9c0a01be9ad130d8ea1a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#e3106d3337230bb284c35abdede1ac02"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICPosition.html#zip"><span class="id" title="definition">PCUICPosition.zip</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:67"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#1adcd9df6c0cfbd3027e4dc1c118217a"><span class="id" title="variable">π</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wi':73" class="idref" href="#wi':73"><span class="id" title="binder">wi'</span></a> : <span class="id" title="keyword">∀</span> <a id="5f7f8a3a36b9c7b682466610e664c174" class="idref" href="#5f7f8a3a36b9c7b682466610e664c174"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X'"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#5f7f8a3a36b9c7b682466610e664c174"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#5f7f8a3a36b9c7b682466610e664c174"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#e3106d3337230bb284c35abdede1ac02"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICPosition.html#zip"><span class="id" title="definition">PCUICPosition.zip</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:67"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#1adcd9df6c0cfbd3027e4dc1c118217a"><span class="id" title="variable">π</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#fl:69"><span class="id" title="variable">fl</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X_type"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#e3106d3337230bb284c35abdede1ac02"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:67"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#1adcd9df6c0cfbd3027e4dc1c118217a"><span class="id" title="variable">π</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wi:71"><span class="id" title="variable">wi</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#fl:69"><span class="id" title="variable">fl</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X_type'"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X'"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#e3106d3337230bb284c35abdede1ac02"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:67"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#1adcd9df6c0cfbd3027e4dc1c118217a"><span class="id" title="variable">π</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wi':73"><span class="id" title="variable">wi'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#reduce_stack_eq"><span class="id" title="definition">reduce_stack_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">X_type'</span> <span class="id" title="var">X'</span> <span class="id" title="var">wi'</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_funelim</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full"><span class="id" title="definition">reduce_stack_full</span></a> <span class="id" title="var">fl</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X_type"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> π <span class="id" title="var">wi</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full_unfold_eq"><span class="id" title="definition">reduce_stack_full_unfold_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="keyword">rec</span> := (<span class="id" title="keyword">fun</span> <a id="t':76" class="idref" href="#t':76"><span class="id" title="binder">t'</span></a> <a id="90d5f6c08474334b5b4e3242f3d2055d" class="idref" href="#90d5f6c08474334b5b4e3242f3d2055d"><span class="id" title="binder">π'</span></a> ⇒ <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full_unfold"><span class="id" title="definition">reduce_stack_full_unfold</span></a>. <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">rec'</span> := (<span class="id" title="keyword">fun</span> <a id="t':80" class="idref" href="#t':80"><span class="id" title="binder">t'</span></a> <a id="36098e05229b6fd6eb3ccc61c751c921" class="idref" href="#36098e05229b6fd6eb3ccc61c751c921"><span class="id" title="binder">π'</span></a> ⇒ <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ih</span> : <span class="id" title="keyword">∀</span> (<a id="t':88" class="idref" href="#t':88"><span class="id" title="binder">t'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="ec0d471bd62bfb0a8165fb1f76e58cab" class="idref" href="#ec0d471bd62bfb0a8165fb1f76e58cab"><span class="id" title="binder">π'</span></a> : <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICPosition.html#stack"><span class="id" title="definition">PCUICPosition.stack</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="hr:91" class="idref" href="#hr:91"><span class="id" title="binder">hr</span></a> : <span class="id" title="keyword">∀</span> <a id="e7d7d1a5c8faf52a5c71ecfd041f3db5" class="idref" href="#e7d7d1a5c8faf52a5c71ecfd041f3db5"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#a5bae1297469f77e34a5c13ef06bb586"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#R"><span class="id" title="definition">R</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#a5bae1297469f77e34a5c13ef06bb586"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t':82"><span class="id" title="variable">t'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#1c79dfbccdaf68b0502a5e57d6a73fda"><span class="id" title="variable">π'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">t0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> π0<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="hr':93" class="idref" href="#hr':93"><span class="id" title="binder">hr'</span></a> : <span class="id" title="keyword">∀</span> <a id="ad55bb628a30602c3defc5575918601a" class="idref" href="#ad55bb628a30602c3defc5575918601a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X'"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#fc85eefe06c558ba688df7af8e52608e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#R"><span class="id" title="definition">R</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#fc85eefe06c558ba688df7af8e52608e"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t':82"><span class="id" title="variable">t'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#1c79dfbccdaf68b0502a5e57d6a73fda"><span class="id" title="variable">π'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">t0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> π0<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#c291183902a7f37f27173cc42ed86b4c"><span class="id" title="notation">`</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#c291183902a7f37f27173cc42ed86b4c"><span class="id" title="notation">(</span></a><span class="id" title="keyword">rec</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t':82"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#1c79dfbccdaf68b0502a5e57d6a73fda"><span class="id" title="variable">π'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#hr:85"><span class="id" title="variable">hr</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#c291183902a7f37f27173cc42ed86b4c"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#c291183902a7f37f27173cc42ed86b4c"><span class="id" title="notation">`</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#c291183902a7f37f27173cc42ed86b4c"><span class="id" title="notation">(</span></a><span class="id" title="var">rec'</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t':82"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#1c79dfbccdaf68b0502a5e57d6a73fda"><span class="id" title="variable">π'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#hr':87"><span class="id" title="variable">hr'</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#c291183902a7f37f27173cc42ed86b4c"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">exact</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.hl"><span class="id" title="variable">hl</span></a>. } <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">rec'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">reccall</span> <span class="id" title="var">ih</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">rec'</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ |- <span class="id" title="keyword">context</span> [<span class="id" title="keyword">rec</span> ?<span class="id" title="var">t</span> ?π ?<span class="id" title="var">hr</span>] ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ |- <span class="id" title="keyword">context</span> [<span class="id" title="var">rec'</span> ?<span class="id" title="var">t'</span> ?π' ?<span class="id" title="var">hr'</span>] ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> := <span class="id" title="var">ih</span> <span class="id" title="var">t</span> π <span class="id" title="var">hr</span> <span class="id" title="var">hr'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">call</span> := <span class="id" title="keyword">rec</span> <span class="id" title="var">t</span> π <span class="id" title="var">hr</span>) <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">call'</span> := <span class="id" title="var">rec'</span> <span class="id" title="var">t</span> π' <span class="id" title="var">hr'</span>) <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">call</span> <span class="id" title="var">call'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">call</span>, <span class="id" title="var">call'</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> |- *; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#red_viewc"><span class="id" title="definition">red_viewc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICNormal.html#RedFlags.zeta"><span class="id" title="projection">PCUICNormal.RedFlags.zeta</span></a> <span class="id" title="var">fl</span>); <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>. 2:<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [[? [?|] ?]|] ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reccall</span> <span class="id" title="var">ih</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">rec'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">bang</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICNormal.html#RedFlags.zeta"><span class="id" title="projection">PCUICNormal.RedFlags.zeta</span></a> <span class="id" title="var">fl</span>); <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>. 2:<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reccall</span> <span class="id" title="var">ih</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">rec'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICNormal.html#RedFlags.delta"><span class="id" title="projection">PCUICNormal.RedFlags.delta</span></a> <span class="id" title="var">fl</span>); <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>. 2:<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup"><span class="id" title="method">abstract_env_lookup</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup"><span class="id" title="method">abstract_env_lookup</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X'"><span class="id" title="variable">X'</span></a> <span class="id" title="var">c</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> -<span class="id" title="var">hl</span> <span class="id" title="var">h</span> <span class="id" title="var">wi'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hwfΣ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">h</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X'"><span class="id" title="variable">X'</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X'"><span class="id" title="variable">X'</span></a> <span class="id" title="var">wfΣ'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hwfΣ'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">wi'</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSafeLemmata.html#welltyped_zipc_zipp"><span class="id" title="lemma">welltyped_zipc_zipp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. 2:<span class="id" title="var">pcuic</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">PCUICPosition.zipp</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">PCUICPosition.decompose_stack</span></a> π0) <span class="id" title="var">eqn</span>:<span class="id" title="var">decomp</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>). <span class="id" title="var">sq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">hwfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#welltyped_mkApps_inv"><span class="id" title="lemma">welltyped_mkApps_inv</span></a> (<span class="id" title="var">Σ</span> := <span class="id" title="var">Σ</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSafeLemmata.html#welltyped_zipc_zipp"><span class="id" title="lemma">welltyped_zipc_zipp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wi'</span>. 2:<span class="id" title="var">pcuic</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wi'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICPosition.html#zipp"><span class="id" title="definition">PCUICPosition.zipp</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICPosition.html#decompose_stack"><span class="id" title="definition">PCUICPosition.decompose_stack</span></a> π0) <span class="id" title="var">eqn</span>:<span class="id" title="var">decomp'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <span class="id" title="var">Σ'</span> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>). <span class="id" title="var">sq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">hwfΣ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#welltyped_mkApps_inv"><span class="id" title="lemma">welltyped_mkApps_inv</span></a> (<span class="id" title="var">Σ</span> := <span class="id" title="var">Σ'</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">wi'</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Const"><span class="id" title="lemma">inversion_Const</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">decl</span> [<span class="id" title="var">_</span> [<span class="id" title="var">Hdecl</span> <span class="id" title="var">_</span>]]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Const"><span class="id" title="lemma">inversion_Const</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">decl'</span> [<span class="id" title="var">_</span> [<span class="id" title="var">Hdecl'</span> <span class="id" title="var">_</span>]]]; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [[]|] ⇒ //; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>. 2-3:<span class="id" title="var">bang</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x0</span> <span class="id" title="keyword">as</span> [[]|] ⇒ //; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>. 2-3:<span class="id" title="var">bang</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">c0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">c1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">congruence</span>. } <span class="id" title="tactic">subst</span> <span class="id" title="var">c1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c0</span> <span class="id" title="keyword">as</span> [? [|] ? ?]; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">reccall</span> <span class="id" title="var">ih</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">rec'</span>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reccall</span> <span class="id" title="var">ih</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">rec'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a> ⇒ //. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reccall</span> <span class="id" title="var">ih</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">rec'</span>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICNormal.html#RedFlags.fix_"><span class="id" title="projection">PCUICNormal.RedFlags.fix_</span></a> <span class="id" title="var">fl</span>); <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>. 2:<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>. 2:<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>. 2:<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [[? ?] ?]. <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">reccall'</span> <span class="id" title="var">ih</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">rec'</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ |- <span class="id" title="keyword">context</span> [<span class="id" title="keyword">rec</span> ?<span class="id" title="var">t</span> ?π ?<span class="id" title="var">hr</span>] ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ |- <span class="id" title="keyword">context</span> [<span class="id" title="var">rec'</span> ?<span class="id" title="var">t'</span> ?π' ?<span class="id" title="var">hr'</span>] ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> := <span class="id" title="var">ih</span> <span class="id" title="var">t</span> π <span class="id" title="var">hr</span> <span class="id" title="var">hr'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">call</span> := <span class="id" title="keyword">rec</span> <span class="id" title="var">t</span> π <span class="id" title="var">hr</span>) <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">call'</span> := <span class="id" title="var">rec'</span> <span class="id" title="var">t</span> π' <span class="id" title="var">hr'</span>) <span class="id" title="tactic">in</span> ×<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reccall'</span> <span class="id" title="var">ih</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">rec'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ |- <span class="id" title="keyword">context</span> [@<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> ?<span class="id" title="var">A</span> ?<span class="id" title="var">P</span> <span class="id" title="var">call</span> ?<span class="id" title="var">e</span>] ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ |- <span class="id" title="keyword">context</span> [@<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> ?<span class="id" title="var">A'</span> ?<span class="id" title="var">P'</span> <span class="id" title="var">call'</span> ?<span class="id" title="var">e'</span>] ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ex</span> := @<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">A</span> <span class="id" title="var">P</span> <span class="id" title="var">call</span> <span class="id" title="var">e</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ex'</span> := @<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">A'</span> <span class="id" title="var">P'</span> <span class="id" title="var">call'</span> <span class="id" title="var">e'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">ex</span> <span class="id" title="var">ex'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ex</span> <span class="id" title="keyword">as</span> [[? ?] <span class="id" title="var">eq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ex'</span> <span class="id" title="keyword">as</span> [[? ?] <span class="id" title="var">eq'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x0</span>). { <span class="id" title="tactic">subst</span> <span class="id" title="var">call</span> <span class="id" title="var">call'</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">eq</span> <span class="id" title="var">eq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reccall</span> <span class="id" title="var">ih</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">rec'</span>. <span class="id" title="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#construct_viewc"><span class="id" title="definition">construct_viewc</span></a>); <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> []; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">call</span> <span class="id" title="var">call'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reccall</span> <span class="id" title="var">ih</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">rec'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> []; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICNormal.html#RedFlags.iota"><span class="id" title="projection">PCUICNormal.RedFlags.iota</span></a> <span class="id" title="var">fl</span>); <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>. 2:<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reccall'</span> <span class="id" title="var">ih</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">rec'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ |- <span class="id" title="keyword">context</span> [@<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> ?<span class="id" title="var">A</span> ?<span class="id" title="var">P</span> <span class="id" title="var">call</span> ?<span class="id" title="var">e</span>] ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ |- <span class="id" title="keyword">context</span> [@<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> ?<span class="id" title="var">A'</span> ?<span class="id" title="var">P'</span> <span class="id" title="var">call'</span> ?<span class="id" title="var">e'</span>] ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ex</span> := @<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">A</span> <span class="id" title="var">P</span> <span class="id" title="var">call</span> <span class="id" title="var">e</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ex'</span> := @<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">A'</span> <span class="id" title="var">P'</span> <span class="id" title="var">call'</span> <span class="id" title="var">e'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">ex</span> <span class="id" title="var">ex'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ex</span> <span class="id" title="keyword">as</span> [[? ?] <span class="id" title="var">eq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ex'</span> <span class="id" title="keyword">as</span> [[? ?] <span class="id" title="var">eq'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x0</span>). { <span class="id" title="tactic">subst</span> <span class="id" title="var">call</span> <span class="id" title="var">call'</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">eq</span> <span class="id" title="var">eq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reccall</span> <span class="id" title="var">ih</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">rec'</span>. <span class="id" title="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> []; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#cc_viewc"><span class="id" title="definition">cc_viewc</span></a>; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>. 3:<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> []; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">call</span> <span class="id" title="var">call'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reccall</span> <span class="id" title="var">ih</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">rec'</span>. <span class="id" title="var">bang</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> []; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>. 2:<span class="id" title="var">bang</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p0</span>; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">call</span> <span class="id" title="var">call'</span>; <span class="id" title="var">reccall</span> <span class="id" title="var">ih</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">rec'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [[] ?]. <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICNormal.html#RedFlags.iota"><span class="id" title="projection">PCUICNormal.RedFlags.iota</span></a> <span class="id" title="var">fl</span>); <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>. 2:<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reccall'</span> <span class="id" title="var">ih</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">rec'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ |- <span class="id" title="keyword">context</span> [@<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> ?<span class="id" title="var">A</span> ?<span class="id" title="var">P</span> <span class="id" title="var">call</span> ?<span class="id" title="var">e</span>] ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ |- <span class="id" title="keyword">context</span> [@<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> ?<span class="id" title="var">A'</span> ?<span class="id" title="var">P'</span> <span class="id" title="var">call'</span> ?<span class="id" title="var">e'</span>] ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ex</span> := @<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">A</span> <span class="id" title="var">P</span> <span class="id" title="var">call</span> <span class="id" title="var">e</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ex'</span> := @<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">A'</span> <span class="id" title="var">P'</span> <span class="id" title="var">call'</span> <span class="id" title="var">e'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">ex</span> <span class="id" title="var">ex'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ex</span> <span class="id" title="keyword">as</span> [[? ?] <span class="id" title="var">eq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ex'</span> <span class="id" title="keyword">as</span> [[? ?] <span class="id" title="var">eq'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x0</span>). { <span class="id" title="tactic">subst</span> <span class="id" title="var">call</span> <span class="id" title="var">call'</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">eq</span> <span class="id" title="var">eq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reccall</span> <span class="id" title="var">ih</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">rec'</span>. <span class="id" title="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> []; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#cc0_viewc"><span class="id" title="definition">cc0_viewc</span></a>; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>. 3:<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> []; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">call</span> <span class="id" title="var">call'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reccall</span> <span class="id" title="var">ih</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">rec'</span>. <span class="id" title="var">bang</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> []; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>. 2:<span class="id" title="var">bang</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">simp</span> <span class="id" title="var">_reduce_stack</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">call</span> <span class="id" title="var">call'</span>; <span class="id" title="var">reccall</span> <span class="id" title="var">ih</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">rec'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="same_hnf" class="idref" href="#same_hnf"><span class="id" title="lemma">same_hnf</span></a> {<a id="f0f0bdeb0c7a80e2c119a43408a6c4b2" class="idref" href="#f0f0bdeb0c7a80e2c119a43408a6c4b2"><span class="id" title="binder">Γ</span></a> <a id="t:95" class="idref" href="#t:95"><span class="id" title="binder">t</span></a>} (<a id="wi:97" class="idref" href="#wi:97"><span class="id" title="binder">wi</span></a> : <span class="id" title="keyword">∀</span> <a id="cd6537d2e99017ef8ef9bcdef499a786" class="idref" href="#cd6537d2e99017ef8ef9bcdef499a786"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#cd6537d2e99017ef8ef9bcdef499a786"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#cd6537d2e99017ef8ef9bcdef499a786"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#f0f0bdeb0c7a80e2c119a43408a6c4b2"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:95"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wi':99" class="idref" href="#wi':99"><span class="id" title="binder">wi'</span></a> : <span class="id" title="keyword">∀</span> <a id="d28bbe011225204c88b57a270b5a3987" class="idref" href="#d28bbe011225204c88b57a270b5a3987"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X'"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#d28bbe011225204c88b57a270b5a3987"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#d28bbe011225204c88b57a270b5a3987"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#f0f0bdeb0c7a80e2c119a43408a6c4b2"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:95"><span class="id" title="variable">t</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#hnf"><span class="id" title="definition">hnf</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#f0f0bdeb0c7a80e2c119a43408a6c4b2"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:95"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wi:97"><span class="id" title="variable">wi</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#hnf"><span class="id" title="definition">hnf</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#f0f0bdeb0c7a80e2c119a43408a6c4b2"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:95"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wi':99"><span class="id" title="variable">wi'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#hnf"><span class="id" title="definition">hnf</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_term"><span class="id" title="definition">reduce_term</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#same_reduce_stack"><span class="id" title="lemma">same_reduce_stack</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="same_typing_result_comp" class="idref" href="#same_typing_result_comp"><span class="id" title="definition">same_typing_result_comp</span></a> {<a id="A:100" class="idref" href="#A:100"><span class="id" title="binder">A</span></a> <a id="B:101" class="idref" href="#B:101"><span class="id" title="binder">B</span></a>} (<a id="P:102" class="idref" href="#P:102"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#A:100"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#B:101"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="c:103" class="idref" href="#c:103"><span class="id" title="binder">c</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#typing_result_comp"><span class="id" title="inductive">typing_result_comp</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#A:100"><span class="id" title="variable">A</span></a>) (<a id="c':104" class="idref" href="#c':104"><span class="id" title="binder">c'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#typing_result_comp"><span class="id" title="inductive">typing_result_comp</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#B:101"><span class="id" title="variable">B</span></a>) : <span class="id" title="keyword">Prop</span> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#c:103"><span class="id" title="variable">c</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#c':104"><span class="id" title="variable">c'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#Checked_comp"><span class="id" title="constructor">Checked_comp</span></a> <span class="id" title="var">a</span>, <a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#Checked_comp"><span class="id" title="constructor">Checked_comp</span></a> <span class="id" title="var">a'</span> ⇒ <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#P:102"><span class="id" title="variable">P</span></a> <span class="id" title="var">a</span> <span class="id" title="var">a'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#TypeError_comp"><span class="id" title="constructor">TypeError_comp</span></a> <span class="id" title="var">e</span> <span class="id" title="var">ne</span>, <a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#TypeError_comp"><span class="id" title="constructor">TypeError_comp</span></a> <span class="id" title="var">e'</span> <span class="id" title="var">na'</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="same_prod_comp" class="idref" href="#same_prod_comp"><span class="id" title="definition">same_prod_comp</span></a> {<a id="367e0b75814c690d9518e83afce12d6f" class="idref" href="#367e0b75814c690d9518e83afce12d6f"><span class="id" title="binder">Γ</span></a> <a id="T:108" class="idref" href="#T:108"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="pf:113" class="idref" href="#pf:113"><span class="id" title="binder">pf</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#typing_result_comp"><span class="id" title="inductive">typing_result_comp</span></a> (<a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">(</span></a><a id="na':109" class="idref" href="#na':109"><span class="id" title="binder">na'</span></a> : <a class="idref" href="MetaCoq.Template.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="A':110" class="idref" href="#A':110"><span class="id" title="binder">A'</span></a> <a id="B':111" class="idref" href="#B':111"><span class="id" title="binder">B'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">),</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="6331a09bee1fd08c7dac0167a6c36fc8" class="idref" href="#6331a09bee1fd08c7dac0167a6c36fc8"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#6331a09bee1fd08c7dac0167a6c36fc8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#6331a09bee1fd08c7dac0167a6c36fc8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#367e0b75814c690d9518e83afce12d6f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#T:108"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#na':109"><span class="id" title="variable">na'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#A':110"><span class="id" title="variable">A'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#B':111"><span class="id" title="variable">B'</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="pf':118" class="idref" href="#pf':118"><span class="id" title="binder">pf'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#typing_result_comp"><span class="id" title="inductive">typing_result_comp</span></a> (<a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">(</span></a><a id="na':114" class="idref" href="#na':114"><span class="id" title="binder">na'</span></a> : <a class="idref" href="MetaCoq.Template.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="A':115" class="idref" href="#A':115"><span class="id" title="binder">A'</span></a> <a id="B':116" class="idref" href="#B':116"><span class="id" title="binder">B'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="388873efb4be7b6002f3f68ecd6fa136" class="idref" href="#388873efb4be7b6002f3f68ecd6fa136"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X'"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#388873efb4be7b6002f3f68ecd6fa136"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#388873efb4be7b6002f3f68ecd6fa136"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#367e0b75814c690d9518e83afce12d6f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#T:108"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#na':114"><span class="id" title="variable">na'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#A':115"><span class="id" title="variable">A'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#B':116"><span class="id" title="variable">B'</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#same_typing_result_comp"><span class="id" title="definition">same_typing_result_comp</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#same_prod"><span class="id" title="definition">same_prod</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#367e0b75814c690d9518e83afce12d6f"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#pf:113"><span class="id" title="variable">pf</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#pf':118"><span class="id" title="variable">pf'</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reduce_to_prod_irrel" class="idref" href="#reduce_to_prod_irrel"><span class="id" title="lemma">reduce_to_prod_irrel</span></a> {<a id="e6bb8b3e7b4f2d9663b568c177a5d39b" class="idref" href="#e6bb8b3e7b4f2d9663b568c177a5d39b"><span class="id" title="binder">Γ</span></a> <a id="t:120" class="idref" href="#t:120"><span class="id" title="binder">t</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wi:122" class="idref" href="#wi:122"><span class="id" title="binder">wi</span></a> : <span class="id" title="keyword">∀</span> <a id="22291429b6747bbc3b99ddb1e9a3d90c" class="idref" href="#22291429b6747bbc3b99ddb1e9a3d90c"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#22291429b6747bbc3b99ddb1e9a3d90c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#22291429b6747bbc3b99ddb1e9a3d90c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#e6bb8b3e7b4f2d9663b568c177a5d39b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:120"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wi':124" class="idref" href="#wi':124"><span class="id" title="binder">wi'</span></a> : <span class="id" title="keyword">∀</span> <a id="1fae2405502733773daa9dd3939f6e35" class="idref" href="#1fae2405502733773daa9dd3939f6e35"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X'"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#1fae2405502733773daa9dd3939f6e35"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#1fae2405502733773daa9dd3939f6e35"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#e6bb8b3e7b4f2d9663b568c177a5d39b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:120"><span class="id" title="variable">t</span></a>) : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#same_prod_comp"><span class="id" title="definition">same_prod_comp</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_to_prod"><span class="id" title="definition">reduce_to_prod</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#e6bb8b3e7b4f2d9663b568c177a5d39b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:120"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wi:122"><span class="id" title="variable">wi</span></a>) (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_to_prod"><span class="id" title="definition">reduce_to_prod</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#e6bb8b3e7b4f2d9663b568c177a5d39b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:120"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wi':124"><span class="id" title="variable">wi'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_to_prod"><span class="id" title="definition">reduce_to_prod</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#view_prodc"><span class="id" title="definition">view_prodc</span></a>; <span class="id" title="var">simp</span> <span class="id" title="var">reduce_to_prod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#same_hnf"><span class="id" title="lemma">same_hnf</span></a> <span class="id" title="var">wi</span> <span class="id" title="var">wi'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_to_prod_clause_1_clause_2"><span class="id" title="definition">reduce_to_prod_clause_1_clause_2</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">e</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>). <span class="id" title="tactic">set</span> (<span class="id" title="var">e'</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">v</span> := <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#view_prodc"><span class="id" title="definition">view_prodc</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#hnf"><span class="id" title="definition">hnf</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wi</span>)). <span class="id" title="var">clearbody</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">v'</span> := <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#view_prodc"><span class="id" title="definition">view_prodc</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#hnf"><span class="id" title="definition">hnf</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wi'</span>)). <span class="id" title="var">clearbody</span> <span class="id" title="var">v'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_to_prod_clause_1_clause_2_clause_1"><span class="id" title="definition">reduce_to_prod_clause_1_clause_2_clause_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">v'</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v'</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">t0</span>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">t1</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="infer_as_prod_irrel" class="idref" href="#infer_as_prod_irrel"><span class="id" title="lemma">infer_as_prod_irrel</span></a> {<a id="9df2f0319280668d82ebc2aa17c2b55f" class="idref" href="#9df2f0319280668d82ebc2aa17c2b55f"><span class="id" title="binder">Γ</span></a> <a id="t:126" class="idref" href="#t:126"><span class="id" title="binder">t</span></a>} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wf:128" class="idref" href="#wf:128"><span class="id" title="binder">wf</span></a> : <span class="id" title="keyword">∀</span> <a id="65358e173100572b17ccc689a57a129c" class="idref" href="#65358e173100572b17ccc689a57a129c"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#65358e173100572b17ccc689a57a129c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#65358e173100572b17ccc689a57a129c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#9df2f0319280668d82ebc2aa17c2b55f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wf':130" class="idref" href="#wf':130"><span class="id" title="binder">wf'</span></a> : <span class="id" title="keyword">∀</span> <a id="15b074cf36512f8adc75ec6a926bd245" class="idref" href="#15b074cf36512f8adc75ec6a926bd245"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X'"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#15b074cf36512f8adc75ec6a926bd245"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#15b074cf36512f8adc75ec6a926bd245"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#9df2f0319280668d82ebc2aa17c2b55f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wi:132" class="idref" href="#wi:132"><span class="id" title="binder">wi</span></a> : <span class="id" title="keyword">∀</span> <a id="827e6cceb29d7e31d1fb867cd390df8a" class="idref" href="#827e6cceb29d7e31d1fb867cd390df8a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#827e6cceb29d7e31d1fb867cd390df8a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#827e6cceb29d7e31d1fb867cd390df8a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#9df2f0319280668d82ebc2aa17c2b55f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:126"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wi':134" class="idref" href="#wi':134"><span class="id" title="binder">wi'</span></a> : <span class="id" title="keyword">∀</span> <a id="bde462675d41d4bc8b1ca99665600e7d" class="idref" href="#bde462675d41d4bc8b1ca99665600e7d"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X'"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#bde462675d41d4bc8b1ca99665600e7d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#bde462675d41d4bc8b1ca99665600e7d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#9df2f0319280668d82ebc2aa17c2b55f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:126"><span class="id" title="variable">t</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="hp:135" class="idref" href="#hp:135"><span class="id" title="binder">hp</span></a> <a id="hp':136" class="idref" href="#hp':136"><span class="id" title="binder">hp'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#same_prod"><span class="id" title="definition">same_prod</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#9df2f0319280668d82ebc2aa17c2b55f"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer_as_prod"><span class="id" title="definition">infer_as_prod</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X_type"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#9df2f0319280668d82ebc2aa17c2b55f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:126"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wf:128"><span class="id" title="variable">wf</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wi:132"><span class="id" title="variable">wi</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#hp:135"><span class="id" title="variable">hp</span></a>) (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer_as_prod"><span class="id" title="definition">infer_as_prod</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X_type'"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X'"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#9df2f0319280668d82ebc2aa17c2b55f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:126"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wf':130"><span class="id" title="variable">wf'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wi':134"><span class="id" title="variable">wi'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#hp':136"><span class="id" title="variable">hp'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#same_prod"><span class="id" title="definition">same_prod</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer_as_prod"><span class="id" title="definition">infer_as_prod</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_to_prod"><span class="id" title="definition">reduce_to_prod</span></a> <span class="id" title="keyword">as</span> [[<span class="id" title="var">na</span> [<span class="id" title="var">A</span> [<span class="id" title="var">B</span> <span class="id" title="var">hr</span>]]]|] <span class="id" title="var">eqn</span>:<span class="id" title="var">h</span>. 2:<span class="id" title="var">bang</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_to_prod"><span class="id" title="definition">reduce_to_prod</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wi'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">na'</span> [<span class="id" title="var">A'</span> [<span class="id" title="var">B'</span> <span class="id" title="var">hr'</span>]]]|] <span class="id" title="var">eqn</span>:<span class="id" title="var">h'</span>. 2:<span class="id" title="var">bang</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#reduce_to_prod_irrel"><span class="id" title="lemma">reduce_to_prod_irrel</span></a> <span class="id" title="var">wi</span> <span class="id" title="var">wi'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">h</span> <span class="id" title="var">h'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="same_sort_comp" class="idref" href="#same_sort_comp"><span class="id" title="definition">same_sort_comp</span></a> {<a id="cf:137" class="idref" href="#cf:137"><span class="id" title="binder">cf</span></a>} {<a id="nor:138" class="idref" href="#nor:138"><span class="id" title="binder">nor</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#normalizing_flags"><span class="id" title="class">normalizing_flags</span></a>} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="X_type:139" class="idref" href="#X_type:139"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl"><span class="id" title="definition">abstract_env_ext_impl</span></a>} {<a id="X:140" class="idref" href="#X:140"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type:139"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="X_type':141" class="idref" href="#X_type':141"><span class="id" title="binder">X_type'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl"><span class="id" title="definition">abstract_env_ext_impl</span></a>} {<a id="X':142" class="idref" href="#X':142"><span class="id" title="binder">X'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type':141"><span class="id" title="variable">X_type'</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="fe49019c6210adf8ca767b17fb500606" class="idref" href="#fe49019c6210adf8ca767b17fb500606"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>} {<a id="t:144" class="idref" href="#t:144"><span class="id" title="binder">t</span></a> <a id="t':145" class="idref" href="#t':145"><span class="id" title="binder">t'</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="pf:148" class="idref" href="#pf:148"><span class="id" title="binder">pf</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#typing_result_comp"><span class="id" title="inductive">typing_result_comp</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="u:146" class="idref" href="#u:146"><span class="id" title="binder">u</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">∀</span> <a id="af86f001053f86b06e4b96573ace83f4" class="idref" href="#af86f001053f86b06e4b96573ace83f4"><span class="id" title="binder">Σ0</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X:140"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#af86f001053f86b06e4b96573ace83f4"><span class="id" title="variable">Σ0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#af86f001053f86b06e4b96573ace83f4"><span class="id" title="variable">Σ0</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#fe49019c6210adf8ca767b17fb500606"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:144"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#u:146"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="pf':151" class="idref" href="#pf':151"><span class="id" title="binder">pf'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#typing_result_comp"><span class="id" title="inductive">typing_result_comp</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="u:149" class="idref" href="#u:149"><span class="id" title="binder">u</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">∀</span> <a id="2466b653d61f7a09970da575449e20c4" class="idref" href="#2466b653d61f7a09970da575449e20c4"><span class="id" title="binder">Σ0</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X':142"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#2466b653d61f7a09970da575449e20c4"><span class="id" title="variable">Σ0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#2466b653d61f7a09970da575449e20c4"><span class="id" title="variable">Σ0</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#fe49019c6210adf8ca767b17fb500606"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t':145"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#u:149"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#same_typing_result_comp"><span class="id" title="definition">same_typing_result_comp</span></a> (<span class="id" title="keyword">fun</span> <a id="x:152" class="idref" href="#x:152"><span class="id" title="binder">x</span></a> <a id="y:153" class="idref" href="#y:153"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#x:152"><span class="id" title="variable">x</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#y:153"><span class="id" title="variable">y</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#pf:148"><span class="id" title="variable">pf</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#pf':151"><span class="id" title="variable">pf'</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reduce_to_sort_irrel" class="idref" href="#reduce_to_sort_irrel"><span class="id" title="lemma">reduce_to_sort_irrel</span></a> {<a id="455dcb68b38514977be69a9026728da6" class="idref" href="#455dcb68b38514977be69a9026728da6"><span class="id" title="binder">Γ</span></a> <a id="t:155" class="idref" href="#t:155"><span class="id" title="binder">t</span></a> <a id="t':156" class="idref" href="#t':156"><span class="id" title="binder">t'</span></a>} (<a id="e:157" class="idref" href="#e:157"><span class="id" title="binder">e</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:155"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t':156"><span class="id" title="variable">t'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wi:159" class="idref" href="#wi:159"><span class="id" title="binder">wi</span></a> : <span class="id" title="keyword">∀</span> <a id="4083cb2bcc85852dfb10cc3813a0b868" class="idref" href="#4083cb2bcc85852dfb10cc3813a0b868"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#4083cb2bcc85852dfb10cc3813a0b868"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#4083cb2bcc85852dfb10cc3813a0b868"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#455dcb68b38514977be69a9026728da6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:155"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wi':161" class="idref" href="#wi':161"><span class="id" title="binder">wi'</span></a> : <span class="id" title="keyword">∀</span> <a id="e8b84f97dec582bad0f5930fd7004e26" class="idref" href="#e8b84f97dec582bad0f5930fd7004e26"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X'"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#e8b84f97dec582bad0f5930fd7004e26"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#e8b84f97dec582bad0f5930fd7004e26"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#455dcb68b38514977be69a9026728da6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t':156"><span class="id" title="variable">t'</span></a>) : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#same_sort_comp"><span class="id" title="definition">same_sort_comp</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_to_sort"><span class="id" title="definition">reduce_to_sort</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#455dcb68b38514977be69a9026728da6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:155"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wi:159"><span class="id" title="variable">wi</span></a>) (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_to_sort"><span class="id" title="definition">reduce_to_sort</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#455dcb68b38514977be69a9026728da6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t':156"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wi':161"><span class="id" title="variable">wi'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_to_sort"><span class="id" title="definition">reduce_to_sort</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#view_sortc"><span class="id" title="definition">view_sortc</span></a>); <span class="id" title="var">simp</span> <span class="id" title="var">reduce_to_sort</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_to_sort_clause_1_clause_2"><span class="id" title="definition">reduce_to_sort_clause_1_clause_2</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#same_hnf"><span class="id" title="lemma">same_hnf</span></a> <span class="id" title="var">wi</span> <span class="id" title="var">wi'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id" title="keyword">context</span> [@<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> ?<span class="id" title="var">A</span> ?<span class="id" title="var">t</span>] ⇒ <span class="id" title="keyword">let</span> <span class="id" title="var">e</span> := <span class="id" title="tactic">fresh</span> "e" <span class="id" title="tactic">in</span> <span class="id" title="tactic">set</span>(<span class="id" title="var">e</span> := @<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">A</span> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">v</span> := <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#view_sortc"><span class="id" title="definition">view_sortc</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#hnf"><span class="id" title="definition">hnf</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wi</span>)). <span class="id" title="var">clearbody</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">v'</span> := <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#view_sortc"><span class="id" title="definition">view_sortc</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#hnf"><span class="id" title="definition">hnf</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wi'</span>)). <span class="id" title="var">clearbody</span> <span class="id" title="var">v'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">e</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_to_sort_clause_1_clause_2_clause_1"><span class="id" title="definition">reduce_to_sort_clause_1_clause_2_clause_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">v'</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v'</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">t0</span>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">t1</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="infer_as_sort_irrel" class="idref" href="#infer_as_sort_irrel"><span class="id" title="lemma">infer_as_sort_irrel</span></a> {<a id="9694441249b61c326613811c16949842" class="idref" href="#9694441249b61c326613811c16949842"><span class="id" title="binder">Γ</span></a> <a id="t:163" class="idref" href="#t:163"><span class="id" title="binder">t</span></a>} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wf:165" class="idref" href="#wf:165"><span class="id" title="binder">wf</span></a> : <span class="id" title="keyword">∀</span> <a id="9ff56a46be872711c9a28bdf9007a0f1" class="idref" href="#9ff56a46be872711c9a28bdf9007a0f1"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#9ff56a46be872711c9a28bdf9007a0f1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#9ff56a46be872711c9a28bdf9007a0f1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#9694441249b61c326613811c16949842"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wf':167" class="idref" href="#wf':167"><span class="id" title="binder">wf'</span></a> : <span class="id" title="keyword">∀</span> <a id="02e5d09468d184a097e8ccf600206b42" class="idref" href="#02e5d09468d184a097e8ccf600206b42"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X'"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#02e5d09468d184a097e8ccf600206b42"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#02e5d09468d184a097e8ccf600206b42"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#9694441249b61c326613811c16949842"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wi:169" class="idref" href="#wi:169"><span class="id" title="binder">wi</span></a> : <span class="id" title="keyword">∀</span> <a id="f0e027ee5a1f64fcc94eec5677ac05b4" class="idref" href="#f0e027ee5a1f64fcc94eec5677ac05b4"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#f0e027ee5a1f64fcc94eec5677ac05b4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#well_sorted"><span class="id" title="definition">well_sorted</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#f0e027ee5a1f64fcc94eec5677ac05b4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#9694441249b61c326613811c16949842"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:163"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wi':171" class="idref" href="#wi':171"><span class="id" title="binder">wi'</span></a> : <span class="id" title="keyword">∀</span> <a id="de0bdd995243600a0219716b7c05224c" class="idref" href="#de0bdd995243600a0219716b7c05224c"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X'"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#de0bdd995243600a0219716b7c05224c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#well_sorted"><span class="id" title="definition">well_sorted</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#de0bdd995243600a0219716b7c05224c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#9694441249b61c326613811c16949842"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:163"><span class="id" title="variable">t</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="hp:172" class="idref" href="#hp:172"><span class="id" title="binder">hp</span></a> <a id="hp':173" class="idref" href="#hp':173"><span class="id" title="binder">hp'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#hp:172"><span class="id" title="variable">hp</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#hp':173"><span class="id" title="variable">hp'</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer_as_sort"><span class="id" title="definition">infer_as_sort</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X_type"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wf:165"><span class="id" title="variable">wf</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wi:169"><span class="id" title="variable">wi</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#hp:172"><span class="id" title="variable">hp</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">).π1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer_as_sort"><span class="id" title="definition">infer_as_sort</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X_type'"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X'"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wf':167"><span class="id" title="variable">wf'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wi':171"><span class="id" title="variable">wi'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#hp':173"><span class="id" title="variable">hp'</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">).π1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer_as_sort"><span class="id" title="definition">infer_as_sort</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#principal_type_type"><span class="id" title="definition">PCUICSafeRetyping.principal_type_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl</span> := <span class="id" title="keyword">fun</span> <a id="12b563e13a9f6a0b9ec6f713dd653f25" class="idref" href="#12b563e13a9f6a0b9ec6f713dd653f25"><span class="id" title="binder">Σ</span></a> <a id="d046ce2d98e9a8d01374aa0dd4f380cb" class="idref" href="#d046ce2d98e9a8d01374aa0dd4f380cb"><span class="id" title="binder">wfΣ</span></a> ⇒ <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer_as_sort_obligation_1"><span class="id" title="lemma">PCUICSafeRetyping.infer_as_sort_obligation_1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#f058463ac94c66c241345aec4af19ada"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#86134f31138a0ce8b1f8f84460b1d4e0"><span class="id" title="variable">wfΣ</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl'</span> := <span class="id" title="keyword">fun</span> <a id="84da3a9c901eb870edcd4f4528af00ed" class="idref" href="#84da3a9c901eb870edcd4f4528af00ed"><span class="id" title="binder">Σ</span></a> <a id="3a1f596582ede58a3d047fd024139de8" class="idref" href="#3a1f596582ede58a3d047fd024139de8"><span class="id" title="binder">wfΣ</span></a> ⇒ <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer_as_sort_obligation_1"><span class="id" title="lemma">PCUICSafeRetyping.infer_as_sort_obligation_1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#9578c8ca712ef7a7ad3e8570c0f38f92"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#315cc331318866a6ac225207c37564a1"><span class="id" title="variable">wfΣ</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">obl</span> <span class="id" title="var">obl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_to_sort"><span class="id" title="definition">reduce_to_sort</span></a> <span class="id" title="keyword">as</span> [[<span class="id" title="var">s</span> <span class="id" title="var">hr</span>]|] <span class="id" title="var">eqn</span>:<span class="id" title="var">h</span>. 2:<span class="id" title="var">bang</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_to_sort"><span class="id" title="definition">reduce_to_sort</span></a> <span class="id" title="var">_</span> <span class="id" title="var">hp'</span><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">s'</span> <span class="id" title="var">hr'</span>]|] <span class="id" title="var">eqn</span>:<span class="id" title="var">h'</span>. 2:<span class="id" title="var">bang</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">hp</span>, <span class="id" title="var">hp'</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">reduce_to_sort</span>] <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#reduce_to_sort_irrel"><span class="id" title="lemma">reduce_to_sort_irrel</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">obl</span> <span class="id" title="var">obl'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">h</span> <span class="id" title="var">h'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="same_ind_comp" class="idref" href="#same_ind_comp"><span class="id" title="definition">same_ind_comp</span></a> {<a id="74513af62dda40fc65c0991e979f48ea" class="idref" href="#74513af62dda40fc65c0991e979f48ea"><span class="id" title="binder">Γ</span></a> <a id="t:183" class="idref" href="#t:183"><span class="id" title="binder">t</span></a> <a id="t':184" class="idref" href="#t':184"><span class="id" title="binder">t'</span></a>} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="pf:189" class="idref" href="#pf:189"><span class="id" title="binder">pf</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#typing_result_comp"><span class="id" title="inductive">typing_result_comp</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">(</span></a><a id="i:185" class="idref" href="#i:185"><span class="id" title="binder">i</span></a> : <a class="idref" href="MetaCoq.Template.Kernames.html#inductive"><span class="id" title="record">inductive</span></a>) (<a id="u:186" class="idref" href="#u:186"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaCoq.Template.Universes.html#Instance.t"><span class="id" title="definition">Instance.t</span></a>) (<a id="l:187" class="idref" href="#l:187"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="714880f5627db3426d84fcf8ef7a9648" class="idref" href="#714880f5627db3426d84fcf8ef7a9648"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#714880f5627db3426d84fcf8ef7a9648"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#714880f5627db3426d84fcf8ef7a9648"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#74513af62dda40fc65c0991e979f48ea"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:183"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⇝</span></a>  <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#i:185"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#u:186"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#l:187"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="pf':194" class="idref" href="#pf':194"><span class="id" title="binder">pf'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#typing_result_comp"><span class="id" title="inductive">typing_result_comp</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">(</span></a><a id="i:190" class="idref" href="#i:190"><span class="id" title="binder">i</span></a> : <a class="idref" href="MetaCoq.Template.Kernames.html#inductive"><span class="id" title="record">inductive</span></a>) (<a id="u:191" class="idref" href="#u:191"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaCoq.Template.Universes.html#Instance.t"><span class="id" title="definition">Instance.t</span></a>) (<a id="l:192" class="idref" href="#l:192"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="4876e2c947a63ea12332b22a8c41dcd5" class="idref" href="#4876e2c947a63ea12332b22a8c41dcd5"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X'"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#4876e2c947a63ea12332b22a8c41dcd5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#4876e2c947a63ea12332b22a8c41dcd5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#74513af62dda40fc65c0991e979f48ea"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t':184"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#56f76c3496e694b3bed8bac7841a1cca"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#i:190"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#u:191"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#l:192"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)) :=<br/>
&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#same_typing_result_comp"><span class="id" title="definition">same_typing_result_comp</span></a> (<span class="id" title="keyword">fun</span> <a id="x:195" class="idref" href="#x:195"><span class="id" title="binder">x</span></a> <a id="y:196" class="idref" href="#y:196"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#x:195"><span class="id" title="variable">x</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#x:195"><span class="id" title="variable">x</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#x:195"><span class="id" title="variable">x</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2.π2</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#y:196"><span class="id" title="variable">y</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#y:196"><span class="id" title="variable">y</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#y:196"><span class="id" title="variable">y</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2.π2</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#pf:189"><span class="id" title="variable">pf</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#pf':194"><span class="id" title="variable">pf'</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="elim_inspect" class="idref" href="#elim_inspect"><span class="id" title="lemma">elim_inspect</span></a> {<a id="A:197" class="idref" href="#A:197"><span class="id" title="binder">A</span></a>} (<a id="x:198" class="idref" href="#x:198"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#A:197"><span class="id" title="variable">A</span></a>) (<a id="P:200" class="idref" href="#P:200"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <a id="y:199" class="idref" href="#y:199"><span class="id" title="binder">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#A:197"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#y:199"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#x:198"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="y:201" class="idref" href="#y:201"><span class="id" title="binder">y</span></a> (<a id="e:202" class="idref" href="#e:202"><span class="id" title="binder">e</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#y:201"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#x:198"><span class="id" title="variable">x</span></a>), <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#P:200"><span class="id" title="variable">P</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#y:201"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#e:202"><span class="id" title="variable">e</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#P:200"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#x:198"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hp</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">hp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reduce_to_ind_irrel" class="idref" href="#reduce_to_ind_irrel"><span class="id" title="lemma">reduce_to_ind_irrel</span></a> {<a id="541f685d9f55386c1e35d14997e60f9c" class="idref" href="#541f685d9f55386c1e35d14997e60f9c"><span class="id" title="binder">Γ</span></a> <a id="t:204" class="idref" href="#t:204"><span class="id" title="binder">t</span></a> <a id="t':205" class="idref" href="#t':205"><span class="id" title="binder">t'</span></a>} (<a id="e:206" class="idref" href="#e:206"><span class="id" title="binder">e</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:204"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t':205"><span class="id" title="variable">t'</span></a>)<br/>
&nbsp;&nbsp;(<a id="wi:208" class="idref" href="#wi:208"><span class="id" title="binder">wi</span></a> : <span class="id" title="keyword">∀</span> <a id="2008e4a6f6b0fd127aa6f855da30ec04" class="idref" href="#2008e4a6f6b0fd127aa6f855da30ec04"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#2008e4a6f6b0fd127aa6f855da30ec04"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#2008e4a6f6b0fd127aa6f855da30ec04"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#541f685d9f55386c1e35d14997e60f9c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:204"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;(<a id="wi':210" class="idref" href="#wi':210"><span class="id" title="binder">wi'</span></a> : <span class="id" title="keyword">∀</span> <a id="1d3c2712cd53f8ced44b9865a79a0e0b" class="idref" href="#1d3c2712cd53f8ced44b9865a79a0e0b"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X'"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#1d3c2712cd53f8ced44b9865a79a0e0b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#1d3c2712cd53f8ced44b9865a79a0e0b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#541f685d9f55386c1e35d14997e60f9c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t':205"><span class="id" title="variable">t'</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#same_ind_comp"><span class="id" title="definition">same_ind_comp</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_to_ind"><span class="id" title="definition">reduce_to_ind</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#541f685d9f55386c1e35d14997e60f9c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:204"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wi:208"><span class="id" title="variable">wi</span></a>) (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_to_ind"><span class="id" title="definition">reduce_to_ind</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#541f685d9f55386c1e35d14997e60f9c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t':205"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wi':210"><span class="id" title="variable">wi'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">t'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">reduce_to_ind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#elim_inspect"><span class="id" title="lemma">elim_inspect</span></a> ⇒ [[<span class="id" title="var">f</span> <span class="id" title="var">args</span>] <span class="id" title="var">eq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">reduce_to_ind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#view_indc"><span class="id" title="definition">view_indc</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">reduce_to_ind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#same_reduce_stack"><span class="id" title="lemma">same_reduce_stack</span></a> (<span class="id" title="var">fl</span> := <a class="idref" href="MetaCoq.PCUIC.PCUICNormal.html#RedFlags.default"><span class="id" title="definition">PCUICNormal.RedFlags.default</span></a>) (π := <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="var">wi</span> <span class="id" title="var">wi'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#elim_inspect"><span class="id" title="lemma">elim_inspect</span></a> ⇒ [[<span class="id" title="var">f'</span> π'] <span class="id" title="var">eq'</span>]. <span class="id" title="var">simp</span> <span class="id" title="var">reduce_to_ind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#elim_inspect"><span class="id" title="lemma">elim_inspect</span></a> ⇒ [[<span class="id" title="var">f''</span> π''] <span class="id" title="var">eq''</span>]. <span class="id" title="var">simp</span> <span class="id" title="var">reduce_to_ind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">eq'</span> -<span class="id" title="var">eq''</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#view_indc"><span class="id" title="definition">view_indc</span></a> ⇒ //. <span class="id" title="var">simp</span> <span class="id" title="var">reduce_to_ind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#elim_inspect"><span class="id" title="lemma">elim_inspect</span></a> ⇒ [[<span class="id" title="var">app</span> <span class="id" title="var">st</span>] <span class="id" title="var">eqst</span>]. <span class="id" title="var">simp</span> <span class="id" title="var">reduce_to_ind</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="same_typing_result" class="idref" href="#same_typing_result"><span class="id" title="definition">same_typing_result</span></a> {<a id="A:211" class="idref" href="#A:211"><span class="id" title="binder">A</span></a> <a id="B:212" class="idref" href="#B:212"><span class="id" title="binder">B</span></a>} (<a id="P:213" class="idref" href="#P:213"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#A:211"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#B:212"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="c:214" class="idref" href="#c:214"><span class="id" title="binder">c</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#A:211"><span class="id" title="variable">A</span></a>) (<a id="c':215" class="idref" href="#c':215"><span class="id" title="binder">c'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#B:212"><span class="id" title="variable">B</span></a>) : <span class="id" title="keyword">Prop</span> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#c:214"><span class="id" title="variable">c</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#c':215"><span class="id" title="variable">c'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#Checked"><span class="id" title="constructor">Checked</span></a> <span class="id" title="var">a</span>, <a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#Checked"><span class="id" title="constructor">Checked</span></a> <span class="id" title="var">a'</span> ⇒ <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#P:213"><span class="id" title="variable">P</span></a> <span class="id" title="var">a</span> <span class="id" title="var">a'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#TypeError"><span class="id" title="constructor">TypeError</span></a> <span class="id" title="var">e</span>, <a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#TypeError"><span class="id" title="constructor">TypeError</span></a> <span class="id" title="var">e'</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="same_lookup_ind_decl" class="idref" href="#same_lookup_ind_decl"><span class="id" title="lemma">same_lookup_ind_decl</span></a> <a id="ind:218" class="idref" href="#ind:218"><span class="id" title="binder">ind</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup"><span class="id" title="method">abstract_env_lookup</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="MetaCoq.Template.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#ind:218"><span class="id" title="variable">ind</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup"><span class="id" title="method">abstract_env_lookup</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X'"><span class="id" title="variable">X'</span></a> (<a class="idref" href="MetaCoq.Template.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#ind:218"><span class="id" title="variable">ind</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#same_typing_result"><span class="id" title="definition">same_typing_result</span></a> (<span class="id" title="keyword">fun</span> <a id="x:219" class="idref" href="#x:219"><span class="id" title="binder">x</span></a> <a id="y:220" class="idref" href="#y:220"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#x:219"><span class="id" title="variable">x</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#x:219"><span class="id" title="variable">x</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#y:220"><span class="id" title="variable">y</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#y:220"><span class="id" title="variable">y</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#lookup_ind_decl"><span class="id" title="definition">lookup_ind_decl</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X_type"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#ind:218"><span class="id" title="variable">ind</span></a>) (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#lookup_ind_decl"><span class="id" title="definition">lookup_ind_decl</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X_type'"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X'"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#ind:218"><span class="id" title="variable">ind</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#lookup_ind_decl"><span class="id" title="definition">lookup_ind_decl</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X_type"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">ind</span>); <span class="id" title="var">simp</span> <span class="id" title="var">lookup_ind_decl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#elim_inspect"><span class="id" title="lemma">elim_inspect</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">opt</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">e</span> -<span class="id" title="var">e'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">opt</span>; <span class="id" title="var">noconf</span> <span class="id" title="var">eq</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">opt</span> ⇒ //. <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">opt</span> <span class="id" title="keyword">as</span> [[]|]. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">look</span> -<span class="id" title="var">e'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">lookup_ind_decl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#elim_inspect"><span class="id" title="lemma">elim_inspect</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">opt</span> <span class="id" title="var">e''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">opt</span> ⇒ //. <span class="id" title="var">simp</span> <span class="id" title="var">lookup_ind_decl</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">congruence</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">opt</span> <span class="id" title="keyword">as</span> [[]|] ⇒ //. <span class="id" title="var">simp</span> <span class="id" title="var">lookup_ind_decl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#elim_inspect"><span class="id" title="lemma">elim_inspect</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">opt</span> <span class="id" title="var">e''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">opt</span> ⇒ //. <span class="id" title="var">simp</span> <span class="id" title="var">lookup_ind_decl</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel"><span class="id" title="section">infer_irrel</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="infer_irrel" class="idref" href="#infer_irrel"><span class="id" title="lemma">infer_irrel</span></a> {<a id="cf:221" class="idref" href="#cf:221"><span class="id" title="binder">cf</span></a>} {<a id="nor:222" class="idref" href="#nor:222"><span class="id" title="binder">nor</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#normalizing_flags"><span class="id" title="class">normalizing_flags</span></a>} {<a id="X_type:223" class="idref" href="#X_type:223"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl"><span class="id" title="definition">abstract_env_ext_impl</span></a>} {<a id="X:224" class="idref" href="#X:224"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type:223"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>}<br/>
&nbsp;&nbsp;{<a id="X_type':225" class="idref" href="#X_type':225"><span class="id" title="binder">X_type'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl"><span class="id" title="definition">abstract_env_ext_impl</span></a>} {<a id="X':226" class="idref" href="#X':226"><span class="id" title="binder">X'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type':225"><span class="id" title="variable">X_type'</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>}<br/>
&nbsp;&nbsp;(<a id="hl:227" class="idref" href="#hl:227"><span class="id" title="binder">hl</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#Hlookup"><span class="id" title="definition">Hlookup</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type:223"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X:224"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type':225"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X':226"><span class="id" title="variable">X'</span></a>)<br/>
&nbsp;&nbsp;{<a id="44f154938399f647168010f22bf375e1" class="idref" href="#44f154938399f647168010f22bf375e1"><span class="id" title="binder">Γ</span></a> <a id="t:229" class="idref" href="#t:229"><span class="id" title="binder">t</span></a>}<br/>
&nbsp;&nbsp;(<a id="wf:231" class="idref" href="#wf:231"><span class="id" title="binder">wf</span></a> : <span class="id" title="keyword">∀</span> <a id="93db78aaebd8fd38e5903ba9b7df17c8" class="idref" href="#93db78aaebd8fd38e5903ba9b7df17c8"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X:224"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#93db78aaebd8fd38e5903ba9b7df17c8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#93db78aaebd8fd38e5903ba9b7df17c8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#44f154938399f647168010f22bf375e1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;(<a id="wf':233" class="idref" href="#wf':233"><span class="id" title="binder">wf'</span></a> : <span class="id" title="keyword">∀</span> <a id="25d4a4e1ff9e4bc0ce3937ee94e865bf" class="idref" href="#25d4a4e1ff9e4bc0ce3937ee94e865bf"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X':226"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#25d4a4e1ff9e4bc0ce3937ee94e865bf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#25d4a4e1ff9e4bc0ce3937ee94e865bf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#44f154938399f647168010f22bf375e1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;(<a id="wi:235" class="idref" href="#wi:235"><span class="id" title="binder">wi</span></a> : <span class="id" title="keyword">∀</span> <a id="0ab46e493a6824bcca58380dec085595" class="idref" href="#0ab46e493a6824bcca58380dec085595"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X:224"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#0ab46e493a6824bcca58380dec085595"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#wellinferred"><span class="id" title="inductive">wellinferred</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#0ab46e493a6824bcca58380dec085595"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#44f154938399f647168010f22bf375e1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:229"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;(<a id="wi':237" class="idref" href="#wi':237"><span class="id" title="binder">wi'</span></a> : <span class="id" title="keyword">∀</span> <a id="793c4565b869a2f872db694b0162b014" class="idref" href="#793c4565b869a2f872db694b0162b014"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X':226"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#793c4565b869a2f872db694b0162b014"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#wellinferred"><span class="id" title="inductive">wellinferred</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#793c4565b869a2f872db694b0162b014"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#44f154938399f647168010f22bf375e1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:229"><span class="id" title="variable">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type:223"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X:224"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#44f154938399f647168010f22bf375e1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wf:231"><span class="id" title="variable">wf</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:229"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wi:235"><span class="id" title="variable">wi</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">).π1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type':225"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X':226"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#44f154938399f647168010f22bf375e1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wf':233"><span class="id" title="variable">wf'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:229"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wi':237"><span class="id" title="variable">wi'</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">).π1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">X_type'</span> <span class="id" title="var">X'</span> <span class="id" title="var">hl</span> <span class="id" title="var">wf'</span> <span class="id" title="var">wi'</span>. <span class="id" title="var">apply_funelim</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer"><span class="id" title="definition">infer</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">t</span> <span class="id" title="var">wi</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="var">bang</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#principal_sort_sort"><span class="id" title="definition">PCUICSafeRetyping.principal_sort_sort</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl</span> := <span class="id" title="keyword">fun</span> <a id="a:240" class="idref" href="#a:240"><span class="id" title="binder">a</span></a> <a id="b:241" class="idref" href="#b:241"><span class="id" title="binder">b</span></a> ⇒ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl'</span> := <span class="id" title="keyword">fun</span> <a id="a:244" class="idref" href="#a:244"><span class="id" title="binder">a</span></a> <a id="b:245" class="idref" href="#b:245"><span class="id" title="binder">b</span></a> ⇒ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl''</span> := <span class="id" title="keyword">fun</span> <a id="a:248" class="idref" href="#a:248"><span class="id" title="binder">a</span></a> <a id="b:249" class="idref" href="#b:249"><span class="id" title="binder">b</span></a> ⇒ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl'''</span> := <span class="id" title="keyword">fun</span> <a id="a:252" class="idref" href="#a:252"><span class="id" title="binder">a</span></a> <a id="b:253" class="idref" href="#b:253"><span class="id" title="binder">b</span></a> ⇒ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_as_sort_irrel"><span class="id" title="lemma">infer_as_sort_irrel</span></a> ⇒ //. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_as_sort_irrel"><span class="id" title="lemma">infer_as_sort_irrel</span></a> ⇒ //. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#principal_type_type"><span class="id" title="definition">PCUICSafeRetyping.principal_type_type</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#principal_type_type"><span class="id" title="definition">PCUICSafeRetyping.principal_type_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl1</span> := (<span class="id" title="keyword">fun</span> <a id="2439574c47c02230f59bb2b62f3425e4" class="idref" href="#2439574c47c02230f59bb2b62f3425e4"><span class="id" title="binder">Σ</span></a> <a id="1e803165e8090619596ceac6f51c1265" class="idref" href="#1e803165e8090619596ceac6f51c1265"><span class="id" title="binder">wfΣ</span></a> ⇒ <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer_obligations_obligation_14"><span class="id" title="lemma">PCUICSafeRetyping.infer_obligations_obligation_14</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#502932cb5c683f7d8457df62e646fd3a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#33e4414b2b8f906e61010b183cb67c0f"><span class="id" title="variable">wfΣ</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl2</span> := (<span class="id" title="keyword">fun</span> <a id="c9a0948a92a9e84510dbb11a94ab3120" class="idref" href="#c9a0948a92a9e84510dbb11a94ab3120"><span class="id" title="binder">Σ</span></a> <a id="ae1efe79a80112660afafc0da54a7545" class="idref" href="#ae1efe79a80112660afafc0da54a7545"><span class="id" title="binder">wfΣ</span></a> ⇒ <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer_obligations_obligation_13"><span class="id" title="lemma">PCUICSafeRetyping.infer_obligations_obligation_13</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#b65adfd19c910a84b584334a0aae80d1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#50a5674fb129fe0ddde23b9d400b8f7b"><span class="id" title="variable">wfΣ</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">t'</span> := (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer"><span class="id" title="definition">infer</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl3</span> := (<span class="id" title="keyword">fun</span> <a id="749c6f5b74080e309a38b3d99d675867" class="idref" href="#749c6f5b74080e309a38b3d99d675867"><span class="id" title="binder">Σ</span></a> <a id="c9bbaf752cfc5cc8d86537524d5146ad" class="idref" href="#c9bbaf752cfc5cc8d86537524d5146ad"><span class="id" title="binder">wfΣ</span></a> ⇒ <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer_obligations_obligation_14"><span class="id" title="lemma">PCUICSafeRetyping.infer_obligations_obligation_14</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#48a43f736daee0cd5111b893d90ae5d3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#849524874b3f787454f1739e2663c6b7"><span class="id" title="variable">wfΣ</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl4</span> := (<span class="id" title="keyword">fun</span> <a id="1c0e4273414546d17228b89ae2055cf6" class="idref" href="#1c0e4273414546d17228b89ae2055cf6"><span class="id" title="binder">Σ</span></a> <a id="ac4f776cd24737f0145d2bab9cc6723f" class="idref" href="#ac4f776cd24737f0145d2bab9cc6723f"><span class="id" title="binder">wfΣ</span></a> ⇒ <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer_obligations_obligation_13"><span class="id" title="lemma">PCUICSafeRetyping.infer_obligations_obligation_13</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#5d61b44cf28aef9a9aecc422be7f8514"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#0c26215c689f8988713522cb97b97b90"><span class="id" title="variable">wfΣ</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">t''</span> := (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer"><span class="id" title="definition">infer</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">obl3</span> <span class="id" title="var">obl4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">t'</span><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">t''</span><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">t'</span>, <span class="id" title="var">t''</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">t''</span>. <span class="id" title="var">clearbody</span> <span class="id" title="var">obl1</span> <span class="id" title="var">obl2</span>. <span class="id" title="var">clearbody</span> <span class="id" title="var">t'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t'</span>, <span class="id" title="var">t''</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">x0</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#same_prod_last"><span class="id" title="lemma">same_prod_last</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_as_prod_irrel"><span class="id" title="lemma">infer_as_prod_irrel</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer"><span class="id" title="definition">infer</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> /= //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup"><span class="id" title="method">abstract_env_lookup</span></a> <span class="id" title="var">X</span> <span class="id" title="var">cst</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup"><span class="id" title="method">abstract_env_lookup</span></a> <span class="id" title="var">X'</span> <span class="id" title="var">cst</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">X</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hwfΣ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">wt</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">X'</span> <span class="id" title="var">wfΣ'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hwfΣ'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">wi'</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">wt</span>. <span class="id" title="var">inv</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">wi'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">hl</span>; <span class="id" title="var">tea</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">e</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">infer</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer"><span class="id" title="definition">infer</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> → ⇒ /=.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">decl</span> [<span class="id" title="var">body</span> <span class="id" title="var">hd</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">infer</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">infer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup"><span class="id" title="method">abstract_env_lookup</span></a> <span class="id" title="var">X</span> (<a class="idref" href="MetaCoq.Template.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <span class="id" title="var">ind</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup"><span class="id" title="method">abstract_env_lookup</span></a> <span class="id" title="var">X'</span> (<a class="idref" href="MetaCoq.Template.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <span class="id" title="var">ind</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">X</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hwfΣ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">X'</span> <span class="id" title="var">wfΣ'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hwfΣ'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">wi'</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span>). <span class="id" title="var">inv</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">hd</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">isdecl</span>, <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_minductive"><span class="id" title="definition">declared_minductive</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">hl</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>). }        <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#lookup_ind_decl"><span class="id" title="definition">lookup_ind_decl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">X'</span> <span class="id" title="var">ind</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#same_lookup_ind_decl"><span class="id" title="lemma">same_lookup_ind_decl</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">rewrite</span> -{1}<span class="id" title="var">e0</span> -{1}<span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> ⇒ //. <span class="id" title="var">cbn</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">decl'</span> [<span class="id" title="var">body'</span> ?]]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> -[<span class="id" title="var">infer</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">infer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup"><span class="id" title="method">abstract_env_lookup</span></a> <span class="id" title="var">X</span> (<a class="idref" href="MetaCoq.Template.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <span class="id" title="var">ind</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup"><span class="id" title="method">abstract_env_lookup</span></a> <span class="id" title="var">X'</span> (<a class="idref" href="MetaCoq.Template.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <span class="id" title="var">ind</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">X</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hwfΣ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">X'</span> <span class="id" title="var">wfΣ'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hwfΣ'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">wi'</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span>). <span class="id" title="var">inv</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wt</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">isdecl</span>, <span class="id" title="var">H0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">isdecl</span> <span class="id" title="keyword">as</span> [[] ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_minductive"><span class="id" title="definition">declared_minductive</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">hl</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>). }        <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#lookup_ind_decl"><span class="id" title="definition">lookup_ind_decl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">X'</span> <span class="id" title="var">ind</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#same_lookup_ind_decl"><span class="id" title="lemma">same_lookup_ind_decl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">rewrite</span> -{1}<span class="id" title="var">e1</span> -{1}<span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">decl'</span> [<span class="id" title="var">body'</span> ?]] ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">infer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#elim_inspect"><span class="id" title="lemma">elim_inspect</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">o</span> <span class="id" title="var">eq</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span> ⇒ //. <span class="id" title="var">simp</span> <span class="id" title="var">infer</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">decl</span> [<span class="id" title="var">body</span> ?]]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [=]. <span class="id" title="tactic">subst</span> <span class="id" title="var">decl'</span> <span class="id" title="var">body'</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">bang</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> -[<span class="id" title="var">infer</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">infer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">t'</span> := (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer"><span class="id" title="definition">infer</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">X_type'</span> <span class="id" title="var">X'</span> <span class="id" title="var">hl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl4</span> := (<span class="id" title="keyword">fun</span> <a id="fff8b5ebb17023f01639f699e8493489" class="idref" href="#fff8b5ebb17023f01639f699e8493489"><span class="id" title="binder">Σ</span></a> <a id="2e2f02ba412ad9b6c44144fdd09dfe9c" class="idref" href="#2e2f02ba412ad9b6c44144fdd09dfe9c"><span class="id" title="binder">wfΣ</span></a> ⇒ <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer_obligations_obligation_27"><span class="id" title="lemma">PCUICSafeRetyping.infer_obligations_obligation_27</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#4e55f902055574206974ced071a2f4cb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#32ab1a7118dd9dfc523df2f2ea088f79"><span class="id" title="variable">wfΣ</span></a>)) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl3</span> := (<span class="id" title="keyword">fun</span> <a id="be195ed1aa023b3a5afc2ee39bc7a9f9" class="idref" href="#be195ed1aa023b3a5afc2ee39bc7a9f9"><span class="id" title="binder">Σ</span></a> <a id="07b3fae6340c04272ddbe91291988b62" class="idref" href="#07b3fae6340c04272ddbe91291988b62"><span class="id" title="binder">wfΣ</span></a> ⇒ <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer_obligations_obligation_27"><span class="id" title="lemma">PCUICSafeRetyping.infer_obligations_obligation_27</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#cc664e2ebdb5001557a38eea9d90b077"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#8c6853577e22cacee17f549254b46082"><span class="id" title="variable">wfΣ</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl1</span> := (<span class="id" title="keyword">fun</span> <a id="16d5a522716a87cb2083ccb2eeedfdc3" class="idref" href="#16d5a522716a87cb2083ccb2eeedfdc3"><span class="id" title="binder">Σ</span></a> <a id="574f66f9c55eec0757d322784b31d029" class="idref" href="#574f66f9c55eec0757d322784b31d029"><span class="id" title="binder">wfΣ</span></a> ⇒ <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer_obligations_obligation_26"><span class="id" title="lemma">PCUICSafeRetyping.infer_obligations_obligation_26</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#2a3cde47c4ad7da712c9bc93ef5fbd78"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#64cebccf67764a8e1e9f12277c0e30a4"><span class="id" title="variable">wfΣ</span></a>)) <span class="id" title="tactic">in</span> *; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">obl1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl2</span> := (<span class="id" title="keyword">fun</span> <a id="e39378fca6a63b9b46c8b96c180b5ee0" class="idref" href="#e39378fca6a63b9b46c8b96c180b5ee0"><span class="id" title="binder">Σ</span></a> <a id="021177b4febc5a9c23c46bd649c34736" class="idref" href="#021177b4febc5a9c23c46bd649c34736"><span class="id" title="binder">wfΣ</span></a> ⇒ <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer_obligations_obligation_26"><span class="id" title="lemma">PCUICSafeRetyping.infer_obligations_obligation_26</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#dd4ecff0e7618bc3712143ec0202068b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#a5557576d6200b7aa0ad043a906859a6"><span class="id" title="variable">wfΣ</span></a>)) <span class="id" title="tactic">in</span> *; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">obl2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">wf'</span> <span class="id" title="var">obl2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">t''</span> := (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer"><span class="id" title="definition">infer</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">obl3</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#principal_type_type"><span class="id" title="definition">PCUICSafeRetyping.principal_type_type</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">obl3</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#elim_inspect"><span class="id" title="lemma">elim_inspect</span></a> ⇒ <span class="id" title="var">y</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#reduce_to_ind_irrel"><span class="id" title="lemma">reduce_to_ind_irrel</span></a> <span class="id" title="var">hl</span> <span class="id" title="var">Hind</span> <span class="id" title="var">obl4</span> <span class="id" title="var">obl3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">e</span> -<span class="id" title="var">eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span> ⇒ //. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ind'</span> [<span class="id" title="var">u'</span> [<span class="id" title="var">l'</span> ?]]] ⇒ //. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">indargs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ind</span> [<span class="id" title="var">u</span> [<span class="id" title="var">l</span> ?]]]; <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> -[<span class="id" title="var">infer</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">infer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">t'</span> := (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer"><span class="id" title="definition">infer</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">X_type'</span> <span class="id" title="var">X'</span> <span class="id" title="var">hl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#principal_type_type"><span class="id" title="definition">PCUICSafeRetyping.principal_type_type</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#elim_inspect"><span class="id" title="lemma">elim_inspect</span></a> ⇒ <span class="id" title="var">y</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup"><span class="id" title="method">abstract_env_lookup</span></a> <span class="id" title="var">X</span> (<a class="idref" href="MetaCoq.Template.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <span class="id" title="var">p</span>.(<a class="idref" href="MetaCoq.Template.Kernames.html#proj_ind"><span class="id" title="projection">proj_ind</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup"><span class="id" title="method">abstract_env_lookup</span></a> <span class="id" title="var">X'</span> (<a class="idref" href="MetaCoq.Template.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <span class="id" title="var">p</span>.(<a class="idref" href="MetaCoq.Template.Kernames.html#proj_ind"><span class="id" title="projection">proj_ind</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">X</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hwfΣ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">X'</span> <span class="id" title="var">wfΣ'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hwfΣ'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">wi'</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span>). <span class="id" title="var">inv</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wt</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>. <span class="id" title="var">inv</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [[[]]]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [[[]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_minductive"><span class="id" title="definition">declared_minductive</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">hl</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>). } <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#same_lookup_ind_decl"><span class="id" title="lemma">same_lookup_ind_decl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">rewrite</span> -{1}<span class="id" title="var">eq</span> -{1}<span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">decl</span> [<span class="id" title="var">body</span> ?]], <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">decl'</span> [<span class="id" title="var">body'</span> ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">infer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#elim_inspect"><span class="id" title="lemma">elim_inspect</span></a> ⇒ <span class="id" title="var">nth</span> <span class="id" title="var">eq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq'</span>, <span class="id" title="var">e0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">nth</span> <span class="id" title="keyword">as</span> [[]|] ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">infer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl4</span> := (<span class="id" title="keyword">fun</span> <a id="d541f9739cec167054278f287499b3ea" class="idref" href="#d541f9739cec167054278f287499b3ea"><span class="id" title="binder">Σ</span></a> <a id="cda3ba941da5219da895aaf8eb3e4cc3" class="idref" href="#cda3ba941da5219da895aaf8eb3e4cc3"><span class="id" title="binder">wfΣ</span></a> ⇒ <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer_obligations_obligation_33"><span class="id" title="lemma">PCUICSafeRetyping.infer_obligations_obligation_33</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#1dce777013ec692701cf4bc9d4aa1e7f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#4bd3505a2e5798c1894fe0fbe2c08d1e"><span class="id" title="variable">wfΣ</span></a>)) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl3</span> := (<span class="id" title="keyword">fun</span> <a id="ce9a2b0e482cccd879009b6bafb34293" class="idref" href="#ce9a2b0e482cccd879009b6bafb34293"><span class="id" title="binder">Σ</span></a> <a id="4db0310218156c680be48b203b201b14" class="idref" href="#4db0310218156c680be48b203b201b14"><span class="id" title="binder">wfΣ</span></a> ⇒ <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer_obligations_obligation_33"><span class="id" title="lemma">PCUICSafeRetyping.infer_obligations_obligation_33</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#bbd035773a529b63dc6323e3d43b3600"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#67cdfd999e5d3ae362d83d91bcf643dd"><span class="id" title="variable">wfΣ</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl1</span> := (<span class="id" title="keyword">fun</span> <a id="2cfa76a4dc47c3a3803bd1cd2c26f363" class="idref" href="#2cfa76a4dc47c3a3803bd1cd2c26f363"><span class="id" title="binder">Σ</span></a> <a id="fed04d444ce37edc300b78aebe0092c1" class="idref" href="#fed04d444ce37edc300b78aebe0092c1"><span class="id" title="binder">wfΣ</span></a> ⇒ <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer_obligations_obligation_32"><span class="id" title="lemma">PCUICSafeRetyping.infer_obligations_obligation_32</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#d2959ac75b6e0d36cc79e21b63eb81d5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#9af2710cce0662bd2a82277a5412fdff"><span class="id" title="variable">wfΣ</span></a>)) <span class="id" title="tactic">in</span> *; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">obl1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl2</span> := (<span class="id" title="keyword">fun</span> <a id="4e5abe9f83af3c7b054a6daf55c8c3da" class="idref" href="#4e5abe9f83af3c7b054a6daf55c8c3da"><span class="id" title="binder">Σ</span></a> <a id="021429edce320663c1bcb840d22d30cb" class="idref" href="#021429edce320663c1bcb840d22d30cb"><span class="id" title="binder">wfΣ</span></a> ⇒ <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer_obligations_obligation_32"><span class="id" title="lemma">PCUICSafeRetyping.infer_obligations_obligation_32</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#d589cad9186d55b3b0990baa68f1237d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#a932b66f9538dbea869680cda4d2303b"><span class="id" title="variable">wfΣ</span></a>)) <span class="id" title="tactic">in</span> *; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">obl2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">wf'</span> <span class="id" title="var">obl2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">t''</span> := (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer"><span class="id" title="definition">infer</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">obl3</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#principal_type_type"><span class="id" title="definition">PCUICSafeRetyping.principal_type_type</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">obl3</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#elim_inspect"><span class="id" title="lemma">elim_inspect</span></a> ⇒ <span class="id" title="var">rind</span> <span class="id" title="var">eqrind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#reduce_to_ind_irrel"><span class="id" title="lemma">reduce_to_ind_irrel</span></a> <span class="id" title="var">hl</span> <span class="id" title="var">Hind</span> <span class="id" title="var">obl4</span> <span class="id" title="var">obl3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">e1</span> -<span class="id" title="var">eqrind</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">rind</span> ⇒ //. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ind'</span> [<span class="id" title="var">u'</span> [<span class="id" title="var">l'</span> ?]]] ⇒ //. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">indargs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ind''</span> [<span class="id" title="var">u</span> [<span class="id" title="var">l</span> ?]]]; <span class="id" title="var">cbn</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">noconf</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">e0</span> <span class="id" title="var">eq'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">pdecl</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">e0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq'</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">eq'</span>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">e0</span> <span class="id" title="var">eq'</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> -[<span class="id" title="var">infer</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer"><span class="id" title="definition">infer</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> /= //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> -[<span class="id" title="var">infer</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#infer"><span class="id" title="definition">infer</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> /= //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sort_of_type_irrel" class="idref" href="#sort_of_type_irrel"><span class="id" title="lemma">sort_of_type_irrel</span></a><br/>
&nbsp;&nbsp;{<a id="cf:302" class="idref" href="#cf:302"><span class="id" title="binder">cf</span></a>} {<a id="nor:303" class="idref" href="#nor:303"><span class="id" title="binder">nor</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#normalizing_flags"><span class="id" title="class">normalizing_flags</span></a>} {<a id="X_type:304" class="idref" href="#X_type:304"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl"><span class="id" title="definition">abstract_env_ext_impl</span></a>} {<a id="X:305" class="idref" href="#X:305"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type:304"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>}<br/>
&nbsp;&nbsp;{<a id="X_type':306" class="idref" href="#X_type':306"><span class="id" title="binder">X_type'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_impl"><span class="id" title="definition">abstract_env_ext_impl</span></a>} {<a id="X':307" class="idref" href="#X':307"><span class="id" title="binder">X'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type':306"><span class="id" title="variable">X_type'</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>}<br/>
&nbsp;&nbsp;(<a id="hl:308" class="idref" href="#hl:308"><span class="id" title="binder">hl</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#Hlookup"><span class="id" title="definition">Hlookup</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type:304"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X:305"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type':306"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X':307"><span class="id" title="variable">X'</span></a>)<br/>
&nbsp;&nbsp;{<a id="da1265f65295735c56212270316fef18" class="idref" href="#da1265f65295735c56212270316fef18"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>} {<a id="t:310" class="idref" href="#t:310"><span class="id" title="binder">t</span></a>} <br/>
&nbsp;&nbsp;(<a id="wt:312" class="idref" href="#wt:312"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="95ab86f87f36844096533e934bc456ee" class="idref" href="#95ab86f87f36844096533e934bc456ee"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X:305"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#95ab86f87f36844096533e934bc456ee"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#95ab86f87f36844096533e934bc456ee"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#da1265f65295735c56212270316fef18"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:310"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;(<a id="wt':314" class="idref" href="#wt':314"><span class="id" title="binder">wt'</span></a> : <span class="id" title="keyword">∀</span> <a id="c5b21a4ce8a9b5abb84f552f72b80f4d" class="idref" href="#c5b21a4ce8a9b5abb84f552f72b80f4d"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X':307"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#c5b21a4ce8a9b5abb84f552f72b80f4d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#c5b21a4ce8a9b5abb84f552f72b80f4d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#da1265f65295735c56212270316fef18"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:310"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Template.utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#sort_of_type"><span class="id" title="definition">sort_of_type</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type:304"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X:305"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#da1265f65295735c56212270316fef18"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:310"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wt:312"><span class="id" title="variable">wt</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">).π1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#sort_of_type"><span class="id" title="definition">sort_of_type</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X_type':306"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#X':307"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#da1265f65295735c56212270316fef18"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#t:310"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#wt':314"><span class="id" title="variable">wt'</span></a><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">).π1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">sort_of_type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl</span> := <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#sort_of_type_obligation_1"><span class="id" title="definition">sort_of_type_obligation_1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl2</span> := <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#sort_of_type_obligation_1"><span class="id" title="definition">sort_of_type_obligation_1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span>(<span class="id" title="var">ty</span> := (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#type_of_typing"><span class="id" title="definition">type_of_typing</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">obl</span>)) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span>(<span class="id" title="var">ty'</span> := (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#type_of_typing"><span class="id" title="definition">type_of_typing</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">obl2</span>)) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl'</span> := <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#sort_of_type_obligation_2"><span class="id" title="definition">sort_of_type_obligation_2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl2'</span> := <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#sort_of_type_obligation_2"><span class="id" title="definition">sort_of_type_obligation_2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ty</span><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">ty'</span><a class="idref" href="MetaCoq.Template.utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">ty</span> <span class="id" title="var">ty'</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#type_of_typing"><span class="id" title="definition">type_of_typing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel"><span class="id" title="lemma">infer_irrel</span></a> ⇒ //. }<br/>
&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">ty</span>. <span class="id" title="var">clearbody</span> <span class="id" title="var">ty'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ty</span>, <span class="id" title="var">ty'</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#reduce_to_sort_irrel"><span class="id" title="lemma">reduce_to_sort_irrel</span></a> <span class="id" title="var">hl</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16+rc1/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">obl'</span> <span class="id" title="var">obl2'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">sort_of_type_clause_1_clause_1</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_to_sort"><span class="id" title="definition">reduce_to_sort</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">obl2'</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">hi'</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">e</span> -<span class="id" title="var">e0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x0</span>, <span class="id" title="var">x1</span> ⇒ //. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>, <span class="id" title="var">a0</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">bang</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
