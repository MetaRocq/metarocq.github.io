<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./index.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library Malfunction.CompileCorrect</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#"><span class="id" title="library">List</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Strings.String.html#"><span class="id" title="library">String</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ListNotations"><span class="id" title="module">ListNotations</span></a>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">string_scope</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Malfunction</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Malfunction.Mcase.html#"><span class="id" title="library">Mcase</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#"><span class="id" title="library">ReflectEq</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.bytestring.html#"><span class="id" title="library">bytestring</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#"><span class="id" title="library">MRList</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#"><span class="id" title="library">EWcbvEvalNamed</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Malfunction</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Malfunction.Compile.html#"><span class="id" title="library">Compile</span></a> <a class="idref" href="Malfunction.SemanticsSpec.html#"><span class="id" title="library">SemanticsSpec</span></a> <a class="idref" href="Malfunction.utils_array.html#"><span class="id" title="library">utils_array</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lookup" class="idref" href="#lookup"><span class="id" title="definition">lookup</span></a> {<a id="A:1" class="idref" href="#A:1"><span class="id" title="binder">A</span></a>} (<a id="E:2" class="idref" href="#E:2"><span class="id" title="binder">E</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Common.Kernames.html#ident"><span class="id" title="definition">Kernames.ident</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#A:1"><span class="id" title="variable">A</span></a>)) (<a id="x:3" class="idref" href="#x:3"><span class="id" title="binder">x</span></a> : <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.bytestring.html#string"><span class="id" title="abbreviation">string</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#find"><span class="id" title="definition">find</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:5" class="idref" href="#pat:5"><span class="id" title="binder">(</span></a><a id="s:4" class="idref" href="#s:4"><span class="id" title="binder"><span id="pat:5" class="id">s</span></span></a><a id="pat:5" class="idref" href="#pat:5"><span class="id" title="binder">,</span></a> <a id="pat:5" class="idref" href="#pat:5"><span class="id" title="binder">_</span></a><a id="pat:5" class="idref" href="#pat:5"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.bytestring.html#String.eqb"><span class="id" title="definition">String.eqb</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#x:3"><span class="id" title="variable">x</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#s:4"><span class="id" title="variable">s</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#E:2"><span class="id" title="variable">E</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="to_primitive" class="idref" href="#to_primitive"><span class="id" title="definition">to_primitive</span></a> `{<a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">Heap</span></a>} (<a id="v:8" class="idref" href="#v:8"><span class="id" title="binder">v</span></a> : <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EPrimitive.html#prim_val"><span class="id" title="definition">EPrimitive.prim_val</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#value"><span class="id" title="inductive">EWcbvEvalNamed.value</span></a>) : <a class="idref" href="Malfunction.SemanticsSpec.html#value"><span class="id" title="inductive">SemanticsSpec.value</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:8"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EPrimitive.html#primIntModel"><span class="id" title="constructor">EPrimitive.primIntModel</span></a> <span class="id" title="var">i</span> ⇒ <a class="idref" href="Malfunction.SemanticsSpec.html#value_Int"><span class="id" title="constructor">value_Int</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.Malfunction.html#Int"><span class="id" title="constructor">Malfunction.Int</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.Malfunction.html#Int63.to_Z"><span class="id" title="abbreviation">Malfunction.Int63.to_Z</span></a> <span class="id" title="var">i</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EPrimitive.html#primFloatModel"><span class="id" title="constructor">EPrimitive.primFloatModel</span></a> <span class="id" title="var">f</span> ⇒ <a class="idref" href="Malfunction.SemanticsSpec.html#Float"><span class="id" title="constructor">Float</span></a> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EPrimitive.html#primStringModel"><span class="id" title="constructor">EPrimitive.primStringModel</span></a> <span class="id" title="var">f</span> ⇒ <a class="idref" href="Malfunction.SemanticsSpec.html#value_Int"><span class="id" title="constructor">value_Int</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.Malfunction.html#Int"><span class="id" title="constructor">Malfunction.Int</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.Malfunction.html#Int63.to_Z"><span class="id" title="abbreviation">Malfunction.Int63.to_Z</span></a> (<a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> 0)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EPrimitive.html#primArrayModel"><span class="id" title="constructor">EPrimitive.primArrayModel</span></a> <span class="id" title="var">a</span> ⇒  <a class="idref" href="Malfunction.SemanticsSpec.html#value_Int"><span class="id" title="constructor">value_Int</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.Malfunction.html#Int"><span class="id" title="constructor">Malfunction.Int</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.Malfunction.html#Int63.to_Z"><span class="id" title="abbreviation">Malfunction.Int63.to_Z</span></a> (<a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> 0)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="compile_value" class="idref" href="#compile_value"><span class="id" title="definition">compile_value</span></a> `{<a id="H0:10" class="idref" href="#H0:10"><span class="id" title="binder">Heap</span></a>} (<a id="0628ce849eb43988c0c2962e2467d294" class="idref" href="#0628ce849eb43988c0c2962e2467d294"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#global_declarations"><span class="id" title="definition">EAst.global_declarations</span></a>) (<a id="s:12" class="idref" href="#s:12"><span class="id" title="binder">s</span></a> : <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#value"><span class="id" title="inductive">EWcbvEvalNamed.value</span></a>) : <a class="idref" href="Malfunction.SemanticsSpec.html#value"><span class="id" title="inductive">SemanticsSpec.value</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.CompileCorrect.html#s:12"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#vClos"><span class="id" title="constructor">vClos</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <span class="id" title="var">env</span> ⇒ <a class="idref" href="Malfunction.SemanticsSpec.html#Func"><span class="id" title="constructor">Func</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">((</span></a><span class="id" title="keyword">fun</span> <a id="x:15" class="idref" href="#x:15"><span class="id" title="binder">x</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:18" class="idref" href="#pat:18"><span class="id" title="binder">(</span></a><a id="x:17" class="idref" href="#x:17"><span class="id" title="binder"><span id="pat:18" class="id">x</span></span></a><a id="pat:18" class="idref" href="#pat:18"><span class="id" title="binder">,</span></a><a id="v:16" class="idref" href="#v:16"><span class="id" title="binder"><span id="pat:18" class="id">v</span></span></a><a id="pat:18" class="idref" href="#pat:18"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#x:17"><span class="id" title="variable">x</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#compile_value:13"><span class="id" title="definition">compile_value</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#0628ce849eb43988c0c2962e2467d294"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:16"><span class="id" title="variable">v</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">env</span>) <a class="idref" href="Malfunction.CompileCorrect.html#x:15"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> ⇒ <span class="id" title="var">v</span> | <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Malfunction.SemanticsSpec.html#fail"><span class="id" title="constructor">fail</span></a> "notfound" <span class="id" title="keyword">end</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <span class="id" title="var">na</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#0628ce849eb43988c0c2962e2467d294"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">b</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#vConstruct"><span class="id" title="constructor">vConstruct</span></a> <span class="id" title="var">i</span> <span class="id" title="var">m</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.Compile.html#lookup_constructor_args"><span class="id" title="definition">lookup_constructor_args</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#0628ce849eb43988c0c2962e2467d294"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">i</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">num_args</span> ⇒ <span class="id" title="keyword">let</span> <a id="num_args_until_m:19" class="idref" href="#num_args_until_m:19"><span class="id" title="binder">num_args_until_m</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#firstn"><span class="id" title="definition">firstn</span></a> <span class="id" title="var">m</span> <span class="id" title="var">num_args</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="index:22" class="idref" href="#index:22"><span class="id" title="binder">index</span></a> := <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> <a id="x:20" class="idref" href="#x:20"><span class="id" title="binder">x</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.CompileCorrect.html#x:20"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span> 0 ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">end</span>) <a class="idref" href="Malfunction.CompileCorrect.html#num_args_until_m:19"><span class="id" title="variable">num_args_until_m</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#value_Int"><span class="id" title="constructor">SemanticsSpec.value_Int</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.Malfunction.html#Int"><span class="id" title="constructor">Malfunction.Int</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">BinInt.Z.of_nat</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#index:22"><span class="id" title="variable">index</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Malfunction.SemanticsSpec.html#fail"><span class="id" title="constructor">fail</span></a> "inductive not found"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#vConstruct"><span class="id" title="constructor">vConstruct</span></a> <span class="id" title="var">i</span> <span class="id" title="var">m</span> <span class="id" title="var">args</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.Compile.html#lookup_constructor_args"><span class="id" title="definition">lookup_constructor_args</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#0628ce849eb43988c0c2962e2467d294"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">i</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">num_args</span> ⇒ <span class="id" title="keyword">let</span> <a id="num_args_until_m:23" class="idref" href="#num_args_until_m:23"><span class="id" title="binder">num_args_until_m</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#firstn"><span class="id" title="definition">firstn</span></a> <span class="id" title="var">m</span> <span class="id" title="var">num_args</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="index:26" class="idref" href="#index:26"><span class="id" title="binder">index</span></a> := <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> <a id="x:24" class="idref" href="#x:24"><span class="id" title="binder">x</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.CompileCorrect.html#x:24"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span> 0 ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">end</span>) <a class="idref" href="Malfunction.CompileCorrect.html#num_args_until_m:23"><span class="id" title="variable">num_args_until_m</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#Block"><span class="id" title="constructor">Block</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#index:26"><span class="id" title="variable">index</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Malfunction.CompileCorrect.html#compile_value:13"><span class="id" title="definition">compile_value</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#0628ce849eb43988c0c2962e2467d294"><span class="id" title="variable">Σ</span></a>) <span class="id" title="var">args</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Malfunction.SemanticsSpec.html#fail"><span class="id" title="constructor">fail</span></a> "inductive not found"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#vRecClos"><span class="id" title="constructor">vRecClos</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> <span class="id" title="var">env</span> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#RClos"><span class="id" title="constructor">RClos</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">((</span></a><span class="id" title="keyword">fun</span> <a id="x:27" class="idref" href="#x:27"><span class="id" title="binder">x</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:30" class="idref" href="#pat:30"><span class="id" title="binder">(</span></a><a id="x:29" class="idref" href="#x:29"><span class="id" title="binder"><span id="pat:30" class="id">x</span></span></a><a id="pat:30" class="idref" href="#pat:30"><span class="id" title="binder">,</span></a><a id="v:28" class="idref" href="#v:28"><span class="id" title="binder"><span id="pat:30" class="id">v</span></span></a><a id="pat:30" class="idref" href="#pat:30"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#x:29"><span class="id" title="variable">x</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#compile_value:13"><span class="id" title="definition">compile_value</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#0628ce849eb43988c0c2962e2467d294"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:28"><span class="id" title="variable">v</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">env</span>) <a class="idref" href="Malfunction.CompileCorrect.html#x:27"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> ⇒ <span class="id" title="var">v</span> | <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Malfunction.SemanticsSpec.html#fail"><span class="id" title="constructor">fail</span></a> "notfound" <span class="id" title="keyword">end</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">mfix</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:32" class="idref" href="#pat:32"><span class="id" title="binder">(</span></a><a id="pat:32" class="idref" href="#pat:32"><span class="id" title="binder">_</span></a><a id="pat:32" class="idref" href="#pat:32"><span class="id" title="binder">,</span></a> <a id="b:31" class="idref" href="#b:31"><span class="id" title="binder"><span id="pat:32" class="id">b</span></span></a><a id="pat:32" class="idref" href="#pat:32"><span class="id" title="binder">)</span></a> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.CompileCorrect.html#b:31"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#tLambda"><span class="id" title="constructor">EAst.tLambda</span></a> <span class="id" title="var">na</span> <span class="id" title="var">bd</span> ⇒ <a class="idref" href="Malfunction.SemanticsSpec.html#RFunc"><span class="id" title="constructor">RFunc</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">((</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Common.BasicAst.html#string_of_name"><span class="id" title="definition">BasicAst.string_of_name</span></a> <span class="id" title="var">na</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#0628ce849eb43988c0c2962e2467d294"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">bd</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="Malfunction.SemanticsSpec.html#Bad_recursive_value"><span class="id" title="constructor">Bad_recursive_value</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <span class="id" title="var">mfix</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">idx</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#vPrim"><span class="id" title="constructor">vPrim</span></a> <span class="id" title="var">v</span> ⇒ <a class="idref" href="Malfunction.CompileCorrect.html#to_primitive"><span class="id" title="definition">to_primitive</span></a> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;| <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#vLazy"><span class="id" title="constructor">vLazy</span></a> <span class="id" title="var">t</span> <span class="id" title="var">l</span> ⇒ <a class="idref" href="Malfunction.SemanticsSpec.html#fail"><span class="id" title="constructor">fail</span></a> "lazy not supported" <br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Logic.FunctionalExtensionality.html#"><span class="id" title="library">FunctionalExtensionality</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="to_string_of_string" class="idref" href="#to_string_of_string"><span class="id" title="lemma">to_string_of_string</span></a> <a id="s:34" class="idref" href="#s:34"><span class="id" title="binder">s</span></a> : <br/>
&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.bytestring.html#String.to_string"><span class="id" title="definition">String.to_string</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.bytestring.html#String.of_string"><span class="id" title="definition">String.of_string</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#s:34"><span class="id" title="variable">s</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#s:34"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Strings.Ascii.html#ascii_of_byte_of_ascii"><span class="id" title="lemma">Ascii.ascii_of_byte_of_ascii</span></a>, <span class="id" title="var">IHs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="of_string_to_string" class="idref" href="#of_string_to_string"><span class="id" title="lemma">of_string_to_string</span></a> <a id="s:35" class="idref" href="#s:35"><span class="id" title="binder">s</span></a> : <br/>
&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.bytestring.html#String.of_string"><span class="id" title="definition">String.of_string</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.bytestring.html#String.to_string"><span class="id" title="definition">String.to_string</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#s:35"><span class="id" title="variable">s</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#s:35"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Strings.Ascii.html#byte_of_ascii_of_byte"><span class="id" title="lemma">Ascii.byte_of_ascii_of_byte</span></a>, <span class="id" title="var">IHs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_map" class="idref" href="#lookup_map"><span class="id" title="lemma">lookup_map</span></a> {<a id="A:36" class="idref" href="#A:36"><span class="id" title="binder">A</span></a> <a id="B:37" class="idref" href="#B:37"><span class="id" title="binder">B</span></a>} (<a id="f:38" class="idref" href="#f:38"><span class="id" title="binder">f</span></a> : <a class="idref" href="Malfunction.CompileCorrect.html#A:36"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#B:37"><span class="id" title="variable">B</span></a>) <a id="c2ce69567f90e13bb44c9a8e8f267036" class="idref" href="#c2ce69567f90e13bb44c9a8e8f267036"><span class="id" title="binder">Γ</span></a> <a id="x:40" class="idref" href="#x:40"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:43" class="idref" href="#pat:43"><span class="id" title="binder">(</span></a><a id="x0:42" class="idref" href="#x0:42"><span class="id" title="binder"><span id="pat:43" class="id">x0</span></span></a><a id="pat:43" class="idref" href="#pat:43"><span class="id" title="binder">,</span></a> <a id="v:41" class="idref" href="#v:41"><span class="id" title="binder"><span id="pat:43" class="id">v</span></span></a><a id="pat:43" class="idref" href="#pat:43"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#x0:42"><span class="id" title="variable">x0</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#f:38"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:41"><span class="id" title="variable">v</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#c2ce69567f90e13bb44c9a8e8f267036"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#x:40"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#f:38"><span class="id" title="variable">f</span></a> (<a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#c2ce69567f90e13bb44c9a8e8f267036"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#x:40"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [ | []].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">change</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.bytestring.html#String.eqb"><span class="id" title="definition">String.eqb</span></a> <span class="id" title="var">x</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> <span class="id" title="var">x</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHΓ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_add" class="idref" href="#lookup_add"><span class="id" title="lemma">lookup_add</span></a> <a id="a:44" class="idref" href="#a:44"><span class="id" title="binder">a</span></a> <a id="v:45" class="idref" href="#v:45"><span class="id" title="binder">v</span></a> <a id="c961ade242766a9739c5649c6c6965b1" class="idref" href="#c961ade242766a9739c5649c6c6965b1"><span class="id" title="binder">Γ</span></a> <a id="na:47" class="idref" href="#na:47"><span class="id" title="binder">na</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#add"><span class="id" title="definition">add</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#a:44"><span class="id" title="variable">a</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:45"><span class="id" title="variable">v</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#c961ade242766a9739c5649c6c6965b1"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#na:47"><span class="id" title="variable">na</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="Malfunction.CompileCorrect.html#na:47"><span class="id" title="variable">na</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#12489c9c79e91749bd1f337dd0c899e9"><span class="id" title="notation">==</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#a:44"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:45"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#c961ade242766a9739c5649c6c6965b1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#na:47"><span class="id" title="variable">na</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#add"><span class="id" title="definition">add</span></a>, <a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">change</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.bytestring.html#String.eqb"><span class="id" title="definition">String.eqb</span></a> <span class="id" title="var">na</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">na</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#12489c9c79e91749bd1f337dd0c899e9"><span class="id" title="notation">==</span></a> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">na</span> <span class="id" title="var">a</span>); <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.micromega.Lia.html#"><span class="id" title="library">Lia</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_multiple" class="idref" href="#lookup_multiple"><span class="id" title="lemma">lookup_multiple</span></a> <a id="nms:48" class="idref" href="#nms:48"><span class="id" title="binder">nms</span></a> <a id="args:49" class="idref" href="#args:49"><span class="id" title="binder">args</span></a> <a id="893aef7061fe05b037fc27cff76f1e6f" class="idref" href="#893aef7061fe05b037fc27cff76f1e6f"><span class="id" title="binder">Γ</span></a> <a id="na:51" class="idref" href="#na:51"><span class="id" title="binder">na</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#nms:48"><span class="id" title="variable">nms</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args:49"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#add_multiple"><span class="id" title="definition">add_multiple</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#nms:48"><span class="id" title="variable">nms</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args:49"><span class="id" title="variable">args</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#893aef7061fe05b037fc27cff76f1e6f"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#na:51"><span class="id" title="variable">na</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#find"><span class="id" title="definition">find</span></a> (<span class="id" title="keyword">fun</span> <a id="x:52" class="idref" href="#x:52"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="Malfunction.CompileCorrect.html#na:51"><span class="id" title="variable">na</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#12489c9c79e91749bd1f337dd0c899e9"><span class="id" title="notation">==</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#x:52"><span class="id" title="variable">x</span></a>) (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#nms:48"><span class="id" title="variable">nms</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args:49"><span class="id" title="variable">args</span></a>) <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#893aef7061fe05b037fc27cff76f1e6f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#na:51"><span class="id" title="variable">na</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlen</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">nms</span> <span class="id" title="tactic">in</span> <span class="id" title="var">args</span>, <span class="id" title="var">Hlen</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup_add"><span class="id" title="lemma">lookup_add</span></a>, <span class="id" title="var">IHnms</span>. 2: <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">na</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">SemanticsSpec.eval</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="Mnapply" class="idref" href="#Mnapply"><span class="id" title="definition">Mnapply</span></a> (<a id="l:53" class="idref" href="#l:53"><span class="id" title="binder">l</span></a> : <a class="idref" href="Malfunction.Malfunction.html#t"><span class="id" title="inductive">Malfunction.t</span></a>) (<a id="args:54" class="idref" href="#args:54"><span class="id" title="binder">args</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.Malfunction.html#t"><span class="id" title="inductive">Malfunction.t</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.CompileCorrect.html#args:54"><span class="id" title="variable">args</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="Malfunction.CompileCorrect.html#l:53"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">a</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">args</span> ⇒ <a class="idref" href="Malfunction.CompileCorrect.html#Mnapply:55"><span class="id" title="definition">Mnapply</span></a> (<a class="idref" href="Malfunction.Compile.html#Mapply_"><span class="id" title="definition">Mapply_</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#l:53"><span class="id" title="variable">l</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#args:54"><span class="id" title="variable">args</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Mnapply_app" class="idref" href="#Mnapply_app"><span class="id" title="lemma">Mnapply_app</span></a> <a id="l:57" class="idref" href="#l:57"><span class="id" title="binder">l</span></a> <a id="args1:58" class="idref" href="#args1:58"><span class="id" title="binder">args1</span></a> <a id="args2:59" class="idref" href="#args2:59"><span class="id" title="binder">args2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.CompileCorrect.html#Mnapply"><span class="id" title="definition">Mnapply</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#l:57"><span class="id" title="variable">l</span></a> (<a class="idref" href="Malfunction.CompileCorrect.html#args1:58"><span class="id" title="variable">args1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args2:59"><span class="id" title="variable">args2</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#Mnapply"><span class="id" title="definition">Mnapply</span></a> (<a class="idref" href="Malfunction.CompileCorrect.html#Mnapply"><span class="id" title="definition">Mnapply</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#l:57"><span class="id" title="variable">l</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args1:58"><span class="id" title="variable">args1</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#args2:59"><span class="id" title="variable">args2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">args1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>, <span class="id" title="var">args2</span> |- *; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHargs1</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eval_app_nested_" class="idref" href="#eval_app_nested_"><span class="id" title="lemma">eval_app_nested_</span></a> `{<a id="H0:61" class="idref" href="#H0:61"><span class="id" title="binder">Heap</span></a>} <a id="globals:62" class="idref" href="#globals:62"><span class="id" title="binder">globals</span></a> <a id="locals:63" class="idref" href="#locals:63"><span class="id" title="binder">locals</span></a> <a id="args:64" class="idref" href="#args:64"><span class="id" title="binder">args</span></a> <a id="l:65" class="idref" href="#l:65"><span class="id" title="binder">l</span></a> <a id="args':66" class="idref" href="#args':66"><span class="id" title="binder">args'</span></a> <a id="v:67" class="idref" href="#v:67"><span class="id" title="binder">v</span></a> <a id="h:68" class="idref" href="#h:68"><span class="id" title="binder">h</span></a> <a id="h':69" class="idref" href="#h':69"><span class="id" title="binder">h'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">SemanticsSpec.eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#globals:62"><span class="id" title="variable">globals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#locals:63"><span class="id" title="variable">locals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h:68"><span class="id" title="variable">h</span></a> (<a class="idref" href="Malfunction.CompileCorrect.html#Mnapply"><span class="id" title="definition">Mnapply</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#l:65"><span class="id" title="variable">l</span></a> (<a class="idref" href="Malfunction.CompileCorrect.html#args':66"><span class="id" title="variable">args'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args:64"><span class="id" title="variable">args</span></a>)) <a class="idref" href="Malfunction.CompileCorrect.html#h':69"><span class="id" title="variable">h'</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:67"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">SemanticsSpec.eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#globals:62"><span class="id" title="variable">globals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#locals:63"><span class="id" title="variable">locals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h:68"><span class="id" title="variable">h</span></a> (<a class="idref" href="Malfunction.Compile.html#Mapply_"><span class="id" title="definition">Mapply_</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#Mnapply"><span class="id" title="definition">Mnapply</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#l:65"><span class="id" title="variable">l</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args':66"><span class="id" title="variable">args'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args:64"><span class="id" title="variable">args</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#h':69"><span class="id" title="variable">h'</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:67"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">H</span> <span class="id" title="var">into</span> <span class="id" title="var">HP</span>; <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">args</span> <span class="id" title="tactic">in</span> <span class="id" title="var">args'</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHargs</span> (<span class="id" title="var">args'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)%<span class="id" title="var">list</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#Mnapply_app"><span class="id" title="lemma">Mnapply_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="Malfunction.CompileCorrect.html#Mnapply_app"><span class="id" title="lemma">Mnapply_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHargs</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#Mnapply_app"><span class="id" title="lemma">Mnapply_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eval_app_nested_inv" class="idref" href="#eval_app_nested_inv"><span class="id" title="lemma">eval_app_nested_inv</span></a> `{<a id="H0:71" class="idref" href="#H0:71"><span class="id" title="binder">Heap</span></a>} <a id="globals:72" class="idref" href="#globals:72"><span class="id" title="binder">globals</span></a> <a id="locals:73" class="idref" href="#locals:73"><span class="id" title="binder">locals</span></a> <a id="args:74" class="idref" href="#args:74"><span class="id" title="binder">args</span></a> <a id="l:75" class="idref" href="#l:75"><span class="id" title="binder">l</span></a> <a id="args':76" class="idref" href="#args':76"><span class="id" title="binder">args'</span></a> <a id="v:77" class="idref" href="#v:77"><span class="id" title="binder">v</span></a> <a id="h:78" class="idref" href="#h:78"><span class="id" title="binder">h</span></a> <a id="h':79" class="idref" href="#h':79"><span class="id" title="binder">h'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">SemanticsSpec.eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#globals:72"><span class="id" title="variable">globals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#locals:73"><span class="id" title="variable">locals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h:78"><span class="id" title="variable">h</span></a> (<a class="idref" href="Malfunction.Compile.html#Mapply_"><span class="id" title="definition">Mapply_</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#Mnapply"><span class="id" title="definition">Mnapply</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#l:75"><span class="id" title="variable">l</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args':76"><span class="id" title="variable">args'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args:74"><span class="id" title="variable">args</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#h':79"><span class="id" title="variable">h'</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:77"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">SemanticsSpec.eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#globals:72"><span class="id" title="variable">globals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#locals:73"><span class="id" title="variable">locals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h:78"><span class="id" title="variable">h</span></a> (<a class="idref" href="Malfunction.CompileCorrect.html#Mnapply"><span class="id" title="definition">Mnapply</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#l:75"><span class="id" title="variable">l</span></a> (<a class="idref" href="Malfunction.CompileCorrect.html#args':76"><span class="id" title="variable">args'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args:74"><span class="id" title="variable">args</span></a>)) <a class="idref" href="Malfunction.CompileCorrect.html#h':79"><span class="id" title="variable">h'</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:77"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">H</span> <span class="id" title="var">into</span> <span class="id" title="var">HP</span>; <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">args</span> <span class="id" title="tactic">in</span> <span class="id" title="var">args'</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHargs</span> (<span class="id" title="var">args'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)%<span class="id" title="var">list</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#Mnapply_app"><span class="id" title="lemma">Mnapply_app</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#Mnapply_app"><span class="id" title="lemma">Mnapply_app</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Mapply_eval" class="idref" href="#Mapply_eval"><span class="id" title="lemma">Mapply_eval</span></a> `{<a id="H0:81" class="idref" href="#H0:81"><span class="id" title="binder">Heap</span></a>} <a id="globals:82" class="idref" href="#globals:82"><span class="id" title="binder">globals</span></a> <a id="locals:83" class="idref" href="#locals:83"><span class="id" title="binder">locals</span></a> (<a id="x:84" class="idref" href="#x:84"><span class="id" title="binder">x</span></a> : <a class="idref" href="Malfunction.Malfunction.html#Ident.t"><span class="id" title="definition">Malfunction.Ident.t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="locals':85" class="idref" href="#locals':85"><span class="id" title="binder">locals'</span></a> : <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.t"><span class="id" title="definition">Malfunction.Ident.Map.t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e:86" class="idref" href="#e:86"><span class="id" title="binder">e</span></a> <a id="e2:87" class="idref" href="#e2:87"><span class="id" title="binder">e2</span></a> : <a class="idref" href="Malfunction.Malfunction.html#t"><span class="id" title="inductive">Malfunction.t</span></a>) (<a id="v2:88" class="idref" href="#v2:88"><span class="id" title="binder">v2</span></a> : <a class="idref" href="Malfunction.SemanticsSpec.html#value"><span class="id" title="inductive">SemanticsSpec.value</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e1:89" class="idref" href="#e1:89"><span class="id" title="binder">e1</span></a> : <a class="idref" href="Malfunction.Malfunction.html#t"><span class="id" title="inductive">Malfunction.t</span></a>) (<a id="v:90" class="idref" href="#v:90"><span class="id" title="binder">v</span></a> : <a class="idref" href="Malfunction.SemanticsSpec.html#value"><span class="id" title="inductive">SemanticsSpec.value</span></a>) <a id="args:91" class="idref" href="#args:91"><span class="id" title="binder">args</span></a> <a id="h1:92" class="idref" href="#h1:92"><span class="id" title="binder">h1</span></a> <a id="h2:93" class="idref" href="#h2:93"><span class="id" title="binder">h2</span></a> <a id="h3:94" class="idref" href="#h3:94"><span class="id" title="binder">h3</span></a> <a id="h4:95" class="idref" href="#h4:95"><span class="id" title="binder">h4</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">SemanticsSpec.eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#globals:82"><span class="id" title="variable">globals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#locals:83"><span class="id" title="variable">locals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h1:92"><span class="id" title="variable">h1</span></a> (<a class="idref" href="Malfunction.Compile.html#Mapply_"><span class="id" title="definition">Mapply_</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#e1:89"><span class="id" title="variable">e1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args:91"><span class="id" title="variable">args</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#h2:93"><span class="id" title="variable">h2</span></a> (<a class="idref" href="Malfunction.SemanticsSpec.html#Func"><span class="id" title="constructor">Func</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#locals':85"><span class="id" title="variable">locals'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#x:84"><span class="id" title="variable">x</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#e:86"><span class="id" title="variable">e</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">SemanticsSpec.eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#globals:82"><span class="id" title="variable">globals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#locals:83"><span class="id" title="variable">locals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h2:93"><span class="id" title="variable">h2</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#e2:87"><span class="id" title="variable">e2</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h3:94"><span class="id" title="variable">h3</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v2:88"><span class="id" title="variable">v2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">SemanticsSpec.eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#globals:82"><span class="id" title="variable">globals</span></a> (<a class="idref" href="Malfunction.Malfunction.html#Ident.Map.add"><span class="id" title="definition">Malfunction.Ident.Map.add</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#x:84"><span class="id" title="variable">x</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v2:88"><span class="id" title="variable">v2</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#locals':85"><span class="id" title="variable">locals'</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#h3:94"><span class="id" title="variable">h3</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#e:86"><span class="id" title="variable">e</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h4:95"><span class="id" title="variable">h4</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:90"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">SemanticsSpec.eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#globals:82"><span class="id" title="variable">globals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#locals:83"><span class="id" title="variable">locals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h1:92"><span class="id" title="variable">h1</span></a> (<a class="idref" href="Malfunction.Malfunction.html#Mapply"><span class="id" title="constructor">Malfunction.Mapply</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#e1:89"><span class="id" title="variable">e1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args:91"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Malfunction.CompileCorrect.html#e2:87"><span class="id" title="variable">e2</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">list</span> <a class="idref" href="Malfunction.CompileCorrect.html#h4:95"><span class="id" title="variable">h4</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:90"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">e1</span> <span class="id" title="keyword">with</span> (<a class="idref" href="Malfunction.CompileCorrect.html#Mnapply"><span class="id" title="definition">Mnapply</span></a> <span class="id" title="var">e1</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (@<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="Malfunction.Malfunction.html#t"><span class="id" title="inductive">Malfunction.t</span></a>) <span class="id" title="tactic">at</span> 1 2.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">args</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e1</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">Hleft</span> <span class="id" title="var">Hright</span> <span class="id" title="var">Happ</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>; <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">replace</span> (<a class="idref" href="Malfunction.Malfunction.html#Mapply"><span class="id" title="constructor">Malfunction.Mapply</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#Mnapply"><span class="id" title="definition">Mnapply</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">l</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Malfunction.CompileCorrect.html#Mnapply"><span class="id" title="definition">Mnapply</span></a> <span class="id" title="var">e1</span> (<span class="id" title="var">l</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#Mnapply_app"><span class="id" title="lemma">Mnapply_app</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHargs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hleft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#eval_app_nested_inv"><span class="id" title="lemma">eval_app_nested_inv</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">args</span> := <span class="id" title="var">a</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hleft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#eval_app_nested_"><span class="id" title="lemma">eval_app_nested_</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">replace</span> (<a class="idref" href="Malfunction.Malfunction.html#Mapply"><span class="id" title="constructor">Malfunction.Mapply</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#Mnapply"><span class="id" title="definition">Mnapply</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">l</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Malfunction.CompileCorrect.html#Mnapply"><span class="id" title="definition">Mnapply</span></a> <span class="id" title="var">e1</span> (<span class="id" title="var">l</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#Mnapply_app"><span class="id" title="lemma">Mnapply_app</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHargs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hleft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#eval_app_nested_inv"><span class="id" title="lemma">eval_app_nested_inv</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">args</span> := <span class="id" title="var">a</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">t</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">args</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hleft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#eval_app_nested_"><span class="id" title="lemma">eval_app_nested_</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Mapply_eval_rec" class="idref" href="#Mapply_eval_rec"><span class="id" title="lemma">Mapply_eval_rec</span></a> `{<a id="H:97" class="idref" href="#H:97"><span class="id" title="binder">H</span></a> : <a class="idref" href="Malfunction.SemanticsSpec.html#Heap"><span class="id" title="class">Heap</span></a>} <a id="globals:98" class="idref" href="#globals:98"><span class="id" title="binder">globals</span></a> <a id="locals:99" class="idref" href="#locals:99"><span class="id" title="binder">locals</span></a> (<a id="x:100" class="idref" href="#x:100"><span class="id" title="binder">x</span></a> : <a class="idref" href="Malfunction.Malfunction.html#Ident.t"><span class="id" title="definition">Malfunction.Ident.t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="locals':101" class="idref" href="#locals':101"><span class="id" title="binder">locals'</span></a> : <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.t"><span class="id" title="definition">Malfunction.Ident.Map.t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e2:102" class="idref" href="#e2:102"><span class="id" title="binder">e2</span></a> : <a class="idref" href="Malfunction.Malfunction.html#t"><span class="id" title="inductive">Malfunction.t</span></a>) (<a id="v2:103" class="idref" href="#v2:103"><span class="id" title="binder">v2</span></a> : <a class="idref" href="Malfunction.SemanticsSpec.html#value"><span class="id" title="inductive">SemanticsSpec.value</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e1:104" class="idref" href="#e1:104"><span class="id" title="binder">e1</span></a> : <a class="idref" href="Malfunction.Malfunction.html#t"><span class="id" title="inductive">Malfunction.t</span></a>) (<a id="v:105" class="idref" href="#v:105"><span class="id" title="binder">v</span></a> : <a class="idref" href="Malfunction.SemanticsSpec.html#value"><span class="id" title="inductive">SemanticsSpec.value</span></a>) <a id="args:106" class="idref" href="#args:106"><span class="id" title="binder">args</span></a> <a id="h1:107" class="idref" href="#h1:107"><span class="id" title="binder">h1</span></a> <a id="h2:108" class="idref" href="#h2:108"><span class="id" title="binder">h2</span></a> <a id="h3:109" class="idref" href="#h3:109"><span class="id" title="binder">h3</span></a> <a id="h4:110" class="idref" href="#h4:110"><span class="id" title="binder">h4</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="self:111" class="idref" href="#self:111"><span class="id" title="binder">self</span></a> <a id="mfix:112" class="idref" href="#mfix:112"><span class="id" title="binder">mfix</span></a> <a id="n:113" class="idref" href="#n:113"><span class="id" title="binder">n</span></a> <a id="e:114" class="idref" href="#e:114"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#n:113"><span class="id" title="variable">n</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#mfix:112"><span class="id" title="variable">mfix</span></a> <a class="idref" href="Malfunction.SemanticsSpec.html#Bad_recursive_value"><span class="id" title="constructor">Bad_recursive_value</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.SemanticsSpec.html#RFunc"><span class="id" title="constructor">RFunc</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#x:100"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#e:114"><span class="id" title="variable">e</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">SemanticsSpec.eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#globals:98"><span class="id" title="variable">globals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#locals:99"><span class="id" title="variable">locals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h1:107"><span class="id" title="variable">h1</span></a> (<a class="idref" href="Malfunction.Compile.html#Mapply_"><span class="id" title="definition">Mapply_</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#e1:104"><span class="id" title="variable">e1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args:106"><span class="id" title="variable">args</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#h2:108"><span class="id" title="variable">h2</span></a> (<a class="idref" href="Malfunction.SemanticsSpec.html#RClos"><span class="id" title="constructor">RClos</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#locals':101"><span class="id" title="variable">locals'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#self:111"><span class="id" title="variable">self</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#mfix:112"><span class="id" title="variable">mfix</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#n:113"><span class="id" title="variable">n</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">SemanticsSpec.eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#globals:98"><span class="id" title="variable">globals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#locals:99"><span class="id" title="variable">locals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h2:108"><span class="id" title="variable">h2</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#e2:102"><span class="id" title="variable">e2</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h3:109"><span class="id" title="variable">h3</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v2:103"><span class="id" title="variable">v2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">SemanticsSpec.eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#globals:98"><span class="id" title="variable">globals</span></a> (<a class="idref" href="Malfunction.Malfunction.html#Ident.Map.add"><span class="id" title="definition">Malfunction.Ident.Map.add</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#x:100"><span class="id" title="variable">x</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v2:103"><span class="id" title="variable">v2</span></a> (<a class="idref" href="Malfunction.SemanticsSpec.html#add_self"><span class="id" title="definition">add_self</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#self:111"><span class="id" title="variable">self</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#mfix:112"><span class="id" title="variable">mfix</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#locals':101"><span class="id" title="variable">locals'</span></a>)) <a class="idref" href="Malfunction.CompileCorrect.html#h3:109"><span class="id" title="variable">h3</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#e:114"><span class="id" title="variable">e</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h4:110"><span class="id" title="variable">h4</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:105"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">SemanticsSpec.eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#globals:98"><span class="id" title="variable">globals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#locals:99"><span class="id" title="variable">locals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h1:107"><span class="id" title="variable">h1</span></a> (<a class="idref" href="Malfunction.Malfunction.html#Mapply"><span class="id" title="constructor">Malfunction.Mapply</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#e1:104"><span class="id" title="variable">e1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args:106"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Malfunction.CompileCorrect.html#e2:102"><span class="id" title="variable">e2</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">list</span> <a class="idref" href="Malfunction.CompileCorrect.html#h4:110"><span class="id" title="variable">h4</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:105"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">e1</span> <span class="id" title="keyword">with</span> (<a class="idref" href="Malfunction.CompileCorrect.html#Mnapply"><span class="id" title="definition">Mnapply</span></a> <span class="id" title="var">e1</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (@<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="Malfunction.Malfunction.html#t"><span class="id" title="inductive">Malfunction.t</span></a>) <span class="id" title="tactic">at</span> 1 2.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">args</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e1</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">Hnth</span> <span class="id" title="var">Hleft</span> <span class="id" title="var">Hright</span> <span class="id" title="var">Happ</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.SemanticsSpec.html#eval_app_sing_rec"><span class="id" title="constructor">eval_app_sing_rec</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>; <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">replace</span> (<a class="idref" href="Malfunction.Malfunction.html#Mapply"><span class="id" title="constructor">Malfunction.Mapply</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#Mnapply"><span class="id" title="definition">Mnapply</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">l</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Malfunction.CompileCorrect.html#Mnapply"><span class="id" title="definition">Mnapply</span></a> <span class="id" title="var">e1</span> (<span class="id" title="var">l</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#Mnapply_app"><span class="id" title="lemma">Mnapply_app</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHargs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hleft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#eval_app_nested_inv"><span class="id" title="lemma">eval_app_nested_inv</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">args</span> := <span class="id" title="var">a</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hleft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#eval_app_nested_"><span class="id" title="lemma">eval_app_nested_</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">replace</span> (<a class="idref" href="Malfunction.Malfunction.html#Mapply"><span class="id" title="constructor">Malfunction.Mapply</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#Mnapply"><span class="id" title="definition">Mnapply</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">l</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Malfunction.CompileCorrect.html#Mnapply"><span class="id" title="definition">Mnapply</span></a> <span class="id" title="var">e1</span> (<span class="id" title="var">l</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#Mnapply_app"><span class="id" title="lemma">Mnapply_app</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHargs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hleft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#eval_app_nested_inv"><span class="id" title="lemma">eval_app_nested_inv</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">args</span> := <span class="id" title="var">a</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">t</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">args</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hleft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#eval_app_nested_"><span class="id" title="lemma">eval_app_nested_</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Mapply_u_spec" class="idref" href="#Mapply_u_spec"><span class="id" title="lemma">Mapply_u_spec</span></a> <a id="f:115" class="idref" href="#f:115"><span class="id" title="binder">f</span></a> <a id="a:116" class="idref" href="#a:116"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="n:117" class="idref" href="#n:117"><span class="id" title="binder">n</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#f:115"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.Malfunction.html#Mapply"><span class="id" title="constructor">Malfunction.Mapply</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#n:117"><span class="id" title="variable">n</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="fn:118" class="idref" href="#fn:118"><span class="id" title="binder">fn</span></a> <a id="args:119" class="idref" href="#args:119"><span class="id" title="binder">args</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#f:115"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.Compile.html#Mapply_"><span class="id" title="definition">Mapply_</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#fn:118"><span class="id" title="variable">fn</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args:119"><span class="id" title="variable">args</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Malfunction.Compile.html#Mapply_u"><span class="id" title="definition">Mapply_u</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#f:115"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#a:116"><span class="id" title="variable">a</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.Compile.html#Mapply_"><span class="id" title="definition">Mapply_</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#fn:118"><span class="id" title="variable">fn</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args:119"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Malfunction.CompileCorrect.html#a:116"><span class="id" title="variable">a</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">list</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="fn:120" class="idref" href="#fn:120"><span class="id" title="binder">fn</span></a> <a id="args:121" class="idref" href="#args:121"><span class="id" title="binder">args</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#f:115"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.Malfunction.html#Mapply"><span class="id" title="constructor">Malfunction.Mapply</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#fn:120"><span class="id" title="variable">fn</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args:121"><span class="id" title="variable">args</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Malfunction.Compile.html#Mapply_u"><span class="id" title="definition">Mapply_u</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#f:115"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#a:116"><span class="id" title="variable">a</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.Compile.html#Mapply_"><span class="id" title="definition">Mapply_</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#f:115"><span class="id" title="variable">f</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Malfunction.CompileCorrect.html#a:116"><span class="id" title="variable">a</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">firstorder</span> <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">t</span>, <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_env_In" class="idref" href="#lookup_env_In"><span class="id" title="lemma">lookup_env_In</span></a> <a id="d:122" class="idref" href="#d:122"><span class="id" title="binder">d</span></a> <a id="1fae2405502733773daa9dd3939f6e35" class="idref" href="#1fae2405502733773daa9dd3939f6e35"><span class="id" title="binder">Σ</span></a> : <br/>
&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">EGlobalEnv.lookup_env</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#1fae2405502733773daa9dd3939f6e35"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#d:122"><span class="id" title="variable">d</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#d:122"><span class="id" title="variable">d</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#d:122"><span class="id" title="variable">d</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#1fae2405502733773daa9dd3939f6e35"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">a</span>)). <span class="id" title="tactic">intros</span> [=]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>, <span class="id" title="var">d</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hl</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHΣ</span> <span class="id" title="var">hl</span>); <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Mapply_spec" class="idref" href="#Mapply_spec"><span class="id" title="lemma">Mapply_spec</span></a> <a id="fn:124" class="idref" href="#fn:124"><span class="id" title="binder">fn</span></a> <a id="args:125" class="idref" href="#args:125"><span class="id" title="binder">args</span></a> : <br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.CompileCorrect.html#args:125"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.Compile.html#Mapply_"><span class="id" title="definition">Mapply_</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#fn:124"><span class="id" title="variable">fn</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args:125"><span class="id" title="variable">args</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.Malfunction.html#Mapply"><span class="id" title="constructor">Malfunction.Mapply</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#fn:124"><span class="id" title="variable">fn</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args:125"><span class="id" title="variable">args</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All2_nth_error_Some_right" class="idref" href="#All2_nth_error_Some_right"><span class="id" title="lemma">All2_nth_error_Some_right</span></a> {<a id="A:126" class="idref" href="#A:126"><span class="id" title="binder">A</span></a> <a id="B:127" class="idref" href="#B:127"><span class="id" title="binder">B</span></a>} {<a id="P:128" class="idref" href="#P:128"><span class="id" title="binder">P</span></a> : <a class="idref" href="Malfunction.CompileCorrect.html#A:126"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#B:127"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>} {<a id="l:129" class="idref" href="#l:129"><span class="id" title="binder">l</span></a> <a id="l':130" class="idref" href="#l':130"><span class="id" title="binder">l'</span></a>} <a id="n:131" class="idref" href="#n:131"><span class="id" title="binder">n</span></a> <a id="t:132" class="idref" href="#t:132"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All_Forall.All2</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#P:128"><span class="id" title="variable">P</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#l:129"><span class="id" title="variable">l</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#l':130"><span class="id" title="variable">l'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#l':130"><span class="id" title="variable">l'</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#n:131"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#t:132"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">{</span></a> <a id="t':133" class="idref" href="#t':133"><span class="id" title="binder">t'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">:</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#A:126"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#l:129"><span class="id" title="variable">l</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#n:131"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#t':133"><span class="id" title="variable">t'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#P:128"><span class="id" title="variable">P</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#t':133"><span class="id" title="variable">t'</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#t:132"><span class="id" title="variable">t</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">}</span></a>%<span class="id" title="keyword">type</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hall</span>. <span class="id" title="var">revert</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hall</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>. <span class="id" title="tactic">intros</span> [= -&gt;]. <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eval_Mvar" class="idref" href="#eval_Mvar"><span class="id" title="lemma">eval_Mvar</span></a> `{<a id="H0:135" class="idref" href="#H0:135"><span class="id" title="binder">Heap</span></a>} <a id="globals:136" class="idref" href="#globals:136"><span class="id" title="binder">globals</span></a> (<a id="locals:137" class="idref" href="#locals:137"><span class="id" title="binder">locals</span></a> : <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.t"><span class="id" title="definition">Malfunction.Ident.Map.t</span></a>) (<a id="id:138" class="idref" href="#id:138"><span class="id" title="binder">id</span></a> : <a class="idref" href="Malfunction.Malfunction.html#Ident.t"><span class="id" title="definition">Malfunction.Ident.t</span></a>) <a id="v:139" class="idref" href="#v:139"><span class="id" title="binder">v</span></a> <a id="h:140" class="idref" href="#h:140"><span class="id" title="binder">h</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.CompileCorrect.html#v:139"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.Malfunction.html#Ident.Map.find"><span class="id" title="definition">Malfunction.Ident.Map.find</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#id:138"><span class="id" title="variable">id</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#locals:137"><span class="id" title="variable">locals</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">SemanticsSpec.eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#globals:136"><span class="id" title="variable">globals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#locals:137"><span class="id" title="variable">locals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h:140"><span class="id" title="variable">h</span></a> (<a class="idref" href="Malfunction.Malfunction.html#Mvar"><span class="id" title="constructor">Malfunction.Mvar</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#id:138"><span class="id" title="variable">id</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#h:140"><span class="id" title="variable">h</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:139"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> →. <span class="id" title="tactic">econstructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eval_num" class="idref" href="#eval_num"><span class="id" title="lemma">eval_num</span></a> `{<a id="H0:142" class="idref" href="#H0:142"><span class="id" title="binder">Heap</span></a>} <a id="92fc1184c72183659a7f8012cd13be07" class="idref" href="#92fc1184c72183659a7f8012cd13be07"><span class="id" title="binder">Σ</span></a> <a id="bdcfe59523bec70981b3f2f06d8b181a" class="idref" href="#bdcfe59523bec70981b3f2f06d8b181a"><span class="id" title="binder">Γ_</span></a> <a id="i:145" class="idref" href="#i:145"><span class="id" title="binder">i</span></a> <a id="z:146" class="idref" href="#z:146"><span class="id" title="binder">z</span></a> <a id="h:147" class="idref" href="#h:147"><span class="id" title="binder">h</span></a> : <br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ZArith.BinInt.html#Z.le"><span class="id" title="definition">BinInt.Z.le</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Numbers.BinNums.html#Z0"><span class="id" title="constructor">BinNums.Z0</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#z:146"><span class="id" title="variable">z</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ZArith.BinInt.html#Z.lt"><span class="id" title="definition">BinInt.Z.lt</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#z:146"><span class="id" title="variable">z</span></a> <a class="idref" href="Malfunction.Malfunction.html#Int63.wB"><span class="id" title="abbreviation">Malfunction.Int63.wB</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Numbers.Cyclic.Int63.Uint63.html#of_Z"><span class="id" title="abbreviation">Uint63.of_Z</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#z:146"><span class="id" title="variable">z</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#i:145"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">SemanticsSpec.eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#92fc1184c72183659a7f8012cd13be07"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#bdcfe59523bec70981b3f2f06d8b181a"><span class="id" title="variable">Γ_</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h:147"><span class="id" title="variable">h</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Malfunction.Malfunction.html#Mnum"><span class="id" title="constructor">Malfunction.Mnum</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Malfunction.Malfunction.html#numconst_Int"><span class="id" title="constructor">Malfunction.numconst_Int</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#i:145"><span class="id" title="variable">i</span></a>)) <a class="idref" href="Malfunction.CompileCorrect.html#h:147"><span class="id" title="variable">h</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Malfunction.SemanticsSpec.html#value_Int"><span class="id" title="constructor">value_Int</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.Malfunction.html#Int"><span class="id" title="constructor">Malfunction.Int</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#z:146"><span class="id" title="variable">z</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Malfunction.Malfunction.html#Int63.of_Z_spec"><span class="id" title="lemma">Malfunction.Int63.of_Z_spec</span></a> <span class="id" title="var">z</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ZArith.Zdiv.html#Zmod_small"><span class="id" title="lemma">Zdiv.Zmod_small</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>; [| <span class="id" title="var">lia_max_length</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<a class="idref" href="Malfunction.Malfunction.html#Mnum"><span class="id" title="constructor">Malfunction.Mnum</span></a> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heq</span>. <span class="id" title="tactic">econstructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="find_add_self" class="idref" href="#find_add_self"><span class="id" title="lemma">find_add_self</span></a> `{<a id="H0:149" class="idref" href="#H0:149"><span class="id" title="binder">Heap</span></a>} <a id="idx:150" class="idref" href="#idx:150"><span class="id" title="binder">idx</span></a> <a id="d:151" class="idref" href="#d:151"><span class="id" title="binder">d</span></a> <a id="na:152" class="idref" href="#na:152"><span class="id" title="binder">na</span></a> <a id="recs:153" class="idref" href="#recs:153"><span class="id" title="binder">recs</span></a> <a id="locals:154" class="idref" href="#locals:154"><span class="id" title="binder">locals</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#recs:153"><span class="id" title="variable">recs</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#recs:153"><span class="id" title="variable">recs</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#idx:150"><span class="id" title="variable">idx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#na:152"><span class="id" title="variable">na</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#d:151"><span class="id" title="variable">d</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.Malfunction.html#Ident.Map.find"><span class="id" title="definition">Malfunction.Ident.Map.find</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#na:152"><span class="id" title="variable">na</span></a> (<a class="idref" href="Malfunction.SemanticsSpec.html#add_self"><span class="id" title="definition">add_self</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#recs:153"><span class="id" title="variable">recs</span></a>) (<a class="idref" href="Malfunction.SemanticsSpec.html#RFunc_build"><span class="id" title="definition">RFunc_build</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#recs:153"><span class="id" title="variable">recs</span></a>)) <a class="idref" href="Malfunction.CompileCorrect.html#locals:154"><span class="id" title="variable">locals</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.SemanticsSpec.html#RClos"><span class="id" title="constructor">RClos</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#locals:154"><span class="id" title="variable">locals</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#recs:153"><span class="id" title="variable">recs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.SemanticsSpec.html#RFunc_build"><span class="id" title="definition">RFunc_build</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#recs:153"><span class="id" title="variable">recs</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#idx:150"><span class="id" title="variable">idx</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">H</span> <span class="id" title="var">into</span> <span class="id" title="var">HP</span>; <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hdup</span> <span class="id" title="var">Hnth</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.SemanticsSpec.html#add_self"><span class="id" title="definition">add_self</span></a>, <a class="idref" href="Malfunction.SemanticsSpec.html#add_recs"><span class="id" title="definition">add_recs</span></a>, <a class="idref" href="Malfunction.utils_array.html#List.mapi"><span class="id" title="definition">List.mapi</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.find"><span class="id" title="definition">Malfunction.Ident.Map.find</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hnth</span> <span class="id" title="var">Hdup</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">idx</span> <span class="id" title="keyword">with</span> (0 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">idx</span>) <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> 0 <span class="id" title="keyword">as</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">recs</span> <span class="id" title="tactic">at</span> 1 2 5. <span class="id" title="tactic">induction</span> <span class="id" title="var">recs0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">recs</span>, <span class="id" title="var">locals</span>, <span class="id" title="var">idx</span> |- *; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">idx</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na'</span> <span class="id" title="var">e</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">idx</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnth</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.add"><span class="id" title="definition">Malfunction.Ident.Map.add</span></a>, <a class="idref" href="Malfunction.Malfunction.html#Ident.eqb"><span class="id" title="definition">Malfunction.Ident.eqb</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_refl"><span class="id" title="lemma">eqb_refl</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.add"><span class="id" title="definition">Malfunction.Ident.Map.add</span></a>, <a class="idref" href="Malfunction.Malfunction.html#Ident.eqb"><span class="id" title="definition">Malfunction.Ident.eqb</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">na</span> <span class="id" title="var">na'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span>. <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hdup</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_In"><span class="id" title="lemma">nth_error_In</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>, <span class="id" title="var">H0</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHrecs0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnth</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hnth</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hdup</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_fix_env" class="idref" href="#nth_error_fix_env"><span class="id" title="lemma">nth_error_fix_env</span></a> <a id="idx:155" class="idref" href="#idx:155"><span class="id" title="binder">idx</span></a> <a id="mfix:156" class="idref" href="#mfix:156"><span class="id" title="binder">mfix</span></a> <a id="330ecde2ea624b4f4a3c02060519a435" class="idref" href="#330ecde2ea624b4f4a3c02060519a435"><span class="id" title="binder">Γ</span></a> : <br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.CompileCorrect.html#idx:155"><span class="id" title="variable">idx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="Malfunction.CompileCorrect.html#mfix:156"><span class="id" title="variable">mfix</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#fix_env"><span class="id" title="definition">fix_env</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#mfix:156"><span class="id" title="variable">mfix</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#330ecde2ea624b4f4a3c02060519a435"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#idx:155"><span class="id" title="variable">idx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#vRecClos"><span class="id" title="constructor">vRecClos</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#mfix:156"><span class="id" title="variable">mfix</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="Malfunction.CompileCorrect.html#mfix:156"><span class="id" title="variable">mfix</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#idx:155"><span class="id" title="variable">idx</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#330ecde2ea624b4f4a3c02060519a435"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#fix_env"><span class="id" title="definition">fix_env</span></a>. <span class="id" title="tactic">induction</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">idx</span> |- *; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">idx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="add_self_lookup" class="idref" href="#add_self_lookup"><span class="id" title="lemma">add_self_lookup</span></a> `{<a id="H0:159" class="idref" href="#H0:159"><span class="id" title="binder">Heap</span></a>} <a id="e8b84f97dec582bad0f5930fd7004e26" class="idref" href="#e8b84f97dec582bad0f5930fd7004e26"><span class="id" title="binder">Σ</span></a> <a id="recs:161" class="idref" href="#recs:161"><span class="id" title="binder">recs</span></a> (<a id="na:162" class="idref" href="#na:162"><span class="id" title="binder">na</span></a> : <a class="idref" href="Malfunction.Malfunction.html#Ident.t"><span class="id" title="definition">Malfunction.Ident.t</span></a>) <a id="locals:163" class="idref" href="#locals:163"><span class="id" title="binder">locals</span></a> <a id="locals':164" class="idref" href="#locals':164"><span class="id" title="binder">locals'</span></a> <a id="mfix:165" class="idref" href="#mfix:165"><span class="id" title="binder">mfix</span></a> <a id="nms:166" class="idref" href="#nms:166"><span class="id" title="binder">nms</span></a> <a id="bodies:167" class="idref" href="#bodies:167"><span class="id" title="binder">bodies</span></a> : <br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#Forall2"><span class="id" title="inductive">Forall2</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:170" class="idref" href="#pat:170"><span class="id" title="binder">(</span></a><a id="na1:169" class="idref" href="#na1:169"><span class="id" title="binder"><span id="pat:170" class="id">na1</span></span></a><a id="pat:170" class="idref" href="#pat:170"><span class="id" title="binder">,</span></a> <a id="e1:168" class="idref" href="#e1:168"><span class="id" title="binder"><span id="pat:170" class="id">e1</span></span></a><a id="pat:170" class="idref" href="#pat:170"><span class="id" title="binder">)</span></a> '<a id="pat:173" class="idref" href="#pat:173"><span class="id" title="binder">(</span></a><a id="na2:172" class="idref" href="#na2:172"><span class="id" title="binder"><span id="pat:173" class="id">na2</span></span></a><a id="pat:173" class="idref" href="#pat:173"><span class="id" title="binder">,</span></a> <a id="e2:171" class="idref" href="#e2:171"><span class="id" title="binder"><span id="pat:173" class="id">e2</span></span></a><a id="pat:173" class="idref" href="#pat:173"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="Malfunction.CompileCorrect.html#na2:172"><span class="id" title="variable">na2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#na1:169"><span class="id" title="variable">na1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#e1:168"><span class="id" title="variable">e1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#e8b84f97dec582bad0f5930fd7004e26"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#e2:171"><span class="id" title="variable">e2</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#recs:161"><span class="id" title="variable">recs</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#mfix:165"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="na:174" class="idref" href="#na:174"><span class="id" title="binder">na</span></a>, <a class="idref" href="Malfunction.CompileCorrect.html#locals:163"><span class="id" title="variable">locals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#na:174"><span class="id" title="variable">na</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#locals':164"><span class="id" title="variable">locals'</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#na:174"><span class="id" title="variable">na</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> ⇒ <a class="idref" href="Malfunction.CompileCorrect.html#compile_value"><span class="id" title="definition">compile_value</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#e8b84f97dec582bad0f5930fd7004e26"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">v</span> | <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Malfunction.SemanticsSpec.html#fail"><span class="id" title="constructor">fail</span></a> "notfound" <span class="id" title="keyword">end</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.CompileCorrect.html#nms:166"><span class="id" title="variable">nms</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#recs:161"><span class="id" title="variable">recs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.CompileCorrect.html#bodies:167"><span class="id" title="variable">bodies</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.SemanticsSpec.html#RFunc_build"><span class="id" title="definition">RFunc_build</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#recs:161"><span class="id" title="variable">recs</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#nms:166"><span class="id" title="variable">nms</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="b:175" class="idref" href="#b:175"><span class="id" title="binder">b</span></a> ⇒ <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#isLambda"><span class="id" title="definition">EAst.isLambda</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#b:175"><span class="id" title="variable">b</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#mfix:165"><span class="id" title="variable">mfix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.Malfunction.html#Ident.Map.find"><span class="id" title="definition">Malfunction.Ident.Map.find</span></a> (<a class="idref" href="Malfunction.CompileCorrect.html#na:162"><span class="id" title="variable">na</span></a>) (<a class="idref" href="Malfunction.SemanticsSpec.html#add_self"><span class="id" title="definition">add_self</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#nms:166"><span class="id" title="variable">nms</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#bodies:167"><span class="id" title="variable">bodies</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#locals:163"><span class="id" title="variable">locals</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#add_multiple"><span class="id" title="definition">add_multiple</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#mfix:165"><span class="id" title="variable">mfix</span></a>)) (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#fix_env"><span class="id" title="definition">fix_env</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#mfix:165"><span class="id" title="variable">mfix</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#locals':164"><span class="id" title="variable">locals'</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#locals':164"><span class="id" title="variable">locals'</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#na:162"><span class="id" title="variable">na</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> ⇒ <a class="idref" href="Malfunction.CompileCorrect.html#compile_value"><span class="id" title="definition">compile_value</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#e8b84f97dec582bad0f5930fd7004e26"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Malfunction.SemanticsSpec.html#fail"><span class="id" title="constructor">fail</span></a> "notfound"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">H</span> <span class="id" title="var">into</span> <span class="id" title="var">HP</span>; <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hall</span> <span class="id" title="var">Hlocals</span> → → <span class="id" title="var">Hdup</span> <span class="id" title="var">Hlam</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup_multiple"><span class="id" title="lemma">lookup_multiple</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#find"><span class="id" title="definition">find</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na'</span> <span class="id" title="var">v</span>]. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#find_some"><span class="id" title="lemma">find_some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In_nth_error"><span class="id" title="lemma">In_nth_error</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">idx</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.PCUIC.PCUICReduction.html#nth_error_map2"><span class="id" title="lemma">PCUICReduction.nth_error_map2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">na_</span> &amp; <span class="id" title="var">v_</span> &amp; [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>] &amp; [= &lt;- &lt;-]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">idx</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>). { <span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#fix_env_length"><span class="id" title="lemma">fix_env_length</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_Some"><span class="id" title="lemma">nth_error_Some</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#nth_error_fix_env"><span class="id" title="lemma">nth_error_fix_env</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. 2: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#nth_error_rev_inv"><span class="id" title="lemma">nth_error_rev_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. 2: <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.All_Forall.html#Forall2_nth_error_Some_r"><span class="id" title="lemma">Forall2_nth_error_Some_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?). 2: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#find_add_self"><span class="id" title="lemma">find_add_self</span></a>. 3: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Logic.FunctionalExtensionality.html#functional_extensionality"><span class="id" title="lemma">functional_extensionality</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hlocals</span> (<span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlocals</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup_map"><span class="id" title="lemma">lookup_map</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> - <span class="id" title="var">Hall</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Hall</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">y</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.SemanticsSpec.html#RFunc_build"><span class="id" title="definition">RFunc_build</span></a>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">Hall</span> <span class="id" title="var">Hlam</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Hall</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">y</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t2</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">now</span> <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#find_none"><span class="id" title="lemma">find_none</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">E</span>). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hlocals</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.SemanticsSpec.html#add_self"><span class="id" title="definition">add_self</span></a>, <a class="idref" href="Malfunction.SemanticsSpec.html#add_recs"><span class="id" title="definition">add_recs</span></a>, <a class="idref" href="Malfunction.utils_array.html#List.mapi"><span class="id" title="definition">List.mapi</span></a>. <span class="id" title="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="Malfunction.SemanticsSpec.html#RFunc_build"><span class="id" title="definition">RFunc_build</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">recs</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">recs</span>) <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> <a id="x:176" class="idref" href="#x:176"><span class="id" title="binder"><span id="x:177" class="id">x</span></span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#x:176"><span class="id" title="variable">x</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">mfix</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">na</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#x:176"><span class="id" title="variable">x</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="y:178" class="idref" href="#y:178"><span class="id" title="binder"><span id="y:179" class="id">y</span></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#y:178"><span class="id" title="variable">y</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">mfix</span>)) (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#fix_env"><span class="id" title="definition">fix_env</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">locals'</span>))) <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">change</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.bytestring.html#string"><span class="id" title="abbreviation">string</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.t"><span class="id" title="definition">Malfunction.Ident.t</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#fix_env"><span class="id" title="definition">fix_env</span></a>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">mfix</span> <span class="id" title="tactic">at</span> 2. <span class="id" title="tactic">induction</span> <span class="id" title="var">mfix</span> <span class="id" title="keyword">using</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_app"><span class="id" title="lemma">length_app</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev_app_distr"><span class="id" title="lemma">rev_app_distr</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [ | [ | []]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">edestruct</span> <span class="id" title="var">IHmfix</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hall</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.add"><span class="id" title="definition">Malfunction.Ident.Map.add</span></a>, <a class="idref" href="Malfunction.Malfunction.html#Ident.eqb"><span class="id" title="definition">Malfunction.Ident.eqb</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">na</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">subst</span>. <span class="id" title="var">exfalso</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHall</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hdup</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">tauto</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_rev"><span class="id" title="lemma">List.length_rev</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>, <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#fix_env_length"><span class="id" title="lemma">fix_env_length</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wB_200" class="idref" href="#wB_200"><span class="id" title="lemma">wB_200</span></a> : (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> 200 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Malfunction.Malfunction.html#Int63.wB"><span class="id" title="abbreviation">Malfunction.Int63.wB</span></a>)%<span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">lazy</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Opaque</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#wB"><span class="id" title="definition">Malfunction.Int63.wB</span></a> <span class="id" title="var">PArray.max_length</span>.<br/>

<br/>
<span class="id" title="keyword">Axiom</span> <a id="unsupported_strings" class="idref" href="#unsupported_strings"><span class="id" title="axiom">unsupported_strings</span></a> : <span class="id" title="keyword">∀</span> `{<a id="H0:181" class="idref" href="#H0:181"><span class="id" title="binder">Heap</span></a>} <a id="a79e40464235e89aff1db6e8d131ce66" class="idref" href="#a79e40464235e89aff1db6e8d131ce66"><span class="id" title="binder">Σ</span></a> <a id="7563d0be1b0ac4cc55f07662e2b03b93" class="idref" href="#7563d0be1b0ac4cc55f07662e2b03b93"><span class="id" title="binder">Σ'</span></a> <a id="e1d284cf5abad24f47e1cbe9f62ccfc3" class="idref" href="#e1d284cf5abad24f47e1cbe9f62ccfc3"><span class="id" title="binder">Γ</span></a> <a id="90045bf43d67b91eeb8c9caf0a2fb64b" class="idref" href="#90045bf43d67b91eeb8c9caf0a2fb64b"><span class="id" title="binder">Γ_</span></a> <a id="h:186" class="idref" href="#h:186"><span class="id" title="binder">h</span></a> <a id="a:187" class="idref" href="#a:187"><span class="id" title="binder">a</span></a> <a id="p':188" class="idref" href="#p':188"><span class="id" title="binder">p'</span></a>, <br/>
&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEval.html#eval_primitive"><span class="id" title="inductive">EWcbvEval.eval_primitive</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#eval"><span class="id" title="inductive">EWcbvEvalNamed.eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#a79e40464235e89aff1db6e8d131ce66"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#e1d284cf5abad24f47e1cbe9f62ccfc3"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Common.Primitive.html#primString"><span class="id" title="constructor">Primitive.primString</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EPrimitive.html#primStringModel"><span class="id" title="constructor">EPrimitive.primStringModel</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#a:187"><span class="id" title="variable">a</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#p':188"><span class="id" title="variable">p'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#7563d0be1b0ac4cc55f07662e2b03b93"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#90045bf43d67b91eeb8c9caf0a2fb64b"><span class="id" title="variable">Γ_</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h:186"><span class="id" title="variable">h</span></a> (<a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#a79e40464235e89aff1db6e8d131ce66"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#tPrim"><span class="id" title="constructor">EAst.tPrim</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Common.Primitive.html#primString"><span class="id" title="constructor">Primitive.primString</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EPrimitive.html#primStringModel"><span class="id" title="constructor">EPrimitive.primStringModel</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#a:187"><span class="id" title="variable">a</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>)) <a class="idref" href="Malfunction.CompileCorrect.html#h:186"><span class="id" title="variable">h</span></a> (<a class="idref" href="Malfunction.CompileCorrect.html#to_primitive"><span class="id" title="definition">to_primitive</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#p':188"><span class="id" title="variable">p'</span></a>).<br/>

<br/>
<span class="id" title="keyword">Axiom</span> <a id="unsupported_arrays" class="idref" href="#unsupported_arrays"><span class="id" title="axiom">unsupported_arrays</span></a> : <span class="id" title="keyword">∀</span> `{<a id="H0:192" class="idref" href="#H0:192"><span class="id" title="binder">Heap</span></a>} <a id="4876e2c947a63ea12332b22a8c41dcd5" class="idref" href="#4876e2c947a63ea12332b22a8c41dcd5"><span class="id" title="binder">Σ</span></a> <a id="b9b6f27e1c0cd471a982467370c747a5" class="idref" href="#b9b6f27e1c0cd471a982467370c747a5"><span class="id" title="binder">Σ'</span></a> <a id="667ae7c77607fb4d6b2230ff562fb53b" class="idref" href="#667ae7c77607fb4d6b2230ff562fb53b"><span class="id" title="binder">Γ</span></a> <a id="f57d08a563a871b9dbc3f20e2bb95bc7" class="idref" href="#f57d08a563a871b9dbc3f20e2bb95bc7"><span class="id" title="binder">Γ_</span></a> <a id="h:197" class="idref" href="#h:197"><span class="id" title="binder">h</span></a> <a id="a:198" class="idref" href="#a:198"><span class="id" title="binder">a</span></a> <a id="p':199" class="idref" href="#p':199"><span class="id" title="binder">p'</span></a>, <br/>
&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEval.html#eval_primitive"><span class="id" title="inductive">EWcbvEval.eval_primitive</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#eval"><span class="id" title="inductive">EWcbvEvalNamed.eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#4876e2c947a63ea12332b22a8c41dcd5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#667ae7c77607fb4d6b2230ff562fb53b"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Common.Primitive.html#primArray"><span class="id" title="constructor">Primitive.primArray</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EPrimitive.html#primArrayModel"><span class="id" title="constructor">EPrimitive.primArrayModel</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#a:198"><span class="id" title="variable">a</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#p':199"><span class="id" title="variable">p'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#b9b6f27e1c0cd471a982467370c747a5"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#f57d08a563a871b9dbc3f20e2bb95bc7"><span class="id" title="variable">Γ_</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h:197"><span class="id" title="variable">h</span></a> (<a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#4876e2c947a63ea12332b22a8c41dcd5"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#tPrim"><span class="id" title="constructor">EAst.tPrim</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Common.Primitive.html#primArray"><span class="id" title="constructor">Primitive.primArray</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EPrimitive.html#primArrayModel"><span class="id" title="constructor">EPrimitive.primArrayModel</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#a:198"><span class="id" title="variable">a</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>)) <a class="idref" href="Malfunction.CompileCorrect.html#h:197"><span class="id" title="variable">h</span></a> (<a class="idref" href="Malfunction.CompileCorrect.html#to_primitive"><span class="id" title="definition">to_primitive</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#p':199"><span class="id" title="variable">p'</span></a>).<br/>

<br/>
<span class="id" title="keyword">Axiom</span> <a id="unsupported_lazy" class="idref" href="#unsupported_lazy"><span class="id" title="axiom">unsupported_lazy</span></a> : <span class="id" title="keyword">∀</span> `{<a id="H0:203" class="idref" href="#H0:203"><span class="id" title="binder">Heap</span></a>} <a id="c27827c3cdb017ea2f080dc5adaf2a36" class="idref" href="#c27827c3cdb017ea2f080dc5adaf2a36"><span class="id" title="binder">Σ</span></a> <a id="792a64a5159ca3114c223c463b8124ea" class="idref" href="#792a64a5159ca3114c223c463b8124ea"><span class="id" title="binder">Σ'</span></a> <a id="2a8cf6d089ac10dd7be69b56b732374d" class="idref" href="#2a8cf6d089ac10dd7be69b56b732374d"><span class="id" title="binder">Γ</span></a> <a id="b9b35bec8562bac719f0ece503e6a426" class="idref" href="#b9b35bec8562bac719f0ece503e6a426"><span class="id" title="binder">Γ_</span></a> <a id="h:208" class="idref" href="#h:208"><span class="id" title="binder">h</span></a> <a id="t:209" class="idref" href="#t:209"><span class="id" title="binder">t</span></a> , <br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#792a64a5159ca3114c223c463b8124ea"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#b9b35bec8562bac719f0ece503e6a426"><span class="id" title="variable">Γ_</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h:208"><span class="id" title="variable">h</span></a> (<a class="idref" href="Malfunction.Malfunction.html#Mlazy"><span class="id" title="constructor">Malfunction.Mlazy</span></a> (<a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#c27827c3cdb017ea2f080dc5adaf2a36"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#t:209"><span class="id" title="variable">t</span></a>)) <a class="idref" href="Malfunction.CompileCorrect.html#h:208"><span class="id" title="variable">h</span></a> (<a class="idref" href="Malfunction.CompileCorrect.html#compile_value"><span class="id" title="definition">compile_value</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#c27827c3cdb017ea2f080dc5adaf2a36"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#vLazy"><span class="id" title="constructor">vLazy</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#t:209"><span class="id" title="variable">t</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#2a8cf6d089ac10dd7be69b56b732374d"><span class="id" title="variable">Γ</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Axiom</span> <a id="unsupported_force" class="idref" href="#unsupported_force"><span class="id" title="axiom">unsupported_force</span></a> : <span class="id" title="keyword">∀</span> `{<a id="H0:213" class="idref" href="#H0:213"><span class="id" title="binder">Heap</span></a>} <a id="e86bbde777236a61b5ad1abac5d71e29" class="idref" href="#e86bbde777236a61b5ad1abac5d71e29"><span class="id" title="binder">Σ</span></a> <a id="90d602eb136ac1f4790797075c8740d2" class="idref" href="#90d602eb136ac1f4790797075c8740d2"><span class="id" title="binder">Σ'</span></a> <a id="eba290bc4aea1295c413f1b60996616a" class="idref" href="#eba290bc4aea1295c413f1b60996616a"><span class="id" title="binder">Γ_</span></a> <a id="h:217" class="idref" href="#h:217"><span class="id" title="binder">h</span></a> <a id="t:218" class="idref" href="#t:218"><span class="id" title="binder">t</span></a> <a id="v:219" class="idref" href="#v:219"><span class="id" title="binder">v</span></a>, <br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#90d602eb136ac1f4790797075c8740d2"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#eba290bc4aea1295c413f1b60996616a"><span class="id" title="variable">Γ_</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h:217"><span class="id" title="variable">h</span></a> (<a class="idref" href="Malfunction.Malfunction.html#Mforce"><span class="id" title="constructor">Malfunction.Mforce</span></a> (<a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#e86bbde777236a61b5ad1abac5d71e29"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#t:218"><span class="id" title="variable">t</span></a>)) <a class="idref" href="Malfunction.CompileCorrect.html#h:217"><span class="id" title="variable">h</span></a> (<a class="idref" href="Malfunction.CompileCorrect.html#compile_value"><span class="id" title="definition">compile_value</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#e86bbde777236a61b5ad1abac5d71e29"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:219"><span class="id" title="variable">v</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="extraction_env_flags_mlf" class="idref" href="#extraction_env_flags_mlf"><span class="id" title="definition">extraction_env_flags_mlf</span></a> := <br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="nolazy_array_term_flags:222" class="idref" href="#nolazy_array_term_flags:222"><span class="id" title="binder">nolazy_array_term_flags</span></a> := {|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#has_tBox"><span class="id" title="method">EWellformed.has_tBox</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#has_tRel"><span class="id" title="method">EWellformed.has_tRel</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#has_tVar"><span class="id" title="method">EWellformed.has_tVar</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#has_tEvar"><span class="id" title="method">EWellformed.has_tEvar</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#has_tLambda"><span class="id" title="method">EWellformed.has_tLambda</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#has_tLetIn"><span class="id" title="method">EWellformed.has_tLetIn</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#has_tApp"><span class="id" title="method">EWellformed.has_tApp</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#has_tConst"><span class="id" title="method">EWellformed.has_tConst</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#has_tConstruct"><span class="id" title="method">EWellformed.has_tConstruct</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#has_tCase"><span class="id" title="method">EWellformed.has_tCase</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#has_tProj"><span class="id" title="method">EWellformed.has_tProj</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#has_tFix"><span class="id" title="method">EWellformed.has_tFix</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#has_tCoFix"><span class="id" title="method">EWellformed.has_tCoFix</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#has_tPrim"><span class="id" title="method">EWellformed.has_tPrim</span></a> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#has_primint"><span class="id" title="method">EWellformed.has_primint</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#has_primfloat"><span class="id" title="method">EWellformed.has_primfloat</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#has_primstring"><span class="id" title="method">EWellformed.has_primstring</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#has_primarray"><span class="id" title="method">EWellformed.has_primarray</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> |};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#has_tLazy_Force"><span class="id" title="method">EWellformed.has_tLazy_Force</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;|}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#has_axioms"><span class="id" title="method">EWellformed.has_axioms</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#has_cstr_params"><span class="id" title="method">EWellformed.has_cstr_params</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#term_switches"><span class="id" title="method">EWellformed.term_switches</span></a> := <a class="idref" href="Malfunction.CompileCorrect.html#nolazy_array_term_flags:222"><span class="id" title="variable">nolazy_array_term_flags</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#cstr_as_blocks"><span class="id" title="method">EWellformed.cstr_as_blocks</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="malfunction_env_prop" class="idref" href="#malfunction_env_prop"><span class="id" title="definition">malfunction_env_prop</span></a> `{<a id="H0:224" class="idref" href="#H0:224"><span class="id" title="binder">Heap</span></a>} <a id="490ea76ac5c86918c37df463e85f2225" class="idref" href="#490ea76ac5c86918c37df463e85f2225"><span class="id" title="binder">Σ</span></a> <a id="e6cf03e3d3c83b4dfbd179f7d83a93be" class="idref" href="#e6cf03e3d3c83b4dfbd179f7d83a93be"><span class="id" title="binder">Σ'</span></a> :=  <br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="c:227" class="idref" href="#c:227"><span class="id" title="binder">c</span></a> <a id="decl:228" class="idref" href="#decl:228"><span class="id" title="binder">decl</span></a> <a id="body:229" class="idref" href="#body:229"><span class="id" title="binder">body</span></a> <a id="v:230" class="idref" href="#v:230"><span class="id" title="binder">v</span></a>, <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#declared_constant"><span class="id" title="definition">EGlobalEnv.declared_constant</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#490ea76ac5c86918c37df463e85f2225"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#c:227"><span class="id" title="variable">c</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#decl:228"><span class="id" title="variable">decl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#cst_body"><span class="id" title="projection">EAst.cst_body</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#decl:228"><span class="id" title="variable">decl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#body:229"><span class="id" title="variable">body</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#eval"><span class="id" title="inductive">EWcbvEvalNamed.eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#490ea76ac5c86918c37df463e85f2225"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#body:229"><span class="id" title="variable">body</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:230"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">((</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Common.Kernames.html#string_of_kername"><span class="id" title="definition">Kernames.string_of_kername</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#c:227"><span class="id" title="variable">c</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#compile_value"><span class="id" title="definition">compile_value</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#490ea76ac5c86918c37df463e85f2225"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:230"><span class="id" title="variable">v</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#e6cf03e3d3c83b4dfbd179f7d83a93be"><span class="id" title="variable">Σ'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="compile_correct" class="idref" href="#compile_correct"><span class="id" title="lemma">compile_correct</span></a> `{<a id="H0:232" class="idref" href="#H0:232"><span class="id" title="binder">Heap</span></a>} <a id="6415288ff3ab9e6abe4d622289bc17a1" class="idref" href="#6415288ff3ab9e6abe4d622289bc17a1"><span class="id" title="binder">Σ</span></a> <a id="737f6c3da91f381605178bd06821c861" class="idref" href="#737f6c3da91f381605178bd06821c861"><span class="id" title="binder">Σ'</span></a> <a id="s:235" class="idref" href="#s:235"><span class="id" title="binder">s</span></a> <a id="t:236" class="idref" href="#t:236"><span class="id" title="binder">t</span></a> <a id="c868119a3677481def9f43ec1bd8ccd7" class="idref" href="#c868119a3677481def9f43ec1bd8ccd7"><span class="id" title="binder">Γ</span></a> <a id="251a0b546ae0d747c9c80c0bd51f9289" class="idref" href="#251a0b546ae0d747c9c80c0bd51f9289"><span class="id" title="binder">Γ'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:239" class="idref" href="#i:239"><span class="id" title="binder">i</span></a> <a id="mb:240" class="idref" href="#mb:240"><span class="id" title="binder">mb</span></a> <a id="ob:241" class="idref" href="#ob:241"><span class="id" title="binder">ob</span></a>, <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">EGlobalEnv.lookup_inductive</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#6415288ff3ab9e6abe4d622289bc17a1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#i:239"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#mb:240"><span class="id" title="variable">mb</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#ob:241"><span class="id" title="variable">ob</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="Malfunction.CompileCorrect.html#ob:241"><span class="id" title="variable">ob</span></a>.(<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#ind_ctors"><span class="id" title="projection">EAst.ind_ctors</span></a>)<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> <a class="idref" href="Malfunction.Malfunction.html#Int63.wB"><span class="id" title="abbreviation">Malfunction.Int63.wB</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="keyword">∀</span> <a id="n:242" class="idref" href="#n:242"><span class="id" title="binder">n</span></a> <a id="b:243" class="idref" href="#b:243"><span class="id" title="binder">b</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#ob:241"><span class="id" title="variable">ob</span></a>.(<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#ind_ctors"><span class="id" title="projection">EAst.ind_ctors</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#n:242"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#b:243"><span class="id" title="variable">b</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#b:243"><span class="id" title="variable">b</span></a>.(<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#cstr_nargs"><span class="id" title="projection">EAst.cstr_nargs</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Array.PArray.html#max_length"><span class="id" title="abbreviation">PArray.max_length</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="na:244" class="idref" href="#na:244"><span class="id" title="binder">na</span></a>, <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.find"><span class="id" title="definition">Malfunction.Ident.Map.find</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#na:244"><span class="id" title="variable">na</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#251a0b546ae0d747c9c80c0bd51f9289"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a>  <span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#c868119a3677481def9f43ec1bd8ccd7"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#na:244"><span class="id" title="variable">na</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> ⇒ <a class="idref" href="Malfunction.CompileCorrect.html#compile_value"><span class="id" title="definition">compile_value</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#6415288ff3ab9e6abe4d622289bc17a1"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">v</span> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="Malfunction.SemanticsSpec.html#fail"><span class="id" title="constructor">fail</span></a> "notfound" <span class="id" title="keyword">end</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.CompileCorrect.html#malfunction_env_prop"><span class="id" title="definition">malfunction_env_prop</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#6415288ff3ab9e6abe4d622289bc17a1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#737f6c3da91f381605178bd06821c861"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#eval"><span class="id" title="inductive">EWcbvEvalNamed.eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#6415288ff3ab9e6abe4d622289bc17a1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#c868119a3677481def9f43ec1bd8ccd7"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#s:235"><span class="id" title="variable">s</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#t:236"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="h:245" class="idref" href="#h:245"><span class="id" title="binder">h</span></a>, <a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">SemanticsSpec.eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#737f6c3da91f381605178bd06821c861"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#251a0b546ae0d747c9c80c0bd51f9289"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h:245"><span class="id" title="variable">h</span></a> (<a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#6415288ff3ab9e6abe4d622289bc17a1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#s:235"><span class="id" title="variable">s</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#h:245"><span class="id" title="variable">h</span></a> (<a class="idref" href="Malfunction.CompileCorrect.html#compile_value"><span class="id" title="definition">compile_value</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#6415288ff3ab9e6abe4d622289bc17a1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#t:236"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">H</span> <span class="id" title="var">into</span> <span class="id" title="var">HP</span>; <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hextr</span> <span class="id" title="var">HΓ</span> <span class="id" title="var">HΣ</span> <span class="id" title="var">Heval</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">HΓ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ_</span> <span class="id" title="var">HΓ</span>; <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="Malfunction.Compile.html#compile_equation_1"><span class="id" title="definition">compile_equation_1</span></a>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HΓ</span> <span class="id" title="var">na</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#lookup"><span class="id" title="definition">EWcbvEvalNamed.lookup</span></a>, <a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HΓ</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Malfunction.CompileCorrect.html#Mapply_u_spec"><span class="id" title="lemma">Mapply_u_spec</span></a> (<a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">f1</span>) (<a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> [(<span class="id" title="var">fn</span> &amp; <span class="id" title="var">arg</span> &amp; <span class="id" title="var">E</span> &amp; -&gt;) | (<span class="id" title="var">E</span> &amp; -&gt;) ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">f1</span>; <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>; <span class="id" title="tactic">intros</span> [? [=]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">f1_1</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>, <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">revert</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>; <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>; <span class="id" title="tactic">destruct</span> <a class="idref" href="Malfunction.Compile.html#lookup_constructor_args"><span class="id" title="definition">lookup_constructor_args</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">revert</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">brs</span>; <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Malfunction.Compile.html#lookup_constructor_args"><span class="id" title="definition">lookup_constructor_args</span></a>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">revert</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Compile.html#compile_unfold_clause_11"><span class="id" title="definition">compile_unfold_clause_11</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Malfunction.Compile.html#lookup_record_projs"><span class="id" title="definition">lookup_record_projs</span></a>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">revert</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">prim</span> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#Mapply_spec"><span class="id" title="lemma">Mapply_spec</span></a>. 2: <span class="id" title="tactic">destruct</span> <span class="id" title="var">arg</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#Mapply_eval"><span class="id" title="lemma">Mapply_eval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">E</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">erewrite</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Logic.FunctionalExtensionality.html#functional_extensionality"><span class="id" title="lemma">functional_extensionality</span></a> ((<a class="idref" href="Malfunction.Malfunction.html#Ident.Map.add"><span class="id" title="definition">Malfunction.Ident.Map.add</span></a> (<span class="id" title="var">na</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Malfunction.CompileCorrect.html#compile_value"><span class="id" title="definition">compile_value</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">a'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:247" class="idref" href="#x:247"><span class="id" title="binder"><span id="x:252" class="id"><span id="x:257" class="id"><span id="x:262" class="id">x</span></span></span></span></a> : <a class="idref" href="Malfunction.Malfunction.html#Ident.t"><span class="id" title="definition">Malfunction.Ident.t</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:250" class="idref" href="#pat:250"><span class="id" title="binder"><span id="pat:255" class="id"><span id="pat:260" class="id"><span id="pat:265" class="id">(</span></span></span></span></a><a id="x0:249" class="idref" href="#x0:249"><span class="id" title="binder"><span id="pat:250" class="id"><span id="x0:254" class="id"><span id="pat:255" class="id"><span id="x0:259" class="id"><span id="pat:260" class="id"><span id="x0:264" class="id"><span id="pat:265" class="id">x0</span></span></span></span></span></span></span></span></a><a id="pat:250" class="idref" href="#pat:250"><span class="id" title="binder"><span id="pat:255" class="id"><span id="pat:260" class="id"><span id="pat:265" class="id">,</span></span></span></span></a> <a id="v:248" class="idref" href="#v:248"><span class="id" title="binder"><span id="pat:250" class="id"><span id="v:253" class="id"><span id="pat:255" class="id"><span id="v:258" class="id"><span id="pat:260" class="id"><span id="v:263" class="id"><span id="pat:265" class="id">v</span></span></span></span></span></span></span></span></a><a id="pat:250" class="idref" href="#pat:250"><span class="id" title="binder"><span id="pat:255" class="id"><span id="pat:260" class="id"><span id="pat:265" class="id">)</span></span></span></span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#x0:249"><span class="id" title="variable">x0</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#compile_value"><span class="id" title="definition">compile_value</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="Malfunction.CompileCorrect.html#v:248"><span class="id" title="variable">v</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">Γ'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Malfunction.CompileCorrect.html#x:247"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> ⇒ <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Malfunction.SemanticsSpec.html#fail"><span class="id" title="constructor">fail</span></a> "notfound"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>))) (<span class="id" title="keyword">fun</span> <a id="na0:246" class="idref" href="#na0:246"><span class="id" title="binder"><span id="na0:251" class="id"><span id="na0:256" class="id"><span id="na0:261" class="id">na0</span></span></span></span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#add"><span class="id" title="definition">add</span></a> <span class="id" title="var">na</span> <span class="id" title="var">a'</span> <span class="id" title="var">Γ'</span>) (<a class="idref" href="Malfunction.CompileCorrect.html#na0:246"><span class="id" title="variable">na0</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> ⇒ <a class="idref" href="Malfunction.CompileCorrect.html#compile_value"><span class="id" title="definition">compile_value</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Malfunction.SemanticsSpec.html#fail"><span class="id" title="constructor">fail</span></a> "notfound"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)). <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intros</span> <span class="id" title="var">na0</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.find"><span class="id" title="definition">Malfunction.Ident.Map.find</span></a>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.find"><span class="id" title="definition">Malfunction.Ident.Map.find</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup_add"><span class="id" title="lemma">lookup_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.add"><span class="id" title="definition">Malfunction.Ident.Map.add</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.eqb"><span class="id" title="definition">Malfunction.Ident.eqb</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">na</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_refl"><span class="id" title="lemma">eqb_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">change</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.bytestring.html#string"><span class="id" title="abbreviation">string</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.t"><span class="id" title="definition">Malfunction.Ident.t</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">na</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup_map"><span class="id" title="lemma">lookup_map</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Logic.FunctionalExtensionality.html#functional_extensionality"><span class="id" title="lemma">functional_extensionality</span></a> ((<a class="idref" href="Malfunction.Malfunction.html#Ident.Map.add"><span class="id" title="definition">Malfunction.Ident.Map.add</span></a> (<span class="id" title="var">na</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Malfunction.CompileCorrect.html#compile_value"><span class="id" title="definition">compile_value</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">a'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:267" class="idref" href="#x:267"><span class="id" title="binder"><span id="x:272" class="id"><span id="x:277" class="id"><span id="x:282" class="id">x</span></span></span></span></a> : <a class="idref" href="Malfunction.Malfunction.html#Ident.t"><span class="id" title="definition">Malfunction.Ident.t</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:270" class="idref" href="#pat:270"><span class="id" title="binder"><span id="pat:275" class="id"><span id="pat:280" class="id"><span id="pat:285" class="id">(</span></span></span></span></a><a id="x0:269" class="idref" href="#x0:269"><span class="id" title="binder"><span id="pat:270" class="id"><span id="x0:274" class="id"><span id="pat:275" class="id"><span id="x0:279" class="id"><span id="pat:280" class="id"><span id="x0:284" class="id"><span id="pat:285" class="id">x0</span></span></span></span></span></span></span></span></a><a id="pat:270" class="idref" href="#pat:270"><span class="id" title="binder"><span id="pat:275" class="id"><span id="pat:280" class="id"><span id="pat:285" class="id">,</span></span></span></span></a> <a id="v:268" class="idref" href="#v:268"><span class="id" title="binder"><span id="pat:270" class="id"><span id="v:273" class="id"><span id="pat:275" class="id"><span id="v:278" class="id"><span id="pat:280" class="id"><span id="v:283" class="id"><span id="pat:285" class="id">v</span></span></span></span></span></span></span></span></a><a id="pat:270" class="idref" href="#pat:270"><span class="id" title="binder"><span id="pat:275" class="id"><span id="pat:280" class="id"><span id="pat:285" class="id">)</span></span></span></span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#x0:269"><span class="id" title="variable">x0</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#compile_value"><span class="id" title="definition">compile_value</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="Malfunction.CompileCorrect.html#v:268"><span class="id" title="variable">v</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">Γ'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Malfunction.CompileCorrect.html#x:267"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> ⇒ <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Malfunction.SemanticsSpec.html#fail"><span class="id" title="constructor">fail</span></a> "notfound"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>))) (<span class="id" title="keyword">fun</span> <a id="na0:266" class="idref" href="#na0:266"><span class="id" title="binder"><span id="na0:271" class="id"><span id="na0:276" class="id"><span id="na0:281" class="id">na0</span></span></span></span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#add"><span class="id" title="definition">add</span></a> <span class="id" title="var">na</span> <span class="id" title="var">a'</span> <span class="id" title="var">Γ'</span>) (<a class="idref" href="Malfunction.CompileCorrect.html#na0:266"><span class="id" title="variable">na0</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> ⇒ <a class="idref" href="Malfunction.CompileCorrect.html#compile_value"><span class="id" title="definition">compile_value</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Malfunction.SemanticsSpec.html#fail"><span class="id" title="constructor">fail</span></a> "notfound"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)). <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intros</span> <span class="id" title="var">na0</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.find"><span class="id" title="definition">Malfunction.Ident.Map.find</span></a>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.find"><span class="id" title="definition">Malfunction.Ident.Map.find</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup_add"><span class="id" title="lemma">lookup_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.add"><span class="id" title="definition">Malfunction.Ident.Map.add</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.eqb"><span class="id" title="definition">Malfunction.Ident.eqb</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.bytestring.html#string"><span class="id" title="abbreviation">string</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.t"><span class="id" title="definition">Malfunction.Ident.t</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">x</span> (<span class="id" title="var">na</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup_map"><span class="id" title="lemma">lookup_map</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Logic.FunctionalExtensionality.html#functional_extensionality"><span class="id" title="lemma">functional_extensionality</span></a> (<span class="id" title="keyword">fun</span> <a id="x:286" class="idref" href="#x:286"><span class="id" title="binder"><span id="x:290" class="id"><span id="x:294" class="id"><span id="x:298" class="id">x</span></span></span></span></a> : <a class="idref" href="Malfunction.Malfunction.html#Ident.t"><span class="id" title="definition">Malfunction.Ident.t</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:289" class="idref" href="#pat:289"><span class="id" title="binder"><span id="pat:293" class="id"><span id="pat:297" class="id"><span id="pat:301" class="id">(</span></span></span></span></a><a id="x0:288" class="idref" href="#x0:288"><span class="id" title="binder"><span id="pat:289" class="id"><span id="x0:292" class="id"><span id="pat:293" class="id"><span id="x0:296" class="id"><span id="pat:297" class="id"><span id="x0:300" class="id"><span id="pat:301" class="id">x0</span></span></span></span></span></span></span></span></a><a id="pat:289" class="idref" href="#pat:289"><span class="id" title="binder"><span id="pat:293" class="id"><span id="pat:297" class="id"><span id="pat:301" class="id">,</span></span></span></span></a> <a id="v:287" class="idref" href="#v:287"><span class="id" title="binder"><span id="pat:289" class="id"><span id="v:291" class="id"><span id="pat:293" class="id"><span id="v:295" class="id"><span id="pat:297" class="id"><span id="v:299" class="id"><span id="pat:301" class="id">v</span></span></span></span></span></span></span></span></a><a id="pat:289" class="idref" href="#pat:289"><span class="id" title="binder"><span id="pat:293" class="id"><span id="pat:297" class="id"><span id="pat:301" class="id">)</span></span></span></span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#x0:288"><span class="id" title="variable">x0</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#compile_value"><span class="id" title="definition">compile_value</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="Malfunction.CompileCorrect.html#v:287"><span class="id" title="variable">v</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">Γ</span>) (<a class="idref" href="Malfunction.CompileCorrect.html#x:286"><span class="id" title="variable">x</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> ⇒ <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Malfunction.SemanticsSpec.html#fail"><span class="id" title="constructor">fail</span></a> "notfound"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">HΓ</span> (<span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.find"><span class="id" title="definition">Malfunction.Ident.Map.find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup_map"><span class="id" title="lemma">lookup_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#add"><span class="id" title="definition">add</span></a>, <a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.bytestring.html#String.eqb"><span class="id" title="definition">String.eqb</span></a> <span class="id" title="var">na0</span> <span class="id" title="var">na</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">na0</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#12489c9c79e91749bd1f337dd0c899e9"><span class="id" title="notation">==</span></a> <span class="id" title="var">na</span>) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">na0</span> <span class="id" title="var">na</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.add"><span class="id" title="definition">Malfunction.Ident.Map.add</span></a>, <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.find"><span class="id" title="definition">Malfunction.Ident.Map.find</span></a>, <a class="idref" href="Malfunction.Malfunction.html#Ident.eqb"><span class="id" title="definition">Malfunction.Ident.eqb</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_refl"><span class="id" title="lemma">eqb_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.add"><span class="id" title="definition">Malfunction.Ident.Map.add</span></a>, <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.find"><span class="id" title="definition">Malfunction.Ident.Map.find</span></a>, <a class="idref" href="Malfunction.Malfunction.html#Ident.eqb"><span class="id" title="definition">Malfunction.Ident.eqb</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">na0</span> <span class="id" title="var">na</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HΓ</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">brs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span>; <span class="id" title="var">invs</span> <span class="id" title="var">e1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">compile</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">p</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">brs</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">brs'</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">clearbody</span> <span class="id" title="var">brs'</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">p</span> <span class="id" title="var">brs</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">brs'</span> <span class="id" title="var">into</span> <span class="id" title="var">brs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">br</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">nms'</span> <span class="id" title="var">b</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">nms'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">Arguments</span> <a class="idref" href="Malfunction.Compile.html#Mcase"><span class="id" title="definition">Mcase</span></a> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">EGlobalEnv.lookup_inductive</span></a>] <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">inversion</span> <span class="id" title="var">f4</span>; <span class="id" title="var">cbn</span> -[<a class="idref" href="Malfunction.Compile.html#Mcase"><span class="id" title="definition">Mcase</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">EGlobalEnv.lookup_inductive</span></a>] <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>; <span class="id" title="var">cbn</span> -[<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">EGlobalEnv.lookup_inductive</span></a>] <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#constructor_isprop_pars_decl"><span class="id" title="definition">EGlobalEnv.constructor_isprop_pars_decl</span></a>, <a class="idref" href="Malfunction.Compile.html#lookup_constructor_args"><span class="id" title="definition">lookup_constructor_args</span></a>, <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor"><span class="id" title="definition">EGlobalEnv.lookup_constructor</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">EGlobalEnv.lookup_inductive</span></a>) <span class="id" title="keyword">as</span> [ [] | ] <span class="id" title="var">eqn</span>:<span class="id" title="var">Elo</span>; <span class="id" title="var">cbn</span> -[<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">EGlobalEnv.lookup_inductive</span></a>] <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hextr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Elo</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">He1</span> <span class="id" title="var">He2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Econ</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">He2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Econ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.Mcase.html#eval_case_int"><span class="id" title="lemma">eval_case_int</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">abs_max_length</span>; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4:{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval2</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>, <span class="id" title="var">Econ</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">c0</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">e0</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#map_InP_spec"><span class="id" title="lemma">map_InP_spec</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>, <span class="id" title="var">e1</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+  <span class="id" title="var">cbn</span> -[<a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">EGlobalEnv.lookup_inductive</span></a>] <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">inversion</span> <span class="id" title="var">f4</span>; <span class="id" title="var">cbn</span> -[<a class="idref" href="Malfunction.Compile.html#Mcase"><span class="id" title="definition">Mcase</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">EGlobalEnv.lookup_inductive</span></a>] <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">f4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>; <span class="id" title="var">cbn</span> -[<a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#add_multiple"><span class="id" title="definition">add_multiple</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">EGlobalEnv.lookup_inductive</span></a>] <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#constructor_isprop_pars_decl"><span class="id" title="definition">EGlobalEnv.constructor_isprop_pars_decl</span></a>, <a class="idref" href="Malfunction.Compile.html#lookup_constructor_args"><span class="id" title="definition">lookup_constructor_args</span></a>, <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor"><span class="id" title="definition">EGlobalEnv.lookup_constructor</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">EGlobalEnv.lookup_inductive</span></a>) <span class="id" title="keyword">as</span> [ [] | ] <span class="id" title="var">eqn</span>:<span class="id" title="var">Elo</span>; <span class="id" title="var">cbn</span> -[<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#add_multiple"><span class="id" title="definition">add_multiple</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">EGlobalEnv.lookup_inductive</span></a>] <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hextr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Elo</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">He1</span> <span class="id" title="var">He2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.utils_array.html#Forall2_length"><span class="id" title="lemma">Forall2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Econ</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">He2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Econ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.Mcase.html#eval_case_block"><span class="id" title="lemma">eval_case_block</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7: <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#NoDup_rev"><span class="id" title="lemma">NoDup_rev</span></a>; <span class="id" title="tactic">eauto</span>. 2:{ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> (@<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="Malfunction.Malfunction.html#Ident.t"><span class="id" title="definition">Malfunction.Ident.t</span></a> (<span class="id" title="var">l'</span>)); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">abs_max_length</span>; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:{ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e2</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">invs</span> <span class="id" title="var">e0</span>. <span class="id" title="var">abs_max_length</span>; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>, <span class="id" title="var">Econ</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">c0</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">e0</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_app"><span class="id" title="lemma">length_app</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_rev"><span class="id" title="lemma">List.length_rev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <span class="id" title="var">Hll</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">abs_max_length</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#map_InP_spec"><span class="id" title="lemma">map_InP_spec</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span>. <span class="id" title="var">cbn</span> [<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#rev_map_spec"><span class="id" title="lemma">rev_map_spec</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> - <span class="id" title="var">H3</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H3</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_app"><span class="id" title="lemma">length_app</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_rev"><span class="id" title="lemma">List.length_rev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <span class="id" title="var">Hll</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">abs_max_length</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval2</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <span class="id" title="var">l'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">y</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> ((<a class="idref" href="Malfunction.CompileCorrect.html#compile_value"><span class="id" title="definition">compile_value</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">v</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Malfunction.CompileCorrect.html#compile_value"><span class="id" title="definition">compile_value</span></a> <span class="id" title="var">Σ</span>) <span class="id" title="var">args</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_app"><span class="id" title="lemma">length_app</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_rev"><span class="id" title="lemma">List.length_rev</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>. <span class="id" title="var">abs_max_length</span>; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Common.Kernames.html#ident"><span class="id" title="definition">Kernames.ident</span></a>, <a class="idref" href="Malfunction.Malfunction.html#Ident.t"><span class="id" title="definition">Malfunction.Ident.t</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">clear</span> - <span class="id" title="var">HΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <span class="id" title="var">l'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">y</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)%<span class="id" title="var">list</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.add"><span class="id" title="definition">Malfunction.Ident.Map.add</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.eqb"><span class="id" title="definition">Malfunction.Ident.eqb</span></a>. <span class="id" title="tactic">change</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.bytestring.html#String.eqb"><span class="id" title="definition">String.eqb</span></a> <span class="id" title="var">na</span> <span class="id" title="var">t</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">na</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#12489c9c79e91749bd1f337dd0c899e9"><span class="id" title="notation">==</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Common.Kernames.html#ident"><span class="id" title="definition">Kernames.ident</span></a>, <a class="idref" href="Malfunction.Malfunction.html#Ident.t"><span class="id" title="definition">Malfunction.Ident.t</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">na</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">args</span> |- *; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>; <span class="id" title="var">cbn</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <span class="id" title="var">HΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">HΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.eqb"><span class="id" title="definition">Malfunction.Ident.eqb</span></a>. <span class="id" title="tactic">change</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.bytestring.html#String.eqb"><span class="id" title="definition">String.eqb</span></a> <span class="id" title="var">na</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">na</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#12489c9c79e91749bd1f337dd0c899e9"><span class="id" title="notation">==</span></a> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Common.Kernames.html#ident"><span class="id" title="definition">Kernames.ident</span></a>, <a class="idref" href="Malfunction.Malfunction.html#Ident.t"><span class="id" title="definition">Malfunction.Ident.t</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">na</span> <span class="id" title="var">a</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> - [<a class="idref" href="Malfunction.CompileCorrect.html#compile_value"><span class="id" title="definition">compile_value</span></a>] <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Malfunction.CompileCorrect.html#Mapply_u_spec"><span class="id" title="lemma">Mapply_u_spec</span></a> (<a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">f5</span>) (<a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> [(<span class="id" title="var">fn_</span> &amp; <span class="id" title="var">arg</span> &amp; <span class="id" title="var">E</span> &amp; -&gt;) | (<span class="id" title="var">E</span> &amp; -&gt;) ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">f5</span>; <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>; <span class="id" title="tactic">intros</span> [? [=]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">f5_1</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>, <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">revert</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>; <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>; <span class="id" title="tactic">destruct</span> <a class="idref" href="Malfunction.Compile.html#lookup_constructor_args"><span class="id" title="definition">lookup_constructor_args</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">revert</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">brs</span>; <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Malfunction.Compile.html#lookup_constructor_args"><span class="id" title="definition">lookup_constructor_args</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Compile.html#Mcase"><span class="id" title="definition">Mcase</span></a>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">revert</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Compile.html#compile_unfold_clause_11"><span class="id" title="definition">compile_unfold_clause_11</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Malfunction.Compile.html#lookup_record_projs"><span class="id" title="definition">lookup_record_projs</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">revert</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">prim</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#Mapply_spec"><span class="id" title="lemma">Mapply_spec</span></a>. 2: <span class="id" title="tactic">destruct</span> <span class="id" title="var">arg</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#Mapply_eval_rec"><span class="id" title="lemma">Mapply_eval_rec</span></a>. 2: <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHHeval1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>. 2: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">erewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_nth"><span class="id" title="lemma">nth_error_nth</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e0</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval3</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval2</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">na0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup_add"><span class="id" title="lemma">lookup_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.find"><span class="id" title="definition">Malfunction.Ident.Map.find</span></a>, <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.add"><span class="id" title="definition">Malfunction.Ident.Map.add</span></a>, <a class="idref" href="Malfunction.Malfunction.html#Ident.eqb"><span class="id" title="definition">Malfunction.Ident.eqb</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">na0</span> <span class="id" title="var">na</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_refl"><span class="id" title="lemma">eqb_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">change</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.bytestring.html#string"><span class="id" title="abbreviation">string</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.t"><span class="id" title="definition">Malfunction.Ident.t</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">na0</span> <span class="id" title="var">na</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#add_self_lookup"><span class="id" title="lemma">add_self_lookup</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:304" class="idref" href="#pat:304"><span class="id" title="binder"><span id="pat:307" class="id">(</span></span></a><a id="x:303" class="idref" href="#x:303"><span class="id" title="binder"><span id="pat:304" class="id"><span id="x:306" class="id"><span id="pat:307" class="id">x</span></span></span></span></a><a id="pat:304" class="idref" href="#pat:304"><span class="id" title="binder"><span id="pat:307" class="id">,</span></span></a> <a id="b:302" class="idref" href="#b:302"><span class="id" title="binder"><span id="pat:304" class="id"><span id="b:305" class="id"><span id="pat:307" class="id">b</span></span></span></span></a><a id="pat:304" class="idref" href="#pat:304"><span class="id" title="binder"><span id="pat:307" class="id">)</span></span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#x:303"><span class="id" title="variable">x</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="Malfunction.CompileCorrect.html#b:302"><span class="id" title="variable">b</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">mfix</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3:{ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#map_ext"><span class="id" title="lemma">map_ext</span></a>. <span class="id" title="tactic">intros</span> []; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup_map"><span class="id" title="lemma">lookup_map</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.SemanticsSpec.html#RFunc_build"><span class="id" title="definition">RFunc_build</span></a>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_ext_in"><span class="id" title="lemma">map_ext_in</span></a>. <span class="id" title="tactic">intros</span> [] ?; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb_forall"><span class="id" title="lemma">forallb_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbodies</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">induction</span> <span class="id" title="var">mfix</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">cbn</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">mfix</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">inversion</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#Mapply_spec"><span class="id" title="lemma">Mapply_spec</span></a>. 2: <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.SemanticsSpec.html#eval_app_sing_rec"><span class="id" title="constructor">eval_app_sing_rec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHHeval1</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">erewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_nth"><span class="id" title="lemma">nth_error_nth</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>, <span class="id" title="var">e0</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval2</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">na0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup_add"><span class="id" title="lemma">lookup_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.find"><span class="id" title="definition">Malfunction.Ident.Map.find</span></a>, <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.add"><span class="id" title="definition">Malfunction.Ident.Map.add</span></a>, <a class="idref" href="Malfunction.Malfunction.html#Ident.eqb"><span class="id" title="definition">Malfunction.Ident.eqb</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">na0</span> <span class="id" title="var">na</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_refl"><span class="id" title="lemma">eqb_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">change</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.bytestring.html#string"><span class="id" title="abbreviation">string</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.t"><span class="id" title="definition">Malfunction.Ident.t</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">na0</span> <span class="id" title="var">na</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#add_self_lookup"><span class="id" title="lemma">add_self_lookup</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:310" class="idref" href="#pat:310"><span class="id" title="binder"><span id="pat:313" class="id">(</span></span></a><a id="x:309" class="idref" href="#x:309"><span class="id" title="binder"><span id="pat:310" class="id"><span id="x:312" class="id"><span id="pat:313" class="id">x</span></span></span></span></a><a id="pat:310" class="idref" href="#pat:310"><span class="id" title="binder"><span id="pat:313" class="id">,</span></span></a> <a id="b:308" class="idref" href="#b:308"><span class="id" title="binder"><span id="pat:310" class="id"><span id="b:311" class="id"><span id="pat:313" class="id">b</span></span></span></span></a><a id="pat:310" class="idref" href="#pat:310"><span class="id" title="binder"><span id="pat:313" class="id">)</span></span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#x:309"><span class="id" title="variable">x</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="Malfunction.CompileCorrect.html#b:308"><span class="id" title="variable">b</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">mfix</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3:{ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#map_ext"><span class="id" title="lemma">map_ext</span></a>. <span class="id" title="tactic">intros</span> []; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup_map"><span class="id" title="lemma">lookup_map</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.SemanticsSpec.html#RFunc_build"><span class="id" title="definition">RFunc_build</span></a>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_ext_in"><span class="id" title="lemma">map_ext_in</span></a>. <span class="id" title="tactic">intros</span> [] ?; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb_forall"><span class="id" title="lemma">forallb_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbodies</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">induction</span> <span class="id" title="var">mfix</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">cbn</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">mfix</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">inversion</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ((<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#nth_error_Some'"><span class="id" title="lemma">MRList.nth_error_Some'</span></a> <span class="id" title="var">mfix</span> (<span class="id" title="var">idx</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hnth</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">Hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <span class="id" title="var">mfix</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. 1: <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">{</span></a> <a id="l:314" class="idref" href="#l:314"><span class="id" title="binder"><span id="l:321" class="id">l</span></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#Forall2"><span class="id" title="inductive">Forall2</span></a> (<span class="id" title="keyword">fun</span> <a id="d:315" class="idref" href="#d:315"><span class="id" title="binder"><span id="d:322" class="id">d</span></span></a> '<a id="pat:319" class="idref" href="#pat:319"><span class="id" title="binder"><span id="pat:326" class="id">(</span></span></a><a id="x:318" class="idref" href="#x:318"><span class="id" title="binder"><span id="pat:319" class="id"><span id="x:325" class="id"><span id="pat:326" class="id">x</span></span></span></span></a><a id="pat:319" class="idref" href="#pat:319"><span class="id" title="binder"><span id="pat:326" class="id">,</span></span></a> <a id="y:317" class="idref" href="#y:317"><span class="id" title="binder"><span id="pat:319" class="id"><span id="y:324" class="id"><span id="pat:326" class="id">y</span></span></span></span></a><a id="pat:319" class="idref" href="#pat:319"><span class="id" title="binder"><span id="pat:326" class="id">,</span></span></a> <a id="b:316" class="idref" href="#b:316"><span class="id" title="binder"><span id="pat:319" class="id"><span id="b:323" class="id"><span id="pat:326" class="id">b</span></span></span></span></a><a id="pat:319" class="idref" href="#pat:319"><span class="id" title="binder"><span id="pat:326" class="id">)</span></span></a> ⇒ <a class="idref" href="Malfunction.CompileCorrect.html#d:315"><span class="id" title="variable">d</span></a>.(<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#dname"><span class="id" title="projection">EAst.dname</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Common.BasicAst.html#nNamed"><span class="id" title="constructor">BasicAst.nNamed</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#x:318"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#d:315"><span class="id" title="variable">d</span></a>.(<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">EAst.dbody</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#tLambda"><span class="id" title="constructor">EAst.tLambda</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#y:317"><span class="id" title="variable">y</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#b:316"><span class="id" title="variable">b</span></a>) <span class="id" title="var">mfix</span> <a class="idref" href="Malfunction.CompileCorrect.html#l:314"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:320" class="idref" href="#x:320"><span class="id" title="binder"><span id="x:327" class="id">x</span></span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#x:320"><span class="id" title="variable">x</span></a>)) <a class="idref" href="Malfunction.CompileCorrect.html#l:314"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">}</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span> [<span class="id" title="var">Hl</span> <span class="id" title="var">Hnodup</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbodies</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb_forall"><span class="id" title="lemma">forallb_forall</span></a>, &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbodies</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">Hbodies</span> <span class="id" title="var">n</span> <span class="id" title="var">f6</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">All_Forall.Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">f6</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.All_Forall.html#Forall_All"><span class="id" title="lemma">All_Forall.Forall_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbodies</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">f6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">∃</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbodies</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHf6</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l_</span> <span class="id" title="var">Hl</span>]; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">dbody</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l_</span>); <span class="id" title="var">cbn</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (? &amp; ? &amp; ?) % <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">All_Forall.Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In_nth_error"><span class="id" title="lemma">In_nth_error</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n_</span> <span class="id" title="var">Hn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#All2_nth_error_Some_right"><span class="id" title="lemma">All2_nth_error_Some_right</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">p</span>, <span class="id" title="var">y</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.All_Forall.html#All2_nth_error_Some"><span class="id" title="lemma">All_Forall.All2_nth_error_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">f6</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f6</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">e1</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x0</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_In"><span class="id" title="lemma">nth_error_In</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<a class="idref" href="Malfunction.CompileCorrect.html#compile_value"><span class="id" title="definition">compile_value</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#map_InP_spec"><span class="id" title="lemma">map_InP_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#eval_Mvar"><span class="id" title="lemma">eval_Mvar</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hnth</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">na</span> <span class="id" title="var">fn</span>] <span class="id" title="var">Hnth</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<a class="idref" href="Malfunction.CompileCorrect.html#compile_value"><span class="id" title="definition">compile_value</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_nth"><span class="id" title="lemma">nth_error_nth</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hnth</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#find_add_self"><span class="id" title="lemma">find_add_self</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">n</span> <span class="id" title="var">f6</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">f6</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">n</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (? &amp; ? &amp; ?) % <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In_nth_error"><span class="id" title="lemma">In_nth_error</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.All_Forall.html#Forall2_nth_error_Some"><span class="id" title="lemma">Forall2_nth_error_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">f6</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_In"><span class="id" title="lemma">nth_error_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hnth</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Logic.FunctionalExtensionality.html#functional_extensionality"><span class="id" title="lemma">functional_extensionality</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">HΓ</span> (<span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Malfunction.html#Ident.Map.find"><span class="id" title="definition">Malfunction.Ident.Map.find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HΓ</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup_map"><span class="id" title="lemma">lookup_map</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup"><span class="id" title="definition">lookup</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">f6</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">f6</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> - <span class="id" title="var">f6</span> <span class="id" title="var">Hbodies</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">f6</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">dbody</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHf6</span>. 2: <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">HΣ</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>; <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Compile.html#lookup_constructor_args"><span class="id" title="definition">lookup_constructor_args</span></a>, <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor"><span class="id" title="definition">EGlobalEnv.lookup_constructor</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">EGlobalEnv.lookup_inductive</span></a>) <span class="id" title="keyword">as</span> [ [] | ] <span class="id" title="var">eqn</span>:<span class="id" title="var">Elo</span>; <span class="id" title="var">cbn</span> -[<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">EGlobalEnv.lookup_inductive</span></a>] <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hextr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Elo</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">He1</span> <span class="id" title="var">He2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">depelim</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#eval_num"><span class="id" title="lemma">eval_num</span></a>. <span class="id" title="var">lia</span>. 2: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#ind_ctors"><span class="id" title="projection">EAst.ind_ctors</span></a> <span class="id" title="var">o</span><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Malfunction.Malfunction.html#Int63.wB"><span class="id" title="abbreviation">Malfunction.Int63.wB</span></a>)%<span class="id" title="var">Z</span> <span class="id" title="tactic">by</span> (<span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Malfunction.utils_array.html#filter_length"><span class="id" title="lemma">filter_length</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#firstn"><span class="id" title="definition">firstn</span></a> <span class="id" title="var">c</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#cstr_nargs"><span class="id" title="projection">EAst.cstr_nargs</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#ind_ctors"><span class="id" title="projection">EAst.ind_ctors</span></a> <span class="id" title="var">o</span>))) (<span class="id" title="keyword">fun</span> <a id="x:328" class="idref" href="#x:328"><span class="id" title="binder"><span id="x:330" class="id">x</span></span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.CompileCorrect.html#x:328"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0%<span class="id" title="var">nat</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_firstn"><span class="id" title="lemma">length_firstn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">He2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#nth_error_Some_length"><span class="id" title="lemma">nth_error_Some_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>. <span class="id" title="var">abs_max_length</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">depelim</span> <span class="id" title="var">a</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#map_InP_spec"><span class="id" title="lemma">MRList.map_InP_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">IHa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">e1</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>. <span class="id" title="tactic">clear</span> <span class="id" title="var">a0</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EPrimitive.html#All2_Set_All2"><span class="id" title="lemma">EPrimitive.All2_Set_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#cstr_nargs"><span class="id" title="projection">EAst.cstr_nargs</span></a> <span class="id" title="var">cdecl</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Array.PArray.html#max_length"><span class="id" title="abbreviation">PArray.max_length</span></a>). {  <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">invs</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">He2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">E</span>). <span class="id" title="var">cbn</span>. <span class="id" title="var">abs_max_length</span>; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">abs_max_length</span>; <span class="id" title="var">lia</span>. }      <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <span class="id" title="var">a0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHa</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Compile.html#lookup_constructor_args"><span class="id" title="definition">lookup_constructor_args</span></a>, <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor"><span class="id" title="definition">EGlobalEnv.lookup_constructor</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">EGlobalEnv.lookup_inductive</span></a>) <span class="id" title="keyword">as</span> [ [] | ] <span class="id" title="var">eqn</span>:<span class="id" title="var">Elo</span>; <span class="id" title="var">cbn</span> -[<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">EGlobalEnv.lookup_inductive</span></a>] <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#eval_num"><span class="id" title="lemma">eval_num</span></a>. <span class="id" title="var">lia</span>. 2:<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#ind_ctors"><span class="id" title="projection">EAst.ind_ctors</span></a> <span class="id" title="var">o</span><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Malfunction.Malfunction.html#Int63.wB"><span class="id" title="abbreviation">Malfunction.Int63.wB</span></a>)%<span class="id" title="var">Z</span>. { <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hextr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Elo</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">He1</span> <span class="id" title="var">He2</span>]. <span class="id" title="var">cbn</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Malfunction.utils_array.html#filter_length"><span class="id" title="lemma">filter_length</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#firstn"><span class="id" title="definition">firstn</span></a> <span class="id" title="var">c</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#cstr_nargs"><span class="id" title="projection">EAst.cstr_nargs</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#ind_ctors"><span class="id" title="projection">EAst.ind_ctors</span></a> <span class="id" title="var">o</span>))) (<span class="id" title="keyword">fun</span> <a id="x:332" class="idref" href="#x:332"><span class="id" title="binder"><span id="x:334" class="id">x</span></span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.CompileCorrect.html#x:332"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0%<span class="id" title="var">nat</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length_firstn"><span class="id" title="lemma">length_firstn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#nth_error_Some_length"><span class="id" title="lemma">nth_error_Some_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [? []]. 1-2:<span class="id" title="tactic">inversion</span> <span class="id" title="var">ev</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>; <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#unsupported_strings"><span class="id" title="axiom">unsupported_strings</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#unsupported_arrays"><span class="id" title="axiom">unsupported_arrays</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#unsupported_lazy"><span class="id" title="axiom">unsupported_lazy</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#unsupported_force"><span class="id" title="axiom">unsupported_force</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Print</span> <span class="id" title="keyword">Assumptions</span> <a class="idref" href="Malfunction.CompileCorrect.html#compile_correct"><span class="id" title="lemma">compile_correct</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="binding_names" class="idref" href="#binding_names"><span class="id" title="definition">binding_names</span></a> (<a id="b:336" class="idref" href="#b:336"><span class="id" title="binder">b</span></a> : <a class="idref" href="Malfunction.Malfunction.html#binding"><span class="id" title="inductive">Malfunction.binding</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.CompileCorrect.html#b:336"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Malfunction.Malfunction.html#Unnamed"><span class="id" title="constructor">Malfunction.Unnamed</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Malfunction.Malfunction.html#Named"><span class="id" title="constructor">Malfunction.Named</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">x</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Malfunction.Malfunction.html#Recursive"><span class="id" title="constructor">Malfunction.Recursive</span></a> <span class="id" title="var">b</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#b:336"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="fix_global" class="idref" href="#fix_global"><span class="id" title="section">fix_global</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="44441d288f111a0462221898dfb5de18" class="idref" href="#44441d288f111a0462221898dfb5de18"><span class="id" title="variable">Σ</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.Malfunction.html#Ident.t"><span class="id" title="definition">Malfunction.Ident.t</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="wellformed" class="idref" href="#wellformed"><span class="id" title="definition">wellformed</span></a> (<a id="248c6c3ba155b054c556d88693cd8820" class="idref" href="#248c6c3ba155b054c556d88693cd8820"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.Malfunction.html#Ident.t"><span class="id" title="definition">Malfunction.Ident.t</span></a>) (<a id="t:341" class="idref" href="#t:341"><span class="id" title="binder">t</span></a> : <a class="idref" href="Malfunction.Malfunction.html#t"><span class="id" title="inductive">Malfunction.t</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.CompileCorrect.html#t:341"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Malfunction.Malfunction.html#Mvar"><span class="id" title="constructor">Malfunction.Mvar</span></a> <span class="id" title="var">x</span> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <span class="id" title="definition">eq_dec</span> <span class="id" title="var">x</span> <a class="idref" href="Malfunction.CompileCorrect.html#248c6c3ba155b054c556d88693cd8820"><span class="id" title="variable">Γ</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Malfunction.Malfunction.html#Mlambda"><span class="id" title="constructor">Malfunction.Mlambda</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ids</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#is_nil"><span class="id" title="definition">EWellformed.is_nil</span></a> <span class="id" title="var">ids</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#wellformed:344"><span class="id" title="definition">wellformed</span></a> (<span class="id" title="var">ids</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#248c6c3ba155b054c556d88693cd8820"><span class="id" title="variable">Γ</span></a>) <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Malfunction.Malfunction.html#Mapply"><span class="id" title="constructor">Malfunction.Mapply</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">args</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#is_nil"><span class="id" title="definition">EWellformed.is_nil</span></a> <span class="id" title="var">args</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#wellformed:344"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#248c6c3ba155b054c556d88693cd8820"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">x</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="Malfunction.CompileCorrect.html#wellformed:344"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#248c6c3ba155b054c556d88693cd8820"><span class="id" title="variable">Γ</span></a>) <span class="id" title="var">args</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Malfunction.Malfunction.html#Mlet"><span class="id" title="constructor">Malfunction.Mlet</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">binds</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#is_nil"><span class="id" title="definition">EWellformed.is_nil</span></a> <span class="id" title="var">binds</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="Malfunction.CompileCorrect.html#wellformed_binding:345"><span class="id" title="definition">wellformed_binding</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#248c6c3ba155b054c556d88693cd8820"><span class="id" title="variable">Γ</span></a>) <span class="id" title="var">binds</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#wellformed:344"><span class="id" title="definition">wellformed</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#flat_map"><span class="id" title="definition">flat_map</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#binding_names"><span class="id" title="definition">binding_names</span></a> <span class="id" title="var">binds</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#248c6c3ba155b054c556d88693cd8820"><span class="id" title="variable">Γ</span></a>) <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Malfunction.Malfunction.html#Mnum"><span class="id" title="constructor">Malfunction.Mnum</span></a> <span class="id" title="var">x</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Malfunction.Malfunction.html#Mstring"><span class="id" title="constructor">Malfunction.Mstring</span></a> <span class="id" title="var">x</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Malfunction.Malfunction.html#Mglobal"><span class="id" title="constructor">Malfunction.Mglobal</span></a> <span class="id" title="var">id</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <span class="id" title="definition">eq_dec</span> <span class="id" title="var">id</span> <a class="idref" href="Malfunction.CompileCorrect.html#44441d288f111a0462221898dfb5de18"><span class="id" title="variable">Σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Malfunction.Malfunction.html#Mswitch"><span class="id" title="constructor">Malfunction.Mswitch</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">sels</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒  <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#is_nil"><span class="id" title="definition">EWellformed.is_nil</span></a> <span class="id" title="var">sels</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#wellformed:344"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#248c6c3ba155b054c556d88693cd8820"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">x</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:348" class="idref" href="#pat:348"><span class="id" title="binder">(</span></a><a id="pat:348" class="idref" href="#pat:348"><span class="id" title="binder">_</span></a><a id="pat:348" class="idref" href="#pat:348"><span class="id" title="binder">,</span></a> <a id="x:347" class="idref" href="#x:347"><span class="id" title="binder"><span id="pat:348" class="id">x</span></span></a><a id="pat:348" class="idref" href="#pat:348"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="Malfunction.CompileCorrect.html#wellformed:344"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#248c6c3ba155b054c556d88693cd8820"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#x:347"><span class="id" title="variable">x</span></a>) <span class="id" title="var">sels</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Malfunction.Malfunction.html#Mnumop1"><span class="id" title="constructor">Malfunction.Mnumop1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">op</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">num</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Malfunction.CompileCorrect.html#wellformed:344"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#248c6c3ba155b054c556d88693cd8820"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Malfunction.Malfunction.html#Mnumop2"><span class="id" title="constructor">Malfunction.Mnumop2</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">op</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">num</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x1</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x2</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Malfunction.CompileCorrect.html#wellformed:344"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#248c6c3ba155b054c556d88693cd8820"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">x1</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#wellformed:344"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#248c6c3ba155b054c556d88693cd8820"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">x2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Malfunction.Malfunction.html#Mconvert"><span class="id" title="constructor">Malfunction.Mconvert</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Malfunction.CompileCorrect.html#wellformed:344"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#248c6c3ba155b054c556d88693cd8820"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Malfunction.Malfunction.html#Mblock"><span class="id" title="constructor">Malfunction.Mblock</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tag</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">xs</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb"><span class="id" title="definition">Nat.ltb</span></a> (<a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <span class="id" title="var">tag</span>) 200 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="Malfunction.CompileCorrect.html#wellformed:344"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#248c6c3ba155b054c556d88693cd8820"><span class="id" title="variable">Γ</span></a>) <span class="id" title="var">xs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Malfunction.Malfunction.html#Mfield"><span class="id" title="constructor">Malfunction.Mfield</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Malfunction.CompileCorrect.html#wellformed:344"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#248c6c3ba155b054c556d88693cd8820"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span> <a id="wellformed_binding" class="idref" href="#wellformed_binding"><span class="id" title="definition">wellformed_binding</span></a> <a id="2e9c4bae4c81d76e256445469d61c88b" class="idref" href="#2e9c4bae4c81d76e256445469d61c88b"><span class="id" title="binder">Γ</span></a> (<a id="b:343" class="idref" href="#b:343"><span class="id" title="binder">b</span></a> : <a class="idref" href="Malfunction.Malfunction.html#binding"><span class="id" title="inductive">Malfunction.binding</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.CompileCorrect.html#b:343"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Malfunction.Malfunction.html#Unnamed"><span class="id" title="constructor">Malfunction.Unnamed</span></a> <span class="id" title="var">x</span> ⇒ <a class="idref" href="Malfunction.CompileCorrect.html#wellformed:344"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#2e9c4bae4c81d76e256445469d61c88b"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Malfunction.Malfunction.html#Named"><span class="id" title="constructor">Malfunction.Named</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">id</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Malfunction.CompileCorrect.html#wellformed:344"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#2e9c4bae4c81d76e256445469d61c88b"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Malfunction.Malfunction.html#Recursive"><span class="id" title="constructor">Malfunction.Recursive</span></a> <span class="id" title="var">recs</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:352" class="idref" href="#pat:352"><span class="id" title="binder">(</span></a><a id="id:351" class="idref" href="#id:351"><span class="id" title="binder"><span id="pat:352" class="id">id</span></span></a><a id="pat:352" class="idref" href="#pat:352"><span class="id" title="binder">,</span></a><a id="x:350" class="idref" href="#x:350"><span class="id" title="binder"><span id="pat:352" class="id">x</span></span></a><a id="pat:352" class="idref" href="#pat:352"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="Malfunction.CompileCorrect.html#wellformed:344"><span class="id" title="definition">wellformed</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">recs</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#2e9c4bae4c81d76e256445469d61c88b"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#x:350"><span class="id" title="variable">x</span></a>) <span class="id" title="var">recs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Malfunction.CompileCorrect.html#fix_global"><span class="id" title="section">fix_global</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wellformed_Mapply_" class="idref" href="#wellformed_Mapply_"><span class="id" title="lemma">wellformed_Mapply_</span></a> <a id="2b9b5f3cf131387257ec5433bd404055" class="idref" href="#2b9b5f3cf131387257ec5433bd404055"><span class="id" title="binder">Σ</span></a> <a id="541d8ee8ec154e8bf67b92cdf7050841" class="idref" href="#541d8ee8ec154e8bf67b92cdf7050841"><span class="id" title="binder">Γ</span></a> <a id="x:355" class="idref" href="#x:355"><span class="id" title="binder">x</span></a> <a id="args:356" class="idref" href="#args:356"><span class="id" title="binder">args</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.CompileCorrect.html#wellformed"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#2b9b5f3cf131387257ec5433bd404055"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#541d8ee8ec154e8bf67b92cdf7050841"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#x:355"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="Malfunction.CompileCorrect.html#wellformed"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#2b9b5f3cf131387257ec5433bd404055"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#541d8ee8ec154e8bf67b92cdf7050841"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#args:356"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#wellformed"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#2b9b5f3cf131387257ec5433bd404055"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#541d8ee8ec154e8bf67b92cdf7050841"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="Malfunction.Compile.html#Mapply_"><span class="id" title="definition">Mapply_</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#x:355"><span class="id" title="variable">x</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args:356"><span class="id" title="variable">args</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Compile.html#Mapply_"><span class="id" title="definition">Mapply_</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wellformed_Mlambda_" class="idref" href="#wellformed_Mlambda_"><span class="id" title="lemma">wellformed_Mlambda_</span></a> <a id="4e4d13bd2d43126de138a3e7bb4e64b3" class="idref" href="#4e4d13bd2d43126de138a3e7bb4e64b3"><span class="id" title="binder">Σ</span></a> <a id="4df62c979e3abd2ab398ba933d53992f" class="idref" href="#4df62c979e3abd2ab398ba933d53992f"><span class="id" title="binder">Γ</span></a> <a id="x:359" class="idref" href="#x:359"><span class="id" title="binder">x</span></a> <a id="ids:360" class="idref" href="#ids:360"><span class="id" title="binder">ids</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.CompileCorrect.html#wellformed"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#4e4d13bd2d43126de138a3e7bb4e64b3"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="Malfunction.CompileCorrect.html#ids:360"><span class="id" title="variable">ids</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#4df62c979e3abd2ab398ba933d53992f"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#x:359"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#wellformed"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#4e4d13bd2d43126de138a3e7bb4e64b3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#4df62c979e3abd2ab398ba933d53992f"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="Malfunction.Compile.html#Mlambda_"><span class="id" title="definition">Mlambda_</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#ids:360"><span class="id" title="variable">ids</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#x:359"><span class="id" title="variable">x</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Compile.html#Mapply_"><span class="id" title="definition">Mapply_</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ids</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="wellformed_subset" class="idref" href="#wellformed_subset"><span class="id" title="definition">wellformed_subset</span></a> <a id="ce8da5d286ab4eb6b7b055ba856a9683" class="idref" href="#ce8da5d286ab4eb6b7b055ba856a9683"><span class="id" title="binder">Σ</span></a> <a id="0eb978fa47b394b94ce80ba201dabba6" class="idref" href="#0eb978fa47b394b94ce80ba201dabba6"><span class="id" title="binder">Γ1</span></a> <a id="7b0ffce8cdaece69c7f9d80eb8a06858" class="idref" href="#7b0ffce8cdaece69c7f9d80eb8a06858"><span class="id" title="binder">Γ2</span></a> <a id="x:364" class="idref" href="#x:364"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#7b0ffce8cdaece69c7f9d80eb8a06858"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#0eb978fa47b394b94ce80ba201dabba6"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#wellformed"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#ce8da5d286ab4eb6b7b055ba856a9683"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#7b0ffce8cdaece69c7f9d80eb8a06858"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#x:364"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#wellformed"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#ce8da5d286ab4eb6b7b055ba856a9683"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#0eb978fa47b394b94ce80ba201dabba6"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#x:364"><span class="id" title="variable">x</span></a><br/>
<span class="id" title="keyword">with</span> <a id="wellformed_binding_subset" class="idref" href="#wellformed_binding_subset"><span class="id" title="definition">wellformed_binding_subset</span></a> <a id="0711c37ee51b7422792584a58eb1a856" class="idref" href="#0711c37ee51b7422792584a58eb1a856"><span class="id" title="binder">Σ</span></a> <a id="1a84e09e058d411782e1ac0dea6ad60b" class="idref" href="#1a84e09e058d411782e1ac0dea6ad60b"><span class="id" title="binder">Γ1</span></a> <a id="7ddf7e37b5104af5555a8fa5bd764ffa" class="idref" href="#7ddf7e37b5104af5555a8fa5bd764ffa"><span class="id" title="binder">Γ2</span></a> <a id="x:368" class="idref" href="#x:368"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#7ddf7e37b5104af5555a8fa5bd764ffa"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#1a84e09e058d411782e1ac0dea6ad60b"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#wellformed_binding"><span class="id" title="definition">wellformed_binding</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#0711c37ee51b7422792584a58eb1a856"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#7ddf7e37b5104af5555a8fa5bd764ffa"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#x:368"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#wellformed_binding"><span class="id" title="definition">wellformed_binding</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#0711c37ee51b7422792584a58eb1a856"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#1a84e09e058d411782e1ac0dea6ad60b"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#x:368"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intros</span> <span class="id" title="var">Hincl</span> <span class="id" title="var">Hwf</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a>; <span class="id" title="tactic">firstorder</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">wellformed_subset</span>. 2: <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span> ?. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [ | ? % <span class="id" title="var">Hincl</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">wellformed_subset</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">wellformed_subset</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">wellformed_subset</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span> ?. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">intros</span> [ | ? % <span class="id" title="var">Hincl</span>]; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">wellformed_binding_subset</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [ [] ]. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [ [[]] ]. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [ [] ]. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">revert</span> <span class="id" title="var">Hwf</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">l</span> <span class="id" title="tactic">at</span> 1 3. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">wellformed_subset</span>. 2: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">intros</span> [ ] ; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="force_lambda_id" class="idref" href="#force_lambda_id"><span class="id" title="lemma">force_lambda_id</span></a> <a id="597ddf7f975a8903d180df05a5b8f199" class="idref" href="#597ddf7f975a8903d180df05a5b8f199"><span class="id" title="binder">Σ</span></a> <a id="t:372" class="idref" href="#t:372"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#isLambda"><span class="id" title="definition">EAst.isLambda</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#t:372"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.Compile.html#force_lambda"><span class="id" title="definition">force_lambda</span></a> (<a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#597ddf7f975a8903d180df05a5b8f199"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#t:372"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#597ddf7f975a8903d180df05a5b8f199"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#t:372"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">compile</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="filter_first_lt" class="idref" href="#filter_first_lt"><span class="id" title="lemma">filter_first_lt</span></a> (<a id="i:373" class="idref" href="#i:373"><span class="id" title="binder">i</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="p:374" class="idref" href="#p:374"><span class="id" title="binder">p</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="n:375" class="idref" href="#n:375"><span class="id" title="binder">n</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="l2:376" class="idref" href="#l2:376"><span class="id" title="binder">l2</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.CompileCorrect.html#i:373"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#n:375"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#p:374"><span class="id" title="variable">p</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#i:373"><span class="id" title="variable">i</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#l2:376"><span class="id" title="variable">l2</span></a>)<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#p:374"><span class="id" title="variable">p</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#n:375"><span class="id" title="variable">n</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#l2:376"><span class="id" title="variable">l2</span></a>)<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>,<span class="id" title="var">n</span> |- *; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>, <span class="id" title="var">n</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#le_n_S"><span class="id" title="lemma">le_n_S</span></a>. <span class="id" title="tactic">eapply</span>  <span class="id" title="var">IHl2</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHl2</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="compile_wellformed" class="idref" href="#compile_wellformed"><span class="id" title="lemma">compile_wellformed</span></a> <a id="cd31d2c1f73acfd70b63c94c1423b42c" class="idref" href="#cd31d2c1f73acfd70b63c94c1423b42c"><span class="id" title="binder">Γ</span></a> <a id="n:378" class="idref" href="#n:378"><span class="id" title="binder">n</span></a> <a id="s:379" class="idref" href="#s:379"><span class="id" title="binder">s</span></a> <a id="t:380" class="idref" href="#t:380"><span class="id" title="binder">t</span></a> (<a id="b6b230b5d7cbf35a6992318521f09a19" class="idref" href="#b6b230b5d7cbf35a6992318521f09a19"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#global_declarations"><span class="id" title="definition">EAst.global_declarations</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:382" class="idref" href="#i:382"><span class="id" title="binder">i</span></a> <a id="args:383" class="idref" href="#args:383"><span class="id" title="binder">args</span></a>, <a class="idref" href="Malfunction.Compile.html#lookup_constructor_args"><span class="id" title="definition">lookup_constructor_args</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#b6b230b5d7cbf35a6992318521f09a19"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#i:382"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args:383"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.Compile.html#blocks_until"><span class="id" title="definition">blocks_until</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args:383"><span class="id" title="variable">args</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#args:383"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> 200<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#wellformed"><span class="id" title="definition">EWellformed.wellformed</span></a> (<span class="id" title="var">efl</span> := <a class="idref" href="Malfunction.CompileCorrect.html#extraction_env_flags_mlf"><span class="id" title="definition">extraction_env_flags_mlf</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#b6b230b5d7cbf35a6992318521f09a19"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#n:378"><span class="id" title="variable">n</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#t:380"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#represents"><span class="id" title="inductive">represents</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#cd31d2c1f73acfd70b63c94c1423b42c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#s:379"><span class="id" title="variable">s</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#t:380"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.CompileCorrect.html#wellformed"><span class="id" title="definition">wellformed</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="Malfunction.Compile.html#compile_env"><span class="id" title="definition">compile_env</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#b6b230b5d7cbf35a6992318521f09a19"><span class="id" title="variable">Σ</span></a>)) <a class="idref" href="Malfunction.CompileCorrect.html#cd31d2c1f73acfd70b63c94c1423b42c"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#b6b230b5d7cbf35a6992318521f09a19"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#s:379"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hglob</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hrep</span>. <span class="id" title="var">revert</span> <span class="id" title="var">n</span> <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">E</span>. <span class="id" title="var">revert</span> <span class="id" title="var">HeqE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> @<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#represents_ind"><span class="id" title="definition">represents_ind</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">e</span> := <span class="id" title="var">E</span>) (<span class="id" title="var">l</span> := <span class="id" title="var">Γ</span>) (<span class="id" title="var">t</span> := <span class="id" title="var">s</span>) (<span class="id" title="var">t0</span> := <span class="id" title="var">t</span>) (<span class="id" title="var">P0</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>); <span class="id" title="tactic">intros</span>; <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#wellformed"><span class="id" title="definition">EWellformed.wellformed</span></a>] <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_In"><span class="id" title="lemma">nth_error_In</span></a>  <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Compile.html#Mapply_u"><span class="id" title="definition">Mapply_u</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">b0</span>); <span class="id" title="var">cbn</span>; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Compile.html#Mapply_u"><span class="id" title="definition">Mapply_u</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">s0</span>); <span class="id" title="var">cbn</span>; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">cbn</span>. <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">H</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H3</span>). <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb_app"><span class="id" title="lemma">forallb_app</span></a>. <span class="id" title="var">cbn</span>; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">H</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). 2: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">rtoProp</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">EGlobalEnv.lookup_env</span></a> <span class="id" title="keyword">as</span> [ [] | ] <span class="id" title="var">eqn</span>: <span class="id" title="var">Eq</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#lookup_env_In"><span class="id" title="lemma">lookup_env_In</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">d</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">c</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">Eq</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. 1: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">g</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>; <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor_pars_args"><span class="id" title="definition">EGlobalEnv.lookup_constructor_pars_args</span></a>, <a class="idref" href="Malfunction.Compile.html#lookup_constructor_args"><span class="id" title="definition">lookup_constructor_args</span></a>, <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor"><span class="id" title="definition">EGlobalEnv.lookup_constructor</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">EGlobalEnv.lookup_inductive</span></a>] <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">EGlobalEnv.lookup_inductive</span></a> <span class="id" title="keyword">as</span> [ [] | ]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor_pars_args"><span class="id" title="definition">EGlobalEnv.lookup_constructor_pars_args</span></a>, <a class="idref" href="Malfunction.Compile.html#lookup_constructor_args"><span class="id" title="definition">lookup_constructor_args</span></a>, <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor"><span class="id" title="definition">EGlobalEnv.lookup_constructor</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">EGlobalEnv.lookup_inductive</span></a>] <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">EGlobalEnv.lookup_inductive</span></a> <span class="id" title="keyword">as</span> [ [] | ] <span class="id" title="var">eqn</span>:<span class="id" title="var">EE</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.leb_le"><span class="id" title="lemma">Nat.leb_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> ( <a class="idref" href="Malfunction.Compile.html#blocks_until"><span class="id" title="definition">blocks_until</span></a> <span class="id" title="var">i</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#cstr_nargs"><span class="id" title="projection">EAst.cstr_nargs</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#ind_ctors"><span class="id" title="projection">EAst.ind_ctors</span></a> <span class="id" title="var">o</span>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> 199).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.utils_array.html#int_to_of_nat"><span class="id" title="lemma">int_to_of_nat</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span>  (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> 200).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ZArith.Znat.html#inj_lt"><span class="id" title="definition">inj_lt</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#wB_200"><span class="id" title="lemma">wB_200</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hglob</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <span class="id" title="var">EE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H3</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H3</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">EEE</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#nth_error_Some_length"><span class="id" title="lemma">nth_error_Some_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EEE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Compile.html#blocks_until"><span class="id" title="definition">blocks_until</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">HF</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">l</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- ?<span class="id" title="var">r</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <span class="id" title="var">_</span> ] ⇒ <span class="id" title="var">enough</span> (<span class="id" title="var">r</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <span class="id" title="var">l</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#filter_first_lt"><span class="id" title="lemma">filter_first_lt</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">depelim</span> <span class="id" title="var">a</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">IH0</span> <span class="id" title="var">IH</span>]. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IH0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">depelim</span> <span class="id" title="var">a</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">rtoProp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.All_Forall.html#All_forallb"><span class="id" title="lemma">All_forallb</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#map_InP_spec"><span class="id" title="lemma">map_InP_spec</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">clear</span> - <span class="id" title="var">a</span> <span class="id" title="var">IH</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">a</span>; <span class="id" title="var">cbn</span>. 1: <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHa</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">brs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor_pars_args"><span class="id" title="definition">EGlobalEnv.lookup_constructor_pars_args</span></a>, <a class="idref" href="Malfunction.Compile.html#lookup_constructor_args"><span class="id" title="definition">lookup_constructor_args</span></a>, <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_constructor"><span class="id" title="definition">EGlobalEnv.lookup_constructor</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#wf_brs"><span class="id" title="definition">EWellformed.wf_brs</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">EGlobalEnv.lookup_inductive</span></a> <span class="id" title="keyword">as</span> [ [] | ]; <span class="id" title="var">cbn</span> -[<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#rev_map"><span class="id" title="definition">rev_map</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#map_InP"><span class="id" title="definition">map_InP</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a>]; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Compile.html#Mcase"><span class="id" title="definition">Mcase</span></a>. <span class="id" title="var">cbn</span> [<a class="idref" href="Malfunction.CompileCorrect.html#wellformed"><span class="id" title="definition">wellformed</span></a>]. <span class="id" title="var">rtoProp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">brs_</span> := <span class="id" title="var">p</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">brs</span>) <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">clearbody</span> <span class="id" title="var">brs_</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">p</span> <span class="id" title="var">brs</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#map_InP_spec"><span class="id" title="lemma">map_InP_spec</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">a</span> <span class="id" title="var">IH</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#mapi"><span class="id" title="definition">mapi</span></a>. <span class="id" title="tactic">generalize</span> 0 <span class="id" title="tactic">at</span> 1, 0 <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">cbn</span> -[<a class="idref" href="Malfunction.Compile.html#Mapply_"><span class="id" title="definition">Mapply_</span></a> <a class="idref" href="Malfunction.Compile.html#Mlambda_"><span class="id" title="definition">Mlambda_</span></a>]. <span class="id" title="tactic">intros</span>. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHa</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#wellformed_Mapply_"><span class="id" title="lemma">wellformed_Mapply_</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">nms</span> &amp; <span class="id" title="var">Hnms</span> &amp; <span class="id" title="var">whatever</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#wellformed_Mlambda_"><span class="id" title="lemma">wellformed_Mlambda_</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">nms</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="nm:384" class="idref" href="#nm:384"><span class="id" title="binder"><span id="nm:385" class="id">nm</span></span></a> : <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Common.BasicAst.html#name"><span class="id" title="inductive">BasicAst.name</span></a> ⇒ <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Common.BasicAst.html#string_of_name"><span class="id" title="definition">BasicAst.string_of_name</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#nm:384"><span class="id" title="variable">nm</span></a>) <span class="id" title="var">x</span><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> - <span class="id" title="var">Hnms</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Hnms</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#wellformed_subset"><span class="id" title="definition">wellformed_subset</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#rev_map_spec"><span class="id" title="lemma">rev_map_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? % <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_rev"><span class="id" title="lemma">in_rev</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">clear</span> - <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H3</span> <span class="id" title="var">n1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#rev_map_spec"><span class="id" title="lemma">rev_map_spec</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev_app_distr"><span class="id" title="lemma">rev_app_distr</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> [<a class="idref" href="Malfunction.CompileCorrect.html#wellformed"><span class="id" title="definition">wellformed</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#map_InP_spec"><span class="id" title="lemma">map_InP_spec</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.All_Forall.html#All_forallb"><span class="id" title="lemma">All_forallb</span></a>. <span class="id" title="tactic">eapply</span> (@<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> '<a id="pat:387" class="idref" href="#pat:387"><span class="id" title="binder"><span id="pat:390" class="id">(</span></span></a><a id="pat:387" class="idref" href="#pat:387"><span class="id" title="binder"><span id="pat:390" class="id">_</span></span></a><a id="pat:387" class="idref" href="#pat:387"><span class="id" title="binder"><span id="pat:390" class="id">,</span></span></a> <a id="t1:386" class="idref" href="#t1:386"><span class="id" title="binder"><span id="pat:387" class="id"><span id="t1:389" class="id"><span id="pat:390" class="id">t1</span></span></span></span></a><a id="pat:387" class="idref" href="#pat:387"><span class="id" title="binder"><span id="pat:390" class="id">)</span></span></a> ⇒ (<a class="idref" href="Malfunction.CompileCorrect.html#wellformed"><span class="id" title="definition">wellformed</span></a> <span class="id" title="var">_</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:388" class="idref" href="#x:388"><span class="id" title="binder"><span id="x:391" class="id">x</span></span></a> : <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#def"><span class="id" title="record">EAst.def</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Common.BasicAst.html#string_of_name"><span class="id" title="definition">BasicAst.string_of_name</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#dname"><span class="id" title="projection">EAst.dname</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#x:388"><span class="id" title="variable">x</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">EAst.dbody</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#x:388"><span class="id" title="variable">x</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>) <span class="id" title="var">mfix</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Γ0</span>)%<span class="id" title="var">list</span> <a class="idref" href="Malfunction.CompileCorrect.html#t1:386"><span class="id" title="variable">t1</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">X</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">nms</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x0:392" class="idref" href="#x0:392"><span class="id" title="binder"><span id="x0:393" class="id">x0</span></span></a> : <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#def"><span class="id" title="record">EAst.def</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a> ⇒ <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Common.BasicAst.html#string_of_name"><span class="id" title="definition">BasicAst.string_of_name</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#dname"><span class="id" title="projection">EAst.dname</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#x0:392"><span class="id" title="variable">x0</span></a>)) <span class="id" title="var">mfix</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> - <span class="id" title="var">a</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">a</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <span class="id" title="tactic">clear</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#wf_fix_gen"><span class="id" title="definition">EWellformed.wf_fix_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <span class="id" title="var">mfix'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <span class="id" title="var">mfix</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> - <span class="id" title="var">a0</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EPrimitive.html#All2_Set_All2"><span class="id" title="lemma">EPrimitive.All2_Set_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a0</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hlen</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlen</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">revert</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">mfix</span> <span class="id" title="tactic">at</span> 1 5 6. <span class="id" title="var">revert</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">a0</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#force_lambda_id"><span class="id" title="lemma">force_lambda_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#dbody"><span class="id" title="projection">EAst.dbody</span></a> <span class="id" title="var">y</span>); <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">invs</span> <span class="id" title="var">r</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHa0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> -[<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#wf_fix_gen"><span class="id" title="definition">EWellformed.wf_fix_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#map_InP_spec"><span class="id" title="lemma">map_InP_spec</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">n0</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <span class="id" title="var">mfix'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <span class="id" title="var">mfix</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EPrimitive.html#All2_Set_All2"><span class="id" title="lemma">EPrimitive.All2_Set_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a0</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hlen</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlen</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_Some"><span class="id" title="lemma">nth_error_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Eq</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_nth"><span class="id" title="lemma">nth_error_nth</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>, <span class="id" title="var">Eq</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_In"><span class="id" title="lemma">nth_error_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">depelim</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hwf</span> |- ×.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="compile_extends" class="idref" href="#compile_extends"><span class="id" title="lemma">compile_extends</span></a> <a id="6c3997ff1c357531ba1cf18143fd2341" class="idref" href="#6c3997ff1c357531ba1cf18143fd2341"><span class="id" title="binder">Γ</span></a> <a id="n:395" class="idref" href="#n:395"><span class="id" title="binder">n</span></a> <a id="s:396" class="idref" href="#s:396"><span class="id" title="binder">s</span></a> <a id="t:397" class="idref" href="#t:397"><span class="id" title="binder">t</span></a> (<a id="bea479a28ecde8afeb6fbc98a7185f43" class="idref" href="#bea479a28ecde8afeb6fbc98a7185f43"><span class="id" title="binder">Σ</span></a> <a id="4249de76d0b55ea8d2fac361025f2cd3" class="idref" href="#4249de76d0b55ea8d2fac361025f2cd3"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EAst.html#global_declarations"><span class="id" title="definition">EAst.global_declarations</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#wellformed"><span class="id" title="definition">EWellformed.wellformed</span></a> (<span class="id" title="var">efl</span> := <a class="idref" href="Malfunction.CompileCorrect.html#extraction_env_flags_mlf"><span class="id" title="definition">extraction_env_flags_mlf</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#bea479a28ecde8afeb6fbc98a7185f43"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#n:395"><span class="id" title="variable">n</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#t:397"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#represents"><span class="id" title="inductive">represents</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#6c3997ff1c357531ba1cf18143fd2341"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#s:396"><span class="id" title="variable">s</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#t:397"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#extends"><span class="id" title="definition">EGlobalEnv.extends</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#bea479a28ecde8afeb6fbc98a7185f43"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#4249de76d0b55ea8d2fac361025f2cd3"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#bea479a28ecde8afeb6fbc98a7185f43"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#s:396"><span class="id" title="variable">s</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#4249de76d0b55ea8d2fac361025f2cd3"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#s:396"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hrep</span>. <span class="id" title="var">revert</span> <span class="id" title="var">n</span> <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">E</span>. <span class="id" title="var">revert</span> <span class="id" title="var">HeqE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> @<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWcbvEvalNamed.html#represents_ind"><span class="id" title="definition">represents_ind</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">e</span> := <span class="id" title="var">E</span>) (<span class="id" title="var">l</span> := <span class="id" title="var">Γ</span>) (<span class="id" title="var">t</span> := <span class="id" title="var">s</span>) (<span class="id" title="var">t0</span> := <span class="id" title="var">t</span>) (<span class="id" title="var">P0</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>); <span class="id" title="tactic">intros</span>; <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#wellformed"><span class="id" title="definition">EWellformed.wellformed</span></a>] <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">tauto</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hwf</span> <span class="id" title="keyword">as</span> [? ?]. <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hwf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hwf</span> ?]. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hwf</span> <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">eauto</span>;<span class="id" title="tactic">f_equal</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hwf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hwf</span> ?]. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hwf</span> <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">repeat</span> <span class="id" title="var">erewrite</span> <a class="idref" href="Malfunction.Compile.html#compile_equation_9"><span class="id" title="definition">compile_equation_9</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Compile.html#lookup_constructor_args"><span class="id" title="definition">lookup_constructor_args</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ind</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">inductive_mind</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hwf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hwf</span> ?]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">EGlobalEnv.lookup_env</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">inductive_mind</span>); [| <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>). <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">repeat</span> <span class="id" title="var">erewrite</span> <a class="idref" href="Malfunction.Compile.html#compile_equation_10"><span class="id" title="definition">compile_equation_10</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Compile.html#lookup_constructor_args"><span class="id" title="definition">lookup_constructor_args</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">t0</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">args</span>) <span class="id" title="tactic">in</span> ×. <span class="id" title="var">clearbody</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ind</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hext</span> := <span class="id" title="var">H</span>). <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">inductive_mind</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hwf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hwf</span> ?]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">EGlobalEnv.lookup_env</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">inductive_mind</span>); [| <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">g</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H0</span> ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">a</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H2</span> ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">brs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.Compile.html#compile_equation_11"><span class="id" title="definition">compile_equation_11</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.Compile.html#compile_equation_12"><span class="id" title="definition">compile_equation_12</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Compile.html#lookup_constructor_args"><span class="id" title="definition">lookup_constructor_args</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">p</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">brs</span>) <span class="id" title="tactic">in</span> ×. <span class="id" title="var">clearbody</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ind</span>, <span class="id" title="var">i</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hext</span> := <span class="id" title="var">H0</span>). <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">inductive_mind</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hwf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hwf</span> ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ind</span> := {| <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">Kernames.inductive_mind</span></a> := <span class="id" title="var">_</span> |}) <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#isSome"><span class="id" title="definition">EWellformed.isSome</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">EGlobalEnv.lookup_inductive</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">ind</span>)). <span class="id" title="var">revert</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#wf_brs"><span class="id" title="definition">EWellformed.wf_brs</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_inductive"><span class="id" title="definition">EGlobalEnv.lookup_inductive</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">rename</span> <span class="id" title="var">H4</span> <span class="id" title="var">into</span> <span class="id" title="var">H1</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">EGlobalEnv.lookup_env</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">inductive_mind</span>); [| <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">g</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">a</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H2</span> ?]. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">f_equal</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hwf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hwf</span> ?]. <span class="id" title="tactic">unfold</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Erasure.EWellformed.html#wf_fix_gen"><span class="id" title="definition">EWellformed.wf_fix_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H0</span> ?]. <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span> <span class="id" title="var">a</span> <span class="id" title="var">Hbodies</span>. <span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">revert</span> <span class="id" title="var">n</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">a0</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">IHa0</span> <span class="id" title="var">_</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l'</span><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l'</span><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span>)) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">revert</span> <span class="id" title="var">idx</span> <span class="id" title="var">n</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">a0</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> ?]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">idx</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">IHa0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l'</span><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l'</span><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span>)) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="var">simp</span> <span class="id" title="var">compile</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">e</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>). <span class="id" title="var">now</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Mapply_eval_fail" class="idref" href="#Mapply_eval_fail"><span class="id" title="lemma">Mapply_eval_fail</span></a> `{<a id="H0:401" class="idref" href="#H0:401"><span class="id" title="binder">Heap</span></a>} <a id="globals:402" class="idref" href="#globals:402"><span class="id" title="binder">globals</span></a> <a id="locals:403" class="idref" href="#locals:403"><span class="id" title="binder">locals</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e:404" class="idref" href="#e:404"><span class="id" title="binder">e</span></a> <a id="e2:405" class="idref" href="#e2:405"><span class="id" title="binder">e2</span></a> : <a class="idref" href="Malfunction.Malfunction.html#t"><span class="id" title="inductive">Malfunction.t</span></a>) (<a id="v2:406" class="idref" href="#v2:406"><span class="id" title="binder">v2</span></a> : <a class="idref" href="Malfunction.SemanticsSpec.html#value"><span class="id" title="inductive">SemanticsSpec.value</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e1:407" class="idref" href="#e1:407"><span class="id" title="binder">e1</span></a> : <a class="idref" href="Malfunction.Malfunction.html#t"><span class="id" title="inductive">Malfunction.t</span></a>) (<a id="v:408" class="idref" href="#v:408"><span class="id" title="binder">v</span></a> : <a class="idref" href="Malfunction.SemanticsSpec.html#value"><span class="id" title="inductive">SemanticsSpec.value</span></a>) <a id="args:409" class="idref" href="#args:409"><span class="id" title="binder">args</span></a> <a id="h1:410" class="idref" href="#h1:410"><span class="id" title="binder">h1</span></a> <a id="h2:411" class="idref" href="#h2:411"><span class="id" title="binder">h2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">SemanticsSpec.eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#globals:402"><span class="id" title="variable">globals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#locals:403"><span class="id" title="variable">locals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h1:410"><span class="id" title="variable">h1</span></a> (<a class="idref" href="Malfunction.Compile.html#Mapply_"><span class="id" title="definition">Mapply_</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#e1:407"><span class="id" title="variable">e1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args:409"><span class="id" title="variable">args</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#h2:411"><span class="id" title="variable">h2</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:408"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#isFunction"><span class="id" title="definition">isFunction</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:408"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">SemanticsSpec.eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#globals:402"><span class="id" title="variable">globals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#locals:403"><span class="id" title="variable">locals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h1:410"><span class="id" title="variable">h1</span></a> (<a class="idref" href="Malfunction.Malfunction.html#Mapply"><span class="id" title="constructor">Malfunction.Mapply</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#e1:407"><span class="id" title="variable">e1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#args:409"><span class="id" title="variable">args</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Malfunction.CompileCorrect.html#e2:405"><span class="id" title="variable">e2</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">list</span> <a class="idref" href="Malfunction.CompileCorrect.html#h2:411"><span class="id" title="variable">h2</span></a> (<a class="idref" href="Malfunction.SemanticsSpec.html#fail"><span class="id" title="constructor">fail</span></a> "not a function:  evaluated to: ").<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">e1</span> <span class="id" title="keyword">with</span> (<a class="idref" href="Malfunction.CompileCorrect.html#Mnapply"><span class="id" title="definition">Mnapply</span></a> <span class="id" title="var">e1</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (@<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="Malfunction.Malfunction.html#t"><span class="id" title="inductive">Malfunction.t</span></a>) <span class="id" title="tactic">at</span> 1 2.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">args</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e1</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">Hleft</span> <span class="id" title="var">Hfun</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.SemanticsSpec.html#eval_app_fail"><span class="id" title="constructor">eval_app_fail</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>; <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">replace</span> (<a class="idref" href="Malfunction.Malfunction.html#Mapply"><span class="id" title="constructor">Malfunction.Mapply</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#Mnapply"><span class="id" title="definition">Mnapply</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">l</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Malfunction.CompileCorrect.html#Mnapply"><span class="id" title="definition">Mnapply</span></a> <span class="id" title="var">e1</span> (<span class="id" title="var">l</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#Mnapply_app"><span class="id" title="lemma">Mnapply_app</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHargs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hleft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#eval_app_nested_inv"><span class="id" title="lemma">eval_app_nested_inv</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">args</span> := <span class="id" title="var">a</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hleft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#eval_app_nested_"><span class="id" title="lemma">eval_app_nested_</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">replace</span> (<a class="idref" href="Malfunction.Malfunction.html#Mapply"><span class="id" title="constructor">Malfunction.Mapply</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#Mnapply"><span class="id" title="definition">Mnapply</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">l</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Malfunction.CompileCorrect.html#Mnapply"><span class="id" title="definition">Mnapply</span></a> <span class="id" title="var">e1</span> (<span class="id" title="var">l</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.CompileCorrect.html#Mnapply_app"><span class="id" title="lemma">Mnapply_app</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHargs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hleft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#eval_app_nested_inv"><span class="id" title="lemma">eval_app_nested_inv</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">args</span> := <span class="id" title="var">a</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">t</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">args</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hleft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#eval_app_nested_"><span class="id" title="lemma">eval_app_nested_</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Mapply_eval_last" class="idref" href="#Mapply_eval_last"><span class="id" title="lemma">Mapply_eval_last</span></a> `{<a id="H0:413" class="idref" href="#H0:413"><span class="id" title="binder">Heap</span></a>} <a id="f:414" class="idref" href="#f:414"><span class="id" title="binder">f</span></a> <a id="l:415" class="idref" href="#l:415"><span class="id" title="binder">l</span></a> <a id="a:416" class="idref" href="#a:416"><span class="id" title="binder">a</span></a> <a id="1a06a293e6df8d9c19c7dcf98c7fcba2" class="idref" href="#1a06a293e6df8d9c19c7dcf98c7fcba2"><span class="id" title="binder">Σ</span></a> <a id="locals:418" class="idref" href="#locals:418"><span class="id" title="binder">locals</span></a> <a id="h:419" class="idref" href="#h:419"><span class="id" title="binder">h</span></a> <a id="h':420" class="idref" href="#h':420"><span class="id" title="binder">h'</span></a> <a id="v:421" class="idref" href="#v:421"><span class="id" title="binder">v</span></a>: <br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#1a06a293e6df8d9c19c7dcf98c7fcba2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#locals:418"><span class="id" title="variable">locals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h:419"><span class="id" title="variable">h</span></a> (<a class="idref" href="Malfunction.Malfunction.html#Mapply"><span class="id" title="constructor">Malfunction.Mapply</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.Compile.html#Mapply_"><span class="id" title="definition">Mapply_</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#f:414"><span class="id" title="variable">f</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#l:415"><span class="id" title="variable">l</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Malfunction.CompileCorrect.html#a:416"><span class="id" title="variable">a</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#h':420"><span class="id" title="variable">h'</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:421"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#1a06a293e6df8d9c19c7dcf98c7fcba2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#locals:418"><span class="id" title="variable">locals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h:419"><span class="id" title="variable">h</span></a> (<a class="idref" href="Malfunction.Compile.html#Mapply_"><span class="id" title="definition">Mapply_</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#f:414"><span class="id" title="variable">f</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> (<a class="idref" href="Malfunction.CompileCorrect.html#l:415"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Malfunction.CompileCorrect.html#a:416"><span class="id" title="variable">a</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)%<span class="id" title="var">list</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#h':420"><span class="id" title="variable">h'</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:421"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">f</span> <span class="id" title="var">v</span> <span class="id" title="var">h</span> <span class="id" title="var">h'</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span> ? ? ? ? ? <span class="id" title="var">Heval</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_comm_cons"><span class="id" title="lemma">app_comm_cons</span></a>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#Mapply_eval"><span class="id" title="lemma">Mapply_eval</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#Mapply_eval_rec"><span class="id" title="lemma">Mapply_eval_rec</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#Mapply_eval_fail"><span class="id" title="lemma">Mapply_eval_fail</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Mapply_u_eval" class="idref" href="#Mapply_u_eval"><span class="id" title="lemma">Mapply_u_eval</span></a> `{<a id="H0:423" class="idref" href="#H0:423"><span class="id" title="binder">Heap</span></a>} <a id="f:424" class="idref" href="#f:424"><span class="id" title="binder">f</span></a> <a id="a:425" class="idref" href="#a:425"><span class="id" title="binder">a</span></a> <a id="e4aeda7cd2e9d63cc8b4584a01bd9437" class="idref" href="#e4aeda7cd2e9d63cc8b4584a01bd9437"><span class="id" title="binder">Σ</span></a> <a id="locals:427" class="idref" href="#locals:427"><span class="id" title="binder">locals</span></a> <a id="h:428" class="idref" href="#h:428"><span class="id" title="binder">h</span></a> <a id="v:429" class="idref" href="#v:429"><span class="id" title="binder">v</span></a>: <br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="n:430" class="idref" href="#n:430"><span class="id" title="binder">n</span></a> : <a class="idref" href="Malfunction.Malfunction.html#t"><span class="id" title="inductive">Malfunction.t</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#f:424"><span class="id" title="variable">f</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.Malfunction.html#Mapply"><span class="id" title="constructor">Malfunction.Mapply</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#n:430"><span class="id" title="variable">n</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#e4aeda7cd2e9d63cc8b4584a01bd9437"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#locals:427"><span class="id" title="variable">locals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h:428"><span class="id" title="variable">h</span></a> (<a class="idref" href="Malfunction.Malfunction.html#Mapply"><span class="id" title="constructor">Malfunction.Mapply</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#f:424"><span class="id" title="variable">f</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Malfunction.CompileCorrect.html#a:425"><span class="id" title="variable">a</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#h:428"><span class="id" title="variable">h</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:429"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.SemanticsSpec.html#eval"><span class="id" title="inductive">eval</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#e4aeda7cd2e9d63cc8b4584a01bd9437"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#locals:427"><span class="id" title="variable">locals</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#h:428"><span class="id" title="variable">h</span></a> (<a class="idref" href="Malfunction.Compile.html#Mapply_u"><span class="id" title="definition">Mapply_u</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#f:424"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#a:425"><span class="id" title="variable">a</span></a>) <a class="idref" href="Malfunction.CompileCorrect.html#h:428"><span class="id" title="variable">h</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#v:429"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="Malfunction.CompileCorrect.html#Mapply_u_spec"><span class="id" title="lemma">Mapply_u_spec</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span> <span class="id" title="var">Hn</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [? [? [? ?]]]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.CompileCorrect.html#Mapply_eval_last"><span class="id" title="lemma">Mapply_eval_last</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [? ?]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="compile_app_not_nil" class="idref" href="#compile_app_not_nil"><span class="id" title="lemma">compile_app_not_nil</span></a> <a id="790f7a461bb9df3cbf16e2ea7438ce41" class="idref" href="#790f7a461bb9df3cbf16e2ea7438ce41"><span class="id" title="binder">Σ</span></a> <a id="t:432" class="idref" href="#t:432"><span class="id" title="binder">t</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="t':433" class="idref" href="#t':433"><span class="id" title="binder">t'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#790f7a461bb9df3cbf16e2ea7438ce41"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Malfunction.CompileCorrect.html#t:432"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.Malfunction.html#Mapply"><span class="id" title="constructor">Malfunction.Mapply</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.CompileCorrect.html#t':433"><span class="id" title="variable">t'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">t'</span> <span class="id" title="var">Ht'</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht'</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">erewrite</span> <a class="idref" href="Malfunction.Compile.html#compile_equation_7"><span class="id" title="definition">compile_equation_7</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht'</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="Malfunction.Compile.html#compile"><span class="id" title="definition">compile</span></a> <span class="id" title="var">_</span> <span class="id" title="var">t1</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht'</span> ; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">erewrite</span> <a class="idref" href="Malfunction.Compile.html#compile_equation_9"><span class="id" title="definition">compile_equation_9</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht'</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="Malfunction.Compile.html#lookup_constructor_args"><span class="id" title="definition">lookup_constructor_args</span></a>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">erewrite</span> <a class="idref" href="Malfunction.Compile.html#compile_equation_10"><span class="id" title="definition">compile_equation_10</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht'</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="Malfunction.Compile.html#lookup_constructor_args"><span class="id" title="definition">lookup_constructor_args</span></a>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">brs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">erewrite</span> <a class="idref" href="Malfunction.Compile.html#compile_equation_11"><span class="id" title="definition">compile_equation_11</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht'</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="Malfunction.Compile.html#lookup_constructor_args"><span class="id" title="definition">lookup_constructor_args</span></a>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">erewrite</span> <a class="idref" href="Malfunction.Compile.html#compile_equation_12"><span class="id" title="definition">compile_equation_12</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht'</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="Malfunction.Compile.html#lookup_constructor_args"><span class="id" title="definition">lookup_constructor_args</span></a>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="var">erewrite</span> <a class="idref" href="Malfunction.Compile.html#compile_equation_13"><span class="id" title="definition">compile_equation_13</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht'</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.Compile.html#compile_unfold_clause_11"><span class="id" title="definition">compile_unfold_clause_11</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Malfunction.Compile.html#lookup_record_projs"><span class="id" title="definition">lookup_record_projs</span></a>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">prim</span> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="var">simp</span> <span class="id" title="var">compile</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht'</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
