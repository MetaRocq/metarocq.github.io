<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./index.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library Malfunction.utils_array</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">ssreflect</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#"><span class="id" title="library">MRList</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">ZArith</span> <span class="id" title="library">Array.PArray</span> <span class="id" title="library">List</span> <span class="id" title="library">Floats</span> <span class="id" title="library">Lia</span>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="module">ListNotations</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Malfunction.Malfunction.html#"><span class="id" title="library">Malfunction.Malfunction</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Uint63</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.PCUIC.PCUICFirstorder.html#"><span class="id" title="library">PCUICFirstorder</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="int_to_nat" class="idref" href="#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> (<a id="i:1" class="idref" href="#i:1"><span class="id" title="binder">i</span></a> : <span class="id" title="var">int</span>) : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">Z.to_nat</span> (<a class="idref" href="Malfunction.Malfunction.html#Int63.to_Z"><span class="id" title="abbreviation">Int63.to_Z</span></a> <a class="idref" href="Malfunction.utils_array.html#i:1"><span class="id" title="variable">i</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="int_of_nat" class="idref" href="#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> <a id="n:2" class="idref" href="#n:2"><span class="id" title="binder">n</span></a> := <span class="id" title="abbreviation">Uint63.of_Z</span> (<span class="id" title="definition">Stdlib.ZArith.BinInt.Z.of_nat</span> <a class="idref" href="Malfunction.utils_array.html#n:2"><span class="id" title="variable">n</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="int_of_to_nat" class="idref" href="#int_of_to_nat"><span class="id" title="lemma">int_of_to_nat</span></a> <a id="i:3" class="idref" href="#i:3"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> (<a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <a class="idref" href="Malfunction.utils_array.html#i:3"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.utils_array.html#i:3"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a>, <a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Z2Nat.id</span>.<br/>
&nbsp;&nbsp;1:<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.Malfunction.html#Int63.to_Z_bounded"><span class="id" title="lemma">Int63.to_Z_bounded</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.Malfunction.html#Int63.of_to_Z"><span class="id" title="abbreviation">Int63.of_to_Z</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="int_to_of_nat" class="idref" href="#int_to_of_nat"><span class="id" title="lemma">int_to_of_nat</span></a> <a id="i:4" class="idref" href="#i:4"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;(<span class="id" title="definition">Z.of_nat</span> <a class="idref" href="Malfunction.utils_array.html#i:4"><span class="id" title="variable">i</span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="Malfunction.Malfunction.html#Int63.wB"><span class="id" title="abbreviation">Int63.wB</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> (<a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> <a class="idref" href="Malfunction.utils_array.html#i:4"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.utils_array.html#i:4"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a>, <a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.Malfunction.html#Int63.of_Z_spec"><span class="id" title="lemma">Int63.of_Z_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Z.mod_small</span>. 1:<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Nat2Z.id</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wb_max_length" class="idref" href="#wb_max_length"><span class="id" title="lemma">wb_max_length</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <span class="id" title="var">max_length</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">Z.to_nat</span> <a class="idref" href="Malfunction.Malfunction.html#Int63.wB"><span class="id" title="abbreviation">Int63.wB</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#wB"><span class="id" title="definition">Int63.wB</span></a> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">max_length</span> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">lia_max_length</span> := <br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="Malfunction.utils_array.html#wb_max_length"><span class="id" title="lemma">wb_max_length</span></a>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">max_length</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="List" class="idref" href="#List"><span class="id" title="module">List</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="List.mapi_" class="idref" href="#List.mapi_"><span class="id" title="definition">mapi_</span></a> {<a id="A:5" class="idref" href="#A:5"><span class="id" title="binder">A</span></a> <a id="B:6" class="idref" href="#B:6"><span class="id" title="binder">B</span></a>} (<a id="f:7" class="idref" href="#f:7"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#A:5"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#B:6"><span class="id" title="variable">B</span></a>) (<a id="l:8" class="idref" href="#l:8"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#A:5"><span class="id" title="variable">A</span></a>) (<a id="n:9" class="idref" href="#n:9"><span class="id" title="binder">n</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#B:6"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.utils_array.html#l:8"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="notation">[]</span> ⇒ <span class="id" title="notation">[]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l'</span> ⇒  <a class="idref" href="Malfunction.utils_array.html#f:7"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.utils_array.html#n:9"><span class="id" title="variable">n</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Malfunction.utils_array.html#mapi_:10"><span class="id" title="definition">mapi_</span></a> <a class="idref" href="Malfunction.utils_array.html#f:7"><span class="id" title="variable">f</span></a> <span class="id" title="var">l'</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Malfunction.utils_array.html#n:9"><span class="id" title="variable">n</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="List.mapi" class="idref" href="#List.mapi"><span class="id" title="definition">mapi</span></a> {<a id="A:12" class="idref" href="#A:12"><span class="id" title="binder">A</span></a> <a id="B:13" class="idref" href="#B:13"><span class="id" title="binder">B</span></a>} (<a id="f:14" class="idref" href="#f:14"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#A:12"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#B:13"><span class="id" title="variable">B</span></a>) <a id="l:15" class="idref" href="#l:15"><span class="id" title="binder">l</span></a> := <a class="idref" href="Malfunction.utils_array.html#List.mapi_"><span class="id" title="definition">mapi_</span></a> <a class="idref" href="Malfunction.utils_array.html#f:14"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.utils_array.html#l:15"><span class="id" title="variable">l</span></a> 0.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="List.init" class="idref" href="#List.init"><span class="id" title="definition">init</span></a> {<a id="A:16" class="idref" href="#A:16"><span class="id" title="binder">A</span></a>} (<a id="size:17" class="idref" href="#size:17"><span class="id" title="binder">size</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="f:18" class="idref" href="#f:18"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#A:16"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#A:16"><span class="id" title="variable">A</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Malfunction.utils_array.html#f:18"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#seq"><span class="id" title="definition">seq</span></a> 0 <a class="idref" href="Malfunction.utils_array.html#size:17"><span class="id" title="variable">size</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="List.set" class="idref" href="#List.set"><span class="id" title="definition">set</span></a> {<a id="A:19" class="idref" href="#A:19"><span class="id" title="binder">A</span></a>} (<a id="l:20" class="idref" href="#l:20"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#A:19"><span class="id" title="variable">A</span></a>) (<a id="n:21" class="idref" href="#n:21"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="a:22" class="idref" href="#a:22"><span class="id" title="binder">a</span></a>:<a class="idref" href="Malfunction.utils_array.html#A:19"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#A:19"><span class="id" title="variable">A</span></a> <br/>
&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.utils_array.html#l:20"><span class="id" title="variable">l</span></a> , <a class="idref" href="Malfunction.utils_array.html#n:21"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">[]</span> , <span class="id" title="var">_</span> ⇒  <span class="id" title="notation">[]</span><br/>
&nbsp;&nbsp;&nbsp;| <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span> , 0 ⇒ <a class="idref" href="Malfunction.utils_array.html#a:22"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Malfunction.utils_array.html#l:20"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;| <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span> , <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒ <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Malfunction.utils_array.html#set:23"><span class="id" title="definition">set</span></a> <a class="idref" href="Malfunction.utils_array.html#l:20"><span class="id" title="variable">l</span></a> <a class="idref" href="Malfunction.utils_array.html#n:21"><span class="id" title="variable">n</span></a> <a class="idref" href="Malfunction.utils_array.html#a:22"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="List.length_set" class="idref" href="#List.length_set"><span class="id" title="lemma">length_set</span></a> <a id="A:26" class="idref" href="#A:26"><span class="id" title="binder">A</span></a> (<a id="l:27" class="idref" href="#l:27"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a>  <a class="idref" href="Malfunction.utils_array.html#A:26"><span class="id" title="variable">A</span></a>) <a id="n:28" class="idref" href="#n:28"><span class="id" title="binder">n</span></a> <a id="a:29" class="idref" href="#a:29"><span class="id" title="binder">a</span></a> : <br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">List.length</span> (<a class="idref" href="Malfunction.utils_array.html#List.set"><span class="id" title="definition">set</span></a> <a class="idref" href="Malfunction.utils_array.html#l:27"><span class="id" title="variable">l</span></a> <a class="idref" href="Malfunction.utils_array.html#n:28"><span class="id" title="variable">n</span></a> <a class="idref" href="Malfunction.utils_array.html#a:29"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">List.length</span> <a class="idref" href="Malfunction.utils_array.html#l:27"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="List.nth_set_same" class="idref" href="#List.nth_set_same"><span class="id" title="lemma">nth_set_same</span></a> <a id="A:30" class="idref" href="#A:30"><span class="id" title="binder">A</span></a> (<a id="l:31" class="idref" href="#l:31"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#A:30"><span class="id" title="variable">A</span></a>) <a id="n:32" class="idref" href="#n:32"><span class="id" title="binder">n</span></a> <a id="a:33" class="idref" href="#a:33"><span class="id" title="binder">a</span></a> <a id="d:34" class="idref" href="#d:34"><span class="id" title="binder">d</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.utils_array.html#n:32"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="abbreviation">List.length</span> <a class="idref" href="Malfunction.utils_array.html#l:31"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="Malfunction.utils_array.html#n:32"><span class="id" title="variable">n</span></a> (<a class="idref" href="Malfunction.utils_array.html#List.set"><span class="id" title="definition">set</span></a> <a class="idref" href="Malfunction.utils_array.html#l:31"><span class="id" title="variable">l</span></a> <a class="idref" href="Malfunction.utils_array.html#n:32"><span class="id" title="variable">n</span></a> <a class="idref" href="Malfunction.utils_array.html#a:33"><span class="id" title="variable">a</span></a>) <a class="idref" href="Malfunction.utils_array.html#d:34"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.utils_array.html#a:33"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="var">cbn</span> ; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Nat.succ_lt_mono</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="List.nth_set_other" class="idref" href="#List.nth_set_other"><span class="id" title="lemma">nth_set_other</span></a> <a id="A:35" class="idref" href="#A:35"><span class="id" title="binder">A</span></a> (<a id="l:36" class="idref" href="#l:36"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#A:35"><span class="id" title="variable">A</span></a>) <a id="n:37" class="idref" href="#n:37"><span class="id" title="binder">n</span></a> <a id="m:38" class="idref" href="#m:38"><span class="id" title="binder">m</span></a> <a id="a:39" class="idref" href="#a:39"><span class="id" title="binder">a</span></a> <a id="d:40" class="idref" href="#d:40"><span class="id" title="binder">d</span></a> : <br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#n:37"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="Malfunction.utils_array.html#m:38"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="Malfunction.utils_array.html#m:38"><span class="id" title="variable">m</span></a> (<a class="idref" href="Malfunction.utils_array.html#List.set"><span class="id" title="definition">set</span></a> <a class="idref" href="Malfunction.utils_array.html#l:36"><span class="id" title="variable">l</span></a> <a class="idref" href="Malfunction.utils_array.html#n:37"><span class="id" title="variable">n</span></a> <a class="idref" href="Malfunction.utils_array.html#a:39"><span class="id" title="variable">a</span></a>) <a class="idref" href="Malfunction.utils_array.html#d:40"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="Malfunction.utils_array.html#m:38"><span class="id" title="variable">m</span></a> <a class="idref" href="Malfunction.utils_array.html#l:36"><span class="id" title="variable">l</span></a> <a class="idref" href="Malfunction.utils_array.html#d:40"><span class="id" title="variable">d</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHl</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Malfunction.utils_array.html#List"><span class="id" title="module">List</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Forall2Array" class="idref" href="#Forall2Array"><span class="id" title="definition">Forall2Array</span></a> {<a id="A:41" class="idref" href="#A:41"><span class="id" title="binder">A</span></a> <a id="B:42" class="idref" href="#B:42"><span class="id" title="binder">B</span></a>:<span class="id" title="keyword">Type</span>} (<a id="R:43" class="idref" href="#R:43"><span class="id" title="binder">R</span></a> : <a class="idref" href="Malfunction.utils_array.html#A:41"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#B:42"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <br/>
&nbsp;&nbsp;(<a id="l:44" class="idref" href="#l:44"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#A:41"><span class="id" title="variable">A</span></a>) (<a id="a:45" class="idref" href="#a:45"><span class="id" title="binder">a</span></a>:<span class="id" title="var">array</span> <a class="idref" href="Malfunction.utils_array.html#B:42"><span class="id" title="variable">B</span></a>) <a id="default:46" class="idref" href="#default:46"><span class="id" title="binder">default</span></a> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">List.length</span> <a class="idref" href="Malfunction.utils_array.html#l:44"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> (<span class="id" title="abbreviation">PArray.length</span> <a class="idref" href="Malfunction.utils_array.html#a:45"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="i:47" class="idref" href="#i:47"><span class="id" title="binder">i</span></a>:<span class="id" title="var">int</span>, <a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <a class="idref" href="Malfunction.utils_array.html#i:47"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="abbreviation">List.length</span> <a class="idref" href="Malfunction.utils_array.html#l:44"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#R:43"><span class="id" title="variable">R</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> (<a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <a class="idref" href="Malfunction.utils_array.html#i:47"><span class="id" title="variable">i</span></a>) <a class="idref" href="Malfunction.utils_array.html#l:44"><span class="id" title="variable">l</span></a> <a class="idref" href="Malfunction.utils_array.html#default:46"><span class="id" title="variable">default</span></a> ) <a class="idref" href="Malfunction.utils_array.html#a:45"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">.[</span></a><a class="idref" href="Malfunction.utils_array.html#i:47"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span><br/>
&nbsp;&nbsp;<a id="Forall2_acc" class="idref" href="#Forall2_acc"><span class="id" title="definition, inductive"><span id="Forall2_acc_ind" class="id"><span id="Forall2_acc_sind" class="id">Forall2_acc</span></span></span></a> {<a id="X:48" class="idref" href="#X:48"><span class="id" title="binder">X</span></a> <a id="A:49" class="idref" href="#A:49"><span class="id" title="binder">A</span></a> <a id="B:50" class="idref" href="#B:50"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="R:51" class="idref" href="#R:51"><span class="id" title="binder">R</span></a> : <a class="idref" href="Malfunction.utils_array.html#X:48"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#A:49"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#X:48"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#B:50"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) : <span class="id" title="var">X</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">X</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Forall2_acc_nil" class="idref" href="#Forall2_acc_nil"><span class="id" title="constructor">Forall2_acc_nil</span></a> : <span class="id" title="keyword">∀</span> <a id="x:54" class="idref" href="#x:54"><span class="id" title="binder">x</span></a>, <a class="idref" href="Malfunction.utils_array.html#Forall2_acc:52"><span class="id" title="inductive">Forall2_acc</span></a> <a class="idref" href="Malfunction.utils_array.html#R:51"><span class="id" title="variable">R</span></a> <a class="idref" href="Malfunction.utils_array.html#x:54"><span class="id" title="variable">x</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="Malfunction.utils_array.html#x:54"><span class="id" title="variable">x</span></a> <span class="id" title="notation">[]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="Forall2_acc_cons" class="idref" href="#Forall2_acc_cons"><span class="id" title="constructor">Forall2_acc_cons</span></a> : <span class="id" title="keyword">∀</span> (<a id="x:55" class="idref" href="#x:55"><span class="id" title="binder">x</span></a> <a id="y:56" class="idref" href="#y:56"><span class="id" title="binder">y</span></a> <a id="z:57" class="idref" href="#z:57"><span class="id" title="binder">z</span></a> : <a class="idref" href="Malfunction.utils_array.html#X:48"><span class="id" title="variable">X</span></a>) (<a id="a:58" class="idref" href="#a:58"><span class="id" title="binder">a</span></a> : <a class="idref" href="Malfunction.utils_array.html#A:49"><span class="id" title="variable">A</span></a>) (<a id="b:59" class="idref" href="#b:59"><span class="id" title="binder">b</span></a> : <a class="idref" href="Malfunction.utils_array.html#B:50"><span class="id" title="variable">B</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="l:60" class="idref" href="#l:60"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#A:49"><span class="id" title="variable">A</span></a>) (<a id="l':61" class="idref" href="#l':61"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#B:50"><span class="id" title="variable">B</span></a>) ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#R:51"><span class="id" title="variable">R</span></a> <a class="idref" href="Malfunction.utils_array.html#x:55"><span class="id" title="variable">x</span></a> <a class="idref" href="Malfunction.utils_array.html#a:58"><span class="id" title="variable">a</span></a> <a class="idref" href="Malfunction.utils_array.html#y:56"><span class="id" title="variable">y</span></a> <a class="idref" href="Malfunction.utils_array.html#b:59"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#Forall2_acc:52"><span class="id" title="inductive">Forall2_acc</span></a> <a class="idref" href="Malfunction.utils_array.html#R:51"><span class="id" title="variable">R</span></a> <a class="idref" href="Malfunction.utils_array.html#y:56"><span class="id" title="variable">y</span></a> <a class="idref" href="Malfunction.utils_array.html#l:60"><span class="id" title="variable">l</span></a> <a class="idref" href="Malfunction.utils_array.html#z:57"><span class="id" title="variable">z</span></a> <a class="idref" href="Malfunction.utils_array.html#l':61"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#Forall2_acc:52"><span class="id" title="inductive">Forall2_acc</span></a> <a class="idref" href="Malfunction.utils_array.html#R:51"><span class="id" title="variable">R</span></a> <a class="idref" href="Malfunction.utils_array.html#x:55"><span class="id" title="variable">x</span></a> (<a class="idref" href="Malfunction.utils_array.html#a:58"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Malfunction.utils_array.html#l:60"><span class="id" title="variable">l</span></a>) <a class="idref" href="Malfunction.utils_array.html#z:57"><span class="id" title="variable">z</span></a> (<a class="idref" href="Malfunction.utils_array.html#b:59"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Malfunction.utils_array.html#l':61"><span class="id" title="variable">l'</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="map_acc" class="idref" href="#map_acc"><span class="id" title="definition">map_acc</span></a> {<a id="A:62" class="idref" href="#A:62"><span class="id" title="binder">A</span></a> <a id="B:63" class="idref" href="#B:63"><span class="id" title="binder">B</span></a> <a id="S:64" class="idref" href="#S:64"><span class="id" title="binder">S</span></a>: <span class="id" title="keyword">Type</span>} (<a id="f:65" class="idref" href="#f:65"><span class="id" title="binder">f</span></a> : <a class="idref" href="Malfunction.utils_array.html#S:64"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#A:62"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#S:64"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Malfunction.utils_array.html#B:63"><span class="id" title="variable">B</span></a>) (<a id="s:66" class="idref" href="#s:66"><span class="id" title="binder">s</span></a>:<a class="idref" href="Malfunction.utils_array.html#S:64"><span class="id" title="variable">S</span></a>) (<a id="l:67" class="idref" href="#l:67"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#A:62"><span class="id" title="variable">A</span></a>) : <a class="idref" href="Malfunction.utils_array.html#S:64"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#B:63"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.utils_array.html#l:67"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="notation">[]</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.utils_array.html#s:66"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="notation">[]</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">t</span> ⇒ <span class="id" title="keyword">let</span> (<a id="s':70" class="idref" href="#s':70"><span class="id" title="binder">s'</span></a>,<a id="b:71" class="idref" href="#b:71"><span class="id" title="binder">b</span></a>) := <a class="idref" href="Malfunction.utils_array.html#f:65"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.utils_array.html#s:66"><span class="id" title="variable">s</span></a> <span class="id" title="var">a</span> <span class="id" title="tactic">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="s'':72" class="idref" href="#s'':72"><span class="id" title="binder">s''</span></a>,<a id="bs:73" class="idref" href="#bs:73"><span class="id" title="binder">bs</span></a>) := <a class="idref" href="Malfunction.utils_array.html#map_acc:68"><span class="id" title="definition">map_acc</span></a> <a class="idref" href="Malfunction.utils_array.html#f:65"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.utils_array.html#s':70"><span class="id" title="variable">s'</span></a> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.utils_array.html#s'':72"><span class="id" title="variable">s''</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.utils_array.html#b:71"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Malfunction.utils_array.html#bs:73"><span class="id" title="variable">bs</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Forall2_acc_map" class="idref" href="#Forall2_acc_map"><span class="id" title="lemma">Forall2_acc_map</span></a> {<a id="S:74" class="idref" href="#S:74"><span class="id" title="binder">S</span></a> <a id="S':75" class="idref" href="#S':75"><span class="id" title="binder">S'</span></a> <a id="A:76" class="idref" href="#A:76"><span class="id" title="binder">A</span></a> <a id="B:77" class="idref" href="#B:77"><span class="id" title="binder">B</span></a> <a id="B':78" class="idref" href="#B':78"><span class="id" title="binder">B'</span></a>} (<a id="R:79" class="idref" href="#R:79"><span class="id" title="binder">R</span></a> : <a class="idref" href="Malfunction.utils_array.html#S:74"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#S':75"><span class="id" title="variable">S'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="RB:80" class="idref" href="#RB:80"><span class="id" title="binder">RB</span></a> : <a class="idref" href="Malfunction.utils_array.html#B:77"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#B':78"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:81" class="idref" href="#f:81"><span class="id" title="binder">f</span></a> : <a class="idref" href="Malfunction.utils_array.html#S':75"><span class="id" title="variable">S'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#A:76"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#S':75"><span class="id" title="variable">S'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Malfunction.utils_array.html#B':78"><span class="id" title="variable">B'</span></a>) (<a id="P:82" class="idref" href="#P:82"><span class="id" title="binder">P</span></a> : <a class="idref" href="Malfunction.utils_array.html#S:74"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#A:76"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#S:74"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#B:77"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="x:83" class="idref" href="#x:83"><span class="id" title="binder">x</span></a> <a id="x':84" class="idref" href="#x':84"><span class="id" title="binder">x'</span></a> <a id="y:85" class="idref" href="#y:85"><span class="id" title="binder">y</span></a> <a id="l1:86" class="idref" href="#l1:86"><span class="id" title="binder">l1</span></a> <a id="l2:87" class="idref" href="#l2:87"><span class="id" title="binder">l2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#Forall2_acc"><span class="id" title="inductive">Forall2_acc</span></a> <a class="idref" href="Malfunction.utils_array.html#P:82"><span class="id" title="variable">P</span></a> <a class="idref" href="Malfunction.utils_array.html#x:83"><span class="id" title="variable">x</span></a> <a class="idref" href="Malfunction.utils_array.html#l1:86"><span class="id" title="variable">l1</span></a> <a class="idref" href="Malfunction.utils_array.html#y:85"><span class="id" title="variable">y</span></a> <a class="idref" href="Malfunction.utils_array.html#l2:87"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:88" class="idref" href="#x:88"><span class="id" title="binder">x</span></a> <a id="x':89" class="idref" href="#x':89"><span class="id" title="binder">x'</span></a> <a id="a:90" class="idref" href="#a:90"><span class="id" title="binder">a</span></a> <a id="b:91" class="idref" href="#b:91"><span class="id" title="binder">b</span></a> <a id="y:92" class="idref" href="#y:92"><span class="id" title="binder">y</span></a>, <a class="idref" href="Malfunction.utils_array.html#R:79"><span class="id" title="variable">R</span></a> <a class="idref" href="Malfunction.utils_array.html#x:88"><span class="id" title="variable">x</span></a> <a class="idref" href="Malfunction.utils_array.html#x':89"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#P:82"><span class="id" title="variable">P</span></a> <a class="idref" href="Malfunction.utils_array.html#x:88"><span class="id" title="variable">x</span></a> <a class="idref" href="Malfunction.utils_array.html#a:90"><span class="id" title="variable">a</span></a> <a class="idref" href="Malfunction.utils_array.html#y:92"><span class="id" title="variable">y</span></a> <a class="idref" href="Malfunction.utils_array.html#b:91"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">let</span> (<a id="y':93" class="idref" href="#y':93"><span class="id" title="binder">y'</span></a> , <a id="b':94" class="idref" href="#b':94"><span class="id" title="binder">b'</span></a>) := <a class="idref" href="Malfunction.utils_array.html#f:81"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.utils_array.html#x':89"><span class="id" title="variable">x'</span></a> <a class="idref" href="Malfunction.utils_array.html#a:90"><span class="id" title="variable">a</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="Malfunction.utils_array.html#R:79"><span class="id" title="variable">R</span></a> <a class="idref" href="Malfunction.utils_array.html#y:92"><span class="id" title="variable">y</span></a> <a class="idref" href="Malfunction.utils_array.html#y':93"><span class="id" title="variable">y'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Malfunction.utils_array.html#RB:80"><span class="id" title="variable">RB</span></a> <a class="idref" href="Malfunction.utils_array.html#b:91"><span class="id" title="variable">b</span></a> <a class="idref" href="Malfunction.utils_array.html#b':94"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#R:79"><span class="id" title="variable">R</span></a> <a class="idref" href="Malfunction.utils_array.html#x:83"><span class="id" title="variable">x</span></a> <a class="idref" href="Malfunction.utils_array.html#x':84"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="y':95" class="idref" href="#y':95"><span class="id" title="binder">y'</span></a> , <a id="l':96" class="idref" href="#l':96"><span class="id" title="binder">l'</span></a>) := <a class="idref" href="Malfunction.utils_array.html#map_acc"><span class="id" title="definition">map_acc</span></a> <a class="idref" href="Malfunction.utils_array.html#f:81"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.utils_array.html#x':84"><span class="id" title="variable">x'</span></a> <a class="idref" href="Malfunction.utils_array.html#l1:86"><span class="id" title="variable">l1</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="Malfunction.utils_array.html#R:79"><span class="id" title="variable">R</span></a> <a class="idref" href="Malfunction.utils_array.html#y:85"><span class="id" title="variable">y</span></a> <a class="idref" href="Malfunction.utils_array.html#y':95"><span class="id" title="variable">y'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="inductive">Forall2</span> <a class="idref" href="Malfunction.utils_array.html#RB:80"><span class="id" title="variable">RB</span></a> <a class="idref" href="Malfunction.utils_array.html#l2:87"><span class="id" title="variable">l2</span></a> <a class="idref" href="Malfunction.utils_array.html#l':96"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">H'</span>. <span class="id" title="var">revert</span> <span class="id" title="var">x'</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x'</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hx</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ) <span class="id" title="keyword">as</span> (<span class="id" title="var">s'</span>,<span class="id" title="var">b'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHForall2_acc</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>). <span class="id" title="tactic">destruct</span> (<a class="idref" href="Malfunction.utils_array.html#map_acc"><span class="id" title="definition">map_acc</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHForall2_acc</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Forall2_acc_length" class="idref" href="#Forall2_acc_length"><span class="id" title="lemma">Forall2_acc_length</span></a> {<a id="X:97" class="idref" href="#X:97"><span class="id" title="binder">X</span></a> <a id="A:98" class="idref" href="#A:98"><span class="id" title="binder">A</span></a> <a id="B:99" class="idref" href="#B:99"><span class="id" title="binder">B</span></a> <a id="R:100" class="idref" href="#R:100"><span class="id" title="binder">R</span></a> <a id="x:101" class="idref" href="#x:101"><span class="id" title="binder">x</span></a> <a id="l:102" class="idref" href="#l:102"><span class="id" title="binder">l</span></a> <a id="y:103" class="idref" href="#y:103"><span class="id" title="binder">y</span></a> <a id="l':104" class="idref" href="#l':104"><span class="id" title="binder">l'</span></a>} : @<a class="idref" href="Malfunction.utils_array.html#Forall2_acc"><span class="id" title="inductive">Forall2_acc</span></a> <a class="idref" href="Malfunction.utils_array.html#X:97"><span class="id" title="variable">X</span></a> <a class="idref" href="Malfunction.utils_array.html#A:98"><span class="id" title="variable">A</span></a> <a class="idref" href="Malfunction.utils_array.html#B:99"><span class="id" title="variable">B</span></a> <a class="idref" href="Malfunction.utils_array.html#R:100"><span class="id" title="variable">R</span></a> <a class="idref" href="Malfunction.utils_array.html#x:101"><span class="id" title="variable">x</span></a> <a class="idref" href="Malfunction.utils_array.html#l:102"><span class="id" title="variable">l</span></a> <a class="idref" href="Malfunction.utils_array.html#y:103"><span class="id" title="variable">y</span></a> <a class="idref" href="Malfunction.utils_array.html#l':104"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="abbreviation">List.length</span> <a class="idref" href="Malfunction.utils_array.html#l:102"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">List.length</span> <a class="idref" href="Malfunction.utils_array.html#l':104"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Forall2_length" class="idref" href="#Forall2_length"><span class="id" title="lemma">Forall2_length</span></a> {<a id="A:105" class="idref" href="#A:105"><span class="id" title="binder">A</span></a> <a id="B:106" class="idref" href="#B:106"><span class="id" title="binder">B</span></a> <a id="P:107" class="idref" href="#P:107"><span class="id" title="binder">P</span></a> <a id="l:108" class="idref" href="#l:108"><span class="id" title="binder">l</span></a> <a id="l':109" class="idref" href="#l':109"><span class="id" title="binder">l'</span></a>} : @<span class="id" title="inductive">Forall2</span> <a class="idref" href="Malfunction.utils_array.html#A:105"><span class="id" title="variable">A</span></a> <a class="idref" href="Malfunction.utils_array.html#B:106"><span class="id" title="variable">B</span></a> <a class="idref" href="Malfunction.utils_array.html#P:107"><span class="id" title="variable">P</span></a> <a class="idref" href="Malfunction.utils_array.html#l:108"><span class="id" title="variable">l</span></a> <a class="idref" href="Malfunction.utils_array.html#l':109"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="abbreviation">List.length</span> <a class="idref" href="Malfunction.utils_array.html#l:108"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">List.length</span> <a class="idref" href="Malfunction.utils_array.html#l':109"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="Array_of_List'" class="idref" href="#Array_of_List'"><span class="id" title="definition">Array_of_List'</span></a> {<a id="A:110" class="idref" href="#A:110"><span class="id" title="binder">A</span></a>} <a id="count:111" class="idref" href="#count:111"><span class="id" title="binder">count</span></a> (<a id="l:112" class="idref" href="#l:112"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#A:110"><span class="id" title="variable">A</span></a>) (<a id="a:113" class="idref" href="#a:113"><span class="id" title="binder">a</span></a> : <span class="id" title="var">array</span> <a class="idref" href="Malfunction.utils_array.html#A:110"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.utils_array.html#l:112"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="notation">[]</span> ⇒ <a class="idref" href="Malfunction.utils_array.html#a:113"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span> ⇒ <a class="idref" href="Malfunction.utils_array.html#Array_of_List':114"><span class="id" title="definition">Array_of_List'</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Malfunction.utils_array.html#count:111"><span class="id" title="variable">count</span></a>) <a class="idref" href="Malfunction.utils_array.html#l:112"><span class="id" title="variable">l</span></a> (<span class="id" title="abbreviation">PArray.set</span> <a class="idref" href="Malfunction.utils_array.html#a:113"><span class="id" title="variable">a</span></a> (<a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> <a class="idref" href="Malfunction.utils_array.html#count:111"><span class="id" title="variable">count</span></a>) <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Array_of_list" class="idref" href="#Array_of_list"><span class="id" title="definition">Array_of_list</span></a> {<a id="A:116" class="idref" href="#A:116"><span class="id" title="binder">A</span></a>} (<a id="def:117" class="idref" href="#def:117"><span class="id" title="binder">def</span></a> : <a class="idref" href="Malfunction.utils_array.html#A:116"><span class="id" title="variable">A</span></a>) (<a id="l:118" class="idref" href="#l:118"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#A:116"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#Array_of_List'"><span class="id" title="definition">Array_of_List'</span></a> 0 <a class="idref" href="Malfunction.utils_array.html#l:118"><span class="id" title="variable">l</span></a> (<span class="id" title="abbreviation">PArray.make</span> (<a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> (<span class="id" title="abbreviation">List.length</span> <a class="idref" href="Malfunction.utils_array.html#l:118"><span class="id" title="variable">l</span></a>)) <a class="idref" href="Malfunction.utils_array.html#def:117"><span class="id" title="variable">def</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Array_init" class="idref" href="#Array_init"><span class="id" title="definition">Array_init</span></a> {<a id="A:119" class="idref" href="#A:119"><span class="id" title="binder">A</span></a>} (<a id="size:120" class="idref" href="#size:120"><span class="id" title="binder">size</span></a> : <span class="id" title="var">int</span>) <a id="f:121" class="idref" href="#f:121"><span class="id" title="binder">f</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="g:123" class="idref" href="#g:123"><span class="id" title="binder">g</span></a> := <span class="id" title="keyword">fun</span> <a id="x:122" class="idref" href="#x:122"><span class="id" title="binder">x</span></a> ⇒ (<a class="idref" href="Malfunction.utils_array.html#f:121"><span class="id" title="variable">f</span></a> (<a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> <a class="idref" href="Malfunction.utils_array.html#x:122"><span class="id" title="variable">x</span></a>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;@<a class="idref" href="Malfunction.utils_array.html#Array_of_list"><span class="id" title="definition">Array_of_list</span></a> <a class="idref" href="Malfunction.utils_array.html#A:119"><span class="id" title="variable">A</span></a> (<a class="idref" href="Malfunction.utils_array.html#g:123"><span class="id" title="variable">g</span></a> 0) (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Malfunction.utils_array.html#g:123"><span class="id" title="variable">g</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#seq"><span class="id" title="definition">seq</span></a> 0 (<span class="id" title="definition">Z.to_nat</span> (<a class="idref" href="Malfunction.Malfunction.html#Int63.to_Z"><span class="id" title="abbreviation">Int63.to_Z</span></a> <a class="idref" href="Malfunction.utils_array.html#size:120"><span class="id" title="variable">size</span></a>)))).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Array_of_list'_get" class="idref" href="#Array_of_list'_get"><span class="id" title="lemma">Array_of_list'_get</span></a> {<a id="A:124" class="idref" href="#A:124"><span class="id" title="binder">A</span></a>} <a id="s:125" class="idref" href="#s:125"><span class="id" title="binder">s</span></a> <a id="l:126" class="idref" href="#l:126"><span class="id" title="binder">l</span></a> (<a id="a:127" class="idref" href="#a:127"><span class="id" title="binder">a</span></a> : <span class="id" title="var">array</span> <a class="idref" href="Malfunction.utils_array.html#A:124"><span class="id" title="variable">A</span></a>) <a id="i:128" class="idref" href="#i:128"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#i:128"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Malfunction.utils_array.html#s:125"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="abbreviation">List.length</span> <a class="idref" href="Malfunction.utils_array.html#l:126"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.utils_array.html#s:125"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="abbreviation">List.length</span> <a class="idref" href="Malfunction.utils_array.html#l:126"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">Z.to_nat</span> <a class="idref" href="Malfunction.Malfunction.html#Int63.wB"><span class="id" title="abbreviation">Int63.wB</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#s:125"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="abbreviation">List.length</span> <a class="idref" href="Malfunction.utils_array.html#l:126"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> (<span class="id" title="abbreviation">PArray.length</span> <a class="idref" href="Malfunction.utils_array.html#a:127"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">PArray.get</span> (<a class="idref" href="Malfunction.utils_array.html#Array_of_List'"><span class="id" title="definition">Array_of_List'</span></a> <a class="idref" href="Malfunction.utils_array.html#s:125"><span class="id" title="variable">s</span></a> <a class="idref" href="Malfunction.utils_array.html#l:126"><span class="id" title="variable">l</span></a> <a class="idref" href="Malfunction.utils_array.html#a:127"><span class="id" title="variable">a</span></a>) (<a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> <a class="idref" href="Malfunction.utils_array.html#i:128"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> (<a class="idref" href="Malfunction.utils_array.html#i:128"><span class="id" title="variable">i</span></a> <span class="id" title="notation">&lt;?</span> <a class="idref" href="Malfunction.utils_array.html#s:125"><span class="id" title="variable">s</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#a:127"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">.[</span></a><a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> <a class="idref" href="Malfunction.utils_array.html#i:128"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> (<a class="idref" href="Malfunction.utils_array.html#i:128"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Malfunction.utils_array.html#s:125"><span class="id" title="variable">s</span></a>) <a class="idref" href="Malfunction.utils_array.html#l:126"><span class="id" title="variable">l</span></a> (<a class="idref" href="Malfunction.utils_array.html#a:127"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">.[</span></a><a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> <a class="idref" href="Malfunction.utils_array.html#i:128"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">]</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [ | ? ? <span class="id" title="var">IHl</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">s</span>, <span class="id" title="var">i</span>, <span class="id" title="var">a</span>, <span class="id" title="var">Hl</span>, <span class="id" title="var">Hs</span>, <span class="id" title="var">Ha</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="lemma">Nat.ltb_spec</span> <span class="id" title="var">i</span> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">s</span>); <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> [<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a>] <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="abbreviation">PArray.length_set</span>. <span class="id" title="var">cbn</span> [<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a>] <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">fold</span> (<a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> <span class="id" title="var">s</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="lemma">Nat.ltb_spec</span> <span class="id" title="var">i</span> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> | <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<span class="id" title="lemma">Nat.ltb_spec</span> <span class="id" title="var">i</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">s</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">H0</span> | <span class="id" title="var">H0</span>]; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Array.ArrayAxioms.html#get_set_other"><span class="id" title="axiom">get_set_other</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intros</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="Malfunction.utils_array.html#int_to_of_nat"><span class="id" title="lemma">int_to_of_nat</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">assert</span> (<span class="id" title="var">H1</span> : <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">Z.to_nat</span> <a class="idref" href="Malfunction.Malfunction.html#Int63.wB"><span class="id" title="abbreviation">Int63.wB</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">eapply</span> <span class="id" title="definition">inj_lt</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Z2Nat.id</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">all</span>:<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<span class="id" title="lemma">Nat.ltb_spec</span> <span class="id" title="var">i</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">s</span>)); <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">assert</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">s</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Array.ArrayAxioms.html#get_set_same"><span class="id" title="axiom">get_set_same</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.Malfunction.html#Int63.ltb_spec"><span class="id" title="abbreviation">Int63.ltb_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Z2Nat.inj_lt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.Malfunction.html#Int63.to_Z_bounded"><span class="id" title="lemma">Int63.to_Z_bounded</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.Malfunction.html#Int63.to_Z_bounded"><span class="id" title="lemma">Int63.to_Z_bounded</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> (<a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> <span class="id" title="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.utils_array.html#int_to_of_nat"><span class="id" title="lemma">int_to_of_nat</span></a>. 1:<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>. 1:<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Nat.sub_diag</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> [ | <span class="id" title="var">n</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">assert</span> (<span class="id" title="var">H1</span> : <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">n</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">nth_indep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Array_of_list_get" class="idref" href="#Array_of_list_get"><span class="id" title="lemma">Array_of_list_get</span></a> {<a id="A:129" class="idref" href="#A:129"><span class="id" title="binder">A</span></a>} (<a id="a:130" class="idref" href="#a:130"><span class="id" title="binder">a</span></a> : <a class="idref" href="Malfunction.utils_array.html#A:129"><span class="id" title="variable">A</span></a>) <a id="l:131" class="idref" href="#l:131"><span class="id" title="binder">l</span></a> <a id="i:132" class="idref" href="#i:132"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.utils_array.html#i:132"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">Z.to_nat</span> <a class="idref" href="Malfunction.Malfunction.html#Int63.wB"><span class="id" title="abbreviation">Int63.wB</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">List.length</span> <a class="idref" href="Malfunction.utils_array.html#l:131"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <span class="id" title="var">max_length</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#i:132"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="abbreviation">List.length</span> <a class="idref" href="Malfunction.utils_array.html#l:131"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.utils_array.html#Array_of_list"><span class="id" title="definition">Array_of_list</span></a> <a class="idref" href="Malfunction.utils_array.html#a:130"><span class="id" title="variable">a</span></a> <a class="idref" href="Malfunction.utils_array.html#l:131"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">).[</span></a><a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> <a class="idref" href="Malfunction.utils_array.html#i:132"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="Malfunction.utils_array.html#i:132"><span class="id" title="variable">i</span></a> <a class="idref" href="Malfunction.utils_array.html#l:131"><span class="id" title="variable">l</span></a> <a class="idref" href="Malfunction.utils_array.html#a:130"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.utils_array.html#Array_of_list"><span class="id" title="definition">Array_of_list</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.utils_array.html#Array_of_list'_get"><span class="id" title="lemma">Array_of_list'_get</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="Malfunction.utils_array.html#wb_max_length"><span class="id" title="lemma">wb_max_length</span></a>. <span class="id" title="tactic">move</span>: <span class="id" title="var">Hl</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">generalize</span> (<a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <span class="id" title="var">max_length</span>). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="abbreviation">PArray.length_make</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <span class="id" title="var">l</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Malfunction.Malfunction.html#Int63.lebP"><span class="id" title="lemma">Int63.lebP</span></a> (<a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <span class="id" title="var">l</span>)) <span class="id" title="var">max_length</span>) <span class="id" title="keyword">as</span> [ | <span class="id" title="var">n</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.utils_array.html#int_to_of_nat"><span class="id" title="lemma">int_to_of_nat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Z2Nat.inj_lt</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="Malfunction.utils_array.html#wb_max_length"><span class="id" title="lemma">wb_max_length</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Malfunction.utils_array.html#int_to_of_nat"><span class="id" title="lemma">int_to_of_nat</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <span class="id" title="var">l</span>) <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Z2Nat.inj_le</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.Malfunction.html#Int63.to_Z_bounded"><span class="id" title="lemma">Int63.to_Z_bounded</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id" title="tactic">eapply</span> <a class="idref" href="Malfunction.Malfunction.html#Int63.to_Z_bounded"><span class="id" title="lemma">Int63.to_Z_bounded</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="tactic">generalize</span> <a class="idref" href="Malfunction.utils_array.html#wb_max_length"><span class="id" title="lemma">wb_max_length</span></a>; <span class="id" title="tactic">move</span>: <span class="id" title="var">Hl</span>; <span class="id" title="tactic">generalize</span> (<a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <span class="id" title="var">max_length</span>); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="lemma">Nat.ltb_spec</span> <span class="id" title="var">i</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hl</span>. <span class="id" title="tactic">generalize</span> (<a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <span class="id" title="var">max_length</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Nat.sub_0_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">nth_indep</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">Hl</span>; <span class="id" title="tactic">generalize</span> (<a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <span class="id" title="var">max_length</span>); <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Array_of_list_get_again" class="idref" href="#Array_of_list_get_again"><span class="id" title="lemma">Array_of_list_get_again</span></a> {<a id="A:133" class="idref" href="#A:133"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Set</span>} <a id="i:134" class="idref" href="#i:134"><span class="id" title="binder">i</span></a> <a id="s:135" class="idref" href="#s:135"><span class="id" title="binder">s</span></a> (<a id="l:136" class="idref" href="#l:136"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#A:133"><span class="id" title="variable">A</span></a>) <a id="a:137" class="idref" href="#a:137"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#i:134"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">≥</span></a> <a class="idref" href="Malfunction.utils_array.html#s:135"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="abbreviation">List.length</span> <a class="idref" href="Malfunction.utils_array.html#l:136"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#i:134"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">Z.to_nat</span> <a class="idref" href="Malfunction.Malfunction.html#Int63.wB"><span class="id" title="abbreviation">Int63.wB</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.utils_array.html#Array_of_List'"><span class="id" title="definition">Array_of_List'</span></a> <a class="idref" href="Malfunction.utils_array.html#s:135"><span class="id" title="variable">s</span></a> <a class="idref" href="Malfunction.utils_array.html#l:136"><span class="id" title="variable">l</span></a> <a class="idref" href="Malfunction.utils_array.html#a:137"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">).[</span></a><a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> <a class="idref" href="Malfunction.utils_array.html#i:134"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">]</span></a>  <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">PArray.get</span> <a class="idref" href="Malfunction.utils_array.html#a:137"><span class="id" title="variable">a</span></a> (<a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> <a class="idref" href="Malfunction.utils_array.html#i:134"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [ | ? <span class="id" title="var">l</span> <span class="id" title="var">IHl</span> ] <span class="id" title="tactic">in</span> <span class="id" title="var">s</span>, <span class="id" title="var">i</span>, <span class="id" title="var">a</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Array.ArrayAxioms.html#get_set_other"><span class="id" title="axiom">get_set_other</span></a>. 2:<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="Malfunction.utils_array.html#int_to_of_nat"><span class="id" title="lemma">int_to_of_nat</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <span class="id" title="definition">inj_ge</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Nat2Z.inj_add</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>. <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <span class="id" title="definition">inj_lt</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Z2Nat.id</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#wB"><span class="id" title="definition">Int63.wB</span></a>. <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">abs_max_length</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">e</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="tactic">set</span> (<span class="id" title="var">e</span> := <a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <span class="id" title="var">max_length</span>) <span class="id" title="tactic">in</span> *; <span class="id" title="var">clearbody</span> <span class="id" title="var">e</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Array_of_list_S" class="idref" href="#Array_of_list_S"><span class="id" title="lemma">Array_of_list_S</span></a> <a id="A:138" class="idref" href="#A:138"><span class="id" title="binder">A</span></a> <a id="default:139" class="idref" href="#default:139"><span class="id" title="binder">default</span></a> <a id="n:140" class="idref" href="#n:140"><span class="id" title="binder">n</span></a> <a id="a:141" class="idref" href="#a:141"><span class="id" title="binder">a</span></a> (<a id="l:142" class="idref" href="#l:142"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#A:138"><span class="id" title="variable">A</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#n:140"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Malfunction.utils_array.html#l:142"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Malfunction.utils_array.html#l:142"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <span class="id" title="var">max_length</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.utils_array.html#Array_of_list"><span class="id" title="definition">Array_of_list</span></a> <a class="idref" href="Malfunction.utils_array.html#default:139"><span class="id" title="variable">default</span></a> (<a class="idref" href="Malfunction.utils_array.html#a:141"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Malfunction.utils_array.html#l:142"><span class="id" title="variable">l</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">).[</span></a><a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Malfunction.utils_array.html#n:140"><span class="id" title="variable">n</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">(</span></a><a class="idref" href="Malfunction.utils_array.html#Array_of_list"><span class="id" title="definition">Array_of_list</span></a> <a class="idref" href="Malfunction.utils_array.html#default:139"><span class="id" title="variable">default</span></a> <a class="idref" href="Malfunction.utils_array.html#l:142"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">).[</span></a><a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> <a class="idref" href="Malfunction.utils_array.html#n:140"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="Malfunction.utils_array.html#wb_max_length"><span class="id" title="lemma">wb_max_length</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.utils_array.html#Array_of_list_get"><span class="id" title="lemma">Array_of_list_get</span></a>; <span class="id" title="tactic">try</span> (<span class="id" title="var">abs_max_length</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Array_of_list'_length" class="idref" href="#Array_of_list'_length"><span class="id" title="lemma">Array_of_list'_length</span></a> <a id="A:143" class="idref" href="#A:143"><span class="id" title="binder">A</span></a> <a id="k:144" class="idref" href="#k:144"><span class="id" title="binder">k</span></a> (<a id="l:145" class="idref" href="#l:145"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#A:143"><span class="id" title="variable">A</span></a>) <a id="a:146" class="idref" href="#a:146"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">PArray.length</span> (<a class="idref" href="Malfunction.utils_array.html#Array_of_List'"><span class="id" title="definition">Array_of_List'</span></a> <a class="idref" href="Malfunction.utils_array.html#k:144"><span class="id" title="variable">k</span></a> <a class="idref" href="Malfunction.utils_array.html#l:145"><span class="id" title="variable">l</span></a> <a class="idref" href="Malfunction.utils_array.html#a:146"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">PArray.length</span> <a class="idref" href="Malfunction.utils_array.html#a:146"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">k</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="abbreviation">PArray.length_set</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Array_of_list_length" class="idref" href="#Array_of_list_length"><span class="id" title="lemma">Array_of_list_length</span></a> <a id="A:147" class="idref" href="#A:147"><span class="id" title="binder">A</span></a> <a id="default:148" class="idref" href="#default:148"><span class="id" title="binder">default</span></a> (<a id="l:149" class="idref" href="#l:149"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#A:147"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Malfunction.utils_array.html#l:149"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <span class="id" title="var">max_length</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> (<span class="id" title="abbreviation">PArray.length</span> (<a class="idref" href="Malfunction.utils_array.html#Array_of_list"><span class="id" title="definition">Array_of_list</span></a> <a class="idref" href="Malfunction.utils_array.html#default:148"><span class="id" title="variable">default</span></a> <a class="idref" href="Malfunction.utils_array.html#l:149"><span class="id" title="variable">l</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">List.length</span> <a class="idref" href="Malfunction.utils_array.html#l:149"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.utils_array.html#Array_of_list"><span class="id" title="definition">Array_of_list</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.utils_array.html#Array_of_list'_length"><span class="id" title="lemma">Array_of_list'_length</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hmax</span> := <a class="idref" href="Malfunction.utils_array.html#wb_max_length"><span class="id" title="lemma">wb_max_length</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="abbreviation">PArray.length_make</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hl</span>: (<a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <span class="id" title="var">l</span>) <span class="id" title="notation">≤?</span> <span class="id" title="var">max_length</span>)%<span class="id" title="var">uint63</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#leb_spec"><span class="id" title="axiom">leb_spec</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.Malfunction.html#Int63.of_Z_spec"><span class="id" title="lemma">Int63.of_Z_spec</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Z.mod_small</span>; [<span class="id" title="var">abs_max_length</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hmax</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">max_length</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Malfunction.utils_array.html#int_to_of_nat"><span class="id" title="lemma">int_to_of_nat</span></a>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Forall2Array_init" class="idref" href="#Forall2Array_init"><span class="id" title="lemma">Forall2Array_init</span></a> {<a id="A:150" class="idref" href="#A:150"><span class="id" title="binder">A</span></a> <a id="B:151" class="idref" href="#B:151"><span class="id" title="binder">B</span></a>:<span class="id" title="keyword">Type</span>} (<a id="R:152" class="idref" href="#R:152"><span class="id" title="binder">R</span></a> : <a class="idref" href="Malfunction.utils_array.html#A:150"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#B:151"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="n:153" class="idref" href="#n:153"><span class="id" title="binder">n</span></a> <a id="f:154" class="idref" href="#f:154"><span class="id" title="binder">f</span></a> <a id="g:155" class="idref" href="#g:155"><span class="id" title="binder">g</span></a><br/>
&nbsp;&nbsp;&nbsp;<a id="default:156" class="idref" href="#default:156"><span class="id" title="binder">default</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#n:153"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <span class="id" title="var">max_length</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k:157" class="idref" href="#k:157"><span class="id" title="binder">k</span></a>, <a class="idref" href="Malfunction.utils_array.html#k:157"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Malfunction.utils_array.html#n:153"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>  <a class="idref" href="Malfunction.utils_array.html#R:152"><span class="id" title="variable">R</span></a> (<a class="idref" href="Malfunction.utils_array.html#f:154"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.utils_array.html#k:157"><span class="id" title="variable">k</span></a>) (<a class="idref" href="Malfunction.utils_array.html#g:155"><span class="id" title="variable">g</span></a> (<a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> <a class="idref" href="Malfunction.utils_array.html#k:157"><span class="id" title="variable">k</span></a>))<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#Forall2Array"><span class="id" title="definition">Forall2Array</span></a> <a class="idref" href="Malfunction.utils_array.html#R:152"><span class="id" title="variable">R</span></a> (<a class="idref" href="Malfunction.utils_array.html#init"><span class="id" title="definition">List.init</span></a> <a class="idref" href="Malfunction.utils_array.html#n:153"><span class="id" title="variable">n</span></a> <a class="idref" href="Malfunction.utils_array.html#f:154"><span class="id" title="variable">f</span></a>) (<a class="idref" href="Malfunction.utils_array.html#Array_init"><span class="id" title="definition">Array_init</span></a> (<a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> <a class="idref" href="Malfunction.utils_array.html#n:153"><span class="id" title="variable">n</span></a>) <a class="idref" href="Malfunction.utils_array.html#g:155"><span class="id" title="variable">g</span></a>) <a class="idref" href="Malfunction.utils_array.html#default:156"><span class="id" title="variable">default</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hmax</span> <span class="id" title="var">HR</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.utils_array.html#Forall2Array"><span class="id" title="definition">Forall2Array</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HwB</span> : (<span class="id" title="definition">Z.of_nat</span> <span class="id" title="var">n</span> <span class="id" title="notation">&lt;</span> <a class="idref" href="Malfunction.Malfunction.html#Int63.wB"><span class="id" title="abbreviation">Int63.wB</span></a>)%<span class="id" title="var">Z</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> -<span class="id" title="var">Hmax</span>; <span class="id" title="var">lia_max_length</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.utils_array.html#Array_of_list_length"><span class="id" title="lemma">Array_of_list_length</span></a>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">length_map</span> <span class="id" title="lemma">length_seq</span>. <span class="id" title="var">epose</span> (<a class="idref" href="Malfunction.utils_array.html#int_to_of_nat"><span class="id" title="lemma">int_to_of_nat</span></a> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">length_map</span> <span class="id" title="lemma">length_seq</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Malfunction.utils_array.html#int_to_of_nat"><span class="id" title="lemma">int_to_of_nat</span></a>|]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">pose</span> (<span class="id" title="var">HR</span> (<a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">Hi</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.utils_array.html#Array_init"><span class="id" title="definition">Array_init</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Malfunction.utils_array.html#int_of_to_nat"><span class="id" title="lemma">int_of_to_nat</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.utils_array.html#Array_of_list_get"><span class="id" title="lemma">Array_of_list_get</span></a>; <span class="id" title="var">abs_max_length</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;1-2: <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">length_map</span> <span class="id" title="lemma">length_seq</span>; <span class="id" title="tactic">pose</span> (<span class="id" title="var">e</span> := <a class="idref" href="Malfunction.utils_array.html#int_to_of_nat"><span class="id" title="lemma">int_to_of_nat</span></a> <span class="id" title="var">n</span> <span class="id" title="var">HwB</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.utils_array.html#int_of_to_nat"><span class="id" title="lemma">int_of_to_nat</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.utils_array.html#init"><span class="id" title="definition">List.init</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">k</span> := <a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span> ×. <span class="id" title="var">clearbody</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_nth</span>. <span class="id" title="var">erewrite</span> <span class="id" title="lemma">nth_indep</span>. <span class="id" title="var">erewrite</span> <span class="id" title="lemma">map_nth</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<a class="idref" href="Malfunction.utils_array.html#int_to_of_nat"><span class="id" title="lemma">int_to_of_nat</span></a> <span class="id" title="var">n</span> <span class="id" title="var">HwB</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">HR</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">seq_nth</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">length_map</span> <span class="id" title="lemma">length_seq</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Forall2_init" class="idref" href="#Forall2_init"><span class="id" title="lemma">Forall2_init</span></a> {<a id="A:158" class="idref" href="#A:158"><span class="id" title="binder">A</span></a> <a id="B:159" class="idref" href="#B:159"><span class="id" title="binder">B</span></a>:<span class="id" title="keyword">Type</span>} (<a id="R:160" class="idref" href="#R:160"><span class="id" title="binder">R</span></a> : <a class="idref" href="Malfunction.utils_array.html#A:158"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#B:159"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="n:161" class="idref" href="#n:161"><span class="id" title="binder">n</span></a> <a id="f:162" class="idref" href="#f:162"><span class="id" title="binder">f</span></a> <a id="g:163" class="idref" href="#g:163"><span class="id" title="binder">g</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k:164" class="idref" href="#k:164"><span class="id" title="binder">k</span></a>, <a class="idref" href="Malfunction.utils_array.html#k:164"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Malfunction.utils_array.html#n:161"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>  <a class="idref" href="Malfunction.utils_array.html#R:160"><span class="id" title="variable">R</span></a> (<a class="idref" href="Malfunction.utils_array.html#f:162"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.utils_array.html#k:164"><span class="id" title="variable">k</span></a>) (<a class="idref" href="Malfunction.utils_array.html#g:163"><span class="id" title="variable">g</span></a> <a class="idref" href="Malfunction.utils_array.html#k:164"><span class="id" title="variable">k</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="inductive">Forall2</span> <a class="idref" href="Malfunction.utils_array.html#R:160"><span class="id" title="variable">R</span></a> (<a class="idref" href="Malfunction.utils_array.html#init"><span class="id" title="definition">List.init</span></a> <a class="idref" href="Malfunction.utils_array.html#n:161"><span class="id" title="variable">n</span></a> <a class="idref" href="Malfunction.utils_array.html#f:162"><span class="id" title="variable">f</span></a>) (<a class="idref" href="Malfunction.utils_array.html#init"><span class="id" title="definition">List.init</span></a> <a class="idref" href="Malfunction.utils_array.html#n:161"><span class="id" title="variable">n</span></a> <a class="idref" href="Malfunction.utils_array.html#g:163"><span class="id" title="variable">g</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.utils_array.html#init"><span class="id" title="definition">List.init</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hfg</span>. <span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <span class="id" title="var">n</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">generalize</span> 0. <span class="id" title="tactic">generalize</span> <span class="id" title="var">n</span> <span class="id" title="tactic">at</span> 1 3 4.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n0</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hfg</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn0</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Forall2Array_cst" class="idref" href="#Forall2Array_cst"><span class="id" title="lemma">Forall2Array_cst</span></a> {<a id="A:165" class="idref" href="#A:165"><span class="id" title="binder">A</span></a> <a id="B:166" class="idref" href="#B:166"><span class="id" title="binder">B</span></a>:<span class="id" title="keyword">Type</span>} (<a id="R:167" class="idref" href="#R:167"><span class="id" title="binder">R</span></a> : <a class="idref" href="Malfunction.utils_array.html#A:165"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#B:166"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="n:168" class="idref" href="#n:168"><span class="id" title="binder">n</span></a> <a id="v:169" class="idref" href="#v:169"><span class="id" title="binder">v</span></a> <a id="v':170" class="idref" href="#v':170"><span class="id" title="binder">v'</span></a><br/>
&nbsp;&nbsp;&nbsp;<a id="default:171" class="idref" href="#default:171"><span class="id" title="binder">default</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#n:168"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <span class="id" title="var">max_length</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#R:167"><span class="id" title="variable">R</span></a> <a class="idref" href="Malfunction.utils_array.html#v:169"><span class="id" title="variable">v</span></a> <a class="idref" href="Malfunction.utils_array.html#v':170"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#Forall2Array"><span class="id" title="definition">Forall2Array</span></a> <a class="idref" href="Malfunction.utils_array.html#R:167"><span class="id" title="variable">R</span></a> (<a class="idref" href="Malfunction.utils_array.html#init"><span class="id" title="definition">List.init</span></a> <a class="idref" href="Malfunction.utils_array.html#n:168"><span class="id" title="variable">n</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Malfunction.utils_array.html#v:169"><span class="id" title="variable">v</span></a>)) (<span class="id" title="var">make</span> (<a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> <a class="idref" href="Malfunction.utils_array.html#n:168"><span class="id" title="variable">n</span></a>) <a class="idref" href="Malfunction.utils_array.html#v':170"><span class="id" title="variable">v'</span></a>) <a class="idref" href="Malfunction.utils_array.html#default:171"><span class="id" title="variable">default</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hmax</span> <span class="id" title="var">HR</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.utils_array.html#Forall2Array"><span class="id" title="definition">Forall2Array</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">length_map</span> <span class="id" title="lemma">length_seq</span> <span class="id" title="abbreviation">PArray.length_make</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> <span class="id" title="var">n</span> <span class="id" title="notation">≤?</span> <span class="id" title="var">max_length</span>)%<span class="id" title="var">uint63</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Malfunction.utils_array.html#int_to_of_nat"><span class="id" title="lemma">int_to_of_nat</span></a>|]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia_max_length</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Array.ArrayAxioms.html#get_make"><span class="id" title="axiom">get_make</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">k</span> := <a class="idref" href="Malfunction.utils_array.html#int_to_nat"><span class="id" title="definition">int_to_nat</span></a> <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">unfold</span> <a class="idref" href="Malfunction.utils_array.html#init"><span class="id" title="definition">List.init</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">i</span>. <span class="id" title="var">erewrite</span> <span class="id" title="lemma">nth_indep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <span class="id" title="lemma">map_nth</span>. <span class="id" title="var">Unshelve</span>. 3: <span class="id" title="tactic">exact</span> 0. <span class="id" title="tactic">exact</span> <span class="id" title="var">HR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">length_map</span> <span class="id" title="lemma">length_seq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">abs</span>. <span class="id" title="tactic">pose</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#leb_spec"><span class="id" title="axiom">leb_spec</span></a> (<a class="idref" href="Malfunction.utils_array.html#int_of_nat"><span class="id" title="definition">int_of_nat</span></a> <span class="id" title="var">n</span>) (<span class="id" title="var">max_length</span>)). <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">abs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.Malfunction.html#Int63.of_Z_spec"><span class="id" title="lemma">Int63.of_Z_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Z.mod_small</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia_max_length</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">abs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="filter_length" class="idref" href="#filter_length"><span class="id" title="lemma">filter_length</span></a> {<a id="A:172" class="idref" href="#A:172"><span class="id" title="binder">A</span></a>} (<a id="l:173" class="idref" href="#l:173"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#A:172"><span class="id" title="variable">A</span></a>) <a id="f:174" class="idref" href="#f:174"><span class="id" title="binder">f</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">List.length</span> (<span class="id" title="definition">filter</span> <a class="idref" href="Malfunction.utils_array.html#f:174"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.utils_array.html#l:173"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <span class="id" title="abbreviation">List.length</span> <a class="idref" href="Malfunction.utils_array.html#l:173"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>); <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="to_list" class="idref" href="#to_list"><span class="id" title="definition">to_list</span></a> {<a id="A:175" class="idref" href="#A:175"><span class="id" title="binder">A</span></a>} (<a id="f:176" class="idref" href="#f:176"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#A:175"><span class="id" title="variable">A</span></a>) (<a id="size:177" class="idref" href="#size:177"><span class="id" title="binder">size</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#A:175"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Malfunction.utils_array.html#size:177"><span class="id" title="variable">size</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <span class="id" title="notation">[]</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="Malfunction.utils_array.html#to_list:178"><span class="id" title="definition">to_list</span></a> <a class="idref" href="Malfunction.utils_array.html#f:176"><span class="id" title="variable">f</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="Malfunction.utils_array.html#f:176"><span class="id" title="variable">f</span></a> <span class="id" title="var">n</span><span class="id" title="notation">]</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="to_list_length" class="idref" href="#to_list_length"><span class="id" title="lemma">to_list_length</span></a> {<a id="A:180" class="idref" href="#A:180"><span class="id" title="binder">A</span></a>} (<a id="f:181" class="idref" href="#f:181"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#A:180"><span class="id" title="variable">A</span></a>) (<a id="size:182" class="idref" href="#size:182"><span class="id" title="binder">size</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">List.length</span> (<a class="idref" href="Malfunction.utils_array.html#to_list"><span class="id" title="definition">to_list</span></a> <a class="idref" href="Malfunction.utils_array.html#f:181"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.utils_array.html#size:182"><span class="id" title="variable">size</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.utils_array.html#size:182"><span class="id" title="variable">size</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">size</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">length_app</span>. <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="to_list_nth" class="idref" href="#to_list_nth"><span class="id" title="lemma">to_list_nth</span></a> {<a id="A:183" class="idref" href="#A:183"><span class="id" title="binder">A</span></a>} (<a id="f:184" class="idref" href="#f:184"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Malfunction.utils_array.html#A:183"><span class="id" title="variable">A</span></a>) (<a id="size:185" class="idref" href="#size:185"><span class="id" title="binder">size</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="n:186" class="idref" href="#n:186"><span class="id" title="binder">n</span></a> <a id="d:187" class="idref" href="#d:187"><span class="id" title="binder">d</span></a> : <br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#n:186"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Malfunction.utils_array.html#size:185"><span class="id" title="variable">size</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>  <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="Malfunction.utils_array.html#n:186"><span class="id" title="variable">n</span></a> (<a class="idref" href="Malfunction.utils_array.html#to_list"><span class="id" title="definition">to_list</span></a> <a class="idref" href="Malfunction.utils_array.html#f:184"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.utils_array.html#size:185"><span class="id" title="variable">size</span></a>) <a class="idref" href="Malfunction.utils_array.html#d:187"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Malfunction.utils_array.html#f:184"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.utils_array.html#n:186"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">size</span>; [<span class="id" title="var">lia</span> |]. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">Nat.eqb</span> <span class="id" title="var">n</span> <span class="id" title="var">size</span>); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Nat.eqb_eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <span class="id" title="lemma">app_nth2</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.utils_array.html#to_list_length"><span class="id" title="lemma">to_list_length</span></a>; [|<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Nat.sub_diag</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Nat.eqb_neq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <span class="id" title="lemma">app_nth1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHsize</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Malfunction.utils_array.html#to_list_length"><span class="id" title="lemma">to_list_length</span></a>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="filter_rev" class="idref" href="#filter_rev"><span class="id" title="lemma">filter_rev</span></a> <a id="A:188" class="idref" href="#A:188"><span class="id" title="binder">A</span></a> (<a id="l:189" class="idref" href="#l:189"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#A:188"><span class="id" title="variable">A</span></a>) <a id="f:190" class="idref" href="#f:190"><span class="id" title="binder">f</span></a> : <span class="id" title="definition">filter</span> <a class="idref" href="Malfunction.utils_array.html#f:190"><span class="id" title="variable">f</span></a> (<span class="id" title="definition">rev</span> <a class="idref" href="Malfunction.utils_array.html#l:189"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">rev</span> (<span class="id" title="definition">filter</span> <a class="idref" href="Malfunction.utils_array.html#f:190"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.utils_array.html#l:189"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">filter_app</span> <span class="id" title="var">IHl</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">app_nil_r</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="filter_firstn" class="idref" href="#filter_firstn"><span class="id" title="lemma">filter_firstn</span></a> <a id="A:191" class="idref" href="#A:191"><span class="id" title="binder">A</span></a> <a id="k:192" class="idref" href="#k:192"><span class="id" title="binder">k</span></a> <a id="f:193" class="idref" href="#f:193"><span class="id" title="binder">f</span></a> (<a id="l:194" class="idref" href="#l:194"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#A:191"><span class="id" title="variable">A</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#k:192"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a> <span class="id" title="definition">filter</span> <a class="idref" href="Malfunction.utils_array.html#f:193"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.utils_array.html#l:194"><span class="id" title="variable">l</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="k':195" class="idref" href="#k':195"><span class="id" title="binder">k'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.utils_array.html#k':195"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a> <a class="idref" href="Malfunction.utils_array.html#l:194"><span class="id" title="variable">l</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Malfunction.utils_array.html#k:192"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">List.length</span> (<span class="id" title="definition">filter</span> <a class="idref" href="Malfunction.utils_array.html#f:193"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="Malfunction.utils_array.html#k':195"><span class="id" title="variable">k'</span></a> <a class="idref" href="Malfunction.utils_array.html#l:194"><span class="id" title="variable">l</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="a:196" class="idref" href="#a:196"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="definition">nth_error</span> <a class="idref" href="Malfunction.utils_array.html#l:194"><span class="id" title="variable">l</span></a> <a class="idref" href="Malfunction.utils_array.html#k':195"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Malfunction.utils_array.html#a:196"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> (<a class="idref" href="Malfunction.utils_array.html#f:193"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.utils_array.html#a:196"><span class="id" title="variable">a</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> <span class="id" title="lemma">rev_ind</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">filter_app</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">length_app</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">length_app</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="definition">filter</span> <span class="id" title="var">f</span> <span class="id" title="var">l</span><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="definition">filter</span> <span class="id" title="var">f</span> <span class="id" title="var">l</span><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hl</span> | <span class="id" title="var">Hl</span>] <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">∃</span> (<span class="id" title="abbreviation">List.length</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#firstn_app_left"><span class="id" title="lemma">firstn_app_left</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">nth_error_app2</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Nat.sub_diag</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">k'</span> &amp; ? &amp; ? &amp; <span class="id" title="var">a</span> &amp; ? &amp; ?); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">k'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="abbreviation">List.length</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="lemma">nth_error_Some</span> <span class="id" title="var">l</span> <span class="id" title="var">k'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">HH</span> <span class="id" title="var">_</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">k'</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">firstn_app</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">k'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="abbreviation">List.length</span> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0) <span class="id" title="keyword">as</span> → <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="abbreviation">firstn_O</span> <span class="id" title="lemma">app_nil_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">∃</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">nth_error_app1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#plus_n_O"><span class="id" title="lemma">plus_n_O</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">k'</span> &amp; ? &amp; ? &amp; <span class="id" title="var">a</span> &amp; ? &amp; ?); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">k'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="abbreviation">List.length</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="lemma">nth_error_Some</span> <span class="id" title="var">l</span> <span class="id" title="var">k'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">HH</span> <span class="id" title="var">_</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">k'</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">firstn_app</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">k'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="abbreviation">List.length</span> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0) <span class="id" title="keyword">as</span> → <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="abbreviation">firstn_O</span> <span class="id" title="lemma">app_nil_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">∃</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">nth_error_app1</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="filter_firstn'" class="idref" href="#filter_firstn'"><span class="id" title="lemma">filter_firstn'</span></a> <a id="A:197" class="idref" href="#A:197"><span class="id" title="binder">A</span></a> <a id="k:198" class="idref" href="#k:198"><span class="id" title="binder">k</span></a> <a id="f:199" class="idref" href="#f:199"><span class="id" title="binder">f</span></a> (<a id="l:200" class="idref" href="#l:200"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#A:197"><span class="id" title="variable">A</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="Malfunction.utils_array.html#k:198"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a> <span class="id" title="definition">filter</span> <a class="idref" href="Malfunction.utils_array.html#f:199"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.utils_array.html#l:200"><span class="id" title="variable">l</span></a><a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="k':201" class="idref" href="#k':201"><span class="id" title="binder">k'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Malfunction.utils_array.html#k':201"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a> <a class="idref" href="Malfunction.utils_array.html#l:200"><span class="id" title="variable">l</span></a> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Malfunction.utils_array.html#k:198"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">List.length</span> (<span class="id" title="definition">filter</span> <a class="idref" href="Malfunction.utils_array.html#f:199"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="Malfunction.utils_array.html#k':201"><span class="id" title="variable">k'</span></a> <a class="idref" href="Malfunction.utils_array.html#l:200"><span class="id" title="variable">l</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="a:202" class="idref" href="#a:202"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="definition">nth_error</span> <a class="idref" href="Malfunction.utils_array.html#l:200"><span class="id" title="variable">l</span></a> <a class="idref" href="Malfunction.utils_array.html#k':201"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Malfunction.utils_array.html#a:202"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="definition">nth_error</span> (<span class="id" title="definition">filter</span> <a class="idref" href="Malfunction.utils_array.html#f:199"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.utils_array.html#l:200"><span class="id" title="variable">l</span></a>) <a class="idref" href="Malfunction.utils_array.html#k:198"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Malfunction.utils_array.html#a:202"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> (<a class="idref" href="Malfunction.utils_array.html#f:199"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.utils_array.html#a:202"><span class="id" title="variable">a</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Malfunction.utils_array.html#filter_firstn"><span class="id" title="lemma">filter_firstn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? [? [? [? [? ?]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.PCUIC.PCUICReduction.html#nth_error_firstn_skipn"><span class="id" title="lemma">PCUICReduction.nth_error_firstn_skipn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">filter_app</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://metarocq.github.io/v1.4-9.0//MetaRocq.Utils.MRList.html#nth_error_snoc"><span class="id" title="lemma">nth_error_snoc</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="filter_nth_error" class="idref" href="#filter_nth_error"><span class="id" title="lemma">filter_nth_error</span></a> <a id="A:203" class="idref" href="#A:203"><span class="id" title="binder">A</span></a> (<a id="f:204" class="idref" href="#f:204"><span class="id" title="binder">f</span></a> : <a class="idref" href="Malfunction.utils_array.html#A:203"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="x:205" class="idref" href="#x:205"><span class="id" title="binder">x</span></a> : <a class="idref" href="Malfunction.utils_array.html#A:203"><span class="id" title="variable">A</span></a>) (<a id="l:206" class="idref" href="#l:206"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Malfunction.utils_array.html#A:203"><span class="id" title="variable">A</span></a>) <a id="k:207" class="idref" href="#k:207"><span class="id" title="binder">k</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">nth_error</span> (<span class="id" title="definition">filter</span> <a class="idref" href="Malfunction.utils_array.html#f:204"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.utils_array.html#l:206"><span class="id" title="variable">l</span></a>) <a class="idref" href="Malfunction.utils_array.html#k:207"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Malfunction.utils_array.html#x:205"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="definition">In</span> <a class="idref" href="Malfunction.utils_array.html#x:205"><span class="id" title="variable">x</span></a> <a class="idref" href="Malfunction.utils_array.html#l:206"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Malfunction.utils_array.html#f:204"><span class="id" title="variable">f</span></a> <a class="idref" href="Malfunction.utils_array.html#x:205"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">nth_error_In</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">filter_In</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
